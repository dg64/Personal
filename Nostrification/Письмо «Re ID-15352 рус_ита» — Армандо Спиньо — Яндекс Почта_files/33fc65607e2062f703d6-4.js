webpackJsonp([4],{1858:function(e,t,n){"use strict";t.a=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.join("")}},1859:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){var t=e.isCompose,n=e.isDone,r=e.isMessage;switch(!0){case t:return"compose";case n:return"done";case r:return"message";default:return"messages"}}function s(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{t=Object(u.a)(e,"blockId")|Object(u.a)(o(n),"page")|Object(u.a)(n,"flags")}catch(r){t=d,Jane.ErrorLog.send(i({errorType:"statId_exception",blockId:e},n))}return t}function c(e){return{page:Object(u.b)(e,"page"),blockId:Object(u.b)(e,"blockId"),flags:Object(u.b)(e,"flags")}}t.a=s,t.b=c;var u=n(4086),d=0},1860:function(e,t,n){"use strict";function r(e,t){return o(e)||a(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}function o(e){if(Array.isArray(e))return e}t.a={_shouldPreventDrawOnPageLoad:!1,onBeforePageLoad:function(e,t){var n=r(t,2),i=n[0],a=n[1],o="compose2"===i.page&&"compose2"===a.page,s=Boolean(Daria.isReactiveCompose()&&Daria.reactiveComposeExpanded);this._shouldPreventDrawOnPageLoad=o||s},onAfterPageLoad:function(){this._shouldPreventDrawOnPageLoad||this.draw()}}},210:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4081),i=(n.n(r),n(4082)),a=n(4083),o=n(1859);Jane.module("direct.js",(function(){Object.assign(Daria,{getDirectViewLayout:i.a,yabsManager:a.a,statIdInfo:o.b,getStatId:o.a})}))},4081:function(e,t){},4082:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i=n(1858),a=n(802);t.a=function(e){switch(e){case Object(i.a)("ban","ner"):return Daria.AdvPresenter.shouldShowBanner()?r({},a.a,{}):{};case Object(i.a)("messages-dir","ect"):return Daria.AdvPresenter.shouldShowLine()?r({},a.j,{}):{};default:throw new Error('Unexpected direct view name "'.concat(e,'"'))}}},4083:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var o=n(802),s=(function(){function e(){r(this,e),this._isPrerendered=!1,this._loadingPromise=null,this._initializationPromise=null,Jane.Services.proxy("ads.js",o.k)}return a(e,[{key:"_resetOnTimeout",value:function(){return new Promise(function(t,n){setTimeout(n,e.INIT_TIMEOUT)})}},{key:"_waitContextReady",value:function(){return new Promise(function(t){window[e.CALLBACKS_KEY].push(t)})}},{key:"load",value:function(){return this._loadingPromise||(this._loadingPromise=Promise.race([Promise.all([this._waitContextReady(),Jane.Services.loadModules(["ads.js"])]),this._resetOnTimeout()])),this._loadingPromise}},{key:"init",value:function(){return this._initializationPromise||(this._initializationPromise=this.load().then((function(){var e=n(4084).default;Daria.yabs=new e}))),this._initializationPromise}},{key:"run",value:function(){return n(4097),n(4099),this.init().then((function(){ns.events.trigger("yabs:ready")}))}},{key:"_isRouteUnacceptable",value:function(){var e=!ns.page.current.page,t=window.location.hash,n=Boolean(t&&-1===["#",ns.page.HOME_HASH].indexOf(t));return e&&n}}]),e})();s.INIT_TIMEOUT=3e4,s.CALLBACKS_KEY=o.l,window[s.CALLBACKS_KEY]=[],t.a=new s},4084:function(e,t,n){"use strict";function r(e){return o(e)||a(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function a(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function o(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function c(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",(function(){return P}));var h=n(803),p=n(4085),g=n(4092),b=n(4093),v=n(4094),m=n(4095),_=n(4096),O=n(802),y=n(88),w=n.n(y),I=function(e){return function(t){return!1===t?Promise.resolve(t):Promise.resolve().then(e).then((function(){return t}))}},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return function(t){return 0!==e.indexOf("prerendered")&&t}},P=(function(){function e(){d(this,e),this._lastId={},this.showMainBanner=function(e,t,n){return this.showBanner(e,Object(g.b)(),"left-col-rtb-1",t,n)},this.showExtraBanner=function(e,t){return this.showBanner(e,Object(g.a)(),"left-col-rtb-2",{},t)},this.showDoneDirect=function(e,t){return this.showBanner(e,Object(b.a)(),"done-direct",{},t)},this.showDirect=function(e,t,n){var r=this,i=Object(h.c)(),a=i.isMessage,o=Object(v.a)(),s=(a?"message":"messages")+"-direct",c=Object(p.a)(o),u=[w.a.rtb,w.a.top],d=".".concat(O.f),l=c.statId;return Promise.resolve().then((function(){return r._showDirect(e,o,s,c,t,n)})).then(D(e)).then(I((function(){return r._logger.logFirstRender({blockId:o,blockName:s,blockOptions:c,subPageParts:u})}))).then(I((function(){return r._debugInformer.incrementDisplayCounter(s)}))).then(I((function(){var t=r._logger.getFirstRenderTime(s),n=r._logger.getFirstRenderTimeAfterFmp(t);r._debugInformer.show({nodeId:e,selector:d,blockId:o,blockName:s,firstRender:t,firstRenderAfterFmp:n,statId:l})}))).catch((function(e){return r._logger.logError({blockId:o,blockName:s,blockOptions:c},e)}))},this._debugInformer=new m.a,this._logger=new _.a}return f(e,[{key:"showStripe",value:function(e,t){Ya.Context.AdvManager.render({blockId:t,renderTo:e,format:"stripe",position:"top",nonce:Daria.nonce})}},{key:"showBanner",value:function(e,t,n,r,i){var a=this,o=Object(p.a)(t),s=[w.a.rtb,w.a.left],c="#".concat(e),u=o.statId;return Promise.resolve().then((function(){return a._showBanner(e,t,n,o,r,i)})).then(D(e)).then(I((function(){return a._logger.logFirstRender({blockId:t,blockName:n,blockOptions:o,subPageParts:s})}))).then(I((function(){return a._debugInformer.incrementDisplayCounter(n)}))).then(I((function(){var r=a._logger.getFirstRenderTime(n),i=a._logger.getFirstRenderTimeAfterFmp(r);a._debugInformer.show({nodeId:e,selector:c,blockId:t,blockName:n,firstRender:r,firstRenderAfterFmp:i,statId:u})}))).catch((function(e){return a._logger.logError({blockId:t,blockName:n,blockOptions:o},e)}))}},{key:"_showBanner",value:function(e,t,n,r,i,a){var o=this;return new Promise(function(s,c){if(!o._canRender(e,t,n,a))return void s(!1);"done-direct"!==n?o._renderNativeDirect(e,t,n,r,i,s,c):o._renderRtb(e,t,n,r,s),o._setLastId(n,t),Daria.monitoring.workflow.ads({action:"show",block:n,id:t,statId:r.statId,type:"common"})})}},{key:"_renderRtb",value:function(e,t,n,r,i){var a=this;this._logger.saveBlockRenderStartTime(t,e),Ya.Context.AdvManager.render(c({renderTo:e,blockId:t},r,{darkTheme:this._getIsDarkTheme(),onRender:function(){a._onRenderRtb(n),i()}}))}},{key:"_onRenderRtb",value:function(e){ns.events.trigger("daria:advertising:render:"+e)}},{key:"_showDirect",value:function(e,t,n,r,i,a){var o=this;return new Promise(function(s,c){if(!o._canRender(e,t,n,a))return void s(!1);o._renderNativeDirect(e,t,"direct",r,i,s,c),o._setLastId(n,t),Daria.monitoring.workflow.ads({action:"show",block:n,id:t,statId:r.statId,type:"new"})})}},{key:"_sanitizeError",value:function(e,t){return e?e.type&&e.code?new Error("".concat(e.type," ").concat(e.code,": ").concat(e.text)):e.message?e:new Error("Non-error thrown ".concat(e)):new Error(t)}},{key:"_renderNativeDirect",value:function(e,t,n,r,i,a,o){var s=this;this._logger.saveBlockRenderStartTime(t,e);var u=this._getVisualParams(i),d=u.additionalClasses,l=u.darkTheme;Ya.Context.AdvManager.renderWidget(c({renderTo:e,blockId:t},r,{nativeAdditionalClasses:d,darkTheme:l,onRender:function(){s._onRenderRtb(n),a()},onError:function(e){return o(s._sanitizeError(e,"unknown error"))},altCallback:function(e){return o(s._sanitizeError(e,"no ads"))}}))}},{key:"_getAdditionalClasses",value:function(e,t){var n=Object.keys(e).map((function(t){return"ad_".concat(t,"_").concat(e[t])})),i=ns.Model.get("settings"),a=ns.Model.get("themes"),o=a.getCurrentThemeName();n.push("".concat(o,"-theme"));var s=Object.keys(t).filter((function(e){return!0===t[e]}));n.push.apply(n,r(s)),t.scope&&n.push("scope-".concat(t.scope));var c=["show_checkbox_inside_userpic","messages_avatars","liza_minified","with_bigger_text"],u=c.filter((function(e){return Boolean(i.getSign(e))}));return n.push.apply(n,r(u)),n.push(Object(h.b)()),n}},{key:"_getSkinParams",value:function(){return ns.Model.get("themes").getSkinParams()||{}}},{key:"_getIsDarkTheme",value:function(e){var t=e||this._getSkinParams();return Boolean(t.content_is_dark)}},{key:"_getVisualParams",value:function(e){var t=this._getSkinParams();return{additionalClasses:this._getAdditionalClasses(e,t),darkTheme:this._getIsDarkTheme(t)}}},{key:"_canRender",value:function(e,t,n,r){if(!e||!t)return!1;var i=this._lastId[n];return!(!r&&i===t)||!!Jane.watcher.get("pageVisible")}},{key:"_setLastId",value:function(e,t){this._lastId[e]=t}}]),e})()},4085:function(e,t,n){"use strict";function r(e){var t=Object(o.c)();return{statId:Object(s.a)(e,t),extParams:i(),horizontalAlign:!0,async:!0,cspNonce:Daria.nonce,directSettings:a(t)}}function i(){var e=Object(o.a)();return"&"+ns.params2query(e)}function a(e){return e.isDark?{headerBgColor:"#000",bgColor:"#000",siteBgColor:"#000",titleColor:"#999",urlColor:"#666",hoverColor:"#fff",borderColor:"#262626",textColor:"#999",sitelinksColor:"#666"}:{}}t.a=r;var o=n(803),s=n(1859)},4086:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){var n=t.valuesToBitmaps;return n[e]||n[g]}function s(e,t){var n=t.name;return t.bitmapsToValues[Object(h.b)(e,n)]||g}function c(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=t.valuesOrder,r=t.valuesToBitmaps;return n.reduce((function(t,n){return t|(e[n]&&r[n])}),0)}function u(e,t){var n=t.valuesOrder,r=t.valuesToBitmaps;return n.reduce((function(t,n){return t[n]=Boolean(e&r[n]),t}),{})}function d(e,t){return D()[t].getValue(e)}function l(e,t){return D()[t].getBitmap(e)}t.b=d,t.a=l;var f=n(922),h=n(4091),p=function(e){return Object.keys(e).reduce((function(t,n){return i({},t,a({},e[n],n))}),{})},g="NOT_MATCHED",b=function(){var e={ban:Object(f.a)(),line:Object(f.c)(),done:Object(f.b)()},t=e.ban,n=e.line,r=e.done;return[g,t["2pane"],t["3pane"],t.COMPOSE,t.DONE,t.EXTRA,n["2pane"],n.MESSAGE,r.DEFAULT,t.MESSAGE]},v=[g,"messages","message","compose","done"],m=["hasAdblock","isPDD","isTUR"],_=function(){return b().reduce((function(e,t,n){return e[t]=Object(h.a)(n,"blockId"),e}),{})},O=function(){return v.reduce((function(e,t,n){return e[t]=Object(h.a)(n,"page"),e}),{})},y=function(){return m.reduce((function(e,t,n){return e[t]=Object(h.a)(1<<n,"flags"),e}),{})},w=function(){return p(_())},I=function(){return p(O())},D=function(){return{blockId:{name:"blockId",valuesOrder:b(),valuesToBitmaps:_(),bitmapsToValues:w(),getValue:function(e){return s(e,this)},getBitmap:function(e){return o(e,this)}},page:{name:"page",valuesOrder:v,valuesToBitmaps:O(),bitmapsToValues:I(),getValue:function(e){return s(e,this)},getBitmap:function(e){return o(e,this)}},flags:{name:"flags",valuesOrder:m,valuesToBitmaps:y(),getValue:function(e){return u(e,this)},getBitmap:function(e){return c(e,this)}}}}},4087:function(e,t,n){"use strict";var r=n(4088),i=n(4089),a=n(4090),o={"2pane":"R-I-92550-164","3pane":"R-I-92550-167",COMPOSE:"R-I-92550-168",MESSAGE:"R-I-92550-195",DONE:"R-I-92550-217",EXTRA:"R-I-92550-250"},s=function(e){return Object.assign({},o,r.getPddBannerIds(e),e.expIds,i.getTurBannerIds(e),a.getPartnerBannerIds(e))},c={"2pane":"R-I-92550-159","3pane":"R-I-92550-1878",MESSAGE:"R-I-92550-160"},u=function(e){return Object.assign({},c,r.getPddLineIds(e),e.expIds,i.getTurLineIds(e),a.getPartnerLineIds(e))},d=function(e){return Object.assign({DEFAULT:"R-I-92550-306",DONE_POPUP:"R-I-92550-366"},r.getPddDoneIds(e),e.expIds,i.getTurDoneIds(e),a.getPartnerDoneIds(e))};e.exports={BANNER_IDS:o,LINE_IDS:c,getBannerIds:s,getLineIds:u,getDoneIds:d}},4088:function(e,t,n){"use strict";var r=function(e){return function(t){return t.isPDD?e:{}}},i={"2pane":"R-I-272659-92","3pane":"R-I-272659-93",COMPOSE:"R-I-272659-94",MESSAGE:"R-I-272659-95",DONE:"R-I-272659-96",EXTRA:"R-I-272659-97"},a=r(i),o={"2pane":"R-I-272659-90","3pane":"R-I-272659-100",MESSAGE:"R-I-272659-91"},s=r(o),c=r({DEFAULT:"R-I-272659-98",DONE_POPUP:"R-I-272659-99"});e.exports={BANNER_IDS:i,LINE_IDS:o,getPddBannerIds:a,getPddLineIds:s,getPddDoneIds:c}},4089:function(e,t,n){"use strict";var r=function(e){return function(t){return t.isTUR?e:{}}},i={"2pane":"R-I-2144586-4","3pane":"R-I-2144586-5",COMPOSE:"R-I-2144586-6",MESSAGE:"R-I-2144586-7",DONE:"R-I-2144586-8",EXTRA:"R-I-2144586-9"},a=r(i),o={"2pane":"R-I-2144586-1","3pane":"R-I-2144586-2",MESSAGE:"R-I-2144586-3"},s=r(o),c=r({DEFAULT:"R-I-2144586-10",DONE_POPUP:"R-I-2144586-11"});e.exports={BANNER_IDS:i,LINE_IDS:o,getTurBannerIds:a,getTurLineIds:s,getTurDoneIds:c}},4090:function(e,t,n){"use strict";var r={136927:"353372",102240:"354324",274650:"354321"},i=function(e){return function(t){var n=t.isPDD,i=t.customId;return n&&i?e(r[i]||i):{}}},a=i((function(e){return{"2pane":"R-A-".concat(e,"-34"),"3pane":"R-A-".concat(e,"-35"),COMPOSE:"R-A-".concat(e,"-36"),MESSAGE:"R-A-".concat(e,"-37"),DONE:"R-A-".concat(e,"-38"),EXTRA:"R-A-".concat(e,"-39")}})),o=i((function(e){return{"2pane":"R-A-".concat(e,"-32"),"3pane":"R-A-".concat(e,"-42"),MESSAGE:"R-A-".concat(e,"-33")}})),s=i((function(e){return{DEFAULT:"R-A-".concat(e,"-40"),DONE_POPUP:"R-A-".concat(e,"-41")}}));e.exports={getPartnerBannerIds:a,getPartnerLineIds:o,getPartnerDoneIds:s}},4091:function(e,t,n){"use strict";function r(e){if("number"!=typeof e)throw new TypeError("Incorrect value type")}function i(e,t){if(e>>>t)throw new RangeError("Value is overflowed")}function a(e){var t=c[e];if(!t)throw new TypeError("Incorrect mask type");return t}function o(e,t){var n=a(t),o=n.capacity,s=n.offset;return r(e),i(e,o),e<<s}function s(e,t){var n=a(t),i=n.mask;return r(e),e&i}t.a=o,t.b=s;var c={blockId:{name:"blockId",mask:parseInt("00000000000000000000000000111111",2),capacity:6,offset:0},page:{name:"page",mask:parseInt("00000000000000000000001111000000",2),capacity:4,offset:6},flags:{name:"flags",mask:parseInt("11111111111111110000000000000000",2),capacity:16,offset:16}}},4092:function(e,t,n){"use strict";function r(){var e=Object(c.a)();return a(Object(s.c)(),{COMPOSE:e.COMPOSE,DONE:e.DONE,MESSAGE:e.MESSAGE,"2pane":e["2pane"],"3pane":e["3pane"]})}function i(){var e=Object(c.a)();return a(Object(s.c)(),{COMPOSE:e.EXTRA,DONE:e.EXTRA,MESSAGE:e.EXTRA,"3pane":e.EXTRA,"2pane":e.EXTRA})}function a(e,t){var n=o(e,t);return void 0!==n?n:t[e.layout]}function o(e,t){var n=e.isMessage,r=e.isDone,i=e.isCompose;return r?t.DONE:i?t.COMPOSE:n?t.MESSAGE:void 0}t.b=r,t.a=i;var s=n(803),c=n(922)},4093:function(e,t,n){"use strict";function r(){var e=Object(i.b)();return Daria.isReactiveCompose()?e.DONE_POPUP:e.DEFAULT}t.a=r;var i=n(922)},4094:function(e,t,n){"use strict";function r(){var e=Object(s.c)();return i(Object(o.c)(),{MESSAGE:e.MESSAGE,"2pane":e["2pane"],"3pane":e["3pane"]})}function i(e,t){var n=a(e,t);return void 0!==n?n:t[e.layout]}function a(e,t){if(e.isMessage)return t.MESSAGE}t.a=r;var o=n(803),s=n(922)},4095:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return o}));var o=(function(){function e(){r(this,e),this._displayCounters={}}return a(e,[{key:"show",value:function(e){var t=e.nodeId,n=e.selector,r=e.blockId,i=e.blockName,a=e.firstRender,o=e.firstRenderAfterFmp,s=e.statId;if(this._isEnabled){var c=this._buildInfo(t,i,s,r,a,o);this._updateInfo(n,c)}}},{key:"_buildInfo",value:function(e,t,n,r,i,a){var o=Jane.Date.format("%T",Daria.now()),s=this._getDisplayCounter(t),c=_.escape(JSON.stringify(Daria.statIdInfo(n),null,4)),u="<span> | </span>";return'\n            <div class="ad-debug-container" style="\n                position: relative !important;\n                z-index: 9999 !important;\n                overflow: visible !important;\n                opacity: 0.8;\n            ">\n                <div class="ad-debug-info" style="\n                    position: absolute !important;\n                    background-color: white !important;\n                    color: black !important;\n                    text-align: left !important;\n                    padding: 0 5px !important;\n                ">\n                    <div>\n                        <span title="Имя блока">'.concat(t,"</span>").concat(u,'\n                        <span title="ID блока">').concat(r,"</span>").concat(u,'\n                        <span title="ID для статистики. Полная информация:\n').concat(c,'">').concat(n,"</span>").concat(u,'\n                        <span title="ID ноды">').concat(e,'</span>\n                    </div>\n                    <div>\n                        <span title="Первая отрисовка относительно загрузки страницы">').concat(i,"мс</span>\n                        ").concat(u,'\n                        <span title="Первая отрисовка относительно fmp">').concat(Math.round(a),"мс</span>\n                        ").concat(u,'\n                        <span title="Время последней отрисовки">').concat(o,"</span>").concat(u,'\n                        <span title="Количество отрисовок блока ').concat(t,'">').concat(s," раз(а)</span>").concat(u,'\n                        <span title="Статус заблокированности рекламы на странице">\n                            ').concat(Daria.AdBlock.enabled?"под блокировщиком":"без блокировщика","\n                        </span>\n                    </div>\n                </div>\n            </div>")}},{key:"_updateInfo",value:function(e,t){var n=$(e).parent();n.find(".ad-debug-container").remove(),n.prepend(t)}},{key:"incrementDisplayCounter",value:function(e){var t=this._displayCounters[e];this._displayCounters[e]=t?t+1:1}},{key:"_getDisplayCounter",value:function(e){return this._displayCounters[e]||0}},{key:"_isEnabled",get:function(){return"1"===Daria.urlParams.ad_debug}}]),e})()},4096:function(e,t,n){"use strict";function r(e,t){return o(e)||a(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,a=void 0;try{for(var o,s=e[Symbol.iterator]();!(r=(o=s.next()).done)&&(n.push(o.value),!t||n.length!==t);r=!0);}catch(e){i=!0,a=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw a}}return n}}function o(e){if(Array.isArray(e))return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}n.d(t,"a",(function(){return f}));var d=n(88),l=n.n(d),f=(function(){function e(){s(this,e),this._firstRender={},this._adRenderStart={},this._clickHandlers={}}return u(e,[{key:"logFirstRender",value:function(e){var t=e.blockId,n=e.blockName,r=e.blockOptions,i=e.subPageParts;if(!this._firstRender[n]){this._firstRender[n]=!0;var a=this._getNavigationStart();if(a){var o=this._saveFirstRenderTime(n,a);Daria.monitoring.workflow.ads({action:"first-render",block:n,id:t,statId:r.statId,lifetime:o}),this._sendRumMetrics(i,n,t,o)}}}},{key:"_sendRumMetrics",value:function(e,t,n,r){if(-1===["done-direct","left-col-rtb-2"].indexOf(t)&&!ns.page.history.getPrevious()&&e){var i=Ya.Rum.makeSubPage(e.join("."),.001),a=[l.a.render,e[0]].join("."),o=[a,l.a.start].join("."),s=[a,l.a.end].join("."),c=[this._getBlockRenderStartTime(n),r],u=c[0],d=c[1],f=d-u;Ya.Rum.sendTimeMark(o,u,!1,i),Ya.Rum.sendTimeMark(s,d,!1,i),Ya.Rum.sendDelta(a,f,i);var h=this.getFirstRenderTimeAfterFmp(r);if(h){var p=[a,l.a.after,l.a["first-meaningful-paint"]].join(".");Ya.Rum.sendDelta(p,h,i)}}}},{key:"_getNavigationStart",value:function(){return window.performance&&window.performance.timing&&window.performance.timing.navigationStart}},{key:"saveBlockRenderStartTime",value:function(e,t){0!==t.indexOf("prerendered")&&(this._adRenderStart[e]||(this._adRenderStart[e]=Ya.Rum.getTime()))}},{key:"getFirstRenderTime",value:function(e){return this._firstRender[e+"_time"]}},{key:"getFirstRenderTimeAfterFmp",value:function(e){var t=Ya.Rum.getTimeMarks()[l.a.hero_element]||[],n=r(t,1),i=n[0];if(i&&e)return e-i}},{key:"_getBlockRenderStartTime",value:function(e){return this._adRenderStart[e]}},{key:"_saveFirstRenderTime",value:function(e,t){return this._firstRender[e+"_time"]=Date.now()-t}},{key:"logError",value:function(e,t){var n=e.blockName,r=e.blockId,i=e.blockOptions;Daria.monitoring.workflow.ads({action:"error",block:n,id:r,statId:i.statId,message:t.message||t})}}]),e})()},4097:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ADBLOCK_INTERVAL",(function(){return s})),n.d(t,"NON_ADBLOCK_INTERVAL",(function(){return c}));var r=n(87),i=(n.n(r),n(802)),a=n(4098),o=n(1860),s=6e4,c=100;ns.View.define(i.a,{events:{"ns-view-init":"onInit","ns-view-htmlinit":"onHtmlInit","ns-view-hide":"onHide","ns-page-before-load":"onBeforePageLoad","ns-page-after-load":"onAfterPageLoad","yabs:ready@show":"forceDraw","daria:vThemesSelector:new-schema@show":"forceDraw","daria:composeReact:done:show":"forceDraw","daria:composeReact:done:hide":"forceDraw","daria:composeReact:expanded":"forceDraw","daria:composeReact:collapsed":"forceDraw","daria:vScrollerLeft:scroll@show":"updatePosition","daria:vApp:changeLeftColumWidth@show":"onChangeLeftColumnWidth","daria:advertising:render:left-col-rtb-1":"onRenderMainBanner","daria:advertising:render:left-col-rtb-2":"onRenderExtraBanner"},models:{dimensions:{"ns-model-changed":"keepValid",resize:"updatePosition"},"scroller-left":"keepValid","scroller-messages":"keepValid","app-state":{"ns-model-changed":"keepValid","ns-model-changed.asideSizeKind":"onAsideSizeKindChange","ns-model-changed.timelineHeight":"updatePosition"}},yateModule:"mail",methods:Object.assign({onInit:function(){var e=Daria.AdBlock.enabled?s:c;this.draw=_.throttle(this.draw,e,{trailing:!0}),this.nodeId=i.c,this.nodeId2=i.d,this.getModel("scroller-left").init()},onHtmlInit:function(){this.node.innerHTML='\n                <div class="'.concat(i.b,'"><div id="').concat(this.nodeId,'"></div></div>\n                <div class="').concat(i.b,'"><div id="').concat(this.nodeId2,'"></div></div>\n            ')},onHide:function(){this.draw.cancel()},onRenderMainBanner:function(){this.syncHeightWithWrapperAndUpdatePosition()},onRenderExtraBanner:function(){this.syncHeightWithWrapperAndUpdatePosition()},forceDraw:function(){this.draw.cancel(),this.draw(!0)},draw:function(e){this.fillExtraHeights(),this._shouldShowBanner()&&this.drawMainBanner(e)},drawMainBanner:function(e){if(Daria.yabs)if(Object(r.hasFeature)(r.Features.WEB_ADS_PARAMS)&&Object(r.getFeatureParams)(r.Features.WEB_ADS_PARAMS).banner){var t=Object(r.getFeatureParams)(r.Features.WEB_ADS_PARAMS)||{},n=t.banner.mode;Daria.yabs.showMainBanner(this.nodeId,{mode:n},e)}else Daria.yabs.showMainBanner(this.nodeId,{},e)},drawExtraBanner:function(){Daria.yabs&&Daria.yabs.showExtraBanner(this.nodeId2)},updateExtraBanner:function(){var e=document.getElementById(this.nodeId),t=e?e.offsetHeight:0;t<=0||t>420?this.removeExtraBanner():this.drawExtraBanner()},removeExtraBanner:function(){$("#"+this.nodeId2).children().remove()},removeMainBanner:function(){this.node.querySelector("#"+this.nodeId).innerHTML=""},showMainBanner:function(){this.node.querySelector("#"+this.nodeId).innerHTML||this.drawMainBanner()},onAsideSizeKindChange:function(){this._shouldShowBanner()?this.showMainBanner():this.removeMainBanner()},_shouldShowBanner:function(){return["middle","maximum"].includes(this.getModel("app-state").get(".asideSizeKind"))}},a.a,o.a)})},4098:function(e,t,n){"use strict";t.a={_lastViewportTop:null,_skinSaverHeight:0,_themeCopyrightHeight:0,fillExtraHeights:function(){this._skinSaverHeight=$(".js-skin-saver").outerHeight()||0,this._themeCopyrightHeight=$(".js-theme-copyright").outerHeight()||0},updatePosition:function(){if(this.isVisible()&&!this._shouldPreventSticking()){var e=[this._getStaticBannerTop(),this._getViewportTop()],t=e[0],n=e[1],r=this._getBannerOverheight(),i=r>0,a=this._isBannerStuck(),o=this._getTopGap();if(!(n>t+(a?0:r)-(i&&!a?0:o)))return this._unstickBanner(),void this._resetLastViewportTop();!a&&this._syncWidthWithLeftColumn();var s;i?(s=this._getTopOffset(this._getCurrentTop(),n,r),this._lastViewportTop=n):(s=o,this._resetLastViewportTop());var c=this._getWindowHorizontalScroll(),u=this._alignPositionToPreventOverflow(s,c),d=u.top,l=u.left;this._stickBanner(d,l)}},onChangeLeftColumnWidth:function(){this.isVisible()&&this._lazyCheckBannerStuck()&&this._syncWidthWithLeftColumn()},syncHeightWithWrapperAndUpdatePosition:function(){this.isVisible()&&this._lazyCheckBannerStuck()&&(this._syncHeightWithWrapper(),this.updatePosition())},_shouldPreventSticking:function(){return Daria.is3pane()||"MSIE"===Daria.UA.BrowserName},_getStaticBannerTop:function(){return this.$node.parent().offset().top},_getViewportTop:function(){return this.getModel("scroller-left").getScrollTop()},_getWindowHorizontalScroll:function(){return window.pageXOffset},_getBannerHeight:function(){return this.$node.height()},_getBannerOverheight:function(){var e=this.getModel("app-state"),t=window.innerHeight,n=this._getBannerHeight(),r=e.get(".timelineHeight"),i=n+r;return Math.max(i-t,0)},_isBannerStuck:function(){return"fixed"===this.$node.css("position")},_lazyCheckBannerStuck:function(){return!this._shouldPreventSticking()&&this._isBannerStuck()},_getTopGap:function(){return this.getModel("scroller-messages").FIXED_TOOLBAR_HEIGHT-1},_getCurrentTop:function(){return parseInt(this.$node.css("top"),10)||0},_getTopOffset:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=null===this._lastViewportTop,i=r?-n:this._lastViewportTop-t,a=i>0,o=i<0;return i?a?Math.min(e+i,this._getTopGap()):o?Math.max(e+i,-n):void 0:e},_alignPositionToPreventOverflow:function(e,t){var n=this._leftColumnOffset();return{top:this._alignTopToPreventOverflow(e,n),left:this._alignLeftToPreventOverflow(t,n)}},_alignTopToPreventOverflow:function(e,t){var n=this._getViewportTop(),r=this._getBannerHeight(),i=this._getThemeBottomGap();if(!t)return e;var a=t.bottom,o=n+e+r+i,s=a-n-r-i;return o>a?s:e},_alignLeftToPreventOverflow:function(e,t){return t.left-e},_leftColumnOffset:function(){var e=this.$node.closest(".js-layout-aside-inner-box"),t=e.offset();return t?{top:t.top,bottom:t.top+e.outerHeight(),left:t.left}:null},_getThemeBottomGap:function(){return this._skinSaverHeight+this._themeCopyrightHeight},_stickBanner:function(e,t){this._syncHeightWithWrapper(),this.$node.css({position:"fixed",zIndex:2,bottom:"",top:e,left:t})},_syncHeightWithWrapper:function(){this.$node.parent().outerHeight(this.$node.outerHeight())},_resetLastViewportTop:function(){this._lastViewportTop=null},_syncWidthWithLeftColumn:function(){var e=this.$node.closest(".js-layout-aside-inner-box");this.$node.width(e.width())},_unstickBanner:function(){this.$node.removeAttr("style"),this.$node.parent().removeAttr("style")}}},4099:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){switch(!0){case e<=750:return"small";case e<=900:return"medium";default:return"large"}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"THROTTLE_INTERVAL",(function(){return d}));var s=n(87),c=(n.n(s),n(1860)),u=n(802),d=100;ns.View.define(u.j,{events:{"ns-view-init":"onInit","ns-view-htmlinit":"onHtmlInit","ns-view-hide":"onHide","ns-page-before-load":"onBeforePageLoad","ns-page-after-load":"onAfterPageLoad","yabs:ready@show":"forceDraw","daria:vThemesSelector:new-schema@show":"forceDraw","daria:vApp:changeRightColumSize":"recalculateHsize"},yateModule:"mail",methods:Object.assign({onInit:function(){this.draw=_.throttle(this.draw,d,{trailing:!0}),this.nodeId=u.e},onHtmlInit:function(){this.$node.addClass(u.g);var e=Object(s.hasFeature)(s.Features.WEB_MAILBOX_360_LANDING)?Daria.Config["yandex360-url"]:Daria.Config["mail360-url"],t=Object(s.hasFeature)(s.Features.WEB_ADS_TURN_OFF)?'<a href="'.concat(e,"/?uid=").concat(Daria.uid,'&from=webmail_ad"\n                    target="_blank"\n                    rel="noopener noreferrer"\n                    class="').concat(u.i,'">\n                    ').concat(i18n("%Disable_ads"),"\n                </a>"):"";if(this.node.innerHTML='\n                <div class="'.concat(u.f," ").concat(Daria.Config.heightClassForDirect||"",'">\n                    <div class="').concat(u.h,'">\n                        <div id="').concat(this.nodeId,'"></div>\n                    </div>\n                    ').concat(t,"\n                </div>"),Object(s.hasFeature)(s.Features.WEB_ADS_PARAMS)&&Object(s.getFeatureParams)(s.Features.WEB_ADS_PARAMS).line){var n=this.node.getBoundingClientRect();this.hsize=o(n.width)}},onHide:function(){this.draw.cancel()},forceDraw:function(){this.draw.cancel(),this.draw(!0)},draw:function(e){this.showDirect(e)},showDirect:function(e){if(Daria.yabs)if(Object(s.hasFeature)(s.Features.WEB_ADS_PARAMS)&&Object(s.getFeatureParams)(s.Features.WEB_ADS_PARAMS).line){var t=this.hsize,n=Object(s.getFeatureParams)(s.Features.WEB_ADS_PARAMS)||{},r=n.line;Daria.yabs.showDirect(this.nodeId,i({},r,{hsize:t}),e)}else Daria.yabs.showDirect(this.nodeId,{},e)},recalculateHsize:function(){if(Object(s.hasFeature)(s.Features.WEB_ADS_PARAMS)&&Object(s.getFeatureParams)(s.Features.WEB_ADS_PARAMS).line){var e=this.node.getBoundingClientRect(),t=o(e.width);t!==this.hsize&&(this.hsize=t,this.forceDraw())}}},c.a)})},802:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"j",(function(){return i})),n.d(t,"b",(function(){return a})),n.d(t,"c",(function(){return o})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return c})),n.d(t,"f",(function(){return u})),n.d(t,"g",(function(){return d})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return f})),n.d(t,"k",(function(){return h})),n.d(t,"l",(function(){return p}));var r="bannerD81B294034",i="messages-directD81B294034",a="b-banner",o="js-main-rtb",s="js-main-rtb-2",c="js-messages-direct",u="mail-DirectLine",d="mail-DirectLineContainer",l="mail-DirectLine-Content",f="mail-DirectLine-DisableAds",h="https://yandex.ru/ads/system/context.js",p="yaContextCb"},803:function(e,t,n){"use strict";function r(){var e=Boolean(Daria.Config.pddDomain),t="TUR"===Daria.Config.product,n=Daria.Config["pdd-direct"],r=Daria.is3pane()?"3pane":"2pane",i=Daria.isReactiveCompose()?Boolean(Daria.reactiveDoneScreenVisible):"done"===ns.page.current.page;return{isPDD:e,isTUR:t,customId:n,layout:r,isMessage:"message"===ns.page.current.page,isCompose:Daria.isReactiveCompose()?Boolean(Daria.reactiveComposeExpanded):"compose2"===ns.page.current.page,isDone:i,isDark:a(),hasAdblock:Daria.AdBlock.enabled}}function i(){return{uid:Daria.uid,"disabled-ad-type":Daria.urlParams["disabled-ad-type"]}}function a(){var e=ns.Model.get("themes").getSkinParams();return Boolean(e.content_is_dark)}function o(){if("TUR"===Daria.Config.product)return"tr";var e=Daria.Config["yandex-domain"],t=e?e.lastIndexOf("."):-1;return-1!==t?e.substring(t+1):"ru"}t.c=r,t.a=i,t.b=o},922:function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"c",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n(1858),i=n(803),a=n(4087),o=(n.n(a),function(e){var t=Object(i.c)();return{isPDD:t.isPDD,isTUR:t.isTUR,customId:t.customId,expIds:Daria.AdvPresenter.getPriorityIds()[e]}}),s=function(){return Object(a.getBannerIds)(o(Object(r.a)("ban","ner")))},c=function(){return Object(a.getLineIds)(o("line"))},u=function(){return Object(a.getDoneIds)(o("done"))}}});