webpackJsonp([35],Array(139).concat([function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.FoldersDisabledMoveInto=t.ReplyLaterDisabledFolders=t.SenderInfoDisabledFolders=t.ThreadSidebarDisabledFolders=t.LabelDisabledFolders=t.ClearEnabledFolders=t.SpecialHelpFolders=t.SpecialBarFolders=t.DragSpecialFolders=t.AttachmentWidgetsExcludeFoldersMax=t.AttachmentWidgetsExcludeFoldersMedium=t.AttachmentWidgetsExcludeFoldersLite=t.ThreadsDisabledFolders=t.SearchDisabledFolders=t.FiltersDisabledFolders=t.SilentFolders=t.SpamDisabledFoldersShort=t.SpamDisabledFolders=t.PinDisabledExtendedFolders=t.PinDisabledFolders=t.QuickReplyDisabledFolders=t.ReplyDisabledFolders=t.OutcomingFolders=t.LOMDisabledFolders=t.UnsubscribeDisabledAltFolders=t.UnsubscribeDisabledFolders=t.RecipientsSpecialFolders=t.InternalFolders=t.NotIncoming=t.UnreadHiddenFoldersShort=t.UnreadHiddenFolders=t.DraftTemplateLikeFoldersShort=t.DraftLikeFoldersShort=t.DraftLikeFolders=t.HiddenWhenEmptyFolders=t.SystemFolders=t.WellKnownFolderSymbol=void 0;var o;!(function(e){e.ARCHIVE="archive",e.DRAFT="draft",e.INBOX="inbox",e.OUTBOX="outbox",e.REPLY_LATER="reply_later",e.RESTORED="restored",e.SENT="sent",e.SPAM="spam",e.TEMPLATE="template",e.TRASH="trash"})(o=t.WellKnownFolderSymbol||(t.WellKnownFolderSymbol={})),t.SystemFolders=Object.values(o),t.HiddenWhenEmptyFolders=[o.OUTBOX,o.REPLY_LATER,o.RESTORED],t.DraftLikeFolders=[o.DRAFT,o.OUTBOX,o.TEMPLATE],t.DraftLikeFoldersShort=[o.DRAFT,o.OUTBOX],t.DraftTemplateLikeFoldersShort=[o.DRAFT,o.TEMPLATE],t.UnreadHiddenFolders=[o.SPAM,o.SENT,o.TRASH,o.DRAFT,o.TEMPLATE,o.OUTBOX],t.UnreadHiddenFoldersShort=[o.SPAM,o.TRASH],t.NotIncoming=[o.DRAFT,o.OUTBOX,o.SENT,o.SPAM,o.TRASH,o.TEMPLATE,o.ARCHIVE],t.InternalFolders=[o.DRAFT,o.OUTBOX,o.TEMPLATE,o.SENT],t.RecipientsSpecialFolders=[o.DRAFT,o.SENT],t.UnsubscribeDisabledFolders=[o.SENT,o.DRAFT,o.TEMPLATE],t.UnsubscribeDisabledAltFolders=[o.SENT,o.DRAFT,o.SPAM],t.LOMDisabledFolders=[o.TRASH,o.SPAM,o.DRAFT,o.TEMPLATE],t.OutcomingFolders=[o.SENT,o.OUTBOX],t.ReplyDisabledFolders=[o.SPAM,o.TRASH,o.DRAFT,o.SENT],t.QuickReplyDisabledFolders=[o.SPAM,o.TRASH,o.DRAFT],t.PinDisabledFolders=[o.SPAM,o.TRASH,o.REPLY_LATER],t.PinDisabledExtendedFolders=[o.TRASH,o.DRAFT,o.SPAM,o.TEMPLATE,o.REPLY_LATER],t.SpamDisabledFolders=[o.SPAM,o.DRAFT,o.OUTBOX,o.TEMPLATE,o.SENT],t.SpamDisabledFoldersShort=[o.DRAFT,o.TEMPLATE,o.SENT],t.SilentFolders=[o.DRAFT,o.OUTBOX,o.SENT,o.SPAM,o.TEMPLATE,o.TRASH,o.RESTORED],t.FiltersDisabledFolders=[o.OUTBOX,o.TRASH,o.RESTORED,o.REPLY_LATER],t.SearchDisabledFolders=[o.OUTBOX,o.SPAM],t.ThreadsDisabledFolders=[o.ARCHIVE,o.DRAFT,o.SPAM,o.TEMPLATE,o.TRASH],t.AttachmentWidgetsExcludeFoldersLite=[o.SPAM,o.TRASH],t.AttachmentWidgetsExcludeFoldersMedium=i(t.AttachmentWidgetsExcludeFoldersLite,[o.TEMPLATE]),t.AttachmentWidgetsExcludeFoldersMax=i(t.AttachmentWidgetsExcludeFoldersMedium,[o.DRAFT,o.SENT]),t.DragSpecialFolders=[o.SPAM,o.TRASH],t.SpecialBarFolders=[o.SPAM,o.TRASH,o.TEMPLATE],t.SpecialHelpFolders=[o.SPAM,o.TRASH],t.ClearEnabledFolders=[o.SPAM,o.TRASH],t.LabelDisabledFolders=[o.SPAM,o.TRASH],t.ThreadSidebarDisabledFolders=[o.SPAM,o.TRASH],t.SenderInfoDisabledFolders=[o.SPAM,o.TRASH],t.ReplyLaterDisabledFolders=[o.SPAM,o.TRASH,o.RESTORED],t.FoldersDisabledMoveInto=[o.REPLY_LATER]},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StickerType=void 0;!(function(e){e.REPLY_LATER="reply_later"})(t.StickerType||(t.StickerType={}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){return a(e)||o(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function a(e){if(Array.isArray(e))return e}function s(e){var t=e.keys().reduce((function(t,n){var i=e(n),o=i.viewBox.split(" ").slice(2),a=r(o,2),s=a[0],u=a[1],c=i.id.slice(0,-"-usage".length);return"".concat(t," .").concat(c," { width: ").concat(s,"px; height: ").concat(u,"px; }\n")}),""),n=document.getElementById("icon-styles");n&&(n.innerHTML+=t)}t.a=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4263),i=(n.n(r),n(181)),o=n(4264),a=n(4265);Jane.module("mail.js",(function(){n(4266),n(4267),n(4268),n(4269),n(4270),n(4274),n(4275),n(4279),n(4280),n(4281),n(4282),n(4283),n(4287),n(4288),n(4289),n(4290),n(4292),n(4293),n(4294),n(4295),n(4296),n(4297),n(4298),n(4311),n(4312),n(4313),n(4314),n(4315),n(4316),n(4317),n(4318),n(4319),n(4325),n(4326),n(4327),n(4328),n(4338),n(4339),n(4340),n(4342),n(4343),n(4344),n(4366),n(4634),n(4773),n(4774),n(4776),n(4777),n(4778),n(4930),n(4933),n(4934),n(4935),n(4936),n(4937),n(4938),n(656),Daria.Statusline=Daria.React.initStatusline(),Daria.CompactMode=new o.a,Daria.MessagesLogger=new a.a,Object(i.a)(n(4940)),n(5470),ns.events.on("pageinit",(function(){Daria.urlParams["statusline-demo"]&&n.e(56).then(n.bind(null,5471)).then((function(e){e.start()}))}))}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){g||(g="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:g,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e){var t=e.split("/");if(1===t.length)throw new Error('Invalid key: "'.concat(e,'"'));return{keyset:t[0],loc:t.slice(1).join("/")}}Object.defineProperty(t,"__esModule",{value:!0});var g,h=n(137),m=n.n(h),v=n(348),b=n.n(v),_=n(635),y=(n.n(_),n(2173)),S=n.n(y),w=n(1496),O=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n.renderChilds=function(e){var t=e.lang,r=n.props,i=r.loc?p(r.loc):{};i.lang=t;var o=Object.keys(r).reduce((function(e,n){switch(n){case"loc":return e;case"params":return Object.assign(i,r[n]),e;case"tag":case"children":return i[n]=r[n],e}if(/^loc-/.test(n)){var o=p(r[n]),a=n.slice(4);e[a]=Object(_.getKey)(t,o.keyset,o.loc,r["params-"+a])}else/^params-/.test(n)||(e[n]=r[n]);return e}),{}),a=i.tag||"span";return i.loc?(Object.keys(o).length&&(i.tag=function(e){return m.a.createElement(a,o,e.children)}),S()(i)):m.a.createElement(a,o,r.children)},n}return l(t,e),a(t,[{key:"render",value:function(){return f(w.a.Consumer,{},void 0,this.renderChilds)}}]),t})(m.a.PureComponent);O.contextType=w.a,O.propTypes={loc:b.a.string,params:b.a.object,children:b.a.node},t.default=O},,,,function(e,t,n){"use strict";function r(e){return a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function s(){return Daria.now()}function u(){return Daria.promoNow()}function c(){return new Date(Daria.promoNow())}function l(){return Daria.isDevEnv()}function d(){return Boolean(Daria.Config.pddDomain)}function f(){return Boolean(ns.Model.get("account-information").getData().isB2BUser)}function p(){return Daria.IS_CORP}function g(){return Daria.isPriorityTab()}function h(e){return Daria.Page.isParamsForSearch(e)}function m(){return Daria.Config.NO_SETTINGS}function v(){return Daria.Config.locale}function b(){return Daria.tanker}function _(){return Daria.suid}function y(){return Daria.Config.yandexuid}function S(){return Daria.ckey}function w(e){Daria.ckey=e}function O(){return Daria.uid}function M(){return Daria.Config.connection_id}function D(){return Daria.Config}function T(){return Daria.urlParams}function x(){return Daria.UISettings.shouldShowCheckboxInsideUserpic()}function C(e){return e?Jane.Common.keyCode[e]:Jane.Common.keyCode}function E(e){Daria.toggleSearchAppMode(e)}function P(e){Daria.toggleVerticalScrollBar(e)}function k(e){Daria.toggleAdvancedSearchAppMode(e)}function j(){ns.events.trigger("daria:vToolbarButton:restruct")}function A(){ns.events.atrigger("daria:vApp:changeRightColumSize")}function I(e){var t;return(t=Jane).c.apply(t,r(e))}function R(){Daria.Shortcuts.freeze()}function B(){Daria.Shortcuts.unfreeze()}function F(e){ns.Model.get("app-state").updatePageClasses(e)}function L(e,t,n,r){return ns.action.run(e,t,n,r)}function N(e){return Daria.parseQuery(e)}function H(){return Daria.addParamsToLocation(null,null,!0,null)}function U(e){ns.events.trigger("daria:suggest:open",e)}function W(){return Daria.Config["yandex-domain"]}function z(){return ns.Model.get("user-dropdown-data").getSumOfFresh()}function V(e){return ns.Model.get("folders").getFolderBySymbol(e)}function $(){return Daria.Config.hasProSubscription}function q(){return Daria.Config.haveYandexPlus}function G(){return Daria.LS}function K(e){var t=Object(be.hasFeature)(be.Features.WEB_MAILBOX_360_LANDING)?_e.linkYandex360:_e.linkMail360,n="".concat(t,"?uid=").concat(Daria.uid);return e&&(n+="&from=".concat(e)),n}function Y(){return"#setup/backup"}function J(){return"#setup/beautiful-email"}function X(){return"#search?deleted=yes"}function Q(){return"".concat(Daria.Config["telemost-url"],"/?source=tab-mail")}function Z(e){return Daria.hasSid(e)}function ee(e){return"disk"===e?"https://business.yandex.ru/disk/promo?utm_campaign=big_mail_trial30&utm_medium=teaser&utm_source=disk":"https://business.yandex.ru/mail?utm_campaign=big_mail_trial30&utm_medium=teaser&utm_source=mail"}function te(){return Boolean(document.querySelector(".js-toolbar-wrap.is-fixed"))}function ne(){return Daria.is2pane()}function re(){return Daria.is3pane()}function ie(){return Daria.is3pv()}function oe(){return Daria.isMessageOpenedInList()}function ae(){return Daria.Config.layout}function se(){return Daria.Config.isWS}function ue(e){Jane.Services.setUpdateNeeded(e)}function ce(){return Daria.Config.TLD}function le(e){ns.events.trigger("daria:unsubscribe-popup:show",e)}function de(e,t,n){Daria.ImageViewer.open("",e,t,n)}function fe(){return Daria.CompactMode}function pe(){return Daria.Autocompleter.getRegion()}function ge(){return ns.Model.get("disk-editor-secret-key").get(".key")}function he(){return Daria.Config.hasDisk&&!Daria.IS_CORP}function me(){return Object(be.hasFeature)(be.Features.WEB_MIDGETS)&&!p()}function ve(){return Daria.Config.socialavatarsUrl}Object.defineProperty(t,"__esModule",{value:!0}),t.now=s,t.promoNow=u,t.promoNowDate=c,t.isDev=l,t.isPDD=d,t.isB2BUser=f,t.isCorp=p,t.isPriorityTab=g,t.isParamsForSearch=h,t.areSettingsUnavailable=m,t.getLocale=v,t.getTranslations=b,t.getSuid=_,t.getYandexUid=y,t.getCkey=S,t.setCkey=w,t.getUid=O,t.getConnectionId=M,t.getConfig=D,t.getUrlParams=T,t.shouldShowCheckboxInsideUserpic=x,t.getKeyCodes=C,t.toggleSearchAppMode=E,t.toggleVerticalScrollBar=P,t.toggleAdvancedSearchAppMode=k,t.toolbarRestruct=j,t.changeRightColumSize=A,t.logMetric=I,t.freezeShortcuts=R,t.unfreezeShortcuts=B,t.updatePageClasses=F,t.runAction=L,t.parseQuery=N,t.getRetpath=H,t.emitSuggestOpened=U,t.getYandexDomain=W,t.getFreshCount=z,t.getFolderBySymbol=V,t.hasProSubscription=$,t.hasPlus=q,t.getDariaLocalStorage=G,t.getLinkToMailPro=K,t.getLinkToMailBackup=Y,t.getLinkToBeautifulEmail=J,t.getLinkToSearchInDeleted=X,t.getLinkToTelemost=Q,t.hasSid=Z,t.getLinkToB2b=ee,t.hasFixedToolbar=te,t.is2Pane=ne,t.is3Pane=re,t.is3pv=ie,t.isMessageOpenedInList=oe,t.getPaneLayoutType=ae,t.isWorkspace=se,t.setUpdateNeeded=ue,t.getTld=ce,t.emitUnsubscribePopupShow=le,t.openMessageViewer=de,t.getCompactMode=fe,t.getRegionAutocompleter=pe,t.getDiskSK=ge,t.hasDisk=he,t.hasMidgets=me,t.getSocialavatarsUrl=ve;var be=n(87),_e=(n.n(be),n(435))},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"getGeneralThemesBridge",(function(){return i})),n.d(t,"getDatasyncClient",(function(){return o})),n.d(t,"getStatuslineBridge",(function(){return a})),n.d(t,"getStatuslineRoot",(function(){return s})),n.d(t,"getStatusline",(function(){return u})),n.d(t,"getLeftColumn",(function(){return c})),n.d(t,"getLeftFooter",(function(){return l})),n.d(t,"getMainButtons",(function(){return d})),n.d(t,"getFocusBridge",(function(){return f})),n.d(t,"getDndBridge",(function(){return p})),n.d(t,"getPsSettingsDatasyncService",(function(){return g})),n.d(t,"getPsSettingsDatasyncSnapshot",(function(){return h})),n.d(t,"getMidgets",(function(){return m})),n.d(t,"getShortcutsBridge",(function(){return v})),n.d(t,"getPromoOnboardingGreetings",(function(){return b})),n.d(t,"getSetupLeft",(function(){return _})),n.d(t,"getVideoBgSwitch",(function(){return y})),n.d(t,"getThemeCard",(function(){return S})),n.d(t,"getPromozavrBridge",(function(){return w})),n.d(t,"getSetupIndex",(function(){return O})),n.d(t,"getPddRestrictModel",(function(){return M}));var r=function(e){return window.ReactClientBridge&&window.ReactClientBridge.Exposed&&window.ReactClientBridge.Exposed[e]},i=function(){return r("GeneralThemesBridge")},o=function(){return r("PsSettingsDatasyncClient")},a=function(){return r("StatuslineBridge")},s=function(){return r("StatuslineRoot")},u=function(){return r("Statusline")},c=function(){return r("LeftColumn")},l=function(){return r("LeftFooter")},d=function(){return r("MainButtons")},f=function(){return r("FocusBridge")},p=function(){return r("DndBridge")},g=function(){return r("PsSettingsDatasyncService")},h=function(){return r("PsSettingsDatasyncSnapshot")},m=function(){return r("Midgets")},v=function(){return r("ShortcutsBridge")},b=function(){return r("PromoOnboardingGreetings")},_=function(){return r("SetupLeft")},y=function(){return r("VideoBgSwitch")},S=function(){return r("ThemeCard")},w=function(){return r("PromozavrBridge")},O=function(){return r("SetupIndex")},M=function(){return r("PddRestrictModel")}},,,,function(e,t,n){"use strict";function r(e,t){var n=!1,r=null;try{var i=e.indexOf("/");if(-1===i)n=!0;else{var o=e.substring(0,i),s=e.slice(i+1);r=a(Daria.locale,o,s,t)}}catch(e){n=!0}if(n)throw new Error('Invalid key: "'.concat(e,'"'));return r}function i(e,t,n){try{return r(e,n)}catch(e){return t}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=r,t.i18nSafeText=i;var o=n(635),a=o.getKey},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(427);n.d(t,"default",(function(){return r.a}))},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2207);n.d(t,"default",(function(){return r.a}))},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"getContactsStore",(function(){return O})),n.d(t,"getFoldersStore",(function(){return M})),n.d(t,"getLabelsStore",(function(){return D})),n.d(t,"getMessagesStore",(function(){return T})),n.d(t,"getRouterStore",(function(){return x})),n.d(t,"getSearchStore",(function(){return C})),n.d(t,"getSettingsStore",(function(){return E})),n.d(t,"getSettingsSelectorStore",(function(){return P})),n.d(t,"getThemesSelectorStore",(function(){return k})),n.d(t,"getAccountInformationStore",(function(){return j})),n.d(t,"getHeadUserStateStore",(function(){return A})),n.d(t,"getUserDropdownDataStore",(function(){return I})),n.d(t,"getContactSuggestStore",(function(){return R})),n.d(t,"getServicesPopupStore",(function(){return B})),n.d(t,"getVisualStore",(function(){return F})),n.d(t,"getTabsStore",(function(){return L})),n.d(t,"getMailSettingsPopupStore",(function(){return N}));var r=n(423),i=n.n(r),o=n(1498),a=n(1499),s=n(965),u=n(839),c=n(1500),l=n(967),d=n(2182),f=n.n(d),p=n(1501),g=n(729),h=n(730),m=n(1507),v=n(1508),b=n(731),_=n(2189),y=n(1509),S=(n.n(y),n(1510)),w=n(2190),O=i()((function(){return new a.a})),M=i()((function(){return new u.a})),D=i()((function(){return new l.a})),T=i()((function(){return new p.a})),x=i()((function(){return new g.a})),C=i()((function(){return new h.a})),E=i()((function(){return new b.c})),P=i()((function(){return new v.a})),k=i()((function(){return new _.a})),j=i()((function(){return new o.a})),A=i()((function(){return new c.a})),I=i()((function(){return new S.a})),R=i()((function(){return new s.a})),B=i()((function(){return new m.a})),F=i()((function(){return new w.a})),L=y.TabsStore.instance,N=i()((function(){return new f.a}))},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return u}));var r="compose-scenario",i="compose-react-scenario",o="message-view-scenario",a="search-scenario",s="suggest-scenario",u={}},,function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(137),a=(n.n(o),n(348)),s=n.n(a),u=n(635),c=(n.n(u),n(1496)),l=function(e){var t={lang:e.lang,t:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return u.getKey.apply(void 0,[e.lang].concat(n))}};return r(c.a.Provider,{value:t},void 0,e.children)};l.propTypes={children:s.a.oneOfType([s.a.arrayOf(s.a.node),s.a.node]).isRequired,lang:s.a.string},t.default=l},,,,,function(e,t,n){"use strict";function r(e){if(!e||8!==e.length)return null;var t=new Date(e.substring(0,4),e.substring(4,6)-1,e.substring(6,8)),n=t.getDate();return isNaN(n)?null:t}function i(e){return Jane.Date.format("%Date_dmY__dot",e)}function o(e){return Jane.Date.format("%Date_Ymd__minus",e)}function a(e){return Jane.Date.format("%Date_Ymd",e)}function s(e){return e&&new Date(e.getFullYear(),e.getMonth(),e.getDate())}function u(e){return Jane.Date.format("%Date_dB_in_HM",e)}function c(e){return Jane.Date.format("%Date_df_in_HM",e)}function l(e){return Jane.Date.format("%Date_dB",e)}function d(e){return Jane.Date.format("%Date_HM__colon",e)}function f(e){if(!e)return null;var t,n,r,i=/^(\d\d\d\d)-(\d\d)-(\d\d)$/.exec(e);if(i)t=parseInt(i[1],10),n=parseInt(i[2],10),r=parseInt(i[3],10);else{if(null===(i=/^(\d\d)\.(\d\d)\.(\d\d)$/.exec(e)))return null;t=parseInt(i[3],10)+_,n=parseInt(i[2],10),r=parseInt(i[1],10)}return new Date(t,n-1,r)}function p(){return Daria.promoNow()}function g(){return Daria.passportNow()}function h(){return 0===Daria._debugClientPromoTimestamp&&(Daria._debugClientPromoTimestamp=b()(Daria.urlParams.debugClientPromoDate)),Daria._debugClientPromoTimestamp||g()}function m(e){return Daria.getPassportDate(e)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"getMessagesListDate",(function(){return y})),n.d(t,"getDateInHumanFormat",(function(){return S})),n.d(t,"getTimeInHumanFormat",(function(){return w})),t.getDateFromCompactFormat=r,t.getDateInNumericFormat=i,t.getDateInNumericFormatDashed=o,t.getDateInUnseparatedNumericFormat=a,t.getDateComponentOfDatetime=s,t.getShortDateTimeInHumanFormat=u,t.getShortMonthDateTimeInHumanFormat=c,t.getShortDate=l,t.getShortTime=d,t.parseDate=f,t.promoNow=p,t.passportNow=g,t.passportPromoNow=h,t.getPassportDate=m;var v=n(962),b=n.n(v),_=2e3,y=function(e){return Daria.MessageTime.getFormattedTime(1e3*e).list},S=function(e){return Jane.Date.toHumanFormat(e)},w=function(e){return Jane.Date.format("%Date_HM__colon",e)}},,,function(e,t,n){e.exports=n.p+"_/d6db9b2a3473c3a8123e980333e3230f-b-mail-icon_error.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.addNsEventListener=t.addEventListener=void 0;var r=n(505);Object.defineProperty(t,"addEventListener",{enumerable:!0,get:function(){return r.addEventListener}});var i=n(571);Object.defineProperty(t,"addNsEventListener",{enumerable:!0,get:function(){return i.addNsEventListener}}),t.default=r.Disposer},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.KeyCodes=void 0,t.KeyCodes={TAB:9,ENTER:13,SHIFT:16,ESC:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,CTRL:17,META:[91,93,224],BACKSPACE:8,S:83,J:74,K:75,P:80,N:78},t.default=t.KeyCodes},,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",(function(){return p}));var a,s,u=n(351),c=n(138),l=n.n(c),d=n(422),f=l.a.debounce,p=(a=s=(function(){function e(){r(this,e),this._modelSubscriptions={}}return o(e,[{key:"_addModelSubscription",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{onChanged:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.data=e},onDestroyed:function(){t.data={}}},i=d.default.get(e,n),o=i.key;return o in this._modelSubscriptions?this._modelSubscriptions[o]:(this._modelSubscriptions[o]=this._createModelSubscription(i,r),this._modelSubscriptions[o])}},{key:"_requestModelData",value:function(e,t){return d.default.request(e,t).then((function(e){return e}),(function(){return{}}))}},{key:"_createModelSubscription",value:function(e,t){var n,r,i=this,o=e.key,a={};for(var s in t)switch(s){case"onChanged":n=function(){t.onChanged(e.getData()||void 0,e.getError()||void 0)},r=f(Object(u.action)(n),0),a["ns-model-changed"]=r,e.on("ns-model-changed",r),n();break;case"onDestroyed":n=Object(u.action)(t.onDestroyed),a["ns-model-destroyed"]=n,e.on("ns-model-destroyed",n);break;default:throw new Error('unknown handler "'.concat(s,'" for model subscription'))}return function(){for(var t in a)e.off(t,a[t]);delete i._modelSubscriptions[o]}}},{key:"_isNotEmpty",value:function(e){return e&&Object.keys(e).length>0}}]),e})(),(function(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o})(a.prototype,"_addModelSubscription",[u.action],Object.getOwnPropertyDescriptor(a.prototype,"_addModelSubscription"),a.prototype),a)},,function(e,t,n){"use strict";var r=n(1526);t.a=r.a},,,,,,,,function(e,t,n){"use strict";function r(){return!f.isCorp()&&!f.isWorkspace()&&!o()&&(!f.hasProSubscription()||c())}function i(){return h.default.get("account-information").getBeautifulEmail()}function o(){return h.default.get("account-information").isSSO()}function a(){var e=i(),t=p.getPsSettingsDatasyncService();return r()&&(t.isBeautifulEmailForceEnabled||Boolean(e))}function s(){return r()&&("ru"===f.getTld()||a())}function u(){return s()}function c(){return g.isSettingSet(t.SETTINGS_DOMAIN_AVAILABLE)}function l(){if(!u())return!1;if(i())return!1;var e=f.hasProSubscription(),t=c();return!(e&&!t)}var d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.canShowPromo=t.hasSubscriptionWithDomain=t.isPromoAvailable=t.isAvailable=t.isForceAvailable=t.getConnectedBeautifulEmail=t.isPossibleToEnable=t.SETTINGS_DOMAIN_AVAILABLE=void 0;var f=n(356),p=n(363),g=n(581),h=d(n(422));t.SETTINGS_DOMAIN_AVAILABLE="mail_b2c_domain_enable",t.isPossibleToEnable=r,t.getConnectedBeautifulEmail=i,t.isForceAvailable=a,t.isAvailable=s,t.isPromoAvailable=u,t.hasSubscriptionWithDomain=c,t.canShowPromo=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"YANDEX_HEADER_PREFIX",(function(){return r})),n.d(t,"HEADER_METRIKA_LEFT",(function(){return i})),n.d(t,"HEADER_METRIKA_RIGHT",(function(){return o})),n.d(t,"HEADER_METRIKA_SERVICES",(function(){return a})),n.d(t,"HEADER_METRIKA_SIMPLE_SERVICES",(function(){return s})),n.d(t,"HEADER_METRIKA_EXTRA_NAMES",(function(){return u})),n.d(t,"HEADER_METRIKA_NAV_NAMES",(function(){return c})),n.d(t,"HEADER_METRIKA_SETTINGS",(function(){return l})),n.d(t,"HEADER_METRIKA_SETTINGS_OPEN",(function(){return d})),n.d(t,"HEADER_METRIKA_SETTINGS_ALL",(function(){return f})),n.d(t,"HEADER_METRIKA_MAIN_SETTING",(function(){return p})),n.d(t,"HEADER_METRIKA_CHANGE_LAYOUT",(function(){return g})),n.d(t,"HEADER_METRIKA_SHOW_ALL_THEMES",(function(){return h})),n.d(t,"HEADER_METRIKA_HIDE_ALL_THEMES",(function(){return m})),n.d(t,"HEADER_METRIKA_CHANGE_THEME",(function(){return v})),n.d(t,"HEADER_METRIKA_TOGGLE_VIDEO_BG",(function(){return b})),n.d(t,"HEADER_METRIKA_USER_POPUP",(function(){return _})),n.d(t,"HEADER_METRIKA_USER_HAS_MESSAGES",(function(){return y})),n.d(t,"HEADER_METRIKA_USER_NO_MESSAGES",(function(){return S})),n.d(t,"HEADER_METRIKA_USER_MESSAGES_COUNT",(function(){return w})),n.d(t,"HEADER_METRIKA_USER_MESSAGES_COUNT_NUMBER",(function(){return O})),n.d(t,"HEADER_METRIKA_USER_MENU",(function(){return M})),n.d(t,"HEADER_METRIKA_USER_MENU_SWITCH_USER",(function(){return D})),n.d(t,"CLICK",(function(){return T})),n.d(t,"SHOW",(function(){return x})),n.d(t,"HEADER_METRIKA_LOGO",(function(){return C})),n.d(t,"HEADER_METRIKA_LOGO_BASE",(function(){return E})),n.d(t,"HEADER_METRIKA_LOGO_SERVICE",(function(){return P})),n.d(t,"HEADER_METRIKA_LOGO_360",(function(){return k})),n.d(t,"BUY_PRO_BUTTON",(function(){return j})),n.d(t,"OPT_IN_SUBSCRIPTIONS_METRIKA",(function(){return A})),n.d(t,"ONBOARDING_BEAUTIFUL_EMAIL_METRIKA",(function(){return I})),n.d(t,"PREMIUM_USER",(function(){return R})),n.d(t,"PAID_USER",(function(){return B})),n.d(t,"FREE_USER",(function(){return F})),n.d(t,"PROMO_BACKUP",(function(){return L})),n.d(t,"PROMO_BEAUTIFUL_EMAIL",(function(){return N})),n.d(t,"STATE_ON",(function(){return H})),n.d(t,"STATE_OFF",(function(){return U}));var r="Yandex header PRO",i="Login header.Left part",o="Login header.Right part",a="Portal navigation/Services",s="Services",u={all:"All services",calendar:"Calendar",disk:"Disk",mail:"Mail PRO",notes:"Notes",telemost:"Telemost",staff:"Staff"},c={inbox:"Inbox",contacts:"Contacts"},l="Settings",d="Opening settings popup",f="Click on 'All settings'",p="Click on one of main settings",g="Change layout",h="Show all themes",m="Hide all themes",v="Change theme",b="Video background",_="Menu behind login",y="Has new messages",S="No new messages",w="Messages count",O=" messages",M={"add-account":"Add user",passport:"Account settings","change-password":"Change password","footer-help":"Help and feedback",exit:"Sign out of Yandex services",homepage:"Yandex home page",plus:"Yandex Plus",staff:"Staff",hiring:"Hiring"},D="Switch user",T="Click",x="Show",C="Logo",E='Click on "Yandex"',P='Click on "Mail"',k='Click on "360"',j="Buy PRO button",A="Opt-in subscriptions",I="Onboarding beautiful email",R="premium user",B="paid user",F="free user",L="Promo Backup",N="Promo Beautiful Email",H="on",U="off"},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2762),t),i(n(2763),t),i(n(2764),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2299);n.d(t,"default",(function(){return r.a}))},,,,,,,,function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"p",(function(){return a})),n.d(t,"m",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"j",(function(){return c})),n.d(t,"o",(function(){return l})),n.d(t,"l",(function(){return d})),n.d(t,"h",(function(){return f})),n.d(t,"i",(function(){return p})),n.d(t,"n",(function(){return g})),n.d(t,"k",(function(){return h})),n.d(t,"a",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"c",(function(){return b}));var r="default",i="direct-url",o="button-from-left-column",a="shortcut",s="reply-button-from-context-menu",u="forward-from-context-menu",c="forward-button-from-message-toolbar",l="reply-button-from-message-toolbar",d="reply-all-button-from-message-toolbar",f="forward-button-from-messages-toolbar",p="forward-button-from-message-body-toolbar",g="reply-button-from-message-body-toolbar",h="reply-all-button-from-message-body-toolbar",m="button-from-abook-popup",v="expand-button",b="change-to-another-compose-button"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(r,i){ns.request(e,t,n).then((function(e){if(!e||!e.length)return void i({error:"request-failed"});var t=e[0];if(!t.isValid())return void i(t.getError()||{error:"invalid-data"});r(e[0].getData())}),(function(e){i(Object.assign(e,{error:"model-request-failed"}))}))})};t.default={get:function(e,t){return ns.Model.get(e,t)},request:function(e,t){return r(e,t)},forcedRequest:function(e,t){return r(e,t,{forced:!0})}}},,function(e,t,n){"use strict";function r(e){return function(t){return (function(n){function r(){return null!==n&&n.apply(this,arguments)||this}return i(r,n),r.prototype.render=function(){var n=Object.keys(e).reduce((function(t,n){var r;return o(o({},t),(r={},r[n]=e[n](),r))}),{});return s.default.createElement(t,o({},this.props,n))},r})(s.default.PureComponent)}}var i=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},o.apply(this,arguments)},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withStores=void 0;var s=a(n(137));t.withStores=r},function(e,t,n){"use strict";var r=n(972),i=n(975),o=n(640),a=n(5);t.a=new r.a({logger:i.a,now:o.a,connectionId:a.a.Config.connection_id})},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"ThemesStore",(function(){return E}));var g,h,m,v,b,_,y,S,w,O,M,D,T=n(138),x=(n.n(T),n(351)),C=n(400),E=(g=x.observable.ref,h=x.observable.ref,m=x.observable.ref,v=x.observable.ref,D=M=(function(e){function t(){var e;return i(this,t),e=s(this,u(t).call(this)),f(c(e),"currentTheme",_,c(e)),f(c(e),"currentSkin",y,c(e)),f(c(e),"themesData",S,c(e)),f(c(e),"orderedThemes",w,c(e)),f(c(e),"generalThemes",O,c(e)),e.mCurrentTheme=null,e.unsubscribeFromCurrentThemeModel=null,e._addModelSubscription("themes",{},{onChanged:function(){var t=ns.Model.get("themes"),n=t.getCurrentTheme(),r=t.getSkinParams();e.mCurrentTheme!==n&&(e.mCurrentTheme=n,"function"==typeof e.unsubscribeFromCurrentThemeModel&&e.unsubscribeFromCurrentThemeModel(),e.unsubscribeFromCurrentThemeModel=e._addModelSubscription(e.mCurrentTheme.id,e.mCurrentTheme.params,{onChanged:function(){var n=t.getSkinParams();e.currentSkin=n},onDestroyed:function(){e.mCurrentTheme=null,e.unsubscribeFromCurrentThemeModel=null}})),e.currentTheme=t.getCurrentThemeName(),e.currentSkin=r,e.themesData=t.get(".themes"),e.orderedThemes=t.get(".ordered-themes"),e.generalThemes=t.get(".general-themes")}}),e}return l(t,e),a(t,[{key:"isGeneralThemeExists",value:function(e){return this.generalThemes.some((function(t){return t.name===e}))}},{key:"isThemeExist",value:function(e){return e in this.themesData||this.isGeneralThemeExists(e)}},{key:"isContentDark",get:function(){return Boolean(this.currentSkin&&this.currentSkin.content_is_dark)}},{key:"isPageDark",get:function(){return Boolean(this.currentSkin&&this.currentSkin.page_is_dark)}},{key:"isAsideDark",get:function(){return Boolean(this.currentSkin&&this.currentSkin.aside_is_dark)}}]),t})(C.default),M.instance=Object(T.memoize)((function(){return new E})),b=D,_=p(b.prototype,"currentTheme",[x.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),y=p(b.prototype,"currentSkin",[g],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=p(b.prototype,"themesData",[h],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),w=p(b.prototype,"orderedThemes",[m],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),O=p(b.prototype,"generalThemes",[v],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p(b.prototype,"isContentDark",[x.computed],Object.getOwnPropertyDescriptor(b.prototype,"isContentDark"),b.prototype),p(b.prototype,"isPageDark",[x.computed],Object.getOwnPropertyDescriptor(b.prototype,"isPageDark"),b.prototype),p(b.prototype,"isAsideDark",[x.computed],Object.getOwnPropertyDescriptor(b.prototype,"isAsideDark"),b.prototype),b)},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n,r){h||(h="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:h,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return T}));var h,m=n(137),v=n.n(m),b=n(348),_=n.n(b),y=n(350),S=n.n(y),w=n(646),O=n(507),M=n(2413),D=n(2414),T=(n.n(D),(function(e){function t(){return a(this,t),c(this,d(t).apply(this,arguments))}return f(t,e),u(t,[{key:"_maybeRenderTitle",value:function(){var e=this.props.title;return e?g("title",{},void 0,e):null}},{key:"render",value:function(){var e,n=this.props,i=n.cls,a=n.color,s=n.id,u=n.refId,c=n.onMouseDown,l=n.forceInline,d=n.data,f=void 0===d?{}:d,p=n.focusable,h={};return a&&(h.color=a),g("svg",{xmlns:"http://www.w3.org/2000/svg",className:S()((e={svgicon:!0},o(e,"svgicon-".concat(s),!0),o(e,i||"",!0),e)),style:h,onMouseDown:c,focusable:p},void 0,t.useOrInlineSvg(s,u,l),v.a.createElement("rect",r({height:"100%",width:"100%",style:{fill:"transparent"}},f),this._maybeRenderTitle()))}}],[{key:"useOrInlineSvg",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(w.default.isIE()||n){var r=t?Object(M.a)(e,t):Object(M.a)(e);return r?g("svg",{id:r.id,viewBox:r.viewBox,fill:r.fill,dangerouslySetInnerHTML:{__html:r.svgBody}}):(Object(O.logDebug)("Не удалось найти SVG иконку #".concat(r.id)),null)}return g("use",{xmlnsXlink:"http://www.w3.org/1999/xlink",xlinkHref:t?"#".concat(t):"#svgicon-".concat(e)})}}]),t})(v.a.PureComponent));T.propTypes={id:_.a.string.isRequired,refId:_.a.string,color:_.a.string,cls:_.a.string,onMouseDown:_.a.func,title:_.a.string,data:_.a.object,forceInline:_.a.bool,focusable:_.a.bool}},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MetrikaService=t.MessageViewMetrika=t.AttachmentsMetrika=void 0;var r=n(138),i=n(356),o=n(1182);Object.defineProperty(t,"AttachmentsMetrika",{enumerable:!0,get:function(){return o.AttachmentsMetrika}});var a=n(1581);Object.defineProperty(t,"MessageViewMetrika",{enumerable:!0,get:function(){return a.MessageViewMetrika}});var s=n(2600),u=(function(){function e(){this.attachments=new o.AttachmentsMetrika({logMetric:i.logMetric}),this.messageViewer=new a.MessageViewMetrika({logMetric:i.logMetric}),this.dragAndDrop=new s.DragAndDropMetrika({logMetric:i.logMetric})}return e.instance=r.memoize((function(){return new e})),e})();t.MetrikaService=u},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"cloudApiUrl",(function(){return i})),n.d(t,"helpUrl",(function(){return o})),n.d(t,"diskHelpUrl",(function(){return a})),n.d(t,"helpBackupUrl",(function(){return s})),n.d(t,"helpBeautifulEmailUrl",(function(){return u})),n.d(t,"passportPhoneConfirmUrl",(function(){return c})),n.d(t,"passportVerifyPasswordUrl",(function(){return l})),n.d(t,"www",(function(){return d})),n.d(t,"linkYandex360",(function(){return f})),n.d(t,"linkMail360",(function(){return p})),n.d(t,"headerServicesLinks",(function(){return h})),n.d(t,"xivaUrl",(function(){return m})),n.d(t,"socialavatarsUrl",(function(){return v}));var r=n(87),i=(n.n(r),Daria.Config["cloud-api-url"]),o=Daria.Config["help-url"],a=Daria.Config["disk-help-url"],s="".concat(o,"/web/security/backup.html"),u="".concat(o,"/web/preferences/about-sender/additional-addresses.html?from=mail#exclusive"),c=Daria.Config["passport-phoneconfirm-url"],l=Daria.Config["passport-verify-password-url"],d=Daria.Config["www-url"],f=Daria.Config["yandex360-url"],p=Daria.Config["mail360-url"],g=Object(r.hasFeature)(r.Features.WEB_HEADER_PROMO_TO_LANDING)?f:p,h={Mail:"#inbox",Disk:Daria.Config["disk-url"],Telemost:Daria.Config["telemost-url"],Calendar:Daria.Config["calendar-url"],Notes:Daria.Config["notes-url"],Contact:"#contacts",Messenger:Daria.Config["q-url"],Fan:Daria.Config["fan-url"],Premium:g,Admin:Daria.Config["admin-url"],Documents:Daria.Config["documents-url"],Staff:Daria.Config["staff-host"],Startrek:Daria.Config["startrek-url"],Wiki:Daria.Config["wiki-url"],At:Daria.Config["diary-url"],Maillists:Daria.Config["maillist-url"],MeetingRooms:"".concat(Daria.Config["calendar-url"],"/invite")},m=Daria.Config.xivaHost,v=Daria.Config.socialavatarsUrl},,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BeautifulEmailStatus=void 0;!(function(e){e.NotConnected="not-connected",e.Connecting="connecting",e.Connected="connected",e.Disconnected="disconnected",e.Failed="failed",e.InfoUnavailable="info-unavailable"})(t.BeautifulEmailStatus||(t.BeautifulEmailStatus={}))},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BeautifulEmailStore=void 0;var s=n(351),u=a(n(423)),c=a(n(422)),l=n(356),d=n(441),f=n(375),p=n(363),g=(function(){function e(e){this.accountInformationStore=e,this.email="",this.isPollingInProcess=!1;var t=this.accountInformationStore.domainAlias;this.email=t||"",this.status=t?d.BeautifulEmailStatus.Connected:d.BeautifulEmailStatus.NotConnected}return Object.defineProperty(e.prototype,"domain",{get:function(){return this.email.split("@")[1]||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"login",{get:function(){return this.email.split("@")[0]||""},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasConnectedDomain",{get:function(){return this.status===d.BeautifulEmailStatus.Connected},enumerable:!1,configurable:!0}),e.prototype.setStatus=function(e){this.status=e},e.prototype.setTimeoutEndDate=function(e){this.timeoutEndDate=e},e.prototype.setEmail=function(e){this.email=e},e.prototype.setSuggestedEmail=function(e){this.suggestedEmail=e},e.prototype.setIsPollingInProcess=function(e){this.isPollingInProcess=e},e.prototype.initialEmailCheck=function(e){var t=e.domenatorStatus,n=e.domenatorDomain,r=e.domenatorTimeoutEndDate;this.setEmail(n||""),this.setStatus(t),r&&this.setTimeoutEndDate(r)},e.prototype.getSuggestedEmail=function(){return i(this,void 0,Promise,(function(){var e=this;return o(this,(function(t){return this.suggestEmailPromise||(this.suggestEmailPromise=(function(){return i(e,void 0,void 0,(function(){var e,t;return o(this,(function(n){switch(n.label){case 0:return[4,c.default.request("get-domenator-domains-suggest/v1",{limit:1})];case 1:return e=n.sent().suggested_domains,t=e[0],this.setSuggestedEmail(t?t.login+"@"+t.name:void 0),[2,this.suggestedEmail]}}))}))})()),[2,this.suggestEmailPromise]}))}))},e.prototype.forceEnableBeautifulEmail=function(){return i(this,void 0,Promise,(function(){return o(this,(function(e){return[2,p.getPsSettingsDatasyncService().updateBeautifulEmailForceEnable(l.promoNowDate())]}))}))},e.instance=u.default((function(){return new e(f.getAccountInformationStore())})),r([s.observable],e.prototype,"email",void 0),r([s.computed],e.prototype,"domain",null),r([s.computed],e.prototype,"login",null),r([s.observable],e.prototype,"status",void 0),r([s.observable],e.prototype,"timeoutEndDate",void 0),r([s.computed],e.prototype,"hasConnectedDomain",null),r([s.observable],e.prototype,"suggestedEmail",void 0),r([s.observable],e.prototype,"isPollingInProcess",void 0),r([s.action],e.prototype,"setStatus",null),r([s.action],e.prototype,"setTimeoutEndDate",null),r([s.action],e.prototype,"setEmail",null),r([s.action],e.prototype,"setSuggestedEmail",null),r([s.action],e.prototype,"setIsPollingInProcess",null),e})();t.BeautifulEmailStore=g},,,function(e,t,n){e.exports=n.p+"_/ab580e6d8a894e3dd2f20569020cdb41-attach_icon_audio.svg"},function(e,t,n){e.exports=n.p+"_/d73628f6e4ee5d8a5d62248e11081f79-attach_icon_img.svg"},,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"getAvatarsService",(function(){return _})),n.d(t,"getContactsSuggestService",(function(){return y})),n.d(t,"getRouterService",(function(){return S})),n.d(t,"getSearchService",(function(){return w})),n.d(t,"getSearchLogService",(function(){return O})),n.d(t,"getSettingsService",(function(){return M})),n.d(t,"getThemesService",(function(){return D})),n.d(t,"getThemesSelectorService",(function(){return T})),n.d(t,"getQueryLanguageService",(function(){return x})),n.d(t,"scenarioManager",(function(){return C}));var r=n(423),i=n.n(r),o=n(363),a=n(841),s=n(638),u=n(573),c=n(728),l=n(1515),d=n(976),f=n(1512),p=n(375),g=n(1514),h=n(2198),m=n(977),v=n(426),b={},_=i()((function(){return new c.a})),y=i()((function(){return new l.a({searchStore:Object(p.getSearchStore)()})})),S=i()((function(){var e=new a.a;return b.routerService=e,e})),w=i()((function(){b.routerService||S(),b.searchLogService||O(),b.settingsService||M(),b.queryLanguageService||x();var e=new s.b(Object(g.a)(),b);return b.searchService=e,e})),O=i()((function(){var e=new s.a(Object(g.a)(),b);return b.searchLogService=e,e})),M=i()((function(){var e=u.a.instance();return b.settingsService=e,e})),D=i()((function(){var e=new h.a({themesStore:v.ThemesStore.instance(),generalThemesBridge:Object(o.getGeneralThemesBridge)()});return window.ThemesService=e,e})),T=i()((function(){return new m.a({themesSelectorStore:Object(p.getThemesSelectorStore)()})})),x=i()((function(){var e=new d.a(Object(g.a)());return b.queryLanguageService=e,e})),C=f.a},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(3022);n.d(t,"a",(function(){return r.a}))},,,,function(e,t,n){e.exports=n.p+"_/b421d41a9b5d6be87299c25b2c8c567b-attach_icon_video.svg"},,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(2300);n.d(t,"default",(function(){return r.a}))},function(e,t,n){"use strict";var r=n(2320);n.d(t,"a",(function(){return r.a}))},,,,function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeMaster=void 0;var i=n(138),o=n(351),a=(function(){function e(){this.isActive=!1,this.isPageDark=!1,this.isContentDark=!1,this.isAsideDark=!1}return e.prototype.updateCurrentSkin=function(e){this.isActive=!0,this.isPageDark=e.isPageDark,this.isContentDark=e.isContentDark,this.isAsideDark=e.isAsideDark},e.instance=i.memoize((function(){return new e})),r([o.observable],e.prototype,"isActive",void 0),r([o.observable],e.prototype,"isPageDark",void 0),r([o.observable],e.prototype,"isContentDark",void 0),r([o.observable],e.prototype,"isAsideDark",void 0),r([o.action],e.prototype,"updateCurrentSkin",null),e})();t.ThemeMaster=a},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"isBackupVisible",(function(){return i})),n.d(t,"canUseBackup",(function(){return o})),n.d(t,"idHiddenTrashEnabled",(function(){return a}));var r=n(50),i=(n.n(r),function(){return o()||!Daria.IS_CORP&&!Daria.Config.isWS&&"ru"===Daria.Config.TLD}),o=function(){return ns.Model.get("settings").isSet(r.Settings.BACKUP_ENABLED)},a=function(){return ns.Model.get("settings").isSet(r.Settings.HIDDEN_TRASH_ENABLED)}},,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.Disposer=t.addEventListener=void 0;var o=function(e){var t=e.element,n=void 0===t?window:t,r=e.eventName,i=e.listener,o=e.isCapture,a=void 0!==o&&o;return n.addEventListener(r,i,a),function(){return n.removeEventListener(r,i,a)}};t.addEventListener=o;var a=(function(){function e(){this.callbacks=new Map}return e.prototype.add=function(e,t){this.callbacks.set(e,this.get(e).concat(t))},e.prototype.addEventListener=function(e,n){var r=t.addEventListener(n);this.add(e,[r])},e.prototype.dispose=function(e){this.get(e).forEach((function(e){return e()})),this.remove(e)},e.prototype.disposeAll=function(){i(this.callbacks.keys()).forEach(this.dispose.bind(this))},e.prototype.has=function(e){return this.callbacks.has(e)},e.prototype.get=function(e){return this.callbacks.get(e)||[]},e.prototype.remove=function(e){this.callbacks.delete(e)},e})();t.Disposer=a},function(e,t,n){"use strict";function r(e){return Daria.isMessageOpenedInList(e)}function i(e){return Daria.isMessageOpened(e)}function o(e){return Daria.isMessagesListPage(e)}function a(){return Daria.isMessagePage()}function s(e){return Daria.isSearchPage(e)}function u(e){return Daria.isAbookPage(e)}function c(e){return Daria.isSettingsPage(e)}function l(e,t){ns.page.go(e,t)}function d(e,t){ns.page.replacePage(e,t)}function f(e){ns.page.forceReload(e)}function p(){return ns.page.current.params}function g(){return ns.page.currentUrl}Object.defineProperty(t,"__esModule",{value:!0}),t.isMessageOpenedInList=r,t.isMessageOpened=i,t.isMessagesListPage=o,t.isMessagePage=a,t.isSearchPage=s,t.isAbookPage=u,t.isSetupPage=c,t.goPage=l,t.replacePage=d,t.forceReload=f,t.getCurrentPageParams=p,t.getCurrentUrl=g},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n){if(Object(d.isDev)()&&!e.errorType)throw new Error("Необходимо указать errorType при логировании ошибки");if(Object(d.isDev)()&&e.failIfPossible)throw e;Jane.ErrorLog.send(e,t,n)}function s(e,t){a({errorType:e},t.message||t,t.stack||"")}function u(e,t,n){Jane.ErrorLog.sendException(e,t,n)}function c(e){Object(d.isDev)()&&console.warn(e)}function l(e){var t=e.operation,n=e.target,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Daria.monitoring.journal(t,i({target:n},r))}Object.defineProperty(t,"__esModule",{value:!0}),t.logError=a,t.logSimpleError=s,t.logException=u,t.logDebug=c,t.writeToUserJournal=l;var d=n(356)},function(e,t){e.exports={CLICK:"click",HOTKEY:"hotkey",BG_CLICK:"bg-click"}},,,,,,,function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},i.apply(this,arguments)},o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withPsTransparentTheme=t.withPsTheme=void 0;var s=a(n(137)),u=a(n(350)),c=n(381),l=n(389),d=n(353),f=n(516),p=n(492),g=n(426),h=function(e){return function(t){return (function(n){function a(){var e=null!==n&&n.apply(this,arguments)||this;return e.themesStore=g.ThemesStore.instance(),e.themeMaster=p.ThemeMaster.instance(),e}return r(a,n),Object.defineProperty(a.prototype,"isPageDark",{get:function(){return this.themeMaster.isActive?this.themeMaster.isPageDark:this.themesStore.isPageDark},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isContentDark",{get:function(){return this.themeMaster.isActive?this.themeMaster.isContentDark:this.themesStore.isContentDark},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"theme",{get:function(){var t=e.source||f.DarkSource.Page,n=t===f.DarkSource.Page?this.isPageDark:this.isContentDark;return(e.invert?!n:n)?e.darkTheme:e.lightTheme},enumerable:!1,configurable:!0}),a.prototype.render=function(){var e=i(i({theme:this.theme},this.props),{className:u.default(this.props.className,c.cnTheme(this.theme))});return s.default.createElement(t,i({},e))},a=o([d.observer],a)})(s.default.PureComponent)}},m=function(e){return void 0===e&&(e={}),h(i(i({},e),{darkTheme:l.PS_DARK,lightTheme:l.PS_LIGHT}))};t.withPsTheme=m;var v=function(e){return void 0===e&&(e={}),h(i(i({},e),{darkTheme:l.PS_DARK_TRANSPARENT,lightTheme:l.PS_LIGHT_TRANSPARENT}))};t.withPsTransparentTheme=v},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.DarkSource=void 0;!(function(e){e.Page="page",e.Content="content"})(t.DarkSource||(t.DarkSource={}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return null!=e}Object.defineProperty(t,"__esModule",{value:!0}),t.isDefined=void 0,t.isDefined=r},,,,,,,,,,function(e,t,n){"use strict";var r=n(402);n.d(t,"a",(function(){return r.a}));var i=(n(3187),n(1720));n.d(t,"b",(function(){return i.a}));var o=n(488);n.d(t,"c",(function(){return o.a}));var a=(n(876),n(1216),n(657),n(3222));n.d(t,"d",(function(){return a.a}));var s=(n(3226),n(487),n(879));n.d(t,"e",(function(){return s.a}));var u=n(370);n.d(t,"f",(function(){return u.default}));n(1189)},,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"addNsEventListener",(function(){return i})),n.d(t,"triggerNsEvent",(function(){return o})),n.d(t,"useNsEventSubscription",(function(){return a}));var r=n(137),i=(n.n(r),function(e,t){return ns.events.on(e,t),function(){return ns.events.off(e,t)}}),o=function(e,t){ns.events.trigger(e,t)},a=function(e,t){Object(r.useEffect)((function(){return i(e,t)}),[e,t])}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SearchSuggestParams=t.AdvancedSearchParams=t.SearchQueryParams=void 0;var r;!(function(e){e.ATTACHES="attaches",e.BODY_TEXT="body_text",e.DELETED="deleted",e.FID="fid",e.FROM="from",e.HDR_FROM="hdr_from",e.HDR_SUBJECT="hdr_subject",e.HDR_TO="hdr_to",e.LID="lid",e.SERVICE_ID="serviceId",e.SCOPE="scope",e.TO="to",e.BEFORE_DATE="before_date",e.TYPE="type",e.UNREAD="unread"})(r=t.SearchQueryParams||(t.SearchQueryParams={})),t.AdvancedSearchParams=[r.ATTACHES,r.DELETED,r.FID,r.FROM,r.HDR_FROM,r.HDR_TO,r.LID,r.SERVICE_ID,r.SCOPE,r.TO,r.TYPE,r.UNREAD],t.SearchSuggestParams=[r.ATTACHES,r.DELETED,r.FID,r.FROM,r.LID,r.SERVICE_ID,r.SCOPE,r.TO,r.TYPE]},function(e,t,n){"use strict";var r=n(1513);n.d(t,"a",(function(){return r.a}))},,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r.apply(this,arguments)},i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BackupStore=t.SETTINGS_UPDATE_METHOD_NAME=t.SETTINGS_GET_METHOD_NAME=t.STATUS_METHOD_NAME=t.DELETE_METHOD_NAME=t.RESTORE_METHOD_NAME=t.CREATE_METHOD_NAME=t.POLLING_DELAY=void 0;var u=n(351),c=s(n(422)),l=s(n(1516)),d=n(846),f=n(138);t.POLLING_DELAY=1e4,t.CREATE_METHOD_NAME="do-backup-create",t.RESTORE_METHOD_NAME="do-backup-restore",t.DELETE_METHOD_NAME="do-backup-delete",t.STATUS_METHOD_NAME="backup-get-status",t.SETTINGS_GET_METHOD_NAME="backup-get-settings",t.SETTINGS_UPDATE_METHOD_NAME="do-backup-update-settings";var p=(function(){function e(){var e=this;this.data=null,this._deleteInProgress=!1,this.init=f.memoize((function(){return o(e,void 0,Promise,(function(){var e;return a(this,(function(t){switch(t.label){case 0:return[4,this.preload()];case 1:return e=t.sent(),[2,this.getBackupStatus(e)]}}))}))})),this.preload=f.memoize((function(){return e.getBackupStatusOnce()}))}return Object.defineProperty(e.prototype,"lastValidBackup",{get:function(){var e;return null===(e=this.data)||void 0===e?void 0:e.primary},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastValidBackupDate",{get:function(){return this.lastValidBackup?1e3*this.lastValidBackup.created:null},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"restoreInProgress",{get:function(){var e,t;return Boolean((null===(t=null===(e=this.data)||void 0===e?void 0:e.restore)||void 0===t?void 0:t.state)===d.BackupState.IN_PROGRESS)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backupInProgress",{get:function(){var e,t;return Boolean((null===(t=null===(e=this.data)||void 0===e?void 0:e.additional)||void 0===t?void 0:t.state)===d.BackupState.IN_PROGRESS)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"restoreType",{get:function(){var e,t;return null===(t=null===(e=this.data)||void 0===e?void 0:e.restore)||void 0===t?void 0:t.method},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"deleteInProgress",{get:function(){return this._deleteInProgress},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasCreateError",{get:function(){var e,t;return Boolean((null===(t=null===(e=this.data)||void 0===e?void 0:e.additional)||void 0===t?void 0:t.state)===d.BackupState.ERROR)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"createError",{get:function(){var e,t;return this.hasCreateError?null===(t=null===(e=this.data)||void 0===e?void 0:e.additional)||void 0===t?void 0:t.notice:void 0},enumerable:!1,configurable:!0}),e.prototype.createBackup=function(){var e;return o(this,void 0,Promise,(function(){var n,r,i;return a(this,(function(o){switch(o.label){case 0:n=null===(e=this.data)||void 0===e?void 0:e.additional,this.patchBackupData({additional:{state:d.BackupState.IN_PROGRESS}}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,c.default.forcedRequest(t.CREATE_METHOD_NAME)];case 2:return o.sent(),[3,4];case 3:if(r=o.sent(),this.patchBackupData({additional:n}),r.invalid&&r.invalid.length)throw i=r,i.invalid[0].error;throw r;case 4:return[4,this.getBackupStatus()];case 5:if(o.sent(),this.hasCreateError)throw new d.BackupError(this.createError||"Failed to create backup");return[2,this.lastValidBackup]}}))}))},e.prototype.restoreBackup=function(e){var n;return o(this,void 0,Promise,(function(){var r,i;return a(this,(function(o){switch(o.label){case 0:r=null===(n=this.data)||void 0===n?void 0:n.restore,this.patchBackupData({restore:{state:d.BackupState.IN_PROGRESS,method:e}}),o.label=1;case 1:return o.trys.push([1,3,,4]),[4,c.default.forcedRequest(t.RESTORE_METHOD_NAME,{method:e})];case 2:return o.sent(),[3,4];case 3:throw i=o.sent(),this.patchBackupData({restore:r}),i;case 4:return[4,this.getBackupStatus()];case 5:return o.sent(),[2,this.lastValidBackup]}}))}))},e.prototype.deleteBackup=function(){return o(this,void 0,Promise,(function(){return a(this,(function(e){switch(e.label){case 0:this.setDeletionProgress(!0),e.label=1;case 1:return e.trys.push([1,,3,4]),[4,c.default.forcedRequest(t.DELETE_METHOD_NAME)];case 2:return e.sent(),this.setBackupData(null),[3,4];case 3:return this.setDeletionProgress(!1),[7];case 4:return[2]}}))}))},e.prototype.setDeletionProgress=function(e){this._deleteInProgress=e},e.prototype.updateSettings=function(e){return c.default.forcedRequest(t.SETTINGS_UPDATE_METHOD_NAME,e)},e.prototype.getSettings=function(){return c.default.forcedRequest(t.SETTINGS_GET_METHOD_NAME)},e.prototype.getBackupStatus=function(e){return o(this,void 0,Promise,(function(){var n,r;return a(this,(function(i){switch(i.label){case 0:return r=e,r?[3,2]:[4,this.getBackupStatusOnce()];case 1:r=i.sent(),i.label=2;case 2:return n=r,this.shouldContinuePolling()?[4,l.default(t.POLLING_DELAY)]:[3,4];case 3:return i.sent(),[2,this.getBackupStatus()];case 4:return[2,n]}}))}))},e.prototype.getBackupStatusOnce=function(){return o(this,void 0,Promise,(function(){var e;return a(this,(function(n){switch(n.label){case 0:return[4,c.default.forcedRequest(t.STATUS_METHOD_NAME)];case 1:return e=n.sent(),this.setBackupData(e),[2,e]}}))}))},e.prototype.shouldContinuePolling=function(){return!!this.restoreInProgress||this.backupInProgress},e.prototype.setBackupData=function(e){this.data=e},e.prototype.patchBackupData=function(e){this.data=r(r({},this.data),e)},e.instance=f.memoize((function(){return new e})),i([u.observable],e.prototype,"data",void 0),i([u.observable],e.prototype,"_deleteInProgress",void 0),i([u.computed],e.prototype,"lastValidBackup",null),i([u.computed],e.prototype,"lastValidBackupDate",null),i([u.computed],e.prototype,"restoreInProgress",null),i([u.computed],e.prototype,"backupInProgress",null),i([u.computed],e.prototype,"restoreType",null),i([u.computed],e.prototype,"deleteInProgress",null),i([u.computed],e.prototype,"hasCreateError",null),i([u.computed],e.prototype,"createError",null),i([u.action],e.prototype,"setDeletionProgress",null),i([u.action],e.prototype,"setBackupData",null),i([u.action],e.prototype,"patchBackupData",null),e})();t.BackupStore=p},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BasicTextMessage=void 0;var a=o(n(137)),s=o(n(370)),u=o(n(413)),c=o(n(352)),l=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return a.default.createElement(s.default.Description,null,a.default.createElement(u.default,{status:this.props.status},a.default.createElement(u.default.Message,null,a.default.createElement(c.default,{loc:this.props.locKey,params:this.props.locParams}))))},t.build=function(e){return a.default.createElement(t,i({},e))},t})(a.default.PureComponent);t.BasicTextMessage=l},,,,function(e,t,n){"use strict";function r(e,t){var n=t?"ns-model-changed.".concat(t):"ns-model-changed";m().on(n,e)}function i(e,t){var n=t?"ns-model-changed.".concat(t):"ns-model-changed";m().off(n,e)}function o(){return ns.Model.get("settings").get(".default_email")}function a(e){var t=o();return Object(h.areEmailsEqual)(t,e)}function s(){var e=ns.Model.get("themes").getSkinParams();return Boolean(e.content_is_dark)}function u(e){return m().isSet(e)}function c(e){return m().getSign(e)}function l(e,t){return m().signToSetting(e,t)}function d(e){return m().getSetting(e)}function f(e){return m().setSettings(e)}function p(e,t,n){return m().updateSetting(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.registerChangeSettingsHandler=r,t.unregisterChangeSettingsHandler=i,t.getDefaultEmail=o,t.isDefaultEmail=a,t.isDarkContent=s,t.isSettingSet=u,t.getSign=c,t.signToSetting=l,t.getSetting=d,t.setSettings=f,t.updateSetting=p;var g,h=n(636),m=(n.n(h),function(){return g||(g=ns.Model.get("settings"))})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return c}));var r=n(888),i={type:"opening-error-message-body",severity:r.a},o={type:"opening-error-messages",severity:r.a},a={type:"opening-error-message-nearest",severity:r.b},s={type:"view-error-img-error",severity:r.b},u={type:"view-error-translate",severity:r.b},c=(r.b,{type:"view-error-email-info",severity:r.c})},,,,,,,function(e,t,n){"use strict";function r(){return Object(c.a)()&&ns.Model.get("settings").getSign("show_sidebar_with_widgets")?[Object(u.b)(l.Features.WEB_PS_SIDEBAR_SPACE_WIDGET)&&o.WidgetNames.Space,Object(u.b)(l.Features.WEB_PS_SIDEBAR_MEMORIES_WIDGET)&&o.WidgetNames.Memories,o.WidgetNames.Telemost,o.WidgetNames.Disk,o.WidgetNames.Notes].filter(Boolean):[]}function i(e){var t=e.reduce((function(e,t){var n=a.WidgetsXivaNames[t];return n&&e.add(n),e}),new Set);return Array.from(t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"isWidgetsEnabled",(function(){return d})),n.d(t,"isWidgetsVisible",(function(){return f})),t.getWidgets=r,t.getXivaServices=i;var o=n(398),a=(n.n(o),n(896)),s=(n.n(a),n(897)),u=n(22),c=n(63),l=n(101),d=(n.n(l),function(){return ns.Model.get("settings").getSign("show_sidebar_with_widgets")}),f=function(){var e=Daria.CompactMode.isCompactHeader();return!(Daria.isSettingsPage()||Object(s.a)())&&!e&&d()}},,,,,,,,,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){function o(e){a(u,r,i,o,s,"next",e)}function s(e){a(u,r,i,o,s,"throw",e)}var u=e.apply(t,n);o(void 0)})}}function u(e){return d(e)||l(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function d(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}n.d(t,"f",(function(){return b})),n.d(t,"e",(function(){return y})),n.d(t,"g",(function(){return S})),n.d(t,"d",(function(){return w})),n.d(t,"i",(function(){return O})),n.d(t,"b",(function(){return M})),n.d(t,"h",(function(){return D})),n.d(t,"a",(function(){return C})),n.d(t,"c",(function(){return E}));var f=n(694),p=(n.n(f),n(804)),g=(n.n(p),n(662)),h=n(1878),m=function(){return window.ReactClientBridge&&window.ReactClientBridge.Exposed&&window.ReactClientBridge.Exposed.StatuslineBridge},v=function(){return window.ReactClientBridge&&window.ReactClientBridge.Exposed&&window.ReactClientBridge.Exposed.Statusline||{}},b=function(e){return e.every((function(e){return e.isSubscriptionMessage()}))?e.map((function(e){return e.getSubscriptionData()})):[]},y=function(e){var t=e.getIds();return[].concat(u(t.ids),u(t.tids)).map((function(e){return ns.Model.get("message",{ids:e})}))},S=function(e){return _.unique(e,(function(e){return e.email}))},w=(function(){var e=s(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ns.request("get-hidden-subscriptions/v1");case 3:return e.abrupt("return",e.sent);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",[]);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(){return e.apply(this,arguments)}})(),O=(function(){var e=s(regeneratorRuntime.mark((function e(t){var n,r,i=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=i.length>1&&void 0!==i[1]&&i[1],r=t.map((function(e){return e.email})),e.prev=2,e.next=5,ns.forcedRequest("do-hide-subscriptions",{emails:r,deleteOldLetters:n});case 5:return ns.forcedRequest("get-hidden-subscriptions/v1"),e.abrupt("return",f.UnsubscribeResult.SUCCESS);case 9:return e.prev=9,e.t0=e.catch(2),e.abrupt("return",f.UnsubscribeResult.FAILURE);case 12:case"end":return e.stop()}}),e,null,[[2,9]])})));return function(t){return e.apply(this,arguments)}})(),M=(function(){var e=s(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,T(t);case 3:return e.abrupt("return",f.UnsubscribeResult.SUCCESS);case 6:return e.prev=6,e.t0=e.catch(0),e.abrupt("return",f.UnsubscribeResult.FAILURE);case 9:case"end":return e.stop()}}),e,null,[[0,6]])})));return function(t){return e.apply(this,arguments)}})(),D=(function(){var e=s(regeneratorRuntime.mark((function e(t){var n,r,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O(t);case 2:if((n=e.sent)===f.UnsubscribeResult.FAILURE){e.next=9;break}if(r=m(),o=v(),a=o.UnsubscribeSuccess,r&&a){e.next=8;break}return e.abrupt("return");case 8:r.show({name:p.StatuslineName.UnsubscribeSuccess,renderContent:function(e){return Object(g.b)(a,i({},e,{count:S(t).length}))}});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})(),T=function(e){return Promise.all(e.map((function(e){return x(e.messageType,e.email)})))},x=function(e,t){return ns.forcedRequest("do-trash-messages",{messageType:e,search:{from:t}})},C=function(e,t,n){var r=Object(h.a)(e,t,n);return Daria.IS_CORP?{subscriptions:[],messages:r}:{subscriptions:b(r),messages:r}},E=(function(){var e=s(regeneratorRuntime.mark((function e(t){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,w();case 2:if(!(n=e.sent)||!n[0].isValid()){e.next=6;break}return r=n[0],e.abrupt("return",r.isEmpty()?t:t.filter((function(e){return!r.hasSubscription(e.email)})));case 6:return e.abrupt("return",t);case 7:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()},,,,,,,,,,function(e,t,n){"use strict";function r(e,t){return Boolean(e&&t&&e.toLowerCase()===t.toLowerCase())}Object.defineProperty(t,"__esModule",{value:!0}),t.areEmailsEqual=void 0,t.areEmailsEqual=r},function(e,t){e.exports={PREV:"prev",NEXT:"next"}},function(e,t,n){"use strict";var r=n(2192);n.d(t,"b",(function(){return r.a}));var i=n(639);n.d(t,"a",(function(){return i.a}))},function(e,t,n){"use strict";function r(e){return a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(){return Object(m.isPDD)()?"pdd":Object(m.isCorp)()?"corp":"big"}function f(e){return["project=search_mail","product="+j,"reqid="+e.getSearchSessionId()]}function p(e){var t=[];return M.forEach((function(n){e.hasOwnProperty(n)&&t.push(n+":"+e[n])})),t.join(",")}n.d(t,"b",(function(){return j}));var g,h,m=n(356),v=n(507),b=n(508),_=n.n(b),y=n(384),S=n(970),w=n(971),O=n(1512),M=["scope","fid","lid","unread","attaches","from","to","type"],D=Object.freeze({history:"Choose history",subject:"Choose subject",important:'Choose "Important"',unread:'Choose "Unread"',folder:"Choose folder",ql:"Choose query language",contact:"Choose contact",mail:"Choose mail",label:"Choose label","show-all-results":'Choose "Show all search results"'}),T={ADVANCED:"advanced",AUTOCOMPLETER:"autocompleter",BUTTON:"button",ENTER:"enter",NOTE_REQUEST_CLICK:"messages-notification-search:request-click: messages-notification-search:request-click",NOTE_FOLDER_RESET:"messages-notification-search:reset-folder",SUGGEST:"suggest"},x={ITEM_SELECTED:"item-selected",NEW_SEARCH:"new-search",CLICK:"click",CLEAR:"suggest-clear",ADVANCED_OPEN:"suggest-advanced-open",ADVANCED_CLOSE:"suggest-advanced-close",RESULTS:"suggest-results",HISTORY_ITEM_REMOVE:"suggest-history-item-remove"},C=Object.freeze({button:"Click on Search",enter:"Press Enter",advanced:"Change Advanced filter",suggest:"Choose from Suggest","messages-notification-search:reset-folder":"Search notification reset folder filter","messages-notification-search:request-click":"Search notification request click",autocompleter:"Autocompleter"}),E=(g={},l(g,T.ADVANCED,w.a),l(g,T.ENTER,w.e),l(g,T.BUTTON,w.d),l(g,T.SUGGEST,w.f),g),P=(h={},l(h,_.a.CLICK,S.c),l(h,_.a.HOTKEY,S.d),l(h,_.a.BG_CLICK,S.b),h),k=(function(){function e(t,n){s(this,e),this._suggestWasLogged=!1,this._suggestTrigger=null,this._suggestStartDate=null,this._searchTrigger=null,this._stores=t,this._services=n}return c(e,[{key:"setSuggestTrigger",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:w.b;this._suggestTrigger=e,this._suggestStartDate=Daria.now()}},{key:"setSearchTrigger",value:function(e){this._searchTrigger=e}}]),c(e,[{key:"logMessageClick",value:function(e,t,n,r,i){var o=this._stores,a=o.searchStore,s=o.routerStore,u=s.currentPage.params;if(Object(m.isParamsForSearch)(u)){var c=a.showSearchResultsTimestamp,l=Date.now()-c,d=[].concat(f(a),["r="+encodeURIComponent(i.request),"pos="+n,"user="+Object(m.getUid)(),"mid="+t,"time="+l,"clicktype="+e]);r&&d.push("tophits=yes");var g=p(i);g&&d.push("filter="+g);var h=(Daria.Config["exp-test-ids"]||[]).join(",");h&&d.push("exp="+h),Daria.searchClickCounter(d)}}},{key:"logSearchSuggest",value:function(e){var t=this._stores.searchStore,n=t.suggestItems.length;if(!e.suggestWithEmptyRequest||0!==n){var r=[].concat(f(t),["action=suggest","uid="+Object(m.getUid)(),"user_text="+encodeURIComponent(e.text||""),"count="+n,"timestamp="+(new Date).getTime()]);if(e.suggestWithEmptyRequest&&r.push("zero_suggest=yes"),this._searchTrigger&&r.push("search_trigger="+this._searchTrigger),e.suggestUsed){var i=e.target||"";r.push("pos="+e.itemPos,"target="+i,"show_text="+encodeURIComponent(e.show_text||""),"search_text="+encodeURIComponent(e.search_text||""),"suggest_used=yes"),this._metrikaCountSuggestItemClick(i),O.a.finishScenarioIfActive(y.f,x.ITEM_SELECTED,{isAllResults:"show-all-results"===e.target,itemIndex:e.itemPos,timestamp:(new Date).getTime()})}else e.suggestWithEmptyRequest||r.push("suggest_used=no");Daria.searchClickCounter(r)}}},{key:"logSuggestActivation",value:function(e){O.a.finishScenarioIfActive(y.f,x.NEW_SEARCH,{timestamp:(new Date).getTime()}),O.a.startScenario(y.f,this._suggestTrigger,{isZeroRequest:e.suggestWithEmptyRequest,timestamp:(new Date).getTime()})}},{key:"logSuggestClear",value:function(){var e=O.a.getActiveScenario(y.f);e||(e=O.a.startScenario(y.f,x.CLICK,{timestamp:(new Date).getTime()})),e.logStep(x.CLEAR,{timestamp:(new Date).getTime()})}},{key:"logSuggestResults",value:function(e){var t=e.request,n=O.a.getActiveScenario(y.f);n&&n.logStep(x.RESULTS,{isZeroRequest:!t,timestamp:(new Date).getTime()})}},{key:"logSuggestHistoryItemRemove",value:function(){O.a.getActiveScenario(y.f).logStep(x.HISTORY_ITEM_REMOVE,{timestamp:(new Date).getTime()})}},{key:"endSuggestScenario",value:function(e){e=P[e]||e,O.a.finishScenarioIfActive(y.f,e,{timestamp:(new Date).getTime()})}},{key:"_metrikaCountSuggestItemClick",value:function(e){var t=D[e];if(!t)return void Object(v.logError)({errorType:"search-log-service:unknown-target",failIfPossible:!0});this.countSuggestAction(t||e)}},{key:"countSuggestAction",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Jane.c.apply(Jane,["Search","Rocks suggest","Suggest"].concat(t))}},{key:"countSearchActivation",value:function(){Jane.c("Search","Rocks suggest","Search input activation")}},{key:"countLogoClick",value:function(e){Jane.c("Search","Rocks suggest","Click on Logo",e?"Mail":"Yandex/company")}},{key:"countTextCleared",value:function(){Jane.c("Search","Rocks suggest","Click on X (clear)")}},{key:"countSuggestClose",value:function(){Jane.c("Search","Rocks suggest","Click on X (close)")}},{key:"countBubbleAction",value:function(e,t){Jane.c("Search","Rocks suggest","Baloon ".concat(e),t)}},{key:"countSearchContactsSuggest",value:function(e){var t;(t=Jane).c.apply(t,["Yandex Header","Abook Search"].concat(r(e)))}},{key:"logSearch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2?arguments[2]:void 0;if(this._searchTrigger){var r,i=this._stores.searchStore,o=this._searchTrigger;if(this._searchTrigger=null,t.from){var a=t.from.substr(0,6);r=a!==(t.to||"").substr(0,6)?a.substr(0,4):a}var s={type:"search.start-search",suid:Object(m.getSuid)(),advanced:n,action:o,text:e||"",message_type:t.type||"",folder:t.fid||"",label:t.lid||"",date:r||"",mail_type:d(),searchid:i.getSearchId(),reqid:i.getSearchSessionId()};Jane.ErrorLog.send(s),Jane.c("Search","Rocks suggest","Go to search results",C[o]||o),this._logSearchScenario(o)}}},{key:"_logSearchScenario",value:function(e){if(this._stores.searchStore.searchQuery.isDefaultSuggest)return void O.a.finishScenarioIfActive(y.e,S.e);var t=Daria.now()-this._suggestStartDate,n=E[e]||e;O.a.finishScenarioIfActive(y.e,S.a),O.a.startScenario(y.e,n,{duration:t,expandTrigger:this._suggestTrigger})}},{key:"logSearchFinish",value:function(e){var t=P[e];O.a.finishScenarioIfActive(y.e,t)}},{key:"countNewAdvancedSearch",value:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Jane.c.apply(Jane,["Search","New advanced search"].concat(t))}},{key:"suggestWasLogged",get:function(){return this._suggestWasLogged},set:function(e){this._suggestWasLogged=e}}]),e})();k.SEARCH_TRIGGER=T,t.a=k;var j=(function(){return Object(m.isPDD)()?"webpdd":Object(m.isCorp)()?"YT":"web"})()},function(e,t,n){"use strict";function r(){return Date.now()-a}function i(e){a=Date.now()-e}t.a=r,t.b=i;var o=n(5),a=o.a.timestamp?Date.now()-o.a.timestamp:0},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function s(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",(function(){return _}));var u,c,l,d,f,p,g,h=n(351),m=n(138),v=(n.n(m),n(2206)),b=!0,_=(g=p=(function(){function e(){var t=this;r(this,e),a(this,"status",c,this),a(this,"isVisible",l,this),this._autoCloseTimeoutId=null,this._deferredShowTimeout=150,this._deferredShowTimeoutId=null,this._showCallbacks=[],this._hideCallbacks=[],this._onPageChange=function(){!1===t.status.hideOnTimeout&&t.hide()},this.sendMetric=function(){for(var e,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];(e=Jane).c.apply(e,["Нотификации","Функциональные нотификации",t.status.name].concat(r))},this.onClick=function(){t.status.hideOnClick&&t.hide(t.status.name)},this.onClose=function(){t.hide(t.status.name,b),t.sendMetric("Клик","Закрыть")},this.onCloseSilently=function(){t.hide(t.status.name)},this.startDeferredShow=function(e){t._deferredShowTimeoutId=setTimeout((function(){t._show(e)}),t._deferredShowTimeout)},this.stopDeferredShow=function(){clearTimeout(t._deferredShowTimeoutId)},this.startAutoClose=function(){var e=t.status,n=e.hideOnTimeout,r=e.name,i=e.timeout,o=e.callOnCloseOnTimeout;n&&(t._autoCloseTimeoutId=setTimeout((function(){t.hide(r,o)}),i))},this.stopAutoClose=function(){clearTimeout(t._autoCloseTimeoutId)},this.show=function(e){e.shouldSkipAnimation?t._show(e):(t.hide(t.status.name),t.stopDeferredShow(),t.startDeferredShow(e))},a(this,"_show",d,this),a(this,"hide",f,this),ns.events.on("ns-page-before-changed",this._onPageChange)}return o(e,[{key:"addShowCallback",value:function(e){this._showCallbacks.push(e)}},{key:"removeShowCallback",value:function(e){var t=this._showCallbacks.indexOf(e);t>=0&&this._showCallbacks.splice(t,1)}},{key:"addHideCallback",value:function(e){this._hideCallbacks.push(e)}},{key:"_invokeCallback",value:function(e){e()}}]),e})(),p.instance=Object(m.memoize)((function(){return new _})),u=g,c=s(u.prototype,"status",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return v.a.defaults}}),l=s(u.prototype,"isVisible",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),d=s(u.prototype,"_show",[h.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=!e.isVisible||e.status.name!==t.name;e.status=new v.a(t),n&&e.sendMetric("Показ"),e.isVisible=!0,e.stopAutoClose(),e.startAutoClose(),e._showCallbacks.forEach(e._invokeCallback)}}}),f=s(u.prototype,"hide",[h.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];t&&e.status.name!==t||(e.stopAutoClose(),n&&Object(m.isFunction)(e.status.onClose)&&e.status.onClose(),e.isVisible=!1,e._hideCallbacks.forEach(e._invokeCallback))}}}),u)},,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={isEdge:function(){return"Edge"===Daria.UA.BrowserName},isFirefox:function(){return"Firefox"===Daria.UA.BrowserName},isIE:function(){return"MSIE"===Daria.UA.BrowserName},BrowserName:Daria.UA&&Daria.UA.BrowserName}},,,,,,,,,,function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"getStatuslineState",(function(){return I})),n.d(t,"renderMessageViewer",(function(){return F})),n.d(t,"renderReactComponent",(function(){return L})),n.d(t,"unmountReactBox",(function(){return N}));var o,a=n(351),s=n(356),u=n(431),c=(n.n(u),n(355)),l=n.n(c),d=n(2602),f=n(353),p=n(375),g=n(459),h=n(638),m=n(2603),v=n(1188),b=n(2709),_=n(2711),y=n(2722),S=n(2726),w=n(641),O=n(386),M=n(141),D=n.n(M),T=n(659),x=n(137),C=n.n(x),E=n(381),P=n(389),k=(n.n(P),n(2730)),j=n(662);Object(a.configure)({enforceActions:Object(s.isDev)()?"observed":"never"}),l.a.defineLocale("tt",d.a);var A=h.a.SEARCH_TRIGGER,I=w.default.instance;Daria.React=Daria.React||{},Daria.React.SEARCH_TRIGGER=A,Daria.React.renderAdvancedSearchBox=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Object(p.getSearchStore)(),i={foldersStore:Object(p.getFoldersStore)(),labelsStore:Object(p.getLabelsStore)(),routerStore:Object(p.getRouterStore)(),searchStore:n,settingsStore:Object(p.getSettingsStore)(),avatarsService:Object(g.getAvatarsService)(),contactsSuggestService:Object(g.getContactsSuggestService)(),routerService:Object(g.getRouterService)(),searchService:Object(g.getSearchService)(),searchLogService:Object(g.getSearchLogService)(),settingsService:Object(g.getSettingsService)(),queryLanguageService:Object(g.getQueryLanguageService)(),shortcuts:Object(v.getShortcuts)(),scenarioManager:g.scenarioManager},o=function(e){Daria.React._advancedSearchRef=e};D.a.render(C.a.createElement(f.Provider,i,C.a.createElement(m.a,r({},t,{ref:o}))),e)};var R=i(k.a,{});Daria.React.renderPsHeader=function(e){D.a.hydrate(R,e)};var B=function(){return Jane.Services.runModules(["message-viewer.js","message-viewer.css"]).then((function(e){return e&&e[0].MessageViewer}))},F=function(e,t){var n={messagesStore:Object(p.getMessagesStore)(),routerStore:Object(p.getRouterStore)(),settingsStore:Object(p.getSettingsStore)(),settingsService:Object(g.getSettingsService)(),metrikaService:u.MetrikaService.instance()};D.a.render(i(O.default,{lang:Object(s.getLocale)()},void 0,C.a.createElement(f.Provider,n,C.a.createElement(T.a,r({loader:B},t)))),e)},L=function(e,t,n){Object(E.configureRootTheme)({theme:P.PS_LIGHT,root:t}),D.a.render(i(O.default,{lang:Object(s.getLocale)()},void 0,C.a.createElement(e,n)),t)},N=Daria.React.unmountReactBox=function(e){D.a.unmountComponentAtNode(e)};Daria.React.toggleSuggestFolded=function(e){Daria.React._searchRef&&Daria.React._searchRef.toggleFolded(e)},Daria.React.showLastSearchQuery=Object(a.action)((function(){var e=Object(g.getSearchService)(),t=Object(p.getSearchStore)();e.syncSearchQuery(),t.searchQuery.currentShowText=t.searchQuery.currentSuggestText})),Daria.React.activateSearch=function(){Object(v.getShortcuts)().emit("Search:activate")},Daria.React.getSearchBoxIsFolded=function(){return Object(p.getSearchStore)().isFolded},Daria.React.logSearchSuggest=function(e,t){var n=Object(g.getSearchLogService)();n.logSearchSuggest(e),t&&(n.suggestWasLogged=!0)},Daria.React.logSearchMessageClick=function(e,t,n,r,i){Object(g.getSearchLogService)().logMessageClick(e,t,n,r,i)},Daria.React.setSearchTrigger=function(e){Object(g.getSearchLogService)().setSearchTrigger(e)},Daria.React.wasSearchRequestSimplified=function(){return Object(p.getSearchStore)().wasSearchRequestSimplified},Daria.React.isAdvancedSearchOpened=function(){return Object(g.getSearchService)().shouldDisplayAdvancedSearch},Daria.React.setSimplifiedParams=Object(a.action)((function(e){Object(p.getSearchStore)().simplifiedParams=e})),Daria.React.startSearch=function(e,t,n){var r=Object(p.getSearchStore)(),i=Object(g.getSearchService)();n&&i.lockSearch((function(){r.searchQuery.reset()})),i.startSearch(e,t)},Daria.React.getSearchParams=function(){return Object(p.getSearchStore)().searchQuery.paramsForSearch},Daria.React.setInitialState=function(){Object(g.getSearchService)().syncSearchQuery()},Daria.React.reactOnAdvancedChange=function(e,t){var n=Object(p.getSearchStore)();return Object(a.reaction)((function(){return n.searchQuery.getAutosearchParams()}),t,{name:e})},Daria.React.getSearchSessionId=function(){return Object(p.getSearchStore)().getSearchSessionId()},Daria.React.dropSearchSession=function(){Object(p.getSearchStore)().dropSearchSession()},Daria.React.getSearchId=function(){return Object(p.getSearchStore)().getSearchId()},Daria.React.generateSearchId=function(){Object(p.getSearchStore)().generateSearchId()},Daria.React.saveShowSearchResultsTimestamp=function(){Object(p.getSearchStore)().saveShowSearchResultsTimestamp()},Daria.React.promoPopularContacts=b.a,Daria.React.popupSubscriptions=_.a,Daria.React.promoComposeSwitcher=new y.a,Daria.React.yaCollectorEmailInputPopup=S.a,Daria.React.initStatusline=function(){var e=I();return Object(j.a)({state:e}),e}},function(e,t,n){"use strict";var r=n(2615);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}n.d(t,"a",(function(){return l}));var c=n(351),l=(function(){function e(t,n){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};a(this,e),this._cancel=null,this._cancel=Object(c.reaction)(t,n,i({name:this.constructor.name},r))}return u(e,[{key:"destroy",value:function(){}}]),u(e,[{key:"cancel",value:function(){this._cancel&&(this._cancel(),this._cancel=null,this.destroy())}}]),e})()},function(e,t,n){"use strict";var r=n(2642);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.logPopupMetric=void 0;var o=n(356),a=n(411),s=function(e){void 0===e&&(e=[]),o.logMetric(i([a.YANDEX_HEADER_PREFIX,a.HEADER_METRIKA_RIGHT,a.HEADER_METRIKA_SETTINGS,a.HEADER_METRIKA_SETTINGS_OPEN],e))};t.logPopupMetric=s},,function(e,t,n){"use strict";function r(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function i(e){var t=e.state;if(y){var n=b.ThemesStore.instance();c.a.render(r(d.default,{lang:Object(l.getLocale)()},void 0,r(w,{Component:S,themesStore:n,themeMaster:m.ThemeMaster.instance()}),r(g.b,{anchor:_,themesStore:n,statuslineState:t})),_)}}t.a=i,n.d(t,"b",(function(){return O}));var o,a=n(137),s=n.n(a),u=n(141),c=n.n(u),l=n(356),d=n(386),f=n(515),p=(n.n(f),n(516)),g=(n.n(p),n(1220)),h=n(353),m=n(492),v=(n.n(m),n(363)),b=n(426),_=document.querySelector(".js-statusline"),y=Object(v.getStatuslineRoot)(),S=Object(f.withPsTheme)({source:p.DarkSource.Content})(y),w=Object(h.observer)((function(e){var t=e.Component,n=e.themesStore,i=e.themeMaster;return r(t,{isDark:i.isActive?i.isContentDark:n.isContentDark})})),O=function(e,t){return s.a.createElement(e,t)}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RETRYABLE_ERRORS=t.VIRUS=t.UNDO_MESSAGE_SAVED=t.UNDO_CANNOT_SAVE=t.TOO_MANY_EMAILS=t.TOO_BIG_ATTACHMENTS=t.TOO_BIG=t.SPAM=t.NO_RECIPIENTS=t.NO_NETWORK=t.NO_DATA=t.MAX_EMAIL_ADDRESS_REACHED=t.LIMIT_FAIL=t.INTERNAL_ERROR=t.INCORRECT_TO=t.INCORRECT_CC=t.INCORRECT_BCC=t.ILLEGAL_PARAMS=t.EMPTY_SUBJECT=t.DELAYED_MESSAGE_SAVED=t.DELAYED_CANNOT_SAVE=t.CAPTCHA=t.ACCESS_DENIED=void 0,t.ACCESS_DENIED="access_denied",t.CAPTCHA="captcha_request",t.DELAYED_CANNOT_SAVE="delayed_cannot_save",t.DELAYED_MESSAGE_SAVED="delayed_message_saved",t.EMPTY_SUBJECT="empty_subject",t.ILLEGAL_PARAMS="illegal_params",t.INCORRECT_BCC="incorrect_bcc",t.INCORRECT_CC="incorrect_cc",t.INCORRECT_TO="incorrect_to",t.INTERNAL_ERROR="internal_error",t.LIMIT_FAIL="fail_limit",t.MAX_EMAIL_ADDRESS_REACHED="max_email_addr_reached",t.NO_DATA="no_data",t.NO_NETWORK="http_status_0",t.NO_RECIPIENTS="no_recipients",t.SPAM="strongspam_found",t.TOO_BIG="msg_too_big",t.TOO_BIG_ATTACHMENTS="attachment_too_big",t.TOO_MANY_EMAILS="too_many_emails",t.UNDO_CANNOT_SAVE="undo_cannot_save",t.UNDO_MESSAGE_SAVED="undo_message_saved",t.VIRUS="virus_found",t.RETRYABLE_ERRORS=[t.UNDO_CANNOT_SAVE,t.UNDO_MESSAGE_SAVED,t.DELAYED_CANNOT_SAVE,t.DELAYED_MESSAGE_SAVED]},,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"getCurrentXivaServices",(function(){return o})),n.d(t,"setCurrentXivaServices",(function(){return a})),n.d(t,"registerMessageCallback",(function(){return s})),n.d(t,"removeMessageCallback",(function(){return u})),n.d(t,"getMessageCallbacks",(function(){return c}));var r=[],i=[],o=function(){return i},a=function(e){i=e},s=function(e){r.push(e)},u=function(e){var t=r.findIndex((function(t){return t===e}));-1!==t&&r.splice(t,1)},c=function(){return r}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WellKnownLabels=void 0;!(function(e){e.ANSWERED="answered_label",e.APPEND="append_label",e.ATTACHED="attached_label",e.COPY="copy_label",e.DELAYED_MESSAGE="delayed_message",e.DELETED="deleted_label",e.DRAFT="draft_label",e.ENCRYPTED="encrypted_label",e.FORWARDED="forwarded_label",e.IMPORTANT="important_label",e.MULCA_SHARED="mulcaShared_label",e.MUTE="mute_label",e.NOTIFY_NO_ANSWER="notifyNoAnswer_label",e.PINNED="pinned_label",e.POSTMASTER="postmaster_label",e.PRIORITY="hamon_label",e.RECENT="recent_label",e.REMIND_NO_ANSWER="remindNoAnswer_label",e.REPLY_LATER_STARTED="reply_later_started",e.REPLY_LATER_FINISHED="reply_later_finished",e.SEEN="seen_label",e.SPAM="spam_label",e.SYNCED="synced_label",e.UNDO="undo_message"})(t.WellKnownLabels||(t.WellKnownLabels={}))},,,,,,,,,,,function(e,t,n){e.exports=n.p+"_/3f9ad2bd5a78e43bf79c34aa945ce7b2-attach_icon_archive.svg"},function(e,t,n){e.exports=n.p+"_/9ad0316223d31d7e674d1d8af56efd90-attach_icon_excel.svg"},function(e,t,n){e.exports=n.p+"_/7c14b89d6caa7791fc107bbf33fefabf-attach_icon_text.svg"},,function(e,t,n){"use strict";function r(e){var t;return{events:{"ns-view-show":"onShow","ns-view-hide":"onHide"},yateModule:e.yateModule,models:(null!==(t=e.models)&&void 0!==t?t:[]).reduce((function(e,t){var n;return i(i({},e),(n={},n[t]="keepValid",n))}),{}),methods:i({onShow:function(){this.container=e.selector?this.node.querySelector(e.selector):this.node,this.container&&s.default.render(a.default.createElement(u.default,{lang:c.getLocale()},a.default.createElement(e.component,i({params:this.params},e.props||{}))),this.container)},onHide:function(){this.container&&s.default.unmountComponentAtNode(this.container)}},e.methods||{})}}var i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},i.apply(this,arguments)},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NsReactView=void 0;var a=o(n(137)),s=o(n(141)),u=o(n(386)),c=n(356);t.NsReactView=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsubscribeResult=void 0;!(function(e){e.SUCCESS="success",e.FAILURE="failure",e.CANCEL="cancel"})(t.UnsubscribeResult||(t.UnsubscribeResult={}))},,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.YEAR=t.MONTH=t.WEEK=t.DAY=t.HOUR=t.MINUTE=t.SECOND=void 0,t.SECOND=1e3,t.MINUTE=60*t.SECOND,t.HOUR=60*t.MINUTE,t.DAY=24*t.HOUR,t.WEEK=7*t.DAY,t.MONTH=30*t.DAY,t.YEAR=365*t.DAY},,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return s}));var a=n(840),s=(function(){function e(){r(this,e)}return o(e,[{key:"loadAvatars",value:function(e){return Object(a.b)(e)}}]),e})()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function s(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,"a",(function(){return w}));var u,c,l,d,f,p,g,h,m=n(138),v=n.n(m),b=n(351),_=n(506),y=n(356),S=v.a.isEqual,w=(u=h=(function(){function e(){var t=this;r(this,e),a(this,"currentPage",c,this),a(this,"retpath",l,this),a(this,"isCurrentPageEmptySearch",d,this),a(this,"_pageIsLoading",f,this),a(this,"_pageLoaded",p,this),a(this,"_syncState",g,this),this._syncState(),ns.events.on("ns-page-before-load",(function(e,n){return t._syncState(n&&n[1])})),ns.events.on("ns-page-after-load",this._pageLoaded),this._pageIsLoading=!1}return o(e,[{key:"isCollectorSearch",value:function(e){return e=e||this.currentPage.params,"rpopinfo"===e.scope}},{key:"isSearchResultsPage",get:function(){return Object(_.isSearchPage)(this.currentPage)||this.isCurrentPageEmptySearch}},{key:"isMessagesListPage",get:function(){return Object(_.isMessagesListPage)(this.currentPage)}},{key:"isMessagePage",get:function(){return Object(_.isMessagePage)()}},{key:"isMessageOpened",get:function(){return Object(_.isMessageOpened)(this.currentPage)}},{key:"isAbookPage",get:function(){return Object(_.isAbookPage)(this.currentPage)}},{key:"isSetupPage",get:function(){return Object(_.isSetupPage)(this.currentPage)}},{key:"isNavigatingToMessageInList",get:function(){return this._pageIsLoading&&Object(_.isMessageOpenedInList)(this.currentPage)}},{key:"isThreadOpened",get:function(){return Boolean(this.currentPage.params.thread_id)}},{key:"is404LikePage",get:function(){var e=this;return["404","not-found","no-message"].some((function(t){return t===e.currentPage.page}))}}]),e})(),c=s(u.prototype,"currentPage",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{page:null,params:null}}}),l=s(u.prototype,"retpath",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),d=s(u.prototype,"isCurrentPageEmptySearch",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),f=s(u.prototype,"_pageIsLoading",[b.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),p=s(u.prototype,"_pageLoaded",[b.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(){e._pageIsLoading=!1}}}),s(u.prototype,"isSearchResultsPage",[b.computed],Object.getOwnPropertyDescriptor(u.prototype,"isSearchResultsPage"),u.prototype),s(u.prototype,"isMessagesListPage",[b.computed],Object.getOwnPropertyDescriptor(u.prototype,"isMessagesListPage"),u.prototype),s(u.prototype,"isMessagePage",[b.computed],Object.getOwnPropertyDescriptor(u.prototype,"isMessagePage"),u.prototype),s(u.prototype,"isMessageOpened",[b.computed],Object.getOwnPropertyDescriptor(u.prototype,"isMessageOpened"),u.prototype),s(u.prototype,"isAbookPage",[b.computed],Object.getOwnPropertyDescriptor(u.prototype,"isAbookPage"),u.prototype),s(u.prototype,"isSetupPage",[b.computed],Object.getOwnPropertyDescriptor(u.prototype,"isSetupPage"),u.prototype),s(u.prototype,"isNavigatingToMessageInList",[b.computed],Object.getOwnPropertyDescriptor(u.prototype,"isNavigatingToMessageInList"),u.prototype),s(u.prototype,"isThreadOpened",[b.computed],Object.getOwnPropertyDescriptor(u.prototype,"isThreadOpened"),u.prototype),s(u.prototype,"is404LikePage",[b.computed],Object.getOwnPropertyDescriptor(u.prototype,"is404LikePage"),u.prototype),g=s(u.prototype,"_syncState",[b.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.retpath=Object(y.getRetpath)();var n=t||ns.page.current,r=e.currentPage.page!==n.page,i=!S(e.currentPage.params,n.params);(r||i)&&(e._pageIsLoading=!0,e.currentPage.page=n.page,i&&(e.currentPage.params=n.params),e.isCurrentPageEmptySearch=Boolean(Jane.watcher.get("search.is-empty-search")))}}}),u)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return s(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function a(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function s(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function u(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&c(e.prototype,t),n&&c(e,n),e}function d(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&h(e,t)}function h(e,t){return(h=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function v(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,"a",(function(){return P}));var b,_,y,S,w,O,M,D=n(351),T=n(2187),x=n(400),C=n(2188),E=n(1506),P=(b=M=(function(e){function t(){var e;return u(this,t),e=d(this,f(t).call(this)),m(p(e),"forceShowAdvancedSearch",_,p(e)),m(p(e),"simplifiedParams",y,p(e)),m(p(e),"_suggestItems",S,p(e)),m(p(e),"_isFolded",w,p(e)),m(p(e),"_showSuggest",O,p(e)),e._searchSessionId="",e._searchId="",e._showSearchResultsTimestamp=null,e.searchQuery=new C.a,e}return g(t,e),l(t,[{key:"setForceShowAdvancedSearch",value:function(e){this.forceShowAdvancedSearch=e}},{key:"setSuggestItems",value:function(e,t){this._suggestItems=t?[].concat(i(this._suggestItems),i(e)):i(e)}},{key:"removeSuggestItem",value:function(e){var t=this._suggestItems.indexOf(e);t>=0&&this._suggestItems.splice(t,1)}},{key:"saveShowSearchResultsTimestamp",value:function(){this._showSearchResultsTimestamp=Date.now()}},{key:"getItemPosition",value:function(e){return this.suggestItems?this.suggestItems.indexOf(e):-1}},{key:"getSearchSessionId",value:function(){return this._searchSessionId||(this._searchSessionId=Object(T.a)()),this._searchSessionId}},{key:"dropSearchSession",value:function(){this._searchSessionId=""}},{key:"getSearchId",value:function(){return this._searchId||this.generateSearchId(),this._searchId}},{key:"generateSearchId",value:function(){this._searchId=Math.random().toString().substr(2)}},{key:"suggestItems",get:function(){var e=this.searchQuery,t=this._suggestItems,n=Array.from(t);return n.length&&e.currentSuggestText.trim()&&n.push(new E.a({target:"show-all-results",search_text:e.currentSuggestText.trim()})),n}},{key:"showSearchResultsTimestamp",get:function(){return this._showSearchResultsTimestamp}},{key:"wasSearchRequestSimplified",get:function(){return Boolean(this.simplifiedParams)}},{key:"hasSuggestItems",get:function(){return Boolean(this.suggestItems&&this.suggestItems.length)}},{key:"isFolded",get:function(){return this._isFolded},set:function(e){this._isFolded=e,this._isFolded&&(this._showSuggest=!1,this.forceShowAdvancedSearch=!1)}},{key:"showSuggest",get:function(){return this._showSuggest},set:function(e){this._showSuggest=e}}]),t})(x.default),_=v(b.prototype,"forceShowAdvancedSearch",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),v(b.prototype,"setForceShowAdvancedSearch",[D.action],Object.getOwnPropertyDescriptor(b.prototype,"setForceShowAdvancedSearch"),b.prototype),y=v(b.prototype,"simplifiedParams",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return null}}),S=v(b.prototype,"_suggestItems",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),v(b.prototype,"setSuggestItems",[D.action],Object.getOwnPropertyDescriptor(b.prototype,"setSuggestItems"),b.prototype),v(b.prototype,"removeSuggestItem",[D.action],Object.getOwnPropertyDescriptor(b.prototype,"removeSuggestItem"),b.prototype),v(b.prototype,"suggestItems",[D.computed],Object.getOwnPropertyDescriptor(b.prototype,"suggestItems"),b.prototype),v(b.prototype,"wasSearchRequestSimplified",[D.computed],Object.getOwnPropertyDescriptor(b.prototype,"wasSearchRequestSimplified"),b.prototype),v(b.prototype,"hasSuggestItems",[D.computed],Object.getOwnPropertyDescriptor(b.prototype,"hasSuggestItems"),b.prototype),w=v(b.prototype,"_isFolded",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),O=v(b.prototype,"_showSuggest",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),b)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,"a",(function(){return w})),n.d(t,"b",(function(){return O})),n.d(t,"c",(function(){return D}));var g,h,m,v=n(351),b=n(400),_=n(356),y=n(50),S=(n.n(y),n(356)),w="hidden_trash_enabled",O="lc-pro-widget",M={enable_hotkeys:!0},D=(g=m=(function(e){function t(){var e;return i(this,t),e=s(this,u(t).call(this)),f(c(e),"settings",h,c(e)),e._addModelSubscription("settings",{},{onChanged:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.settings=t},onDestroyed:function(){e.settings={}}}),e}return l(t,e),a(t,[{key:"isSet",value:function(e){return Object(_.areSettingsUnavailable)()?Boolean(M[e]):Boolean(this.settings[e])}},{key:"hasSetting",value:function(e){return void 0!==this.settings[e]}},{key:"getSettingValue",value:function(e){return this.settings[e]}},{key:"getSign",value:function(e){var t=this.getSettingValue(e);return!0===t||"on"===t}},{key:"isThreadMode",get:function(){return this.isSet("folder_thread_view")}},{key:"isBiggerText",get:function(){return this.isSet("with_bigger_text")}},{key:"isTimelineOpen",get:function(){return this.isSet("timeline-is-open")}},{key:"areTabsEnabled",get:function(){return this.isSet("show_folders_tabs")}},{key:"isOpenMessageInList",get:function(){return this.isSet("open-message-list")}},{key:"isHeadRecieversOpen",get:function(){return this.isSet("m_head_full_edition")}},{key:"is3Pane",get:function(){return Daria.is3pane()}},{key:"is2Pane",get:function(){return Daria.is2pane()}},{key:"showTranslateBar",get:function(){return this.isSet("translate")}},{key:"hasProInterface",get:function(){return this.isSet("has_pro_interface")}},{key:"isBackupAvailable",get:function(){return this.isSet(y.Settings.BACKUP_ENABLED)}},{key:"isHiddenTrashEnabled",get:function(){return this.isSet(w)}},{key:"leftColumnProWidgetExpandAt",get:function(){return this.getSettingValue(O)}},{key:"isOptInSubscriptionsEnabled",get:function(){return this.isSet(y.Settings.OPT_IN_SUBSCRIPTIONS_ENABLED)}},{key:"optInSubscriptionsEnabledAt",get:function(){return this.getSettingValue(y.Settings.OPT_IN_SUBSCRIPTIONS_ENABLED_AT)}},{key:"optInSubscriptionsReviewedAt",get:function(){return this.getSettingValue(y.Settings.OPT_IN_SUBSCRIPTIONS_REVIEWED_AT)||this.optInSubscriptionsEnabledAt}},{key:"canUseOptInSubscriptions",get:function(){return this.isSet(y.Settings.CAN_USE_OPT_IN_SUBSCRIPTIONS)}},{key:"hideB2cTariffPromo",get:function(){return this.isSet(y.Settings.NO_B2C_TARIFF_PROMO)}},{key:"hideYandexJobs",get:function(){return this.isSet(y.Settings.NO_YANDEX_JOBS)}},{key:"isSmartSubjectEnabled",get:function(){return this.getSign(y.Settings.EMPTY_SUBJECT_POPUP_DISABLED)}},{key:"showSidebarWithWidgets",get:function(){return!1!==this.getSettingValue(y.Settings.SHOW_SIDEBAR_WITH_WIDGETS)}},{key:"isTodoEnabled",get:function(){return!(Object(S.hasMidgets)()&&this.showSidebarWithWidgets)&&this.getSign(y.Settings.SHOW_TODO)}}]),t})(b.default),h=p(g.prototype,"settings",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),p(g.prototype,"isThreadMode",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"isThreadMode"),g.prototype),p(g.prototype,"isBiggerText",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"isBiggerText"),g.prototype),p(g.prototype,"isTimelineOpen",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"isTimelineOpen"),g.prototype),p(g.prototype,"areTabsEnabled",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"areTabsEnabled"),g.prototype),p(g.prototype,"isOpenMessageInList",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"isOpenMessageInList"),g.prototype),p(g.prototype,"isHeadRecieversOpen",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"isHeadRecieversOpen"),g.prototype),p(g.prototype,"is3Pane",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"is3Pane"),g.prototype),p(g.prototype,"is2Pane",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"is2Pane"),g.prototype),p(g.prototype,"showTranslateBar",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"showTranslateBar"),g.prototype),p(g.prototype,"hasProInterface",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"hasProInterface"),g.prototype),p(g.prototype,"isBackupAvailable",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"isBackupAvailable"),g.prototype),p(g.prototype,"isHiddenTrashEnabled",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"isHiddenTrashEnabled"),g.prototype),p(g.prototype,"leftColumnProWidgetExpandAt",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"leftColumnProWidgetExpandAt"),g.prototype),p(g.prototype,"isOptInSubscriptionsEnabled",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"isOptInSubscriptionsEnabled"),g.prototype),p(g.prototype,"optInSubscriptionsEnabledAt",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"optInSubscriptionsEnabledAt"),g.prototype),p(g.prototype,"optInSubscriptionsReviewedAt",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"optInSubscriptionsReviewedAt"),g.prototype),p(g.prototype,"canUseOptInSubscriptions",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"canUseOptInSubscriptions"),g.prototype),p(g.prototype,"hideB2cTariffPromo",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"hideB2cTariffPromo"),g.prototype),p(g.prototype,"hideYandexJobs",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"hideYandexJobs"),g.prototype),p(g.prototype,"isSmartSubjectEnabled",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"isSmartSubjectEnabled"),g.prototype),p(g.prototype,"showSidebarWithWidgets",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"showSidebarWithWidgets"),g.prototype),p(g.prototype,"isTodoEnabled",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"isTodoEnabled"),g.prototype),g)},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r="start",i="finish",o="error"},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e){return!1}n.d(t,"a",(function(){return f}));var l={log:function(){}},d={scenario:function(e){e.scenario,e.params}},f=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLogDisabled:c,debug:l,monitoring:d};a(this,e),this.isLogDisabled=t.isLogDisabled,this.debug=t.debug,this.monitoring=t.monitoring}return u(e,[{key:"logStep",value:function(e,t,n){this.log(e,i({step:t},n))}},{key:"log",value:function(e,t){this.isLogDisabled(e.type)||(t=this._addSessionLifetime(t),this.debug.log("Quality metrics log: ",e,t),this.monitoring.scenario({scenario:e,params:t}))}},{key:"warn",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this.debug).warn.apply(e,["Quality metrics log: "].concat(n))}},{key:"_addSessionLifetime",value:function(e){var t=window.performance&&window.performance.now&&window.performance.now();return i({sessionLifetime:t?Math.floor(t):void 0},e)}}]),e})()},,,,function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ProductsStore=void 0;var a=n(138),s=o(n(400)),u=n(351),c=n(2395),l=n(550),d=n(1553),f=n(507),p=n(356),g=(function(e){function t(){var t=e.call(this)||this;return t.items=[],t.availableUnitDate="",t.trialPeriodsCount=0,t.trialPeriod="",t.promoId="",t.promoPayload=null,t.currentSubscription=null,t.setProductsData=function(e){var n,r,i,o,a,s,u,c,l;if(t.items=null!==(n=null===e||void 0===e?void 0:e.items)&&void 0!==n?n:[],null===e||void 0===e?void 0:e.active_promo){t.availableUnitDate=null!==(i=null===(r=e.active_promo)||void 0===r?void 0:r.active_until_date)&&void 0!==i?i:"",t.promoId=null!==(a=null===(o=e.active_promo)||void 0===o?void 0:o.key)&&void 0!==a?a:"";var d=t.items.find((function(e){return e.best_offer})),p=null===d||void 0===d?void 0:d.trial;t.trialPeriodsCount=null!==(s=null===p||void 0===p?void 0:p.definition.periods_count)&&void 0!==s?s:0,t.trialPeriod=null!==(u=null===p||void 0===p?void 0:p.definition.period)&&void 0!==u?u:"";try{t.promoPayload=(null===(c=e.active_promo)||void 0===c?void 0:c.payload)&&JSON.parse(null===(l=e.active_promo)||void 0===l?void 0:l.payload)}catch(e){f.logError({errorType:"invalid_active_promo_payload"},null===e||void 0===e?void 0:e.message)}}t.currentSubscription=(null===e||void 0===e?void 0:e.current_subscription)||null},t._addModelSubscription("products",{},{onChanged:t.setProductsData}),t}return r(t,e),t.prototype.waitForData=function(){return this._requestDataPromise||(this._requestDataPromise=this._requestModelData("products",{}).then(this.setProductsData)),this._requestDataPromise},t.prototype.doesMatchInterval=function(e){var t,n,r,i,o=new Date(this.availableUnitDate).getTime(),a=1e3*((null===(n=null===(t=this.promoPayload)||void 0===t?void 0:t[e])||void 0===n?void 0:n.startIntervalToShow)||0),s=1e3*((null===(i=null===(r=this.promoPayload)||void 0===r?void 0:r[e])||void 0===i?void 0:i.endIntervalToShow)||0);if(!o||!a)return!1;var u=p.promoNow();return!(u<o-a)&&u<=o-s},t.prototype.getBestProductForFeature=function(e){return this.items.filter((function(t){return t.features.some((function(t){return t.code===e}))})).map((function(e){return e.prices.find((function(e){return e.period===c.PaymentPeriod.month}))})).filter(l.isDefined).map((function(e){return{currency:e.currency,amount:e.amount,price_id:e.price_id}})).sort((function(e,t){return e.amount-t.amount}))[0]},t.prototype.getPriceString=function(e){return e.amount+" "+d.CurrencySymbol[e.currency]},t.prototype.getPricesOfferWithTemporaryDiscount=function(){if(this.items&&this.items.length){var e=this.items.find((function(e){return e.best_offer}));if(e){var t=e.prices.find((function(e){return e.period===c.PaymentPeriod.year})),n=e.prices.find((function(e){return e.period===c.PaymentPeriod.month}));if(e.features.find((function(e){return e.code===c.ProductFeatureCode.DISK}))&&((null===n||void 0===n?void 0:n.start_discount)||(null===t||void 0===t?void 0:t.start_discount)))return{priceYear:(null===t||void 0===t?void 0:t.start_discount)?t:void 0,priceMonth:(null===n||void 0===n?void 0:n.start_discount)?n:void 0}}}return null},t.instance=a.memoize((function(){return new t})),i([u.observable],t.prototype,"items",void 0),i([u.observable],t.prototype,"promoPayload",void 0),i([u.observable],t.prototype,"currentSubscription",void 0),i([u.action],t.prototype,"setProductsData",void 0),t})(s.default);t.ProductsStore=g},,,,,,,,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var i=n(2706);Object.defineProperty(t,"default",{enumerable:!0,get:function(){return r(i).default}})},,,,,,,,,,,function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.SEASONS_LOCALES=t.THEME_LOCALES=void 0;var i=n(661);t.THEME_LOCALES=(r={bears:"themes/bears",besiktas:"themes/besiktas",colorful:"themes/colorful",cosmos:"themes/cosmos",dandelions:"themes/dandelions",fenerbahce:"themes/fenerbahce",foxes:"themes/foxes",galatasaray:"themes/galatasaray","galatasaray-net":"themes/galatasarayNet",lamp:"themes/lamp",newspaper:"themes/newspaper",newyear:"themes/newyear",orangetree:"themes/orangetree",owls:"themes/owls",plasticine:"themes/plasticine",relax:"themes/relax",sea:"themes/sea",seasons:"themes/seasons",weather:"themes/weather",zverushki:"themes/zverushki"},r[i.ThemeName.GeneralFlow]="themes/generalFlow",r[i.ThemeName.GeneralGrass]="themes/generalGrass",r[i.ThemeName.GeneralDarkflow]="themes/generalDarkFlow",r[i.ThemeName.GeneralNewYear2023]="themes/newyear",r),t.SEASONS_LOCALES={winter:"themes/seasonsWinter",summer:"themes/seasonsSummer",autumn:"themes/seasonsAutumn",spring:"themes/seasonsSpring"}},function(e,t){e.exports={container:"SettingsPromo__container--35SZ2",item:"SettingsPromo__item--19x5f",caption:"SettingsPromo__caption--3Sl9i",icon:"SettingsPromo__icon--1kuou",email:"SettingsPromo__email--3kvOA",dark:"SettingsPromo__dark--2d-eE",backup:"SettingsPromo__backup--1JYFp",subscribes:"SettingsPromo__subscribes--3Jyk2"}},function(e,t){e.exports={root:"SettingsItem__root--wuXjf",name:"SettingsItem__name--2qjce",icon:"SettingsItem__icon--rwyln",themed:"SettingsItem__themed--POpst",content:"SettingsItem__content--lVdY-",extra:"SettingsItem__extra--3CeHc",attention:"SettingsItem__attention--B4euu",newSign:"SettingsItem__newSign--3bub-"}},,,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(null==e)return{};var n,r,i=o(e,t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function o(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n,r){v||(v="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:v,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function h(e){var t=(function(t){function n(e){var t;return a(this,n),t=c(this,d(n).call(this,e)),t._resetCancelButtonAutohide=function(){var e=t._shouldShowCancel(t.props);t._stopCancelButtonAutohide(),t.setState({showCancel:e}),e&&t._startCancelButtonAutohide()},t.onCancel=function(){var e=t.props,n=e.onCancel,r=e.sendMetric;n(),r("Клик","Отменить")},t.state={showCancel:t._shouldShowCancel(e)},t}return f(n,t),u(n,[{key:"_shouldShowCancel",value:function(e){var t=e.onCancel,n=e.hideCancelAfter;return Boolean(t&&n)}},{key:"_startCancelButtonAutohide",value:function(){var e=this,t=this.props.hideCancelAfter;this._hideCancelTimerID=setTimeout((function(){e.setState({showCancel:!1})}),t)}},{key:"_stopCancelButtonAutohide",value:function(){this._hideCancelTimerID&&(clearTimeout(this._hideCancelTimerID),this._hideCancelTimerID=null)}},{key:"componentDidMount",value:function(){var e=this.props.subscribeShowCallback;this._resetCancelButtonAutohide(),e(this._resetCancelButtonAutohide)}},{key:"componentWillUnmount",value:function(){(0,this.props.unsubscribeShowCallback)(this._resetCancelButtonAutohide),this._stopCancelButtonAutohide()}},{key:"render",value:function(){var t,n=this.props,r=n.linkTheme,o=(n.sendMetric,n.onCancel),a=(n.hideCancelAfter,n.subscribeShowCallback,n.unsubscribeShowCallback,i(n,["linkTheme","sendMetric","onCancel","hideCancelAfter","subscribeShowCallback","unsubscribeShowCallback"])),s=this.state.showCancel;return o&&s&&(t=g(w.default.Action,{theme:r,onClick:this.onCancel},void 0,M)),_.a.createElement(e,a,t)}}]),n})(_.a.Component);return t.propTypes={linkTheme:S.a.string.isRequired,sendMetric:S.a.func.isRequired,onCancel:S.a.func,hideCancelAfter:S.a.number,subscribeShowCallback:S.a.func,unsubscribeShowCallback:S.a.func},t.displayName="".concat(m(e),"WithUndo"),t}function m(e){return e.displayName||e.name}t.a=h;var v,b=n(137),_=n.n(b),y=n(348),S=n.n(y),w=n(413),O=n(352),M=g(O.default,{loc:"statusline/action_cancel"})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"f",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"e",(function(){return s})),n.d(t,"h",(function(){return u})),n.d(t,"g",(function(){return c})),n.d(t,"a",(function(){return l}));var r="exit-without-saving-draft-popup",i="exit-without-saving-draft",o="exit-with-successful-draft-save",a="exit-with-failed-draft-save",s="exit-with-removing-draft",u="successful-sending",c="successful-delayed-sending",l="exit-by-expanding-another-compose"},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.StatuslineName=void 0;!(function(e){e.DeleteOrUnsubscribe="DeleteOrUnsubscribe",e.MarkReadOrUnsubscribe="MarkReadOrUnsubscribe",e.MultipleEmailsSelected="MultipleEmailsSelected",e.SpamOrUnsubscribe="SpamOrUnsubscribe",e.UnsubscribeSuccess="UnsubscribeSuccess"})(t.StatuslineName||(t.StatuslineName={}))},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MetrikaContext=void 0;var i=r(n(137));t.MetrikaContext=i.default.createContext({})},,,,,,,,,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){i(u,r,o,a,s,"next",e)}function s(e){i(u,r,o,a,s,"throw",e)}var u=e.apply(t,n);a(void 0)})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function h(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,"a",(function(){return C}));var m,v,b,_=n(138),y=n.n(_),S=n(2179),w=n(351),O=n(400),M=n(2180),D=n(139),T=(n.n(D),n(422)),x=y.a.memoize,C=(m=b=(function(e){function t(){var e;return a(this,t),e=c(this,l(t).call(this)),g(d(e),"folders",v,d(e)),e.getFolderBySymbol=x((function(t){for(var n=0,r=e.folders.length;n<r;n++){var i=e.folders[n];if(i.data.symbol===t)return i}return null})),e.getFolderByName=x((function(t){for(var n=0,r=e.folders.length;n<r;n++){var i=e.folders[n];if(i.data.name===t)return i}return null})),e._addModelSubscription("folders",{},{onChanged:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.folders=(t.folder||[]).map((function(e){return new M.a(e)})),Object(S.a)(e.getFolderBySymbol)},onDestroyed:function(){e.folders=[]}}),e}return f(t,e),u(t,[{key:"isFidSymbol",value:function(e,t){var n=this.getFolderBySymbol(t);return n&&n.data.fid===e}},{key:"getFolderByFid",value:function(e){return this.folders.find((function(t){return t.data.fid===e}))}},{key:"getFolderDataByFid",value:function(e){var t=this.getFolderByFid(e);return t&&t.data}},{key:"refresh",value:function(){T.default.forcedRequest("folders").then((function(){return ns.events.trigger("daria:mFolders:symbolSet")}))}},{key:"setIsHiddenTrashEnabled",value:(function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark((function e(){var t,n=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!(t=n.length>0&&void 0!==n[0]&&n[0])){e.next=6;break}return e.next=4,T.default.forcedRequest("do-folder-create-hidden-trash");case 4:e.next=8;break;case 6:return e.next=8,T.default.forcedRequest("do-folder-purge-hidden-trash");case 8:case"end":return e.stop()}}),e)})));return e})()},{key:"foldersForSearch",get:function(){return this.folders.filter((function(e){return!D.SearchDisabledFolders.includes(e.data.symbol)}))}},{key:"foldersData",get:function(){return this.folders.map((function(e){return e.data}))}}]),t})(O.default),v=h(m.prototype,"folders",[w.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),h(m.prototype,"foldersForSearch",[w.computed],Object.getOwnPropertyDescriptor(m.prototype,"foldersForSearch"),m.prototype),h(m.prototype,"foldersData",[w.computed],Object.getOwnPropertyDescriptor(m.prototype,"foldersData"),m.prototype),m)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(e){return Daria.Recipients.add(e)},i=function(e){return Daria.Recipients.requestContacts(e).then((function(){return e.map((function(e){var t=Daria.Recipients.getRecipientFromCache(e.name,e.email)||{};return{contact:e,avatar:{url:t.url,color:t.color,monogram:t.mono,valid:!0}}}))}))}},function(e,t,n){"use strict";var r=n(2191);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){Object.keys(s).forEach((function(e){var t=s[e];if(t.length){var n=ns.Model.get(e,{messages:JSON.stringify(t.splice(0,50))});ns.forcedRequest([n])}}))}n(843);var s={"do-client-log":[],"do-journal-log":[]};!(function e(){requestIdleCallback((function(){setTimeout(e,1e3),a()}))})(),window.ns&&ns.events.on("pageVisible.change",(function(){Jane.watcher.get("pageVisible")||a()})),window.addEventListener("unload",(function(){a()}));var u=Daria.monitoring=e.exports;u.scenario=function(e){s["do-client-log"].push(Object.assign(e,{reason:"scenario"}))},u.mailListRender=function(e){s["do-client-log"].push(Object.assign(e,{reason:"mail-list-render"}))},u.workflow=function(e){s["do-client-log"].push(Object.assign(e,{reason:"workflow"}))},u.workflow.ads=function(e){u.workflow(Object.assign(e,{flow:"ads"}))},u.workflow.ipush=function(e){u.workflow(Object.assign(e,{flow:"ipush"}))},u.workflow.userEvents=function(e){u.workflow(Object.assign(e,{flow:"user_events"}))},u.workflow.attachToDisk=function(e){u.workflow(i({},e,{flow:"attach_to_disk"}))},u.journal=function(e,t){s["do-journal-log"].push(Object.assign(t,{operation:e}))},u.performance=function(e){s["do-client-log"].push(i({reason:"performance"},e))},u.performance.fps=function(e,t){u.performance(i({type:"fps",area:e},t))},u.stat=function(e){s["do-client-log"].push(Object.assign(e,{reason:"stat"}))},u.stat.settings=function(e){u.stat(i({flow:"settings"},e))},u.stat.ics=function(e){u.stat(Object.assign(e,{flow:"ics"}))},u.contactValidation=function(e){s["do-client-log"].push(Object.assign(e,{reason:"contact_validation"}))}},function(e,t){window.requestIdleCallback=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)}},,,function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})();Object.defineProperty(t,"__esModule",{value:!0}),t.BackupError=t.BackupErrorCodes=t.RestoreType=t.BackupState=void 0;!(function(e){e.COMPLETE="complete",e.ERROR="error",e.IN_PROGRESS="in_progress"})(t.BackupState||(t.BackupState={}));!(function(e){e.RESTORED_FOLDER="restored_folder",e.FULL_HIERARCHY="full_hierarchy"})(t.RestoreType||(t.RestoreType={}));!(function(e){e.TOO_FREQUENT="frequent backup"})(t.BackupErrorCodes||(t.BackupErrorCodes={}));var i=(function(e){function t(n){var r=e.call(this,n)||this;return r.name="BackupError",r.constructor=t,r}return r(t,e),t})(Error);t.BackupError=i},,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BaseMetrika=void 0;var r=(function(){function e(e){this.logger=e}return e.prototype.logMetric=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logger.logMetric(e)},e})();t.BaseMetrika=r},function(e,t,n){"use strict";var r=n(2623);t.a=r.a},,,function(e,t,n){"use strict";var r=n(1722);t.a=r.a},,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.InvertedContentColorPopup=t.Popup=void 0;var r=n(349),i=n(147),o=n(516),a=n(515);t.Popup=r.compose(a.withPsTheme())(i.Popup),t.InvertedContentColorPopup=r.compose(a.withPsTheme({source:o.DarkSource.Content,invert:!0}))(i.Popup)},function(e,t,n){"use strict";function r(){return u||(u=ns.Model.get("theme-seasons"))}function i(){return c||(c=ns.Model.get("theme-weather"))}function o(e){var t=Object(f.getGeneralThemesBridge)(),n=t.getGeneralTheme(e);if(n)return Object(d.get)(n,"thumbnail.jpeg");var i="";return"seasons"===e&&(i="-"+r().getSeason()),g[e+i]}function a(e){return"newyear"!==e?ns.Model.get("settings").setSettings({color_scheme:e,with_new_year:""}):ns.Model.get("settings").setSettings({with_new_year:"on"})}function s(e){return p.includes(e)?Promise.resolve():new Promise(function(t){Jane.Services.runModules(["theme-"+e+".css"],t)})}Object.defineProperty(t,"__esModule",{value:!0}),t.getThemeWeather=i,t.getThemeThumbnail=o,t.setTheme=a,t.runTheme=s;var u,c,l=n(661),d=(n.n(l),n(138)),f=(n.n(d),n(363)),p=Object.values(l.ThemeName),g=n(1746)},function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"c",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s}));var r=400,i="#333",o={SLIM:"slim",NORMAL:"normal"},a="11px 'yandex-sans', Arial, sans-serif",s=90},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var r="blocker",i="critical",o="minor"},,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return"404"===(e=e||ns.page.current.page)||"not-found"===e||"no-message"===e}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return decodeURIComponent(e.replace(/\+/g,"%20"))}function o(e,t,n){c.undef(e[t])&&(e[t]=[]),Array.isArray(n)?e[t]=e[t].concat(n):e[t].push(n)}function a(e,t){for(var n=e[t],r=n.length,i=new Array(r),o=f(t),a=0;a<r;a++)i[a]=o+"="+f(n[a]);return i}function s(e){for(var t,n,r,a={},s=e.replace(/\+/g,"%20").split("&"),u=0,c=s.length;u<c;u++)t=s[u].split("="),(n=t.shift())&&(r=t.length>1?t.join("="):t[0]||"",o(a,i(n),i(r)));return a}var u,c={def:function(e){return"undefined"!=r(e)},undef:function(e){return"undefined"==r(e)},string:function(e){return"string"==typeof e}},l=/^((((\w+):)\/\/)(([\w\-\.]+)(\:(\d+))?))?(\/?[^\?#]*)?(\?([^#]*))?(#(.*))?$/,d=/^(([\w]+:)?\/\/)?(([\d\w]|%[a-fA-f\d]{2,2})+(:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?([\d\w][-\d\w]{0,253}[\d\w]\.)+[\w]{2,4}(:[\d]+)?(\/([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)*(\?(&?([-+_~.\d\w]|%[a-fA-f\d]{2,2})=?)*)?(#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?$/,f=encodeURIComponent,p={proto:"Proto",host:"Host",port:"Port",path:"Path",hash:"Hash"},g=function(e){e=c.def(e)?e.toString():window.location.href;var t=e.match(l);if(!t)throw new Error("This is not an url");this.Href=t[0],this.Proto=t[4]||"",this.Host=t[6]||"",this.Port=t[8]||0,this.Path=decodeURI(t[9]||""),this.Query=s(t[11]||""),this.Hash=i(t[13]||"")};g.prototype={go:function(){window.location.href=this.toString()},toString:function(){var e="";(this.Proto||this.Host)&&this.Host&&(e+=(this.Proto||"http")+"://"+this.Host,this.Port&&(e+=":"+this.Port)),this.Path&&(this.Host&&0!==this.Path.indexOf("/")&&(e+="/"),e+=encodeURI(this.Path));var t=this.query();return t&&(e+="?"+t),this.Hash&&(e+="#"+f(this.Hash)),e},clone:function(){return new g(this.toString())},query:function(e){if(c.def(e))return this.clearQuery(),c.string(e)?this.Query=s(e):this.replaceParams(e),this;var t=[];for(var n in this.Query)t=t.concat(a(this.Query,n));return t.join("&")},queryParams:function(){return Object.assign({},this.Query)},queryKeys:function(){var e=[];for(var t in this.Query)e.push(t);return e.sort()},addParam:function(e,t){return o(this.Query,e,t),this},addParams:function(e){for(var t in e)o(this.Query,t,e[t]);return this},removeParams:function(e){for(var t=0,n=e.length;t<n;t++)delete this.Query[e[t]];return this},replaceParams:function(e){var t=[];for(var n in e)t.push(n);return this.removeParams(t),this.addParams(e),this},clearQuery:function(){return this.Query={},this},getParam:function(e){var t=this.Query[e];return t?t[0]:null},getParams:function(e){return this.Query[e]||[]}};for(u in p)g.prototype[u]=(function(e){return function(t){return c.def(t)?(this[e]=t,this):this[e]}})(p[u]);g.isValid=function(e){return d.test(e)},t.a=g},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){var n=i.priorityTypes[t];if(n)return n;var r="".concat(e,"+").concat(t),o=i.comboKeys[r];if(o)return o;var a=i.extensions[e];if(a)return a;var s=i.types[t];return s||void 0}n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"b",(function(){return s}));var i=n(1828),o=function(e,t){return r(e,t)||i.default},a=function(e,t){return Boolean(r(e,t))},s=function(){return i.folder}},function(e,t,n){e.exports=n.p+"_/b2b9d65a066152b21417dedc4506a404-attach_icon_word.svg"},,,,,function(e,t,n){"use strict";function r(e){return Jane.Services.runModules(e)}function i(){return r(o).then((function(){return r(a)})).then((function(){Jane.Services.load("#abook")}))}t.a=i;var o=["editor.css","compose-manager.css","compose-react.css"],a=["ckeditor.js","compose-manager.js"]},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){function a(e){r(u,i,o,a,s,"next",e)}function s(e){r(u,i,o,a,s,"throw",e)}var u=e.apply(t,n);a(void 0)})}}function o(e,t){return u(e)||s(e,t)||a()}function a(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function s(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function u(e){if(Array.isArray(e))return e}function c(e,t,n,r){d||(d="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:d,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function l(e,t){return new Promise(function(n){g.a.render(c(h.default,{lang:Object(m.getLocale)()},void 0,c(b.ModuleLoader,{component:t,onLoad:n,onError:n})),e),document.body.appendChild(e)})}n.d(t,"b",(function(){return w})),n.d(t,"c",(function(){return M})),n.d(t,"a",(function(){return D})),n.d(t,"d",(function(){return T}));var d,f=n(137),p=(n.n(f),n(141)),g=n.n(p),h=n(386),m=n(356),v=n(840),b=n(4304),_=(n.n(b),n(18)),y=n(626),S=["subscriptions.js","subscriptions.css"],w=function(){return Object(_.loadModules)(S)},O=function(){return Object(_.runModules)(S).then((function(e){return o(e,1)[0]}))},M=(function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r,i,o,a,s,u,d,f=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=f.length>1&&void 0!==f[1]?f[1]:{},r=n.canDeleteLetters,i=void 0===r||r,o=Object(y.g)(Object(y.f)(t)),a=o.map((function(e){return{name:e.displayName,email:e.email}})),e.next=5,Object(v.b)(a);case 5:return s=e.sent,u=document.createElement("div"),d=function(){return O().then((function(e){return c(e.Unsubscribe,{visible:!0,canDeleteLetters:i,contacts:s,logMetric:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(m.logMetric)(["Нотификации","Функциональные нотификации"].concat(t))},onClose:function(){g.a.unmountComponentAtNode(u),u.remove()},onManageSubscriptions:function(){return ns.events.trigger("daria:unsubscribe-popup:show")},onAction:function(e){var t=e.deleteOldLetters;return Object(y.i)(o,t)}})}))},e.abrupt("return",l(u,d));case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})(),D=(function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(y.g)(Object(y.f)(t)),r=document.createElement("div"),i=function(){return O().then((function(e){return c(e.RemoveOldLetters,{visible:!0,logMetric:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Object(m.logMetric)(["Нотификации","Функциональные нотификации"].concat(t))},onClose:function(){g.a.unmountComponentAtNode(r),r.remove()},onManageSubscriptions:function(){return ns.events.trigger("daria:unsubscribe-popup:show")},onAction:function(){return Object(y.b)(n)}})}))},e.abrupt("return",l(r,i));case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})(),T=(function(){var e=i(regeneratorRuntime.mark((function e(t,n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",M(Object(y.e)(t),n));case 1:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}})()},function(e,t,n){"use strict";function r(e){return a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}n.d(t,"b",(function(){return g})),n.d(t,"f",(function(){return h})),n.d(t,"e",(function(){return m})),n.d(t,"j",(function(){return v})),n.d(t,"a",(function(){return b})),n.d(t,"h",(function(){return _})),n.d(t,"g",(function(){return y})),n.d(t,"d",(function(){return S})),n.d(t,"c",(function(){return w})),n.d(t,"i",(function(){return O}));var s=n(139),u=(n.n(s),n(641)),c=n(1220),l=n(391),d=n(145),f=(n.n(d),n(678)),p=(n.n(f),{"stickers limit has been exceeded":"statusline/replyLaterCreateLimitError"}),g=function(e){var t=ns.Model.get("folders"),n=ns.Model.get("message",{ids:e}),r=t.getFidBySymbol(s.WellKnownFolderSymbol.INBOX),i={current_folder:r};return n.isValid()&&(i.current_folder=n.get(".fid"),i.current_folder===r&&n.get(".tabId")&&(i.tabId=n.get(".tabId"))),i},h=function(e,t){var n=ns.Model.get("folders"),r=n.getFolderBySymbol(s.WellKnownFolderSymbol.REPLY_LATER);u.default.instance().show({name:"reply-later-create-success",build:function(){return c.a.build({locKey:"statusline/replyLaterCreateSuccess",locParams:{folder:r.name,date:Object(l.getShortDate)(t.date),time:Object(l.getShortTime)(t.date)},status:"done"})}}),Daria.MOPS.doActionInModelsByIds(e.getIds(),"doMove",{current_folder:r.fid}),e.resetChecked()},m=function(e){var t=p[e]||"statusline/unknownError";u.default.instance().show({name:"reply-later-create-failure",build:function(){return c.a.build({locKey:t,status:"fail"})}})},v=function(e){var t=e.getIds(),n=ns.Model.get("labels"),r=n.getLabelBySymbolicName(f.WellKnownLabels.REPLY_LATER_FINISHED),i=n.getLabelBySymbolicName(f.WellKnownLabels.PINNED);i&&Daria.MOPS.doActionInModelsByIds(t,"unlabel",{lid:i.lid}),r&&Daria.MOPS.doActionInModelsByIds(t,"unlabel",{lid:r.lid}),Daria.MOPS.updateModelsAfterPin(e,!1)},b=function(e){var t=e.getIds(),n=ns.Model.get("labels"),r=n.getLabelBySymbolicName(f.WellKnownLabels.REPLY_LATER_STARTED);r&&Daria.MOPS.doActionInModelsByIds(t,"unlabel",{lid:r.lid})},_=function(e,t){var n=ns.Model.get("folders"),r=n.hasFolder(e)?e:n.getFidBySymbol(s.WellKnownFolderSymbol.INBOX),i=n.getFolderById(r).name;if(Daria.areFoldersTabsEnabled()&&t){var o=ns.Model.get("tabs").getTab(t);i=o?o.get(".title"):i}u.default.instance().show({name:"reply-later-remove-success",build:function(){return c.a.build({locKey:"statusline/replyLaterRemoveSuccess",locParams:{folder:i},status:"done"})}})},y=function(){u.default.instance().show({name:"reply-later-remove-failure",build:function(){return c.a.build({locKey:"statusline/unknownError",status:"fail"})}})},S=function(e){var t=ns.Model.get("stickers",{type:d.StickerType.REPLY_LATER}).getStickerByMid(e),n=ns.Model.get("folders");return n.hasFolder(t.fid)?{fid:t.fid,tab:t.tab}:{fid:n.getFidBySymbol(s.WellKnownFolderSymbol.INBOX)}},w=function(e){var t=e.getIds(),n=[].concat(r(t.ids),r(t.tids)),i=n.map((function(e){return ns.Model.get("message",{ids:e})}));return i.length>0?i[0]:null},O=function(e){if("message"===ns.page.current.page){var t=ns.router.generateUrl("messages",e);ns.page.go(t)}}},function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},o=this&&this.__values||function(e){var t="function"==typeof Symbol&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&"number"==typeof e.length)return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.HooksManager=t.Stage=void 0;var c=u(n(423));!(function(e){e.before="before"})(t.Stage||(t.Stage={}));var l=(function(){function e(){this.hooks={before:{}}}return e.prototype.registerHandler=function(e,t,n){var r=this,i=this.hooks[e][t]||[];return i.push(n),this.hooks[e][t]=i,function(){return r.unregisterHandler(e,t,n)}},e.prototype.unregisterHandler=function(e,t,n){var r=this.hooks[e][t];if(r){var i=r.indexOf(n);-1!==i&&r.splice(i,1)}},e.prototype.runBefore=function(e,t,n){var r=this.hooks.before[e];return!(!r||!r.length)&&this.runHandlers(r,t,n)},e.prototype.hasHandler=function(e){var t=this.hooks.before[e];return Boolean(t&&t.length)},e.prototype.runHandlers=function(e,t,n){return r(this,void 0,Promise,(function(){var r,a,u,c,l,d,f;return i(this,(function(i){switch(i.label){case 0:r={cancelled:!1,args:n},i.label=1;case 1:i.trys.push([1,6,7,8]),a=o(e),u=a.next(),i.label=2;case 2:return u.done?[3,5]:(c=u.value,[4,c.apply(void 0,s(r.args))]);case 3:if(r=i.sent(),r.cancelled)return[2];i.label=4;case 4:return u=a.next(),[3,2];case 5:return[3,8];case 6:return l=i.sent(),d={error:l},[3,8];case 7:try{u&&!u.done&&(f=a.return)&&f.call(a)}finally{if(d)throw d.error}return[7];case 8:return[2,t.apply(void 0,s(r.args,[!0]))]}}))}))},e.instance=c.default((function(){return new e})),e})();t.HooksManager=l},,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r.apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Separator=t.MenuItem=void 0;var a=o(n(137)),s=n(140),u=o(n(350)),c=o(n(1475)),l=function(e){var t=e.className,n=e.children,o=e.innerRef,l=i(e,["className","children","innerRef"]);return a.default.createElement("li",r({className:u.default(c.default.item,t),ref:o},l),a.default.createElement(s.Text,{typography:"body-short-s"},n))};t.MenuItem=l;var d=function(){return a.default.createElement("div",{className:c.default.separator})};t.Separator=d},,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})([+-](\d{2}):(\d{2}))?$/;e.exports=function(e){if("string"!=typeof e)return null;if(e=e.replace(" ","+"),!r.test(e))return null;var t=Date.parse(e);return t||null}},,,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?s(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}n.d(t,"a",(function(){return m}));var d,f,p,g=n(400),h=n(351),m=(d=p=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,u=new Array(r),c=0;c<r;c++)u[c]=arguments[c];return n=o(this,(e=a(t)).call.apply(e,[this].concat(u))),l(s(n),"isFolded",f,s(n)),n}return u(t,e),t})(g.default),f=(function(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o})(d.prototype,"isFolded",[h.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!0}}),d)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function o(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,"a",(function(){return p}));var a,s,u,c,l,d,f=n(351),p=(a=d=function e(t,n){r(this,e),i(this,"data",s,this),i(this,"error",u,this),i(this,"setData",c,this),i(this,"setError",l,this),n?this.setError(n):t&&this.setData(t)},s=o(a.prototype,"data",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),u=o(a.prototype,"error",[f.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),c=o(a.prototype,"setData",[f.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.data=t,e.error={}}}}),l=o(a.prototype,"setError",[f.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){"string"==typeof t&&(t={message:t}),e.data={},e.error=t}}}),a)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,"a",(function(){return y}));var g,h,m,v=n(351),b=n(400),_=n(2181),y=(g=m=(function(e){function t(){var e;return i(this,t),e=s(this,u(t).call(this)),f(c(e),"labels",h,c(e)),e._addModelSubscription("labels",{},{onChanged:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.labels=(t.label||[]).map((function(e){return new _.a(e)}))},onDestroyed:function(){e.labels=[]}}),e}return l(t,e),a(t,[{key:"getLabelBySymbolicName",value:function(e){var t=this.labels.findIndex((function(t){return t.data.symbolicName===e}));return t>-1?this.labels[t]:null}},{key:"getLabelByName",value:function(e){var t=this.labels.findIndex((function(t){return t.data.name.toLowerCase()===e.toLowerCase()}));return t>-1?this.labels[t]:null}},{key:"getImportantId",value:function(){var e=this.getLabelBySymbolicName("important_label");return e&&e.data&&e.data.lid}},{key:"getPriorityId",value:function(){var e=this.getLabelBySymbolicName("hamon_label");return e&&e.data&&e.data.lid}},{key:"getLabelById",value:function(e){var t=this.labels.findIndex((function(t){return t.data.lid===e}));return t>-1?this.labels[t]:null}},{key:"openLabelRulesModal",value:function(e){Daria.Label.createFilter(e)}},{key:"labelItemsForSearch",get:function(){var e=this.getLabelBySymbolicName("important_label"),t=[];return e&&t.push({value:e.data.lid,text:e.data.name,icon:"important"}),t.push({value:"unread",text:i18n("%Labels_Only_New"),icon:"unread"}),t.concat(this.labels.filter((function(e){return e.data.user})).sort((function(e,t){return e.data.name>t.data.name})).map((function(e){return{value:e.data.lid,text:e.data.name,color:"#".concat(e.data.color)}})))}}]),t})(b.default),h=p(g.prototype,"labels",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return[]}}),p(g.prototype,"labelItemsForSearch",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"labelItemsForSearch"),g.prototype),g)},function(e,t,n){"use strict";function r(e){return Object(o.getLabelColors)(e.color)}function i(e){return e.lid?"#label/"+e.lid:"#messages?goto=all&extra_cond="+e.symbol}t.a=r,t.b=i;var o=n(1505);n.n(o)},function(e,t,n){"use strict";function r(){return[{serviceId:"people",name:i18n("%ServiceTabs_messaging")},{serviceId:"calendar",name:i18n("%ServiceTabs_calendar"),email:"info@calendar.yandex-team.ru"},{serviceId:"goals",name:i18n("%ServiceTabs_goals"),email:"robot-goals@yandex-team.ru"},{serviceId:"startrek",name:i18n("%ServiceTabs_startrek"),email:"startrek@yandex-team.ru"},{serviceId:"wiki",name:i18n("%ServiceTabs_wiki"),email:"wiki@yandex-team.ru"},{serviceId:"atushka",name:i18n("%ServiceTabs_diary"),email:"robot-atushka@yandex-team.ru"}]}t.a=r},function(e,t,n){"use strict";n.d(t,"h",(function(){return r})),n.d(t,"f",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"i",(function(){return s})),n.d(t,"c",(function(){return u})),n.d(t,"b",(function(){return c})),n.d(t,"d",(function(){return l})),n.d(t,"e",(function(){return d}));var r="go-to-compose",i="go-to-another-messages-list",o="go-to-another-page",a="additional-search",s="open-message",u="cancel-search-click",c="cancel-search-bg-click",l="cancel-search-hotkey",d="empty-search"},function(e,t,n){"use strict";n.d(t,"f",(function(){return r})),n.d(t,"d",(function(){return i})),n.d(t,"e",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"c",(function(){return u}));var r="suggest-click",i="search-button-click",o="search-field-hotkey",a="additional-parameters-click",s="direct-url",u="return-to-search"},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}n.d(t,"a",(function(){return d}));var c=n(732),l=(n(733),n(973)),d=(function(){function e(t){a(this,e),this._activeScenarios={},this._logger=t.logger,this.connectionId=t.connectionId,this.now=t.now}return u(e,[{key:"startScenario",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.scenarioId,o=r.skipLogStart;this.hasActiveScenario(e)&&this._logger.warn('Scenario "',this.getActiveScenario(e),'" already started. ',t,n);var a=this._initScenario(e,i);return this._activateScenario(a,e,n),o||this._logStart(a,t,n),a}},{key:"startParallelScenario",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._initScenario(e);return this._activateScenario(r,r.id,n),this._logStart(r,t,n)}},{key:"_initScenario",value:function(e,t){return new l.a(e,{scenarioId:t,logger:this._logger,connectionId:this.connectionId,now:this.now})}},{key:"_activateScenario",value:function(e,t,n){var r=n.startTime;return delete n.startTime,e.setStartTime(r),this._setActiveScenario(t,e),e}},{key:"_logStart",value:function(e,t,n){return this._logger.logStep(e,c.c,i({initiator:t},n)),e}},{key:"finishScenarioIfActive",value:function(e,t,n){if(this.hasActiveScenario(e)){var r=this.getActiveScenario(e).setFinishTime();this._removeActiveScenario(e),this._logger.logStep(r,c.b,i({finalizer:t},n))}}},{key:"finishScenario",value:function(e,t,n){if(!this.hasActiveScenario(e))return void this._logger.warn('There is no active "'.concat(e,'" scenario. '),t,n);this.finishScenarioIfActive(e,t,n)}},{key:"hasActiveScenario",value:function(e){return Boolean(this.getActiveScenario(e))}},{key:"getActiveScenario",value:function(e){return this._activeScenarios[e]}},{key:"_setActiveScenario",value:function(e,t){return this._activeScenarios[e]=t}},{key:"_removeActiveScenario",value:function(e){delete this._activeScenarios[e]}}]),e})()},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}n.d(t,"a",(function(){return d}));var c=n(974),l=n(732),d=(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.scenarioId,i=n.connectionId,o=n.logger,s=n.now;a(this,e),this.id=r||Object(c.a)(i+"_"),this.type=t,Object.defineProperties(this,{logger:{value:o,enumerable:!1},now:{value:s,enumerable:!1}})}return u(e,[{key:"setStartTime",value:function(e){return this.startTime=Math.floor(e||this.now()),this}},{key:"getTimeFromStart",value:function(){return Math.floor(this.now()-this.startTime)}},{key:"setFinishTime",value:function(){return this.finishTime=Math.floor(this.now()),this}},{key:"logStep",value:function(e,t){this.logger.log(this,i({step:e},t))}},{key:"logError",value:function(e,t){var n=e.type,r=e.severity;this.logger.log(this,i({step:l.a,type:n,severity:r},t))}}]),e})()},function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=0,i=function(e){return"".concat(e||"").concat(++r)}},function(e,t,n){"use strict";function r(e){var t=u.c[e];return Boolean(t&&!Object(s.hasFeature)(t))}var i=n(842),o=n.n(i),a=n(28),s=n(87),u=(n.n(s),n(384)),c=n(733);t.a=new c.a({isLogDisabled:r,debug:a.default,monitoring:o.a})},function(e,t,n){"use strict";var r=n(2196);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";var r=n(2200);n.d(t,"a",(function(){return r.a}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r,i=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),o=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PassportStore=t.AuthError=void 0;var u=n(138),c=s(n(422)),l=n(1497),d=n(435),f=n(1009),p=s(n(646)),g=(function(e){function t(n,r){void 0===r&&(r="Not authorized");var i=e.call(this,r)||this;return i.reason=n,i.name="AuthError",i.constructor=t,i}return i(t,e),t})(Error);t.AuthError=g;var h;!(function(e){e.Phone="phone",e.Password="password"})(h||(h={}));var m=(r={},r[h.Password]={modelName:"is-user-recently-entered-password",passportConfirmUrl:d.passportVerifyPasswordUrl},r[h.Phone]={modelName:"is-user-recently-confirmed-phone",passportConfirmUrl:d.passportPhoneConfirmUrl},r),v=(function(){function e(e){this.userPhonesStore=e,this.confirmExpireTimeMap=new Map}return e.prototype.canSkipCheckAuth=function(e){return o(this,void 0,Promise,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return t=this.confirmExpireTimeMap.get(e),t||p.default.isFirefox()?[3,2]:[4,this.checkRecentAuth(e)];case 1:return[2,n.sent()];case 2:return[2,Boolean(t&&Date.now()<t)]}}))}))},e.prototype.checkRecentAuth=function(e){return o(this,void 0,Promise,(function(){var t,n,r,i,o;return a(this,(function(a){switch(a.label){case 0:return t=m[e].modelName,[4,c.default.forcedRequest(t)];case 1:return n=a.sent(),r=n.check,i=n.remainTime,r&&i&&(o=Date.now()+1e3*(i-60),this.confirmExpireTimeMap.set(e,o)),[2,r]}}))}))},e.prototype.checkAuthConfirmed=function(e){return o(this,void 0,Promise,(function(){var t,n,r,i;return a(this,(function(o){switch(o.label){case 0:return t=this.userPhonesStore.hasSecurePhone||e?h.Phone:h.Password,[4,this.canSkipCheckAuth(t)];case 1:return o.sent()?[2]:(n=m[t].passportConfirmUrl,[4,f.PassportChildWindow.create({url:n}).show()]);case 2:if((r=o.sent())!==f.CloseReason.SUCCESS)throw new g(r);return[4,this.checkRecentAuth(t)];case 3:if(!(i=o.sent()))throw new g(f.CloseReason.CANCEL);return[2]}}))}))},e.instance=u.memoize((function(){return new e(l.UserPhonesStore.instance())})),e})();t.PassportStore=v},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__exportStar||function(e,t){for(var n in e)"default"===n||Object.prototype.hasOwnProperty.call(t,n)||r(t,e,n)};Object.defineProperty(t,"__esModule",{value:!0}),i(n(2346),t)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SmartScroll=void 0;var r=n(2351);Object.defineProperty(t,"SmartScroll",{enumerable:!0,get:function(){return r.SmartScroll}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})();Object.defineProperty(t,"__esModule",{value:!0}),t.AttachmentsMetrika=t.EventSource=void 0;var i,o=n(875);!(function(e){e.MESSAGE="in message",e.MESSAGES_LIST="in messages list",e.MESSAGES_LIST_POPUP="in popup on messages list",e.TAB_WIDGET='in tab "Attachments"',e.MESSAGE_RIGHT_COLUMN="in right column",e.COMPOSE="in compose",e.DOWNLOAD_MODAL="in download popup"})(i=t.EventSource||(t.EventSource={}));var a=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.SOURCE=i,t.PREFIX="Attachments",t}return r(t,e),t.prototype.logShowPreview=function(e){this.logMetric(this.PREFIX,'click "show"/preview',e)},t.prototype.logSingleAttachmentDownload=function(e){this.logMetric(this.PREFIX,'click "download one"',e)},t.prototype.logAllAttachmentsDownload=function(e){this.logMetric(this.PREFIX,'click "download all"',e)},t.prototype.logAttachmentsNumberClick=function(e){this.logMetric(this.PREFIX,"click on attachments count",e)},t.prototype.logSaveToDisk=function(e){this.logMetric(this.PREFIX,'click on "save to disc"',e)},t})(o.BaseMetrika);t.AttachmentsMetrika=a},,,,,function(e,t,n){"use strict";const r={az:"az",be:"be",en:"en-gb",hy:"hy-am",ka:"ka",kk:"kk",ro:"ro",ru:"ru",tr:"tr",tt:"tt",uk:"uk",uz:"uz-latn"},i=["tt"],o=Object.values(r).filter((function(e){return!i.includes(e)}));e.exports=r,Object.defineProperty(e.exports,"momentlangs",{value:o,enumerable:!1})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"default",(function(){return u})),n.d(t,"getShortcuts",(function(){return c})),n.d(t,"modalListPush",(function(){return l})),n.d(t,"modalListPop",(function(){return d}));var a=n(138),s=n.n(a),u=(function(){function e(){r(this,e),this._handlers={}}return o(e,[{key:"on",value:function(e,t){this._handlers[e]||(this._handlers[e]=[]),this._handlers[e].push(t)}},{key:"off",value:function(e,t){if(this._handlers[e]){var n=this._handlers[e].indexOf(t);n>-1&&this._handlers[e].splice(n,1)}}},{key:"emit",value:function(e,t){for(var n=0,r=this._handlers[e]||[],i=r.length;n<i&&!r[n](t);n++);}}]),e})(),c=s.a.memoize((function(){return new u})),l=function(e){return $.Shortcuts.modalListPush(e)},d=function(e){return $.Shortcuts.modalListPop(e)}},function(e,t,n){"use strict";var r=n(2713),i=n(2720);n.n(i);t.a=r.a},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"isOptInSubscriptionsVisible",(function(){return i})),n.d(t,"canUseOptInSubscriptions",(function(){return o})),n.d(t,"optInSubscriptionsEnabled",(function(){return a}));var r=n(50),i=(n.n(r),function(){return o()||!Daria.IS_CORP&&!Daria.Config.isWS&&"ru"===Daria.Config.TLD}),o=function(){return ns.Model.get("settings").isSet(r.Settings.CAN_USE_OPT_IN_SUBSCRIPTIONS)},a=function(){return o()&&ns.Model.get("settings").isSet(r.Settings.OPT_IN_SUBSCRIPTIONS_ENABLED)}},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SubscriptionCountersStore=void 0;var a=n(138),s=o(n(400)),u=o(n(422)),c=n(571),l=n(351),d=n(375),f="get-subscription-counters/v1",p=(function(e){function t(t){var n=e.call(this)||this;return n.settingsStore=t,n.lastUpdate=Date.now(),n.setNewsletterData=function(e){n.counters=e},n._addModelSubscription(f,{optinEnabled:n.optinEnabled},{onChanged:n.setNewsletterData}),c.addNsEventListener("xiva.mail.update",(function(){return n.update()})),c.addNsEventListener("xiva.mail.insert",(function(){return n.update()})),c.addNsEventListener("xiva.mail.move",(function(){return n.update()})),c.addNsEventListener("fake-loader",(function(){return n.forceUpdate()})),n}return r(t,e),Object.defineProperty(t.prototype,"optinEnabled",{get:function(){return this.settingsStore.canUseOptInSubscriptions&&this.settingsStore.isOptInSubscriptionsEnabled},enumerable:!1,configurable:!0}),t.prototype.waitForData=function(){return this.requestDataPromise||(this.requestDataPromise=this._requestModelData(f,this.getRequestParams()).then(this.setNewsletterData)),this.requestDataPromise},t.prototype.clearData=function(){delete this.requestDataPromise},t.prototype.update=function(){this.lastUpdate+6e4>Date.now()||!this.optinEnabled||(this.forceUpdate(),this.lastUpdate=Date.now())},t.prototype.forceUpdate=function(){u.default.forcedRequest(f,this.getRequestParams())},t.prototype.getRequestParams=function(){return{optinEnabled:this.optinEnabled}},t.instance=a.memoize((function(){return new t(d.getSettingsStore())})),i([l.observable],t.prototype,"counters",void 0),i([l.computed],t.prototype,"optinEnabled",null),i([l.action],t.prototype,"setNewsletterData",void 0),t})(s.default);t.SubscriptionCountersStore=p},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsSection=void 0;var r=n(2772);Object.defineProperty(t,"SettingsSection",{enumerable:!0,get:function(){return r.SettingsSection}})},,function(e,t){e.exports={container:"SettingsCheckbox__container--25Z4a",checkbox:"SettingsCheckbox__checkbox--3e8lX"}},,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeCard=void 0;var r=n(2889);Object.defineProperty(t,"ThemeCard",{enumerable:!0,get:function(){return r.ThemeCard}})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoItem=void 0;var s=o(n(137)),u=a(n(350)),c=a(n(367)),l=n(411),d=n(140),f=n(157),p=n(660),g=a(n(757)),h=a(n(2896)),m=function(e){var t=e.className,n=e.caption,r=e.metricName,i=e.userType,o=e.type,a=e.url,m=e.onClick,v=e.isNew;s.useEffect((function(){p.logPopupMetric([r,l.SHOW,i])}),[r,i]);var b=s.useCallback((function(){m&&m(),p.logPopupMetric([r,l.CLICK,i])}),[m,r,i]),_=s.default.useCallback((function(e){e.preventDefault()}),[]),y="link"===o?"a":"button";return s.default.createElement(y,{href:a,onClick:b,className:u.default(g.default.item,h.default.item,t),onMouseDown:_},s.default.createElement(d.Text,{className:g.default.caption,maxLines:3,typography:"body-short-m",overflow:"ellipsis"},n),v&&s.default.createElement(f.Badge,{className:h.default.badge,view:"promo",outlineColor:"transparent",content:c.default("common-react/tag-new")}))};t.PromoItem=m},function(e,t){e.exports={root:"MailSettings__root--3I8ZP",container:"MailSettings__container--6wZ0t",main:"MailSettings__main--1MN5D",themesSection:"MailSettings__themesSection--Rqr4s",divider:"MailSettings__divider--3433q",showAllThemes:"MailSettings__showAllThemes--2JGl1",themesSectionHeader:"MailSettings__themesSectionHeader--3orgO",scrollRoot:"MailSettings__scrollRoot--1ZFpd",scrollContainer:"MailSettings__scrollContainer--156l7"}},function(e,t,n){"use strict";function r(e,t){var n;"function"==typeof Event?n=new Event(t):(n=document.createEvent("Event"),n.initEvent(t,!0,!0)),e.dispatchEvent(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.customDispatchEvent=r},function(e,t,n){"use strict";function r(e){var t=e.Icon;return o.default.createElement("div",{className:a.default(c.default.icon,c.default.themed)},o.default.createElement(t,null))}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.IconComponent=void 0;var o=i(n(137)),a=i(n(350)),s=n(87),u=i(n(368)),c=i(n(758)),l=function(e){return s.hasFeature(s.Features.THEMED_SETTINGS_ICONS)?o.default.createElement(r,{Icon:e.Icon}):o.default.createElement(u.default,{id:"mail--Settings_"+e.name,cls:c.default.icon})};t.IconComponent=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsSectionName=void 0;!(function(e){e.ABOOK="setup-abook",e.BACKUP="setup-backup",e.BEAUTIFUL_EMAIL="setup-beautiful-email",e.COLLECTORS="setup-collectors",e.FILTERS="setup-filters",e.FOLDERS="setup-folders",e.MAIL_PRO="mail-pro",e.OTHER="setup-other",e.SECURITY="setup-security",e.SENDER="setup-sender",e.THEMES="themes",e.UNSUBSCRIBE_FILTERS="setup-unsubscribe-filters"})(t.SettingsSectionName||(t.SettingsSectionName={}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){c(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e){return u(e)||s(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function u(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function c(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function l(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Object(M.logMetric)([O.YANDEX_HEADER_PREFIX,O.HEADER_METRIKA_LEFT].concat(t))}function d(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Object(M.logMetric)([O.YANDEX_HEADER_PREFIX,O.HEADER_METRIKA_RIGHT].concat(t))}function f(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return d.apply(void 0,[O.HEADER_METRIKA_SETTINGS,O.HEADER_METRIKA_SETTINGS_OPEN].concat(t))}function p(e,t){Object(M.logMetric)([O.YANDEX_HEADER_PREFIX,O.HEADER_METRIKA_RIGHT,O.HEADER_METRIKA_SERVICES,Object(M.getYandexDomain)(),O.HEADER_METRIKA_EXTRA_NAMES[e]||e,t])}function g(e){var t=Object(M.getFreshCount)(),n=t?O.HEADER_METRIKA_USER_HAS_MESSAGES:O.HEADER_METRIKA_USER_NO_MESSAGES;if(e.id)O.HEADER_METRIKA_USER_MENU[e.id]?d(O.HEADER_METRIKA_USER_POPUP,n,O.HEADER_METRIKA_USER_MENU[e.id],O.CLICK):"switch-user"===e.id&&d(O.HEADER_METRIKA_USER_POPUP,n,O.HEADER_METRIKA_USER_MENU_SWITCH_USER);else{d(O.HEADER_METRIKA_USER_POPUP,O.CLICK),t&&d(O.HEADER_METRIKA_USER_POPUP,O.HEADER_METRIKA_USER_HAS_MESSAGES,O.HEADER_METRIKA_USER_MESSAGES_COUNT,t+O.HEADER_METRIKA_USER_MESSAGES_COUNT_NUMBER);var r=h().map((function(e){return c({},O.HEADER_METRIKA_USER_MENU[e],O.SHOW)}));d(O.HEADER_METRIKA_USER_POPUP,c({},n,r))}}function h(){var e=document.querySelectorAll(".legouser__popup .menu__list-item a, .legouser__popup .legouser__menu-footer a");return Array.prototype.slice.call(e).map((function(e){return{dataString:e.getAttribute("data-count"),hasChildren:e.hasChildNodes()}})).filter((function(e){return e.dataString&&e.hasChildren})).map((function(e){return JSON.parse(e.dataString).id}))}function m(){l(["Hamburger services menu","Open hamburger menu popup"].concat(o(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[])))}function v(e){var t=Object(w.mapValues)(e,(function(){return O.SHOW}));d(O.HEADER_METRIKA_SERVICES,c({},Object(M.getYandexDomain)(),t))}function b(e){l(O.HEADER_METRIKA_SERVICES,Object(M.getYandexDomain)(),c({},O.HEADER_METRIKA_SIMPLE_SERVICES,e))}function _(e){b(e.reduce((function(e,t){return i({},e,c({},O.HEADER_METRIKA_EXTRA_NAMES[t]||t,O.SHOW))}),{}))}function y(e){"show"===e?d(O.BUY_PRO_BUTTON,O.SHOW):"click"===e&&d(O.BUY_PRO_BUTTON,O.CLICK)}function S(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];switch(e){case"user":case"user-menu":g.apply(void 0,n);break;case"list of services":Object(w.isObject)(n[0])?v(n[0]):p(n[0],O.CLICK);break;case"upgrade_pro":y.apply(void 0,n);break;case"yandex":l(O.HEADER_METRIKA_LOGO,O.HEADER_METRIKA_LOGO_BASE);break;case"360":l(O.HEADER_METRIKA_LOGO,O.HEADER_METRIKA_LOGO_360);break;case"more":m("open"===n[0]?[]:n)}}Object.defineProperty(t,"__esModule",{value:!0}),t.sendYandexHeaderLeftMetrika=l,t.sendYandexHeaderRightMetrika=d,t.sendSettingsMetrika=f,t.sendExtraMetrika=p,t.sendUserPopupClickMetrika=g,t.sendHeaderServicesPopupMetrika=m,t.sendShowOfMainServices=v,t.sendCompactServicesMetrika=b,t.sendShowOfCompactServices=_,t.sendSubscriptionButtonMetrics=y,t.countMetrikaFn=S;var w=n(138),O=(n.n(w),n(411)),M=n(356)},function(e,t,n){"use strict";var r=n(3001);t.a=r.a},,,,function(e,t,n){"use strict";var r=n(577);n.n(r);n.o(r,"BasicTextMessage")&&n.d(t,"a",(function(){return r.BasicTextMessage}));var i=n(3051);n.d(t,"b",(function(){return i.a}))},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){return c(e)||u(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function l(e,t){return p(e)||f(e,t)||d()}function d(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function f(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function p(e){if(Array.isArray(e))return e}function g(e){var t=e||{},n=t.ids;return n&&(_.isString(n)||_.isArray(n)&&1===n.length)}function h(e){var t=[ns.Model.get(w.SETTINGS),ns.Model.get(w.PREDEFINED_DATA),ns.Model.get(w.SIGNS),ns.Model.get(w.LABELS)],n=e||{},r=n.ids,i=n.tids,o=Boolean(i);if(g(e)&&!o){t.push(ns.Model.get(w.MESSAGE,{ids:r}));var a=ns.Model.infoLite(w.MBODY).calculateParamsForMessageBody(e);a&&t.push(ns.Model.get(w.MBODY,a))}return t}function m(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return!e.ids||g(e)?new Promise(function(e){ns.forcedRequest(w.INIT_COMPOSE).then((function(t){return e(t)}),(function(){return e()}))}):Promise.resolve()}function v(e){var t=h(e);return new Promise(function(n,r){Promise.all([m(e),ns.request(t)]).then((function(e){var t=l(e,2),r=t[0],i=void 0===r?[]:r,o=t[1];return n([].concat(a(o),a(i)))})).catch(r)})}function b(e){var t=h(e).filter((function(e){var t=e.id;return Object(S.includes)([w.MESSAGE,w.MBODY],t)})),n=t.map((function(e){var t=e.id,n=e.params;return ns.Model.get(t,i({},n,{force:!0}))}));return n.length?ns.forcedRequest(n).then((function(e){e.forEach((function(e){var t=i({},e.params,{force:null});ns.Model.get(e.id,t).setData(e.getData())}))})):Promise.resolve()}function y(e){if(e){var t=e.filter((function(e){return e&&e.id===w.INIT_COMPOSE}))[0];return t&&t.data.messageId}}t.c=v,t.b=b,t.a=y;var S=n(138),w=(n.n(S),{INIT_COMPOSE:"do-init-compose",MESSAGE:"message",MBODY:"message-body",SETTINGS:"settings",PREDEFINED_DATA:"compose-predefined-data",SIGNS:"signs",LABELS:"labels"})},,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"_/d54d57b887769a427474b0c8c7aaf694-attach_icon_powerpoint.svg"},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){var t=ns.Model.get("folders").getFolderById(e);return t?t.symbol||"user":null}function i(e){var t={};if(Daria.isPriorityTab())t.container_kind="tab",t.container_id=t.container_type="priority";else if(Daria.isAttachmentsTab())t.container_kind="tab",t.container_id="attachments",t.container_type="attachments";else if(Daria.isSearchPage())t.container_kind="search",t.container_id="",t.container_type="";else if(Daria.areFoldersTabsEnabled()&&e.isInTab()){var n=e.getTabId();t.container_kind="tab",t.container_id=n,t.container_type=n}else{var i=e.getFolderId();t.container_kind="folder",t.container_id=i,t.container_type=r(i)}return t}function o(e){return Daria.Config.yandexuid+(e||"")+Math.random().toString(16).slice(2)}t.c=r,t.b=i,t.a=o},,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetsStore=void 0;var i=n(351),o=n(138),a=n(571),s=n(459),u=n(363),c=(function(){function e(e){var t,n=this;this.datasyncService=e,this.isPromoClosed=!1,this.onPromo=function(e){e&&(n.onToggle({isExpanded:!0}),i.reaction((function(){return n.isExpanded}),(function(e,t){e||(n.setIsPromoClosed(!0),t.dispose())})))},this.isExpanded=null!==(t=e.isWidgetsExpanded)&&void 0!==t?t:s.getSettingsService().isSidebarExpanded,this.expandedUpdateTimestamp=e.widgetsExpandedUpdateTime,i.reaction((function(){return n.isExpanded}),(function(e){a.triggerNsEvent("daria:vSidebarWithWidgets:toggleWrapper",e)}))}return e.prototype.onToggle=function(e){var t=e.isExpanded,n=e.save;this.isExpanded=t,this.expandedUpdateTimestamp=new Date,n&&this.datasyncService.setWidgetsExpanded(this.isExpanded)},e.prototype.setIsPromoClosed=function(e){this.isPromoClosed=e},e.instance=o.memoize((function(){return new e(u.getPsSettingsDatasyncService())})),r([i.observable],e.prototype,"isExpanded",void 0),r([i.observable],e.prototype,"expandedUpdateTimestamp",void 0),r([i.observable],e.prototype,"isPromoClosed",void 0),r([i.action],e.prototype,"onToggle",null),r([i.action],e.prototype,"setIsPromoClosed",null),e})();t.WidgetsStore=c},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){return Daria.is3pane(),48},i=function(e,t){var n=Daria.isMessagePage()?window:t.closest(".js-message-scroll-area"),i=!Daria.is3pane()&&Daria.isMessageOpenedInList(),o=Daria.isMessagePage()||i?0:n.scrollTop,a=!Daria.isMessagePage(),s=Daria.isMessagePage()?59:28,u=Daria.isThreadOpenedInList()?r():66,c=a?u:0,l=c+s;Jane.DOM.placeInViewport(e,{top:l-o},{nodePositionBelow:"top",nodePositionAbove:"top"},n)}},,,function(e,t){e.exports={root:"ReplyLaterMenu__root--1nF1r",item:"ReplyLaterMenu__item--1_KCL",unremind:"ReplyLaterMenu__unremind--OisZQ",unremindLabel:"ReplyLaterMenu__unremindLabel--2oYqi",separator:"ReplyLaterMenu__separator--pN3OJ"}},,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(){return o&&window.clearTimeout(o),ns.page.block.clear(),!0}function i(){return new Promise(function(e){r(),o=window.setTimeout(e,a),ns.page.block.add(r)})}var o,a=1e3;t.a=i},,function(e,t,n){"use strict";var r=n(137),i=n.n(r),o=n(468),a=n.n(o);t.a=i.a.createContext({lang:"ru",t:a.a})},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UserPhonesStore=void 0;var a=n(964),s=n(138),u=o(n(400)),c=n(351),l=(function(e){function t(){var t=e.call(this)||this;return t.data={},t._addModelSubscription("userphones",{},{onChanged:function(e){t.data=e||{}}}),t}return r(t,e),Object.defineProperty(t.prototype,"phones",{get:function(){return this.data.phone||[]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isNotEmpty",{get:function(){return this._isNotEmpty(this.data)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasSecurePhone",{get:function(){return this.phones.some((function(e){return e.secure===a.PhoneStatus.ON}))},enumerable:!1,configurable:!0}),t.instance=s.memoize((function(){return new t})),i([c.observable],t.prototype,"data",void 0),i([c.computed],t.prototype,"phones",null),i([c.computed],t.prototype,"isNotEmpty",null),t})(u.default);t.UserPhonesStore=l},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?s(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,"a",(function(){return y}));var g,h,m,v=n(351),b=n(400),_=n(636),y=(n.n(_),g=m=(function(e){function t(){var e;return i(this,t),e=o(this,a(t).call(this)),f(s(e),"data",h,s(e)),e._addModelSubscription("account-information",{},{onChanged:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.data=t},onDestroyed:function(){e.data={}}}),e}return l(t,e),c(t,[{key:"uid",get:function(){return this.data.uid}},{key:"isB2BUser",get:function(){return this.data.isB2BUser}},{key:"domainAlias",get:function(){return this.data.aliases&&this.data.aliases[7]}},{key:"isAdmin",get:function(){return this.data.isAdmin}}]),c(t,[{key:"isDomainAlias",value:function(e){return Object(_.areEmailsEqual)(e,this.domainAlias)}}]),t})(b.default),h=p(g.prototype,"data",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),p(g.prototype,"uid",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"uid"),g.prototype),p(g.prototype,"isB2BUser",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"isB2BUser"),g.prototype),p(g.prototype,"domainAlias",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"domainAlias"),g.prototype),p(g.prototype,"isAdmin",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"isAdmin"),g.prototype),g)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return a}));var a=(function(){function e(){r(this,e),this.cacheById={},this.cacheByEmail={}}return o(e,[{key:"readContact",value:function(e){return this.cacheById[e]}},{key:"writeContact",value:function(e){e&&(this.cacheById[e.id]=e,this.cacheByEmail[e.email]=e)}},{key:"findContactByEmail",value:function(e){return this.cacheByEmail[e]}},{key:"deleteContact",value:function(e){var t=this.readContact(e);t&&(delete this.cacheById[t.id],delete this.cacheByEmail[t.email])}},{key:"deleteContactByEmail",value:function(e){var t=this.findContactByEmail(e);t&&delete this.cacheByEmail[t.email]}}]),e})()},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?s(e):t}function a(e){return(a=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,"a",(function(){return _}));var g,h,m,v=n(351),b=n(400),_=(g=m=(function(e){function t(){var e;return i(this,t),e=o(this,a(t).call(this)),f(s(e),"data",h,s(e)),e.LS_ITEM_NAME="newLettersInMA",e._addModelSubscription("head-user-state"),e}return l(t,e),c(t,[{key:"hasNewLettersInMA",get:function(){return this.data.newLettersInMA}}]),c(t,[{key:"setNewLettersInMA",value:function(e){ns.Model.get("head-user-state").setNewLettersInMA(e)}}]),t})(b.default),h=p(g.prototype,"data",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),p(g.prototype,"hasNewLettersInMA",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"hasNewLettersInMA"),g.prototype),p(g.prototype,"setNewLettersInMA",[v.action],Object.getOwnPropertyDescriptor(g.prototype,"setNewLettersInMA"),g.prototype),g)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return s(e)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function s(e){if(Array.isArray(e))return e}function u(e){return d(e)||l(e)||c()}function c(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function l(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function d(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function f(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function p(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){function o(e){f(s,r,i,o,a,"next",e)}function a(e){f(s,r,i,o,a,"throw",e)}var s=e.apply(t,n);o(void 0)})}}function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function v(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?_(e):t}function b(e){return(b=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function _(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function y(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&S(e,t)}function S(e,t){return(S=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function O(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function M(e,t,n){return t&&O(e.prototype,t),n&&O(e,n),e}function D(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function T(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,"a",(function(){return te}));var x,C,E,P,k,j,A,I=n(351),R=n(400),B=n(375),F=n(138),L=n.n(F),N=n(87),H=(n.n(N),n(139)),U=(n.n(H),n(1502)),W=n(728),z=n(2183),V=n(1503),$=n(356),q=n(506),G=n(2184),K=n(1504),Y=n(968),J=n(637),X=n.n(J),Q=n(62),Z=n(2186),ee=(n.n(Z),x=(function(){function e(t,n,r,i){w(this,e),this._messagesStore=t,this._key=i,this._mid=n,this._hid=r}return M(e,[{key:"_getDataPart",value:function(e){return this._messagesStore.messageData[e].get(this._key)||null}},{key:"avatars",get:function(){return this._messagesStore.messageData.avatars}},{key:"ready",get:function(){var e=this._getDataPart("loading-status");return!!e&&Boolean(e.ready)}},{key:"messageBody",get:function(){return this._getDataPart("message-body")}},{key:"messageModel",get:function(){return this._getDataPart("message")}},{key:"dkimTrustLevel",get:function(){return this._getDataPart("dkim-trust-level")||0}},{key:"key",get:function(){return this._key}},{key:"mid",get:function(){return this._mid}},{key:"hid",get:function(){return this._hid||null}}]),e})(),T(x.prototype,"avatars",[I.computed],Object.getOwnPropertyDescriptor(x.prototype,"avatars"),x.prototype),T(x.prototype,"ready",[I.computed],Object.getOwnPropertyDescriptor(x.prototype,"ready"),x.prototype),T(x.prototype,"messageBody",[I.computed],Object.getOwnPropertyDescriptor(x.prototype,"messageBody"),x.prototype),T(x.prototype,"messageModel",[I.computed],Object.getOwnPropertyDescriptor(x.prototype,"messageModel"),x.prototype),T(x.prototype,"dkimTrustLevel",[I.computed],Object.getOwnPropertyDescriptor(x.prototype,"dkimTrustLevel"),x.prototype),x),te=(C=A=(function(e){function t(){var e;return w(this,t),e=v(this,b(t).call(this)),D(_(e),"messageData",E,_(e)),e._processors={"message-body":function(n,r,i){if("ok"!==n.status)return{};var o=n.getFieldsByType("from"),a=n.getFieldsByType("to"),s=n.recipientsCount(),u={from:o.map((function(e){var t=e.email||"";return e.isCorpService=Object(z.a)(t),e.isCorpSender=Daria.email.isCorp(t),e})),to:e._processRecipientGroup(a),cc:e._processRecipientGroup(n.getFieldsByType("cc")),bcc:e._processRecipientGroup(n.getFieldsByType("bcc"))};e.getMaillists(n),e.getAvatars(u);var c=L.a.get(n.data,"info.date.timestamp"),l=c?Daria.MessageTime.getFormattedTime(c).full:"";return{data:n.data,info:{date:l,fields:h({},u,{recipientsCount:s}),isRecipient:n.isRecipient(),isPhishing:n.hasPhishingBody(),attachments:t.processAttachments(n,r,i),downloadAllAttachmentsHref:Daria.url.archive(n.data,r)||"",lang:Daria.Translate.getLangByMid(r),allowedReplyAll:n.allowedReplyAll()}}},message:function(t,n,r){if("ok"!==t.status)return{};var i=t.isSpam()||t.isTrash();r||!Object(q.isMessagePage)()||i?e._updateRelatedMessagesOnSubject(t,n):e.getMessagesOnSubject(n).then((function(){return e._updateRelatedMessagesOnSubject(t,n)}));var o=e.mLabels.getWaitingForReplyLabel(),a=o&&o.lid;return{data:t.data,isImportant:t.isImportant(),isNew:t.isNew(),isDeleted:t.hasLabelWithSymbolicName("deleted_label")||t.get(".flags.imap-deleted"),isOutcomeMessage:t.isOutcomeMessage(),isWaitingForReply:t.hasLabel(a),isYaSupport:t.isYaSupport(),isPhishing:t.isPhishing(),isSpam:t.isSpam(),isTrash:t.isTrash(),isHuman:t.isHuman(),canReplyQR:t.canReplyQR(),isPriority:t.isPriority(),folderName:e.getFolderName(t),meetingHref:e.getMeetingHref(t),shouldHideThreadControls:1===t.getThreadCount(),showFolder:!r&&!e.viewCheckHide(n),labels:e._processLabels(t.data.lid),canNavigateNext:!r&&e._canOpenThread(n,X.a.NEXT),canNavigatePrev:!r&&e._canOpenThread(n,X.a.PREV),spamFlags:t.get(".type")||[],isReplyLaterStarted:t.isReplyLaterStarted(),isReplyLaterFinished:t.isReplyLaterFinished()}}},D(_(e),"setMessagesFromSender",P,_(e)),e.getMessagesFromSender=function(t){var n=e.messagesFromSender.get(t)||{isLoading:!1,messages:[],hasMore:!0};if(!n.isLoading&&n.hasMore)return e.setMessagesFromSender(t,h({},n,{isLoading:!0})),ns.request("messages-from",{from:t,first:n.messages.length}).fail((function(){return null})).then((function(n){return e._processMessagesFromResult(t,n)}))},e._processMessagesFromResult=(function(){var t=p(regeneratorRuntime.mark((function t(n,r){var i,o,a,s,c,l;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(i=L.a.get(r,"[0].data.envelopes"),o=Boolean(L.a.get(r,"[0].data.details.canLoadMore")),a=i?i.map((function(e){return e.mid})):[],s=[],!a||!a.length){t.next=9;break}return t.next=7,ns.request(a.map((function(e){return{id:"message",params:{ids:e}}}))).fail((function(){return[]}));case 7:c=t.sent,s=c.filter((function(e){return e.isValid()})).map((function(t){return e._getRelatedMessageInfo(t.data)}));case 9:l=e.messagesFromSender.get(n),e.setMessagesFromSender(n,{isLoading:!1,messages:[].concat(u(l.messages),u(s)),hasMore:o});case 11:case"end":return t.stop()}}),t)})));return function(e,n){return t.apply(this,arguments)}})(),D(_(e),"getMessagesOnSubject",k,_(e)),D(_(e),"_updateRelatedMessagesOnSubject",j,_(e)),e._getRelatedMessageInfo=function(t){var n=t.firstline,r=t.mid,i=t.fid,o=t.field,a=t.date,s=t.new,u=t.subject,c=Daria.MessageTime.getFormattedTime(a.timestamp),l=o&&o.find((function(e){return"from"===e.type}))||{},d=l.name,f=l.email,p=e.foldersStore.isFidSymbol(i,H.WellKnownFolderSymbol.TEMPLATE),g=e.foldersStore.isFidSymbol(i,H.WellKnownFolderSymbol.DRAFT),h=null;return p?h=i18n("%Compose_Шаблон"):g&&(h=i18n("%Compose_Черновик")),{mid:r,date:c.list,firstline:n,isNew:Boolean(s),from:d||f,url:e.getMessageUrl(r),subject:u,note:h}},e._extractNearestUrls=function(t,n){var r={nextUrl:e.getMessageUrl(n.getNextMid()),previousUrl:e.getMessageUrl(n.getPreviousMid())};e.messageData["nearest-messages"].set(t,r)},e._requestNearestMessages=function(t){ns.request("message-nearest",{ids:t}).then((function(n){return e._extractNearestUrls(t,n[0])}))},e.getMeetingHref=function(e){var t=e.hasType(4)||e.hasType(103),n=Daria.Config["is-corp"],r=null;if(n?r=Daria.Config["timeline-yandex-host-event"]:Object($.isB2BUser)()&&(r=Daria.Config["calendar-url"]+"/event"),r&&t){var i=Object(Q.a)({name:e.get(".subject")||e.get(".firstline")||"",attendees:L.a.uniq(e.get(".field").map((function(e){return e.email})))});return"".concat(r,"?").concat(i)}return null},e._models=["message-body","message"],e.openPreviousMessage=function(t){e._navigateFromMessage(t,X.a.PREV)},e.openNextMessage=function(t){e._navigateFromMessage(t,X.a.NEXT)},e.viewCheckHide=function(e){var t=ns.page.current.params||{},n=t.current_folder,r=t.tabId,i=ns.Model.get("message",{ids:e});if(Daria.areFoldersTabsEnabled()&&i.isInTab()&&i.getTabId()!==r)return!1;if(!n)return!0;var o=i.getFolderId();return!o||n===o},e.avatarsService=new W.a,e.toolbarService=new K.a,e.foldersStore=Object(B.getFoldersStore)(),e.mLabels=ns.Model.get("labels"),e.messageData.avatars=Object.keys(Daria.Recipients._cache).reduce((function(e,t){var n=Daria.Recipients._cache[t],r=n.mono,i=n.url,o=n.color;return(!i||Z.relativeOrAbsolutePathRegExp.test(i))&&(o||r)&&(e[t]={url:i,color:o,monogram:r}),e}),{}),e.resetRightColumn(),e}return y(t,e),M(t,[{key:"_processRecipientGroup",value:function(e){var t=this;return e.map((function(e){var n=h({},e);return n.isMyEmail=Object(G.a)(n.email),n.isMailList=t.messageData.maillists.has(e.email),n}))}},{key:"_getButtons",value:function(e,t){return this.toolbarService.getButtons(e,t)}},{key:"_processRelatedMessages",value:function(e,t){var n=L.a.get(t,"[0].data.message"),r=Boolean(L.a.get(t,"[0].data.details.has-more")),i=n?n.map(this._getRelatedMessageInfo):[],o=this.messageData["messages-on-subject"].get(e);this.messageData["messages-on-subject"].set(e,{isLoading:!1,messages:[].concat(u(o.messages),u(i)),hasMore:r,promise:!r&&o.promise})}},{key:"updateButtons",value:function(e,t){var n=this._getKey(e,t),r=this._getButtons(e,t);this.messageData["toolbar-buttons"].set(n,r)}},{key:"getAvatars",value:function(e){var t=this,n=L()(e).values().flatten().filter(Object(I.action)((function(e){return!t.messageData.avatars[Object(V.a)(e)]}))).uniq().value();n.length&&this.avatarsService.loadAvatars(n).then(Object(I.action)((function(e){var n=h({},t.messageData.avatars);e.forEach(Object(I.action)((function(e){n[Object(V.a)(e.contact)]=e.avatar}))),t.messageData.avatars=n})))}},{key:"getFolderName",value:function(e){if(Daria.areFoldersTabsEnabled()&&e.isInTab()){var t=ns.Model.get("tabs").getTab(e.getTabId());return t?t.getData().title:void 0}var n=e.getFolderId(),r=this.foldersStore.getFolderByFid(n)||this.foldersStore.getFolderBySymbol(n)||{};return L.a.get(r,"data.name")}},{key:"getMaillists",value:function(e){var t=this;if(Daria.IS_CORP){var n=L()(e.getRecipients(!0,!0)).values().flatten().pluck("email").compact().uniq().value(),r=n.filter(Daria.email.isCorp).filter(Object(I.action)((function(e){return!t.messageData.maillists.has(e)})));r.length&&ns.Model.get("get-maillists-static").getMaillists(r).then(Object(I.action)((function(n){L.a.forEach(n,Object(I.action)((function(e){return t.messageData.maillists.set(e,!0)})));var r=t.messageData["message-body"].get(e.params.ids);r&&(t._addMailListDataToRecipients(r.info.fields.to,n),t._addMailListDataToRecipients(r.info.fields.cc,n),t._addMailListDataToRecipients(r.info.fields.bcc,n),t.messageData["message-body"].set(e.params.ids,h({},r)))})))}}},{key:"_addMailListDataToRecipients",value:function(e,t){e.forEach(Object(I.action)((function(e){t.includes(e.email)&&(e.isMailList=!0)})))}},{key:"getMessageData",value:function(e,t){var n=this,r=this._getKey(e,t);if(this.messageData["loading-status"].has(r))return new ee(this,e,t,r);this.messageData["loading-status"].set(r,{});var i={ids:e};t&&(i.hid=t);var o=this._models.map(Object(I.action)((function(r){return n.callProcessorAndCheckStatus(r,e,t),n._addModelSubscription(r,i,{onChanged:Object(I.action)((function(){n.callProcessorAndCheckStatus(r,e,t)}))}),ns.Model.get(r,i)})));return ns.request(o),!t&&Object(q.isMessagePage)()&&this._requestNearestMessages(e),new ee(this,e,t,r)}},{key:"_getKey",value:function(e,t){return t?"mid=".concat(e,"&hid=").concat(t):e}},{key:"callProcessorAndCheckStatus",value:function(e,t,n){var r=this._getKey(t,n),i={ids:t};n&&(i.hid=n);var o=ns.Model.get(e,i);if(this.messageData[e].set(r,this._processors[e](o,t,n)),"ok"===o.status){var a=this.messageData["loading-status"].get(r);a=Object.assign({},a,m({},e,!0)),this.messageData["loading-status"].set(r,a),this._models.every((function(e){return a[e]}))&&(this.messageData["loading-status"].set(r,Object.assign({},a,{ready:!0})),this.updateButtons(t,n),this.messageData["dkim-trust-level"].set(r,Object(U.b)(t,n)))}}},{key:"markMessage",value:function(e){var t=ns.Model.get("message",{ids:e});Daria.MOPS.mark(t.getMessagesCheckedModel())}},{key:"unmarkMessage",value:function(e){var t=ns.Model.get("message",{ids:e});Daria.MOPS.unmark(t.getMessagesCheckedModel())}},{key:"unlabel",value:function(e,t){var n=ns.Model.get("message",{ids:e});Daria.MOPS.updateHelper("unlabel",n.getMessagesCheckedModel(),t)}},{key:"markImportant",value:function(e){var t=ns.Model.get("message",{ids:e}),n=this.mLabels.getImportantLID();Daria.MOPS.updateHelper("label",t.getMessagesCheckedModel(),n)}},{key:"unmarkImportant",value:function(e){var t=this.mLabels.getImportantLID();this.unlabel(e,t)}},{key:"markPriority",value:function(e){var t=ns.Model.get("message",{ids:e}),n=this.mLabels.getPriorityLID();Daria.MOPS.label(t.getMessagesCheckedModel(),{lid:n})}},{key:"unmarkPriority",value:function(e){var t=ns.Model.get("message",{ids:e}),n=this.mLabels.getPriorityLID();Daria.MOPS.unlabel(t.getMessagesCheckedModel(),{lid:n})}},{key:"getMessageUrl",value:function(e){if(!e)return null;var t=ns.Model.get("message",{ids:e});return Daria.areFoldersTabsEnabled()&&t.isInTab()?Daria.Page.generateUrl.contentMessage(t.data):ns.router.generateUrl("message",{ids:e})}},{key:"closeThreadMessage",value:function(e){return ns.Model.get("state-message-thread-item",{ids:e}).setOpen(!1)}},{key:"closeMessage",value:function(){ns.page.go(Daria.Page.generateUrl.closeMessage())}},{key:"_navigateFromMessage",value:function(e,t){var n=this,r=ns.Model.get("messages",ns.page.current.params),i=r.getNearestMessageByMid(e,t);if(i)return void ns.page.go(Daria.Page.generateUrl.contentMessage3pane(i.getData()));t===X.a.NEXT&&r.canLoadMore()&&r.loadMore().then((function(){if(n._canOpenThread(t)){var e=r.getNearestMessageByMid(n.params.ids,t);ns.page.go(Daria.Page.generateUrl.contentMessage3pane(e.getData()))}else n.$nextArrow.toggleClass("is-disabled",!0)}))}},{key:"_canOpenThread",value:function(e,t){var n=ns.Model.get("message",{ids:e}).isPinned(),r=ns.Model.get("messages",ns.page.current.params),i=r.getNearestMessageByMid(e,t),o=i&&i.isPinned()===n;return t===X.a.NEXT?o||!i&&r.canLoadMore():o}},{key:"runOperation",value:function(e,t){this.toolbarService.runOperation(e,t)}},{key:"_processLabels",value:function(e){var t=this.mLabels.data.label.filter((function(e){return e.user}));return e.map((function(e){var n=L.a.find(t,{lid:e});return n?h({name:n.name,lid:e},Object(Y.a)(n),{href:Object(Y.b)(n)}):null})).filter((function(e){return e}))}},{key:"setMisc",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.messageData.misc.set(e,L.a.extend({},this.messageData.misc.get(e),t))}},{key:"resetRightColumn",value:function(){this.rightColumnScrollTop=void 0,this.rightColumnInitialState=void 0}},{key:"replyLaterRemove",value:function(e){var t=ns.Model.get("message",{ids:e});Daria.MOPS["reply-later-remove"](t.getMessagesCheckedModel())}},{key:"messagesFromSender",get:function(){return this.messageData["messages-from-sender"]}}],[{key:"processAttachments",value:function(e,t,n){return e.data&&e.data.attachment&&e.data.attachment.length?(e.data&&e.data.attachment&&e.data.attachment).filter((function(e){return!e.inline})).map((function(e){var r=Boolean(e["preview-supported"]||e.external_transformer||e.url||e.message),i=e.icon||e.class||"",o=h({},e,{length:e.length||parseInt(e.size)||null,isDisk:e.narod,nameext:"mail"===i.toLowerCase()?"eml":e.nameext,previewData:Daria.getAttachPreviewData(e,t,t,n),downloadHref:Daria.url.attachment(e,t),canUploadToDisk:Object(N.hasFeature)(N.Features.SAVE_TO_DISK_BUTTON),hasPreview:r});return r?(o.href=o.previewHref=o.previewData.href,o.target=o.previewTarget="_blank",o.clickAction="preview"):(o.href=o.downloadHref,o.clickAction="download"),e.narod&&(o.downloadTarget="_blank"),e["preview-src"]?o.thumbSrc=e["preview-src"]:"image"===e.type&&(o.thumbSrc=Daria.url.attachment(e,t,{no_disposition:!0,thumb:!0,exif_rotate:!0})),o})):null}}]),t})(R.default),E=T(C.prototype,"messageData",[I.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{maillists:new Map,"message-body":new Map,message:new Map,"messages-on-subject":new Map,"nearest-messages":new Map,"messages-from-sender":new Map,"dkim-trust-level":new Map,"loading-status":new Map,avatars:{},"toolbar-buttons":new Map,misc:new Map}}}),P=T(C.prototype,"setMessagesFromSender",[I.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e.messageData["messages-from-sender"].set(t,n)}}}),T(C.prototype,"messagesFromSender",[I.computed],Object.getOwnPropertyDescriptor(C.prototype,"messagesFromSender"),C.prototype),k=T(C.prototype,"getMessagesOnSubject",[I.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.messageData["messages-on-subject"].get(t)||{isLoading:!1,messages:[],hasMore:!0};if(n.isLoading||!n.hasMore)return n.promise;var r=ns.Model.get("message",{ids:t});return e.messageData["messages-on-subject"].set(t,h({},n,{isLoading:!0,promise:ns.forcedRequest("messages",{thread_id:r.get(".tid"),prevent_update:!0,sort_type:"date",first:n.messages.length}).then(Object(I.action)((function(n){return e._processRelatedMessages(t,n)})))})),e.messageData["messages-on-subject"].get(t).promise}}}),j=T(C.prototype,"_updateRelatedMessagesOnSubject",[I.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var r=!0,o=!1,a=void 0;try{for(var s,u=e.messageData["messages-on-subject"][Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=i(s.value,2),l=c[0],d=c[1];if(d.messages.filter(Object(I.action)((function(e){return e.mid===n}))).length){var f=d.messages.map(Object(I.action)((function(r){return r.mid===n?h({},r,{},e._getRelatedMessageInfo(t.data)):r})));e.messageData["messages-on-subject"].set(l,h({},d,{messages:f}))}}}catch(e){o=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(o)throw a}}}}}),T(C.prototype,"_processRelatedMessages",[I.action],Object.getOwnPropertyDescriptor(C.prototype,"_processRelatedMessages"),C.prototype),T(C.prototype,"updateButtons",[I.action],Object.getOwnPropertyDescriptor(C.prototype,"updateButtons"),C.prototype),T(C.prototype,"getAvatars",[I.action],Object.getOwnPropertyDescriptor(C.prototype,"getAvatars"),C.prototype),T(C.prototype,"getMaillists",[I.action],Object.getOwnPropertyDescriptor(C.prototype,"getMaillists"),C.prototype),T(C.prototype,"_addMailListDataToRecipients",[I.action],Object.getOwnPropertyDescriptor(C.prototype,"_addMailListDataToRecipients"),C.prototype),T(C.prototype,"getMessageData",[I.action],Object.getOwnPropertyDescriptor(C.prototype,"getMessageData"),C.prototype),T(C.prototype,"setMisc",[I.action],Object.getOwnPropertyDescriptor(C.prototype,"setMisc"),C.prototype),C)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){var n={ids:e};t&&(n.hid=t);var r=ns.Model.get("message",n).getTrustLevel();if(!Daria.IS_CORP)return r;if(null===r){var i=ns.Model.get("message-body",{ids:e}).get(".info.dkimStatus"),o=ns.Model.get("message-body",{ids:e}).get(".info.dkim")||{};if("string"==typeof i&&"pass"===i)return Daria.email.isCorp("any".concat(o.headeri))?4:null}return r}t.b=i;var o=n(423),a=n.n(o),s=function e(t){var n=this;r(this,e),this._isCollected=function(){return Boolean(ns.Model.get("message-body",{ids:n.mid}).get(".info.collectedRpopId"))},this._getCollectorEmail=function(){var e=ns.Model.get("message-body",{ids:n.mid}).get(".info.collectedRpopEmail");return e||(n._isCollected()?i18n("%CollectedEmail"):void 0)},this._getDescription=function(){switch(n._getTrustLevel()){case 1:return i18n("%TrustPopupDescription_level_1");case 2:return i18n("%TrustPopupDescription_level_2");case 3:return i18n("%TrustPopupDescription_level_3",n._getSenderDomain());case 4:return i18n("%TrustPopupDescription_level_4");case 5:return i18n("%TrustPopupDescription_level_5");case 6:return i18n("%TrustPopupDescription_level_6")}},this._getTrustLevel=function(){return i(n.mid)},this._getSenderDomain=function(){return ns.Model.get("message-body",{ids:n.mid}).get(".info.senderDomain")},this._getSign=function(){var e=ns.Model.get("message-body",{ids:n.mid}).get(".info.dkimStatus"),t=ns.Model.get("message-body",{ids:n.mid}).get(".info.signedBy");return"string"==typeof e?"pass"===e?t:"fail"===e?i18n("%СhangedАfterSending"):i18n("%Нет"):t||i18n("%Нет")},this._getSpam=function(){return ns.Model.get("message-body",{ids:n.mid}).get(".info.isSpam")?i18n("%Да"):null},this._getEncryption=function(){return ns.Model.get("message-body",{ids:n.mid}).get(".info.encrypted")?i18n("%Да"):i18n("%Нет")},this.getContent=function(){return{collectorEmail:n._getCollectorEmail(),description:n._getDescription(),encryption:n._getEncryption(),senderDomain:n._getSenderDomain(),sign:n._getSign(),spam:n._getSpam()}},this.mid=t},u=a()((function(e){return new s(e)}));t.a={getInstance:u}},function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=function(e){var t=e.contact,n=e.mid,r=e.node,i=t.email,o=t.ref,a=t.name;ns.action.run("mail-common.abook-person-popup",{email:i,ref:o,name:a,ids:n,node:r})},i=function(e){var t=e.contact,n=e.mid,r=e.node,i=t.email,o=t.ref,a=t.name;ns.action.run("mail-common.contact-actions",{email:i,name:a,ref:o,ids:n,node:r})},o=function(e){var t=e.email,n=e.name;return Daria.Recipients._getCacheId(t,n)}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return ns.router.generateUrl("compose2",{ids:t,oper:e})}n.d(t,"a",(function(){return f}));var u=n(138),c=n.n(u),l=n(139),d=(n.n(l),n(356)),f=(function(){function e(){i(this,e)}return a(e,[{key:"_processButton",value:function(t){var n=e.getButtonById(t.id);return{id:n.id,text:n.name}}},{key:"_toShowUnsubscribeButton",value:function(e){return!(Object(d.isCorp)()||!e||e.inFolderBySymbol(l.UnsubscribeDisabledFolders))&&e.isSubscriptionMessage()}},{key:"getButtons",value:function(e,t){var n=Daria.Constants.TOOLBAR_BUTTONS,r={ids:e};t&&(r.hid=t);var i=ns.Model.get("message",r),o=ns.Model.get("message-body",r),a=i.inFolderBySymbol(l.WellKnownFolderSymbol.DRAFT),s=i.inFolderBySymbol(l.WellKnownFolderSymbol.ARCHIVE),u=i.isSpam(),d=c.a.contains(i.getSOLabels(),"12"),f=o.allowedReplyAll(),p=this._toShowUnsubscribeButton(i),g=!d&&!a,h=[{id:n.REPLY,condition:g&&!f},{id:n.REPLY_ALL,condition:g&&f},{id:n.DRAFT_FINISH,condition:a},{id:n.FORWARD,condition:g},{id:n.DELETE,condition:!0},{id:n.SPAM,condition:!a&&!u&&g},{id:n.NOT_SPAM,condition:!a&&u},{id:n.REPLY,condition:g&&f},{id:n.UNSUBSCRIBE_ONE,condition:p},{id:n.ARCHIVE,condition:!a&&!s}];h.push({id:n.LABELS_ACTIONS,condition:!0},{id:n.FOLDERS_ACTIONS,condition:!0});var m=h.filter((function(e){return e.condition})).map(this._processButton),v=Daria.is3pv()?3:4,b=m.splice(0,v);return b.push(this._processButton({id:n.MORE})),{visibleButtons:b}}},{key:"runOperation",value:function(e,t){var n=n||{},r=this.getMessagesCheckedInstance(e);return Daria.MOPS[t](r,n)}},{key:"getMessagesCheckedInstance",value:function(e){return ns.Model.get("messages-checked",{mid:e}).checkByMidInParams()}}],[{key:"_getReplyUrl",value:function(e){return s("reply",e)}},{key:"_getReplyAllUrl",value:function(e){return s("reply-all",e)}},{key:"_getForwardUrl",value:function(e){return s("forward",e)}},{key:"getButtonById",value:function(e){return ns.Model.get("all-toolbar-buttons").getButtonById(e)}},{key:"getButtonHref",value:function(t,n){var i,o=Daria.Constants.TOOLBAR_BUTTONS,a=(i={},r(i,o.REPLY,e._getReplyUrl),r(i,o.REPLY_ALL,e._getReplyAllUrl),r(i,o.FORWARD,e._getForwardUrl),i);return a[n]?a[n](t):null}}]),e})()},function(e,t,n){"use strict";function r(e){var n=t.OldLabelBackgroundColors.getItemCoords(e);if(n){var r=n.row,o=n.column;return{background:t.LabelBackgrounds.getCell({row:r,column:o}),color:t.LabelTextColors.getCell({row:r,column:o})}}var a=e;return"#"!==a[0]&&(a="#"+a),{background:a,color:i(a)}}function i(e){var n=t.LabelBackgrounds.getItemCoords(e);if(!n)return null;var r=n.row,i=n.column;return t.LabelTextColors.getCell({row:r,column:i})}Object.defineProperty(t,"__esModule",{value:!0}),t.getLabelColors=t.OldLabelBackgroundColors=t.LabelTextColors=t.LabelBackgrounds=void 0;var o=n(2185);t.LabelBackgrounds=new o.Matrix({columns:[["#C2F2C7","#A6E0AD","#83CC8A","#58A05F"],["#D0F3F7","#A6DBE0","#83C5C7","#448F91"],["#DCE4F7","#BBCDED","#99B8F2","#6083D6"],["#E4DCF7","#D3C7F2","#BCA6FF","#795DC1"],["#D7EAF2","#A5D5EA","#7BC1DF","#3E96BB"],["#EEF19E","#E6E993","#D2D668","#A6AB16"],["#FFDF9A","#FFC669","#FAAD32","#E69412"],["#FFD9DE","#FCB7C0","#F496A3","#E75669"]]}),t.LabelTextColors=new o.Matrix({columns:[["#005704","#005704","#005704","#000"],["#004E57","#004E57","#004E57","#000"],["#002987","#002987","#002987","#000"],["#260087","#260087","#260087","#000"],["#0A3C52","#0A3C52","#0A3C52","#000"],["#5D4C00","#5D4C00","#5D4C00","#000"],["#692C00","#6A2D00","#6A2D00","#000"],["#8A0012","#8A0012","#8A0012","#000"]]}),t.OldLabelBackgroundColors=new o.Matrix({columns:[["31c73b","28a931","1d8925","136619"],["7cc3c4","67a3a4","508182","395e5f"],["5a8eff","5080e7","456ec8","385ca8"],["ba99ff","a488e2","8e75c4","7760a4"],["a8bcce","8e9faf","73818e","57616c"],["c1be00","a19f00","807e00","5c5a00"],["f99000","db7f00","bb6c00","9c5800"],["ff8985","ff3f30","f32300","d51e00"]]}),t.getLabelColors=r},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return d}));var l=n(966),d=(function(e){function t(){return i(this,t),o(this,s(t).apply(this,arguments))}return u(t,e),t})(l.a)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function s(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,"a",(function(){return f}));var u,c,l,d=n(351),f=(u=l=(function(){function e(){r(this,e),a(this,"open",c,this)}return o(e,[{key:"toggle",value:function(e){this.open="boolean"==typeof e?e:!this.open}}]),e})(),c=s(u.prototype,"open",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s(u.prototype,"toggle",[d.action],Object.getOwnPropertyDescriptor(u.prototype,"toggle"),u.prototype),u)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function s(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,"a",(function(){return f}));var u,c,l,d=n(351),f=(u=l=(function(){function e(){r(this,e),a(this,"open",c,this)}return o(e,[{key:"hide",value:function(){this.open=!1}},{key:"show",value:function(){this.open=!0}}]),e})(),c=s(u.prototype,"open",[d.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),s(u.prototype,"hide",[d.action],Object.getOwnPropertyDescriptor(u.prototype,"hide"),u.prototype),s(u.prototype,"show",[d.action],Object.getOwnPropertyDescriptor(u.prototype,"show"),u.prototype),u)},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.TabsStore=void 0;var a=n(138),s=o(n(400)),u=n(351),c=(function(e){function t(){var t=e.call(this)||this;return t.tabs=[],t._addModelSubscription("tabs",{},{onChanged:function(e){var n;t.tabs=null!==(n=null===e||void 0===e?void 0:e.tabs)&&void 0!==n?n:[]}}),t}return r(t,e),t.prototype.getTabById=function(e){return this.tabs.find((function(t){return t.id===e}))||null},t.instance=a.memoize((function(){return new t})),i([u.observable],t.prototype,"tabs",void 0),t})(s.default);t.TabsStore=c},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){i(u,r,o,a,s,"next",e)}function s(e){i(u,r,o,a,s,"throw",e)}var u=e.apply(t,n);a(void 0)})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function h(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,"a",(function(){return x}));var m,v,b,_,y,S,w,O=n(138),M=n.n(O),D=n(351),T=n(400),x=(m=w=(function(e){function t(){var e;return a(this,t),e=c(this,l(t).call(this)),g(d(e),"data",v,d(e)),g(d(e),"userCountersHash",b,d(e)),g(d(e),"_onXivaUpdate",_,d(e)),g(d(e),"_setNewCountById",y,d(e)),g(d(e),"isDropdownOpen",S,d(e)),e._addModelSubscription("user-dropdown-data"),e._requestDataPromise=e._requestModelData("user-dropdown-data",{}),e._requestDataPromise.then((function(t){e.data=t})),ns.events.on("xiva.mail.multi.insert",e._onXivaUpdate),ns.events.on("xiva.mail.multi.update",e._onXivaUpdate),e}return f(t,e),u(t,[{key:"_getUserAccounts",value:function(){return this.data.accounts}},{key:"getUserAccountsCountersHash",value:(function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this._isUserCountersHashEmpty()){e.next=4;break}return e.next=3,this._requestDataPromise;case 3:this.updateUserCountersHash();case 4:return e.abrupt("return",this.userCountersHash);case 5:case"end":return e.stop()}}),e,this)})));return e})()},{key:"_isUserCountersHashEmpty",value:function(){return 0===Object.keys(this.userCountersHash).length}},{key:"updateUserCountersHash",value:function(){var e={};(this._getUserAccounts()||[]).forEach(Object(D.action)((function(t){e[t.uid]=t["fresh-count"]}))),this.userCountersHash=e}},{key:"_getFreshCountByUid",value:function(e){var t=this.data.accounts,n=0;return t&&t.some((function(t){return Number(t.uid)===Number(e)&&(n=Number(t["fresh-count"]||0),!0)})),n}},{key:"getFreshForDefault",value:function(){return this._getFreshCountByUid(Daria.uid)}}]),t})(T.default),v=h(m.prototype,"data",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),b=h(m.prototype,"userCountersHash",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return{}}}),_=h(m.prototype,"_onXivaUpdate",[D.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){e._setNewCountById(n.uid,Number(n.message.fresh_count||0)),Daria.gotNewMail+=e.getFreshForDefault(),Daria.updateTitle()}}}),h(m.prototype,"updateUserCountersHash",[D.action],Object.getOwnPropertyDescriptor(m.prototype,"updateUserCountersHash"),m.prototype),y=h(m.prototype,"_setNewCountById",[D.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var r=e.data;M.a.get(r,".accounts")&&r.accounts.length&&(r.accounts.forEach(Object(D.action)((function(i,o){Number(i.uid)===Number(t)&&(r.accounts[o]["fresh-count"]=n,e.updateUserCountersHash())}))),e.data=r)}}}),S=h(m.prototype,"isDropdownOpen",[D.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return!1}}),m)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return a}));var a=(function(){function e(t){var n=this,i=t.target,o=t.className,a=t.onAdd,s=void 0===a?function(){}:a,u=t.onRemove,c=void 0===u?function(){}:u;r(this,e),this._mutationCallback=function(e){var t=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(t=(o=a.next()).done);t=!0){var s=o.value;if("attributes"===s.type&&"class"===s.attributeName){var u=s.target.classList.contains(n.classToWatch);n.lastClassState!==u&&(n.lastClassState=u,u?n.classAddedCallback():n.classRemovedCallback())}}}catch(e){r=!0,i=e}finally{try{t||null==a.return||a.return()}finally{if(r)throw i}}},this.targetNode=i,this.classToWatch=o,this.classAddedCallback=s,this.classRemovedCallback=c,this.lastClassState=this.targetNode&&this.targetNode.classList.contains(this.classToWatch),window.MutationObserver&&this.targetNode&&(this.observer=new MutationObserver(this._mutationCallback),this.observer.observe(this.targetNode,{attributes:!0}))}return o(e,[{key:"disconnect",value:function(){this.observer&&this.observer.disconnect()}}]),e})()},function(e,t,n){"use strict";var r=n(425);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,"a",(function(){return _}));var u,c,l,d=n(423),f=n.n(d),p=n(351),g=n(731),h=n(50),m=(n.n(h),n(356)),v=n(1514),b=["no-message","not-found"],_=(l=c=(function(){function e(t){i(this,e),this._stores=t}return a(e,[{key:"setSettings",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(){};return ns.Model.get("settings").setSettings(e,t,n)}},{key:"switchOnThreadMode",value:function(){return ns.Model.get("settings").threadedOn()}},{key:"switchOffThreadMode",value:function(){return ns.Model.get("settings").threadedOff()}},{key:"setBiggerText",value:function(){return ns.Model.get("settings").setSettingOn("with_bigger_text")}},{key:"setNormalText",value:function(){return ns.Model.get("settings").setSettingOff("with_bigger_text")}},{key:"setSidebarToggleState",value:function(e){this.setSettings(r({},"is_sidebar_expanded",e?"yes":"no"))}},{key:"setIsHiddenTrashEnabled",value:function(e){return this.setSettings(r({},g.a,e))}},{key:"setLeftColumnProWidgetExpandAt",value:function(e){return this.setSettings(r({},g.b,e))}},{key:"isCompactHeaderMode",get:function(){var e=this._stores,t=e.routerStore,n=e.settingsStore,r=t.currentPage.page;return n.isSet(h.Settings.MINIFIED_HEADER)&&-1===b.indexOf(r)}},{key:"isSidebarExpanded",get:function(){var e=this._stores.settingsStore;if(e.hasSetting("is_sidebar_expanded"))switch(e.getSettingValue("is_sidebar_expanded")){case"yes":return!0;case"no":return!1}return!1}},{key:"isPriorityTabEnabled",get:function(){var e=Boolean(this._stores.labelsStore.getPriorityId()),t=this._stores.settingsStore.getSign(h.Settings.SHOW_PRIORITY_STUFF);return!Object(m.isCorp)()&&(this._stores.settingsStore.getSign(h.Settings.PRIORITY_MAIL)||Object(m.hasSid)(669))&&e&&t}},{key:"isHotkeysEnabled",get:function(){return ns.Model.get("settings").data.enable_hotkeys}}]),e})(),c.instance=f()((function(){return new _(Object(v.a)())})),u=l,s(u.prototype,"isCompactHeaderMode",[p.computed],Object.getOwnPropertyDescriptor(u.prototype,"isCompactHeaderMode"),u.prototype),s(u.prototype,"isSidebarExpanded",[p.computed],Object.getOwnPropertyDescriptor(u.prototype,"isSidebarExpanded"),u.prototype),s(u.prototype,"isPriorityTabEnabled",[p.computed],Object.getOwnPropertyDescriptor(u.prototype,"isPriorityTabEnabled"),u.prototype),s(u.prototype,"isHotkeysEnabled",[p.computed],Object.getOwnPropertyDescriptor(u.prototype,"isHotkeysEnabled"),u.prototype),u)},function(e,t,n){"use strict";function r(){return{foldersStore:Object(i.getFoldersStore)(),labelsStore:Object(i.getLabelsStore)(),routerStore:Object(i.getRouterStore)(),searchStore:Object(i.getSearchStore)(),settingsStore:Object(i.getSettingsStore)()}}t.a=r;var i=n(375)},function(e,t,n){"use strict";var r=n(2195);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(e){return new Promise(function(t){return setTimeout(t,e)})}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r;Object.defineProperty(t,"__esModule",{value:!0}),t.CurrencySymbol=t.Currency=void 0;var i;!(function(e){e.USD="USD",e.RUB="RUB"})(i=t.Currency||(t.Currency={})),t.CurrencySymbol=(r={},r[i.USD]="$",r[i.RUB]="₽",r)},,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.MessageViewMetrika=t.EventSource=void 0;var a,s=n(875);!(function(e){e.BODY="Body",e.DOWNLOAD_MODAL="DownloadModal"})(a=t.EventSource||(t.EventSource={}));var u=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.logRecipientToBlackListShow=function(){this.logRecipientToBlackList("Show")},t.prototype.logRecipientToBlackListClick=function(){this.logRecipientToBlackList("Click")},t.prototype.logRecipientAddToContactsShow=function(){this.logRecipientAddToContacts("Show")},t.prototype.logRecipientAddToContactsClick=function(){this.logRecipientAddToContacts("Click")},t.prototype.logRecipientComposeMessageShow=function(){this.logRecipientComposeMessage("Show")},t.prototype.logRecipientComposeMessageClick=function(){this.logRecipientComposeMessage("Click")},t.prototype.logRecipientCopyAddressShow=function(){this.logRecipientCopyAddress("Show")},t.prototype.logRecipientCopyAddressClick=function(){this.logRecipientCopyAddress("Click")},t.prototype.logOpenRecipientCard=function(){this.logRecipientsEvent("Click on name")},t.prototype.logShowMessageInList=function(){this.logEvent("Show message in list")},t.prototype.logShowMessageOnSeparatePage=function(){this.logEvent("Show Message on separate page")},t.prototype.logAttachmentsDownloadAll=function(e){void 0===e&&(e=a.BODY),this.logSourceEvent(e,"Attach","Download all")},t.prototype.logAttachmentsShow=function(e,t){void 0===t&&(t=a.BODY),this.logSourceEvent(t,"Attach","Show","count",e)},t.prototype.logAttachmentsExpandList=function(e){void 0===e&&(e=a.BODY),this.logSourceEvent(e,"Attach","Attach expand list")},t.prototype.logAttachmentsCollapseList=function(e){void 0===e&&(e=a.BODY),this.logSourceEvent(e,"Attach","Attach collapse list")},t.prototype.logAttachmentClick=function(e,t){void 0===t&&(t=a.BODY),this.logSourceEvent(t,"Attach","Click",{hid:e})},t.prototype.logAttachmentPreview=function(e,t){void 0===t&&(t=a.BODY),this.logSourceEvent(t,"Attach","Preview attachment",{hid:e})},t.prototype.logAttachmentDownload=function(e,t){void 0===t&&(t=a.BODY),this.logSourceEvent(t,"Attach","Download attachment",{hid:e})},t.prototype.logAttachmentSaveToDisk=function(e,t){void 0===t&&(t=a.BODY),this.logSourceEvent(t,"Attach","Save to disk",{hid:e})},t.prototype.logDownloadModalShow=function(){this.logSourceEvent(a.DOWNLOAD_MODAL,"Show")},t.prototype.logDownloadModalClose=function(){this.logSourceEvent(a.DOWNLOAD_MODAL,"Close")},t.prototype.logEvent=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logMetric.apply(this,o(["Message view"],e))},t.prototype.logRecipientToBlackList=function(e){this.logRecipientsEvent("To black list",e)},t.prototype.logRecipientAddToContacts=function(e){this.logRecipientsEvent("Add to contacts",e)},t.prototype.logRecipientComposeMessage=function(e){this.logRecipientsEvent("Compose message",e)},t.prototype.logRecipientCopyAddress=function(e){this.logRecipientsEvent("Copy address",e)},t.prototype.logRecipientsEvent=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logHeaderEvent.apply(this,o(["Recipients"],e))},t.prototype.logHeaderEvent=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logEvent.apply(this,o(["Head"],e))},t.prototype.logSourceEvent=function(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];this.logEvent.apply(this,o([e],t))},t})(s.BaseMetrika);t.MessageViewMetrika=u},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,n,r){g||(g="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:g,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return S}));var g,h=n(137),m=n.n(h),v=n(487),b=n(659),_=function(){return n.e(34).then(n.bind(null,1721)).catch((function(){return n.e(34).then(n.bind(null,1721))}))},y=p("div",{},void 0,p(v.default,{size:"m"})),S=(function(e){function t(){return o(this,t),u(this,l(t).apply(this,arguments))}return d(t,e),s(t,[{key:"_renderPlaceholder",value:function(){return y}},{key:"render",value:function(){return m.a.createElement(b.a,r({},this.props,{loader:_,renderPlaceholder:this._renderPlaceholder}))}}]),t})(m.a.Component);S.displayName="DatePicker"},,,,,,,,function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PendingSubscriptionsStore=void 0;var u=n(138),c=s(n(400)),l=s(n(422)),d=n(351),f=n(375),p=n(571),g="get-pending-subscriptions",h="do-update-subscriptions",m=(function(e){function t(t){var n=e.call(this)||this;return n.settingsStore=t,n.lastUpdate=Date.now(),n.lastReview=0,n.reviewedEmails=[],n.setSubscriptionsData=function(e){n.subscriptions=e},n.updateSubscription=function(e,t){return o(n,void 0,Promise,(function(){var n;return a(this,(function(r){switch(r.label){case 0:return n={optinEnabled:!0,subscriptions:[{email:e,action:t,moveExisting:!0}]},[4,l.default.forcedRequest(h,n)];case 1:return[2,r.sent()]}}))}))},n._addModelSubscription(g,{optinEnabled:n.optinEnabled,optinEnabledAt:n.optinReviewedAt,withEmailsInfo:!0},{onChanged:n.setSubscriptionsData}),p.addNsEventListener("xiva.mail.update",(function(){return n.update()})),p.addNsEventListener("xiva.mail.insert",(function(){return n.update()})),p.addNsEventListener("xiva.mail.move",(function(){return n.update()})),p.addNsEventListener("fake-loader",(function(){return n.forceUpdate()})),n}return r(t,e),Object.defineProperty(t.prototype,"optinEnabled",{get:function(){return this.settingsStore.canUseOptInSubscriptions&&this.settingsStore.isOptInSubscriptionsEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"optinReviewedAt",{get:function(){return Math.max(this.settingsStore.optInSubscriptionsReviewedAt,this.lastReview)},enumerable:!1,configurable:!0}),t.prototype.update=function(){this.lastUpdate+6e4>Date.now()||!this.optinEnabled||(this.forceUpdate(),this.lastUpdate=Date.now())},Object.defineProperty(t.prototype,"pendingSubscription",{get:function(){var e=this;if(this.subscriptions)return this.subscriptions.filter((function(t){return t.lastReceivedDate>e.optinReviewedAt})).filter((function(t){var n=t.email;return!e.reviewedEmails.includes(n)}))[0]},enumerable:!1,configurable:!0}),t.prototype.activate=function(){this.do("activate")},t.prototype.hide=function(){this.do("hide")},t.prototype.review=function(){this.do("review")},t.prototype.resetLastReview=function(){this.lastReview=Math.floor(Date.now()/1e3)},t.prototype.do=function(e){if(this.pendingSubscription){var t=this.pendingSubscription.email;"review"!==e&&this.updateSubscription(t,e).then((function(){p.triggerNsEvent("fake-loader",{})})),this.reviewedEmails.push(t),this.pendingSubscription||this.reviewSubscriptions()}},t.prototype.waitForData=function(){var e=this.getRequestParams();return e.optinEnabled?(this.requestDataPromise||(this.requestDataPromise=this._requestModelData(g,e).then(this.setSubscriptionsData)),this.requestDataPromise):Promise.resolve()},t.prototype.clearData=function(){delete this.requestDataPromise},t.prototype.forceUpdate=function(){var e=this.getRequestParams();e.optinEnabled&&l.default.forcedRequest(g,e)},t.prototype.reviewSubscriptions=function(){return o(this,void 0,Promise,(function(){return a(this,(function(e){switch(e.label){case 0:return[4,l.default.forcedRequest("do-review-subscriptions",{})];case 1:return e.sent(),[2]}}))}))},t.prototype.getRequestParams=function(){return{optinEnabled:this.optinEnabled,optinEnabledAt:this.optinReviewedAt,withEmailsInfo:!0}},t.instance=u.memoize((function(){return new t(f.getSettingsStore())})),i([d.observable],t.prototype,"lastReview",void 0),i([d.observable],t.prototype,"reviewedEmails",void 0),i([d.observable],t.prototype,"subscriptions",void 0),i([d.computed],t.prototype,"optinEnabled",null),i([d.computed],t.prototype,"optinReviewedAt",null),i([d.action],t.prototype,"setSubscriptionsData",void 0),i([d.computed],t.prototype,"pendingSubscription",null),i([d.action],t.prototype,"activate",null),i([d.action],t.prototype,"hide",null),i([d.action],t.prototype,"review",null),i([d.action],t.prototype,"resetLastReview",null),i([d.action],t.prototype,"do",null),t})(c.default);t.PendingSubscriptionsStore=m},,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemesWithScope=void 0;var r=n(2869);Object.defineProperty(t,"ThemesWithScope",{enumerable:!0,get:function(){return r.ThemesWithScope}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeDark=t.SeasonsThemeName=t.ThemeScopeSeasons=t.WeatherThemeName=t.ThemeScopeWeather=t.ColorfulThemeName=t.ThemeScopeColorful=t.ThemeScopeContainer=void 0;var r=n(2870);Object.defineProperty(t,"ThemeScopeContainer",{enumerable:!0,get:function(){return r.ThemeScopeContainer}});var i=n(2873);Object.defineProperty(t,"ThemeScopeColorful",{enumerable:!0,get:function(){return i.ThemeScopeColorful}}),Object.defineProperty(t,"ColorfulThemeName",{enumerable:!0,get:function(){return i.ColorfulThemeName}});var o=n(2876);Object.defineProperty(t,"ThemeScopeWeather",{enumerable:!0,get:function(){return o.ThemeScopeWeather}}),Object.defineProperty(t,"WeatherThemeName",{enumerable:!0,get:function(){return o.WeatherThemeName}});var a=n(2878);Object.defineProperty(t,"ThemeScopeSeasons",{enumerable:!0,get:function(){return a.ThemeScopeSeasons}}),Object.defineProperty(t,"SeasonsThemeName",{enumerable:!0,get:function(){return a.SeasonsThemeName}});var s=n(2883);Object.defineProperty(t,"ThemeScopeDark",{enumerable:!0,get:function(){return s.ThemeScopeDark}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeItem=void 0;var r=n(2879);Object.defineProperty(t,"ThemeScopeItem",{enumerable:!0,get:function(){return r.ThemeScopeItem}})},function(e,t,n){Daria.hasFeature("web_settings_popup_new")?e.exports={bears:n(2910),"bears-alt":n(1747),besiktas:n(2911),colorful:n(2912),"colorful-alt":n(1748),cosmos:n(2913),dandelions:n(2914),fenerbahce:n(2915),foxes:n(2916),galatasaray:n(2917),"galatasaray-net":n(2918),lamp:n(2919),newspaper:n(2920),newyear:n(2921),orangetree:n(2922),owls:n(2923),plasticine:n(2924),relax:n(2925),sea:n(2926),"sea-alt":n(1749),"seasons-winter":n(2927),"seasons-spring":n(2928),"seasons-summer":n(2929),"seasons-autumn":n(2930),weather:n(2931),zverushki:n(2932)}:e.exports={bears:n(2933),"bears-alt":n(1747),besiktas:n(2934),colorful:n(2935),"colorful-alt":n(1748),cosmos:n(2936),dandelions:n(2937),fenerbahce:n(2938),foxes:n(2939),galatasaray:n(2940),"galatasaray-net":n(2941),lamp:n(2942),newspaper:n(2943),newyear:n(2944),orangetree:n(2945),owls:n(2946),plasticine:n(2947),relax:n(2948),sea:n(2949),"sea-alt":n(1749),"seasons-winter":n(2950),"seasons-spring":n(2951),"seasons-summer":n(2952),"seasons-autumn":n(2953),weather:n(2954),zverushki:n(2955)}},function(e,t,n){e.exports=n.p+"_/a80a0642c93a46c18af20df3d4f31af9-thumbnail-alt.large.png"},function(e,t,n){e.exports=n.p+"_/35e0a77f112cf7740849f15035594c99-thumbnail-alt.large.png"},function(e,t,n){e.exports=n.p+"_/0236da1d5127c3ff1fff198e7811c4eb-thumbnail-alt.large.png"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MAX_SETTING_NAME_LENGTH=void 0,t.MAX_SETTING_NAME_LENGTH=30},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withAction=void 0;var o=i(n(137)),a=n(356),s=function(e){return (function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.innerRef=o.default.createRef(),e.onClick=function(t){var n=e.props,r=n.onClick,i=n.item,o=n.metricPrefix,s=i.attrs,u=s.action,c=s.params;u&&(c.metrika&&(c.metrika=o.join(":")+':Click on "'+c.metrika+'"'),a.runAction(u,c,e.innerRef.current,t)),i.resetNew(),r()},e}return r(n,t),n.prototype.render=function(){var t=this.props,n=t.item,r=t.className,i=n.attrs;return o.default.createElement("a",{className:r,href:i.href,onClick:this.onClick,ref:this.innerRef,rel:i.rel,target:i.target},o.default.createElement(e,{item:n}))},n})(o.default.PureComponent)};t.withAction=s},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SectionsStore=void 0;var r=n(2969);Object.defineProperty(t,"SectionsStore",{enumerable:!0,get:function(){return r.SectionsStore}})},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AttachType=t.AttachmentItem=void 0;var r=n(3598);Object.defineProperty(t,"AttachmentItem",{enumerable:!0,get:function(){return r.AttachmentItem}}),Object.defineProperty(t,"AttachType",{enumerable:!0,get:function(){return r.AttachType}})},,,,,,,,function(e,t,n){"use strict";function r(e,t){return a(e)||o(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function a(e){if(Array.isArray(e))return e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(e,t){for(var n="";t>0;)n+=e,t--;return n}n.d(t,"a",(function(){return h})),n.d(t,"b",(function(){return _}));var d=n(138),f=n.n(d),p=n(355),g=n.n(p),h="DD.MM.YYYY",m=/[hdmy]+/i,v={minute:/m+/,hour:/H+/,day:/D+/,month:/M+/,year:/Y+/},b={minute:{minValue:0,maxValue:59,formatLength:2,getNewValue:function(e,t){return e.minute(t)}},hour:{minValue:0,maxValue:23,formatLength:2,getNewValue:function(e,t){return e.hour(t)}},day:{minValue:1,maxValue:31,formatLength:2,getNewValue:function(e,t){return e.date(t)}},month:{minValue:1,maxValue:12,formatLength:2,getNewValue:function(e,t){return e.month(t-1)}},year:{minValue:1970,maxValue:2220,formatLength:4,getNewValue:function(e,t){return e.year(t)}}},_=(function(){function e(t,n){s(this,e),this.date=t?g()(t):g()(),this.separator=".",this.dateFormat=n||h,this.formatLimitValues=f.a.cloneDeep(b),this.formatSymbolsOrder=new Map,this.init()}return c(e,[{key:"parseDateParts",value:function(e){return e.split(this.separator)}},{key:"areDatePartsValid",value:function(e){return e.every((function(e){return!isNaN(e)}))}},{key:"tryParseDate",value:function(e,t){var n=this,r=g()(t),i=!1,o="",a=e.map((function(t,a){var s=n.formatSymbolsOrder.get(a),u=n.formatLimitValues[s].formatLength;if(t.length>=u){e.length-1===a&&(i=!0,o=t.slice(u),t=t.slice(0,u));var c=n.getValidDateValueStr(n.formatLimitValues[s],t);return n.formatLimitValues[s].getNewValue(r,c),c}return t}));return i&&e.length<this.formatSymbolsOrder.size&&a.push(o),{newDate:r,newInputString:a.join(this.separator).slice(0,this.dateFormat.length)}}},{key:"getTimeItemsWithThirtyMinutesStep",value:function(e,t){for(var n=b.hour,r=[],i=n.minValue;i<=n.maxValue;i++){var o=g()(this.date).set({hour:i,minute:0}),a=g()(this.date).set({hour:i,minute:30}),s=o>t||o<e,u=a>t||a<e;r.push({date:o,timeStr:o.format(this.dateFormat),isDisable:s},{date:a,timeStr:a.format(this.dateFormat),isDisable:u})}return r}},{key:"getValidDateValueStr",value:function(e,t){var n=e.minValue,r=e.maxValue,i=e.formatLength,o=Number(t),a="";return o=o<n?n:o>r?r:o,a=String(o),l("0",i-a.length)+a}},{key:"initDateFormatSeparator",value:function(){var e=this.dateFormat.split(m).filter((function(e){return e})),t=r(e,1),n=t[0];this.separator=void 0===n?".":n}},{key:"initDateFormat",value:function(){var e=this.dateFormat.split(this.separator);this.dateFormat=e.every((function(e){return m.test(e)}))?this.dateFormat:h}},{key:"initFormatLimitValues",value:function(){var e=this,t=this.dateFormat.split(this.separator);this.formatSymbolsOrder.clear(),t.forEach((function(t,n){Object.keys(e.formatLimitValues).forEach((function(r){v[r].test(t)&&(e.formatSymbolsOrder.set(n,r),e.formatLimitValues[r].formatLength=t.length)}))}))}},{key:"init",value:function(){this.initDateFormatSeparator(),this.initDateFormat(),this.initFormatLimitValues()}}]),e})()},,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3653);t.default=r.Label},,,,,,,,,,,function(e,t,n){e.exports={priorityTypes:{virus:n(3710)},comboKeys:{"general+none":n(3711)},extensions:{"7z":n(3712),ai:n(3713),aud:n(445),asf:n(480),avi:n(480),bmp:n(446),cab:n(689),cdr:n(3714),css:n(3715),csv:n(690),cur:n(446),djvu:n(3716),dll:n(3717),dng:n(446),doc:n(919),docx:n(919),dot:n(919),dotx:n(919),eml:n(1829),epub:n(3718),exe:n(1830),fb2:n(3719),flac:n(445),flv:n(480),gif:n(446),gz:n(689),gzip:n(689),htm:n(1831),html:n(1831),ico:n(446),iff:n(445),indd:n(3720),ini:n(3721),jpg:n(446),jpeg:n(446),js:n(3722),key:n(691),m3u:n(445),m3u8:n(445),m4a:n(445),m4r:n(445),m4b:n(445),mkv:n(480),mng:n(446),mov:n(480),mp3:n(445),mp4:n(480),mpg:n(480),mpeg:n(480),odp:n(3723),ods:n(3724),odt:n(3725),ogg:n(445),pcx:n(446),pdf:n(3726),pls:n(445),png:n(446),pps:n(691),ppsm:n(1308),ppsx:n(691),ppt:n(1308),pptx:n(1308),psd:n(3727),rar:n(3728),rtf:n(3729),sketch:n(3730),srt:n(691),svg:n(3731),swf:n(1832),tar:n(689),tif:n(446),tiff:n(446),txt:n(3732),vcf:n(3733),vob:n(480),wav:n(445),wma:n(445),wmv:n(480),xcf:n(446),xhtml:n(3734),xls:n(690),xlsb:n(690),xltm:n(690),xlsx:n(690),xltx:n(690),xml:n(3735),xps:n(691),zip:n(1833),zipx:n(1833)},types:{archive:n(689),audio:n(445),book:n(3736),compressed:n(689),executable:n(1830),flash:n(1832),font:n(3737),image:n(446),mail:n(1829),text:n(691),video:n(480)},default:n(3738),folder:n(3739)}},function(e,t,n){e.exports=n.p+"_/cb8b9741d24077a129aaa910022a6cf9-attach_icon_mail.svg"},function(e,t,n){e.exports=n.p+"_/087993e09b5de5a63916e2283cdae636-attach_icon_exe.svg"},function(e,t,n){e.exports=n.p+"_/c13cdef7f16129d2f06fe53161e898d3-attach_icon_html.svg"},function(e,t,n){e.exports=n.p+"_/1461a37f3aeea10f2db8bf17717930db-attach_icon_flash.svg"},function(e,t,n){e.exports=n.p+"_/b09d4ef5dbb7774ffcc5879d17b020bd-attach_icon_zip.svg"},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(425),i=n(792),o=n(384);t.a=function(e,t){var n=Daria.isReactiveCompose()?o.b:o.a,a=r.a.getActiveScenario(n);a&&r.a.finishScenario(n,i.a,Daria.isReactiveCompose()&&a.qualityMetrics?a.qualityMetrics():void 0),r.a.startScenario(n,e,t)}},,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){var t=ns.Model.get("compose-predefined-data"),n=t.extractDataFromParams(e);return t.setData({}),n}t.b=r;var i=n(138),o=(n.n(i),n(924));t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(o.a)().then((function(){return Daria.React.Compose.create(e,r(e),Object(i.isEqual)(e,{}))}))}},function(e,t,n){"use strict";function r(e){return a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function s(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=n["message-id"],o=t.getIds(e,n);return i&&(o.ids=-1!==o.ids.indexOf(i)?[i]:[]),[].concat(r(o.ids),r(o.tids)).map((function(e){return ns.Model.get("message",{ids:e})}))}t.a=s},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}n.d(t,"a",(function(){return f}));var c=n(138),l=n.n(c),d=n(5),f=(function(){function e(t){var n=t.name,r=t.type;a(this,e),this.id=l.a.uniqueId(d.a.Config.connection_id+"_"),this.name=n,this.type=r}return u(e,[{key:"log",value:function(e){var t=i({session_id:this.id,type:this.type,client_timestamp:Date.now()},e);Daria.debug.log("".concat(this.name,": "),t),Daria.monitoring.workflow.userEvents(t)}}]),e})()},,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){["folders","labels","messages","message-nearest","message-thread-nearest"].forEach((function(e){ns.Model.invalidate(e)}));var t=[{id:"do-folder-clear",params:e},{id:"folders"},{id:"labels"}];return"messages"===ns.page.current.page&&t.push({id:"messages",params:ns.page.current.params}),ns.forcedRequest(t)}},function(e,t){Object.assign(t,{request:function(){var e=this,t=this.params;t.model=this.id,ns.request.addRequestParams(t);var n="".concat(Daria.api.journal,"?_m=").concat(this.id);return"function"==typeof navigator.sendBeacon&&navigator.sendBeacon(n,JSON.stringify(t))?Promise.resolve():ns.http(n,t).then((function(t){e.setData(t)}))}})},function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=n(888),i={type:"search-error-messages",severity:r.a},o={type:"search-error-message-body",severity:r.b}},function(e,t,n){"use strict";function r(e){if(!Daria.Config.NO_SETTINGS){var t=a.a.SETTINGS_FALLBACK.map((function(t){return t.name in e?e[t.name]:""})),n=[a.a.COOKIE_SIGN].concat(t).join(":"),r=new Date;r.setFullYear(r.getFullYear()+10),Daria.setCookie(a.a.COOKIE_NAME,n,{expires:r,path:"/",secure:!0})}}function i(e){return a.a.SETTINGS_FALLBACK.some((function(t){return t.name===e}))}t.b=r,t.a=i;var o=n(4709),a=n.n(o)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.QuickReplyPlaceholder=void 0;var r=n(4779);Object.defineProperty(t,"QuickReplyPlaceholder",{enumerable:!0,get:function(){return r.QuickReplyPlaceholder}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemAlert=void 0;var r=n(4789);Object.defineProperty(t,"SystemAlert",{enumerable:!0,get:function(){return r.SystemAlert}})},function(e,t,n){"use strict";function r(e){return Boolean(e.ctrlKey||e.metaKey)}function i(e){return function(t){if(!r(t))return t.preventDefault(),e.apply(this,arguments)}}t.a=i},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},i.apply(this,arguments)},o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withTone=t.Tone=void 0;var s,u=a(n(137)),c=n(353),l=n(351),d=n(426);!(function(e){e.DARK="dark",e.LIGHT="default"})(s=t.Tone||(t.Tone={}));var f=function(){return function(e){return (function(t){function n(){return null!==t&&t.apply(this,arguments)||this}return r(n,t),Object.defineProperty(n.prototype,"tone",{get:function(){return d.ThemesStore.instance().isContentDark?s.DARK:s.LIGHT},enumerable:!1,configurable:!0}),n.prototype.render=function(){return u.default.createElement(e,i({},this.props,{tone:this.tone}))},o([l.computed],n.prototype,"tone",null),n=o([c.observer],n)})(u.default.PureComponent)}};t.withTone=f},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){var t=(function(t){function n(){var e=null!==t&&t.apply(this,arguments)||this;return e.registeredMessageCallbacks=new WeakMap,e.onPromoShown=function(){return e.props.datasyncService.onPromoShown()},e.onWidgetCollapse=function(t,n){e.props.datasyncService.onWidgetCollapse(t,n)},e.onMemoriesShown=function(t){return e.props.datasyncService.onMemoriesShown(t)},e.onLastUsageUpdate=function(t){return e.props.datasyncService.onLastUsageUpdate(t)},e.getMemoriesData=function(){return e.props.datasyncService.getMemoriesData()},e.getSpaceData=function(){return e.props.datasyncService.getSpaceData()},e.getPromoData=function(){return e.props.datasyncService.getPromoData()},e.getWidgets=function(){var t=S.getWidgets();if(e.props.widgetsStore.isPromoClosed){var n=t.findIndex((function(e){return e===v.WidgetNames.Promo}));-1!==n&&t.splice(n,1)}return t},e.connectSender=function(t){var n=S.getXivaServices(S.getWidgets()),r=function(e){return-1!==n.indexOf(e.service)&&(t.sendEvent({name:"xiva",payload:e}),!0)};e.registeredMessageCallbacks.set(t,r),y.registerMessageCallback(r)},e.disconnectSender=function(t){var n=e.registeredMessageCallbacks.get(t);n&&y.removeMessageCallback(n)},e}return i(n,t),n.prototype.getProductsData=function(){return l(this,void 0,Promise,(function(){var e;return d(this,(function(t){switch(t.label){case 0:return e=w.ProductsStore.instance(),[4,e.waitForData()];case 1:return t.sent(),[2,{items:e.items,currentSubscription:e.currentSubscription}]}}))}))},n.prototype.getSpaceWidgetExpandData=function(){return l(this,void 0,Promise,(function(){return d(this,(function(e){return[2,D.getFeatureParams(D.Features.WEB_PS_SIDEBAR_SPACE_WIDGET)||{}]}))}))},n.prototype.render=function(){var t,n=b.getConfig(),r=n.dev?"https://cloud-api.yandex.ru":O.cloudApiUrl;return p.default.createElement(e,o({},this.props,{isExpanded:this.props.widgetsStore.isExpanded,expandedUpdateTimestamp:null===(t=this.props.widgetsStore.expandedUpdateTimestamp)||void 0===t?void 0:t.getTime(),onWidgetCollapse:this.onWidgetCollapse,widgetNames:this.getWidgets(),cloudApiUrl:r,diskSk:b.getDiskSK(),noDiskSubscription:!b.hasDisk(),browserName:M.default.BrowserName,disableCollapseMemories:Boolean((D.getFeatureParams(D.Features.WEB_PS_SIDEBAR_MEMORIES_WIDGET)||{}).expanded),onMemoriesShown:this.onMemoriesShown,getMemoriesWidgetData:this.getMemoriesData,onLastSpaceUsageUpdate:this.onLastUsageUpdate,getProductsData:this.getProductsData,getSpaceWidgetData:this.getSpaceData,onPromo:this.props.widgetsStore.onPromo,onPromoShown:this.onPromoShown,getPromoWidgetData:this.getPromoData,getSpaceWidgetExpandData:this.getSpaceWidgetExpandData,connectSender:this.connectSender,disconnectSender:this.disconnectSender}))},n=u([g.observer],n)})(p.PureComponent);return T.withStores({widgetsStore:_.WidgetsStore.instance,datasyncService:P})(t)}var i=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),o=this&&this.__assign||function(){return o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},o.apply(this,arguments)},a=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),s=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),u=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},c=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&a(t,e,n);return s(t,e),t},l=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},d=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.withWidgetsData=void 0;var p=c(n(137)),g=n(353),h=n(138),m=n(4921),v=n(398),b=n(356),_=n(1338),y=n(677),S=n(617),w=n(737),O=n(435),M=f(n(646)),D=n(87),T=n(424),x=n(363),C=n(493),E=n(1936),P=h.memoize((function(){var e=x.getDatasyncClient(),t=x.getPsSettingsDatasyncSnapshot(),n=C.mapTypes(t(),E.DataSyncSchema);return new m.DatasyncService(e,n)}));t.withWidgetsData=r},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.unmountReplyLaterPopup=t.renderReplyLaterPopup=void 0;var o=i(n(141)),a=i(n(137)),s=n(6086),u=n(6102),c=n(356),l=n(830),d=i(n(386)),f=null,p=!1,g=null,h=function(e){f||(f=document.createElement("div"),document.body.appendChild(f)),g||(g=new u.ReplyLaterMetrika({logMetric:c.logMetric})),p=!p,o.default.render(a.default.createElement(d.default,{lang:c.getLocale()},a.default.createElement(l.MetrikaContext.Provider,{value:g},a.default.createElement(s.ReplyLaterPopup,r({},e,{visible:p,onClose:t.unmountReplyLaterPopup})))),f)};t.renderReplyLaterPopup=h;var m=function(){f&&(o.default.unmountComponentAtNode(f),document.body.removeChild(f),f=null),p=!1};t.unmountReplyLaterPopup=m},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){return Daria.memoizeClearCache(e)}t.a=r},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return d}));var l=n(966),d=(function(e){function t(){return i(this,t),o(this,s(t).apply(this,arguments))}return u(t,e),t})(l.a)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return p}));var f=n(966),p=(function(e){function t(){return i(this,t),s(this,c(t).apply(this,arguments))}return l(t,e),a(t,[{key:"name",get:function(){return this.data.name}}]),t})(f.a)},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0});var i=n(351),o=(function(){function e(){this.visible=!1,this.showAllThemes=!1}return e.prototype.toggle=function(e){this.visible=e},e.prototype.toggleAllThemes=function(e){this.showAllThemes=e},r([i.observable],e.prototype,"visible",void 0),r([i.observable],e.prototype,"showAllThemes",void 0),r([i.action],e.prototype,"toggle",null),r([i.action],e.prototype,"toggleAllThemes",null),e})();t.default=o},function(e,t,n){"use strict";function r(e){var t=Daria.email.getLogin(e||"");return-1!==i.indexOf(t)}t.a=r;var i=["startrek","wiki"]},function(e,t,n){"use strict";function r(e){return ns.Model.get("account-information").isMyEmail(e)}t.a=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Matrix=void 0;var r=(function(){function e(e){this.matrix=[],this.matrix=e.columns}return e.prototype.getCell=function(e){var t=e.row,n=e.column;return this.matrix[n][t]},Object.defineProperty(e.prototype,"columns",{get:function(){return this.matrix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rows",{get:function(){if(!this.byRowsMatrix){this.byRowsMatrix=[];for(var e=this.matrix[0].length,t=0;t<e;t+=1){for(var n=[],r=0;r<this.matrix.length;r+=1){var i=this.matrix[r][t];n.push(i)}this.byRowsMatrix.push(n)}}return this.byRowsMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"map",{get:function(){if(!this.internalMap){this.internalMap=new Map;for(var e=0;e<this.matrix.length;e+=1)for(var t=this.matrix[e],n=0;n<t.length;n+=1)this.internalMap.set(t[n],{column:e,row:n})}return this.internalMap},enumerable:!1,configurable:!0}),e.prototype.getItemCoords=function(e){return this.map.get(e)},e})();t.Matrix=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.relativeOrAbsolutePathRegExp=void 0,t.relativeOrAbsolutePathRegExp=/^(\/|https?:)/},function(e,t,n){"use strict";var r=n(5);t.a=function(){return[Date.now(),r.a.uid].join("")}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){u(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function c(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function l(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,"a",(function(){return C}));var d,f,p,g,h,m,v,b,_=n(351),y=n(138),S=n.n(y),w=n(391),O=n(572),M=(n.n(O),S.a.defaults),D=S.a.pick,T=Object.freeze((b={},u(b,O.SearchQueryParams.SCOPE,""),u(b,O.SearchQueryParams.FID,""),u(b,O.SearchQueryParams.SERVICE_ID,""),u(b,O.SearchQueryParams.LID,""),u(b,O.SearchQueryParams.UNREAD,null),u(b,O.SearchQueryParams.ATTACHES,null),u(b,O.SearchQueryParams.HDR_FROM,null),u(b,O.SearchQueryParams.HDR_TO,null),u(b,O.SearchQueryParams.FROM,null),u(b,O.SearchQueryParams.TO,null),u(b,O.SearchQueryParams.DELETED,null),b)),x=Object.keys(T),C=(d=v=(function(){function e(){o(this,e),c(this,"currentSearchText",f,this),c(this,"currentSuggestText",p,this),c(this,"currentShowText",g,this),c(this,"_advanced",h,this),c(this,"resetAdvanced",m,this),this.defaults=T}return s(e,[{key:"getAdvanced",value:function(e){switch(e){case"attaches":return"yes"===this._advanced.attaches;case"from":case"to":return Object(w.getDateFromCompactFormat)(this._advanced[e]);default:return this._advanced[e]}}},{key:"setMultipleAdvanced",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];n.forEach(Object(_.action)((function(t){var n=t.name,r=t.value;switch(n){case"unread":case"attaches":e._advanced[n]=r?"yes":null;break;case"from":case"to":S.a.isDate(r)&&(r=Object(w.getDateInUnseparatedNumericFormat)(r)),e._advanced[n]=r;break;default:e._advanced[n]=r}})))}},{key:"setAdvanced",value:function(e,t){this.setMultipleAdvanced({name:e,value:t})}},{key:"updateAdvancedParams",value:function(e,t){var n=M(e,D(t,x),T);for(var r in n)this.setAdvanced(r,n[r])}},{key:"reset",value:function(){this.currentSearchText="",this.currentSuggestText="",x.forEach(this.resetAdvanced)}},{key:"getAutosearchParams",value:function(){return i({},this._advanced)}},{key:"setCurrentShowText",value:function(e){this.currentShowText=e}},{key:"isAdvancedDirty",get:function(){var e=this;return x.some((function(t){return("scope"!==t||"rpopinfo"!==e._advanced[t])&&e._advanced[t]!==T[t]}))}},{key:"isDefaultSuggest",get:function(){return!this.currentSuggestText&&!this.isAdvancedDirty}},{key:"paramsForSearch",get:function(){return e._omitEmpty(i({request:this.currentSearchText},this._advanced))}},{key:"paramsForSuggest",get:function(){return e._omitEmpty(i({request:this.currentSuggestText},this._advanced))}},{key:"hasOnlyFolderParam",get:function(){var e=this;return x.every((function(t){return"scope"===t&&"rpopinfo"===e._advanced[t]||"fid"!==t==(e._advanced[t]===T[t])}))}}],[{key:"_omitEmpty",value:function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n={};for(var r in t)(e=t[r])&&"all"!==e&&(n[r]=e);return n}}]),e})(),f=l(d.prototype,"currentSearchText",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),p=l(d.prototype,"currentSuggestText",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),g=l(d.prototype,"currentShowText",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return""}}),h=l(d.prototype,"_advanced",[_.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return i({},T)}}),l(d.prototype,"isAdvancedDirty",[_.computed],Object.getOwnPropertyDescriptor(d.prototype,"isAdvancedDirty"),d.prototype),l(d.prototype,"isDefaultSuggest",[_.computed],Object.getOwnPropertyDescriptor(d.prototype,"isDefaultSuggest"),d.prototype),l(d.prototype,"paramsForSearch",[_.computed],Object.getOwnPropertyDescriptor(d.prototype,"paramsForSearch"),d.prototype),l(d.prototype,"paramsForSuggest",[_.computed],Object.getOwnPropertyDescriptor(d.prototype,"paramsForSuggest"),d.prototype),l(d.prototype,"hasOnlyFolderParam",[_.computed],Object.getOwnPropertyDescriptor(d.prototype,"hasOnlyFolderParam"),d.prototype),l(d.prototype,"setMultipleAdvanced",[_.action],Object.getOwnPropertyDescriptor(d.prototype,"setMultipleAdvanced"),d.prototype),l(d.prototype,"setAdvanced",[_.action],Object.getOwnPropertyDescriptor(d.prototype,"setAdvanced"),d.prototype),l(d.prototype,"updateAdvancedParams",[_.action],Object.getOwnPropertyDescriptor(d.prototype,"updateAdvancedParams"),d.prototype),l(d.prototype,"reset",[_.action],Object.getOwnPropertyDescriptor(d.prototype,"reset"),d.prototype),m=l(d.prototype,"resetAdvanced",[_.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){e.setAdvanced(t,T[t])}}}),l(d.prototype,"setCurrentShowText",[_.action],Object.getOwnPropertyDescriptor(d.prototype,"setCurrentShowText"),d.prototype),d)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function p(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,"a",(function(){return _}));var g,h,m,v=n(351),b=n(400),_=(g=m=(function(e){function t(){var e;return i(this,t),e=s(this,u(t).call(this)),f(c(e),"modelData",h,c(e)),e._addModelSubscription("themes-selector",{},{onChanged:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};e.modelData=t},onDestroyed:function(){e.modelData=null}}),e.model=ns.Model.get("themes-selector"),e}return l(t,e),a(t,[{key:"isOpened",get:function(){return this.modelData.opened}}]),t})(b.default),h=p(g.prototype,"modelData",[v.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:null}),p(g.prototype,"isOpened",[v.computed],Object.getOwnPropertyDescriptor(g.prototype,"isOpened"),g.prototype),g)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}n.d(t,"a",(function(){return l}));var o,a,s,u=n(351),c=n(1511),l=(o=s=function e(){var t=this;r(this,e),i(this,"isToolbarFixed",a,this),this.watcher=new c.a({target:document.querySelector(".js-toolbar-wrap"),className:"is-fixed",onAdd:Object(u.action)((function(){return t.isToolbarFixed=!0})),onRemove:Object(u.action)((function(){return t.isToolbarFixed=!1}))})},a=(function(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o})(o.prototype,"isToolbarFixed",[u.observable],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){return Boolean(document.querySelector(".js-toolbar-wrap.is-fixed"))}}),o)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return s}));var a=/^#(search(\?|\/|$)|(contacts))/,s=(function(){function e(){r(this,e)}return o(e,[{key:"navigateToMessage",value:function(e,t){var n=Daria.is2pane()?ns.router.generateUrl("message",{ids:e,tab:"thread"}):ns.router.generateUrl("messages",{ids:e,current_folder:t});ns.page.go(n)}},{key:"navigateToPage",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=Object.assign({},n.shouldAddPageParams?ns.page.current.params:{},t),i=ns.router.generateUrl(e,r);ns.page.go(i)}},{key:"openLastPageBeforeSearch",value:function(){var e=ns.page.history.getFirstValidPrevious((function(e){return!a.test(e)})),t=e||ns.page.getDefaultUrl();ns.page.currentUrl!==t&&ns.page.go(t,"replace")}},{key:"redrawPage",value:function(){ns.page.go()}}]),e})()},function(e,t,n){"use strict";function r(e){return a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(e,t,n,r){g||(g="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:g,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function d(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,"a",(function(){return L}));var f,p,g,h=n(137),m=n.n(h),v=n(351),b=n(507),_=n(2193),y=n(422),S=n(391),w=n(969),O=n(138),M=n.n(O),D=n(139),T=(n.n(D),n(352)),x=l(T.default,{loc:"suggest-react/advanced-search-filter-important"}),C=l(T.default,{loc:"suggest-react/advanced-search-filter-priority"}),E=l(T.default,{loc:"suggest-react/advanced-search-filter-with-attaches"}),P=l(T.default,{loc:"suggest-react/advanced-search-filter-with-deleted"}),k=l(T.default,{loc:"suggest-react/advanced-search-filter-unread"}),j=l(T.default,{loc:"suggest-react/advanced-search-filter-from"}),A=l(T.default,{loc:"suggest-react/advanced-search-filter-to"}),I=l(T.default,{loc:"suggest-react/advanced-search-filter-from"}),R=l(T.default,{loc:"suggest-react/advanced-search-filter-to"}),B=l(T.default,{loc:"suggest-react/advanced-search-filter-subject"}),F=l(T.default,{loc:"suggest-react/advanced-search-filter-body"}),L=(f=p=(function(){function e(t,n){s(this,e),this._searchSuggest=null,this._isSearchLocked=!1,this._stores=t,this._services=n}return c(e,[{key:"startSuggest",value:function(){var e=this._stores.searchStore;this._suggest.request(e.searchQuery.paramsForSuggest)}},{key:"cleanupSuggest",value:function(){var e=this._stores.searchStore;this._suggest.abortCurrentRequest(),e.setSuggestItems([])}},{key:"removeSuggestItem",value:function(e){this._stores.searchStore.removeSuggestItem(e),y.default.forcedRequest("do-clean-suggest-history",{request:e.data.search_text})}},{key:"resetSearch",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._services.routerService,n=this._stores.searchStore.searchQuery;return n.currentSuggestText.trim()&&!e.forced?(n.currentSuggestText="",!1):(n.currentSuggestText="",e.openPageBeforeSearch&&t.openLastPageBeforeSearch(),!0)}},{key:"startSearch",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this._services.searchLogService,r=this._stores.searchStore,i=r.searchQuery;try{i.currentSearchText=e,i.currentSuggestText=e,ns.Model.invalidate("history-suggest");var o=i.paramsForSearch;t.extraSearchParams&&Object.assign(o,t.extraSearchParams);var a=Object(v.action)((function(e){i.currentShowText=e,i.currentSuggestText=e}));(e||t.force)&&(Daria.MessagesSearch.search(o,{onCorrecting:a,onSuccess:t.onSuccess,onError:t.onError}),n.suggestWasLogged||(n.logSearchSuggest({text:e}),n.suggestWasLogged=!0),n.logSearch(e,o,this.shouldDisplayAdvancedSearch))}finally{n.suggestWasLogged=!1}}},{key:"syncSearchQuery",value:function(){var e=this._stores,t=e.routerStore,n=e.searchStore,r=n.searchQuery,i=t.currentPage.params,o=i.request||"";r.currentSearchText=o,r.currentSuggestText=o,r.updateAdvancedParams(this.getInitialAdvancedSearchParams(),i)}},{key:"getInitialAdvancedSearchParams",value:function(){var e=this._stores.routerStore,t=e.currentPage.params;if("only_atta"===t.extra_cond&&"all"===t.goto)return{attaches:"yes"};if("only_new"===t.extra_cond&&"all"===t.goto)return{unread:"yes"};if(Daria.messages.params4SimpleLabel(t))return{lid:t.current_label};var n=this.getCurrentFolderParam();return n?{fid:n}:{}}},{key:"getCurrentFolderParam",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this._stores,n=t.routerStore,r=t.foldersStore,i=n.currentPage.params;if(Daria.messages.params4SimplePath(i)){var o=i.current_folder,a=r.isFidSymbol(o,D.WellKnownFolderSymbol.INBOX);if(e.returnInbox||!a)return o}var s=n.currentPage.page;return Daria.messages.folder4MessagePage(s,i)}},{key:"lockSearch",value:function(e){if(this._isSearchLocked)return void Object(b.logError)({errorType:"search-service:search-already-locked",failIfPossible:!0});try{this._isSearchLocked=!0,e()}finally{this._isSearchLocked=!1}}},{key:"setMultipleAdvanced",value:function(){var e=this._stores.searchStore.searchQuery;e.setMultipleAdvanced.apply(e,arguments)}},{key:"setAdvanced",value:function(e,t){this.setMultipleAdvanced({name:e,value:t})}},{key:"getAdvanced",value:function(e){return this._stores.searchStore.searchQuery.getAdvanced(e)}},{key:"removeBubbles",value:function(e){var t=this._stores.searchStore.searchQuery,n=this._services.searchLogService,i=this.bubbles.filter(Object(v.action)((function(t){return-1!==e.indexOf(t.id)}))).map(Object(v.action)((function(e){return e.type}))),o=M.a.flatten(e).map(Object(v.action)((function(e){return{name:e,value:t.defaults[e]}})));t.setMultipleAdvanced.apply(t,r(o)),i.forEach(Object(v.action)((function(e){return n.countBubbleAction(e,"Click on X")})))}},{key:"_suggest",get:function(){var e=this._stores,t=e.settingsStore,n=e.searchStore,r=this._services.searchLogService;return this._searchSuggest||(this._searchSuggest=new _.a(t,n,r)),this._searchSuggest}},{key:"isSearchLocked",get:function(){return this._isSearchLocked}},{key:"shouldDisplayAdvancedSearch",get:function(){var e=this._stores,t=e.searchStore,n=e.routerStore;return t.forceShowAdvancedSearch||n.isSearchResultsPage&&!n.isCurrentPageEmptySearch}},{key:"onlyCurrentFolderFilterEnabled",get:function(){var e=this._stores,t=e.routerStore,n=e.foldersStore,r=e.searchStore;if(!r.searchQuery.hasOnlyFolderParam)return!1;var i=t.currentPage.params.current_folder||t.currentPage.params.fid;return!n.isFidSymbol(i,D.WellKnownFolderSymbol.INBOX)&&i===r.searchQuery.getAdvanced("fid")}},{key:"hasUserBubbles",get:function(){var e=this._stores,t=e.routerStore,n=e.searchStore,r=n.searchQuery;if(!r.isAdvancedDirty)return!1;if(r.hasOnlyFolderParam){return(t.currentPage.params.current_folder||t.currentPage.params.fid)!==n.searchQuery.getAdvanced("fid")}return!0}},{key:"bubbles",get:function(){var e=this,t=this._stores,n=t.searchStore.searchQuery,r=t.foldersStore,i=t.labelsStore,o={service:{getFilter:function(){var e=n.getAdvanced("serviceId"),t=(Object(w.a)()||[]).filter((function(t){return t.serviceId===e}))[0]||null;return t?t.name:null},id:"serviceId"},label:{getFilter:function(){var e=n.getAdvanced("lid");if(!e)return null;if(e===i.getImportantId())return x;if(e===i.getPriorityId())return C;var t=i.getLabelById(e);return t&&t.data?t.data.name:null},id:"lid"},folder:{getFilter:function(){var t=e.getAdvanced("fid"),n=t?r.getFolderByFid(t):null;return n?n.data.name:null},id:"fid"},attaches:{getFilter:function(){return e.getAdvanced("attaches")?E:null},id:"attaches"},dates:{getFilter:function(){var t=e.getAdvanced("from"),n=e.getAdvanced("to");return t||n?(t=Object(S.getDateInNumericFormat)(t),n=Object(S.getDateInNumericFormat)(n),t&&n?"".concat(t," - ").concat(n):t?l(T.default,{loc:"suggest-react/advanced-search-filter-date-from",params:{date:t}}):l(T.default,{loc:"suggest-react/advanced-search-filter-date-to",params:{date:n}})):null},id:["from","to"]},deleted:{getFilter:function(){return e.getAdvanced("deleted")?P:null},id:"deleted"},unread:{getFilter:function(){return e.getAdvanced("unread")?k:null},id:"unread"},from:{getFilter:function(){var e=n.getAdvanced("hdr_from");if(e)return m.a.createElement(m.a.Fragment,null,j,": ",e)},id:"hdr_from"},to:{getFilter:function(){var e=n.getAdvanced("hdr_to");if(e)return m.a.createElement(m.a.Fragment,null,A,": ",e)},id:"hdr_to"},scope:{getFilter:function(){switch(e.getAdvanced("scope")){case"hdr_from":return I;case"hdr_to":return R;case"hdr_subject":return B;case"body_text":return F;default:return null}},id:"scope"}};return Object.keys(o).map((function(e){return{type:e,id:o[e].id,value:o[e].getFilter()}})).filter((function(e){return e.value})).map((function(e){return{id:e.id,type:e.type,content:e.value}}))}}]),e})(),d(f.prototype,"startSuggest",[v.action],Object.getOwnPropertyDescriptor(f.prototype,"startSuggest"),f.prototype),d(f.prototype,"resetSearch",[v.action],Object.getOwnPropertyDescriptor(f.prototype,"resetSearch"),f.prototype),d(f.prototype,"startSearch",[v.action],Object.getOwnPropertyDescriptor(f.prototype,"startSearch"),f.prototype),d(f.prototype,"syncSearchQuery",[v.action],Object.getOwnPropertyDescriptor(f.prototype,"syncSearchQuery"),f.prototype),d(f.prototype,"shouldDisplayAdvancedSearch",[v.computed],Object.getOwnPropertyDescriptor(f.prototype,"shouldDisplayAdvancedSearch"),f.prototype),d(f.prototype,"onlyCurrentFolderFilterEnabled",[v.computed],Object.getOwnPropertyDescriptor(f.prototype,"onlyCurrentFolderFilterEnabled"),f.prototype),d(f.prototype,"hasUserBubbles",[v.computed],Object.getOwnPropertyDescriptor(f.prototype,"hasUserBubbles"),f.prototype),d(f.prototype,"bubbles",[v.computed],Object.getOwnPropertyDescriptor(f.prototype,"bubbles"),f.prototype),d(f.prototype,"setMultipleAdvanced",[v.action],Object.getOwnPropertyDescriptor(f.prototype,"setMultipleAdvanced"),f.prototype),d(f.prototype,"setAdvanced",[v.action],Object.getOwnPropertyDescriptor(f.prototype,"setAdvanced"),f.prototype),d(f.prototype,"removeBubbles",[v.action],Object.getOwnPropertyDescriptor(f.prototype,"removeBubbles"),f.prototype),f)},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return f}));var a=n(138),s=n.n(a),u=n(422),c=n(2194),l=n(1506),d=s.a.isEqual,f=(function(){function e(t,n,i){r(this,e),this._aborted=!1,this._lastParams=null,this._suggest=new c.a(this._requestSuggest.bind(this),300),this._settingsStore=t,this._searchStore=n,this._searchLogServive=i}return o(e,[{key:"request",value:function(e){this._aborted=!1,this._suggest.request(e)}},{key:"abortCurrentRequest",value:function(){this._aborted=!0}},{key:"_requestSuggest",value:function(e){var t=this;this._aborted||(this._lastParams=e,this._requestSuggestPart(e).then((function(n){if(n&&n.status)return t._requestSuggestPart(e,n.status,n.limit)})).catch(s.a.noop))}},{key:"_requestSuggestPart",value:function(e,t,n){var r=this;if(!this._aborted){var i=new vow.Deferred,o=["subject","ql","contact","mail","history"],a=Object.assign({},e,{types:o.join(","),twoSteps:1,highlight:1,limit:n||10,reqid:this._searchStore.getSearchSessionId()});return t&&(a.status=t),u.default.forcedRequest("search-suggest",a).then((function(n){if(!d(r._lastParams,e)||r._aborted)return void i.reject("search suggest: failed update");var o=(n.items||[]).map((function(e){return new l.a(e)}));t?(r._searchStore.setSuggestItems(o,Boolean(t)),i.resolve()):(r._searchStore.setSuggestItems(o),i.resolve({status:n.status,limit:10-o.length})),r._searchLogServive.logSuggestResults(e)}),(function(e){i.reject(e)})),i.promise()}}}]),e})()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return s}));var i=n(138),o=n.n(i),a=o.a.throttle,s=function e(t,n){var i=this;r(this,e),this._throttledRequest=function(e){i._request(e)},this._request=t,this.request=a(this._throttledRequest,n,{leading:!1})}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var a=n(138),s=n.n(a),u=n(422),c=(function(){function e(t){r(this,e),this._stores=t}return o(e,[{key:"getContacts",value:function(e){return u.default.forcedRequest("search-suggest",{type:"contact",request:e,limit:5}).then((function(e){return s.a.map(e&&e.items,(function(e){return{name:e.display_name,email:e.email}})).filter((function(e){return e.email}))})).catch((function(){return[]}))}}]),e})();t.a=c},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}n.d(t,"a",(function(){return m}));var s,u,c=n(138),l=n.n(c),d=n(391),f=n(351),p=n(2197),g=n(969),h=n(572),m=(n.n(h),s=u=(function(){function e(t){var n=this,i=t.foldersStore,o=t.labelsStore,a=t.searchStore;r(this,e),this.language=[{keywords:["от","from"],paramName:h.SearchQueryParams.HDR_FROM,canBeEmpty:!0},{keywords:["кому","to"],paramName:h.SearchQueryParams.HDR_TO,canBeEmpty:!0},{keywords:["тема","subject"],paramName:h.SearchQueryParams.HDR_SUBJECT,canBeEmpty:!0},{keywords:["текст","text"],paramName:h.SearchQueryParams.BODY_TEXT,canBeEmpty:!0},{keywords:["с-вложениями","has-attachments"],paramName:h.SearchQueryParams.ATTACHES,stringify:function(){return"да"}},{keywords:["в-удалённых","in-deleted","in-hidden-trash"],paramName:h.SearchQueryParams.DELETED,stringify:function(){return"да"}},{keywords:["с-даты","after","newer","после","новее"],paramName:h.SearchQueryParams.FROM,parseValue:d.parseDate,stringify:d.getDateInNumericFormatDashed},{keywords:["до-даты","before","older","старее"],paramName:h.SearchQueryParams.BEFORE_DATE,parseValue:d.parseDate,stringify:d.getDateInNumericFormatDashed},{keywords:["заканчивая-датой","date-end"],paramName:h.SearchQueryParams.TO,parseValue:d.parseDate,stringify:d.getDateInNumericFormatDashed},{keywords:["папка","folder"],paramName:h.SearchQueryParams.FID,parseValue:function(e){var t=n.foldersStore.getFolderByName(e);return t&&t.data&&t.data.fid},stringify:function(e){var t=n.foldersStore.getFolderByFid(e);return t?t.data.name:e}},{keywords:["непрочитанные","unread"],paramName:h.SearchQueryParams.UNREAD,stringify:function(){return"да"}},{keywords:["метка","label"],paramName:h.SearchQueryParams.LID,parseValue:function(e){var t=n.labelsStore.getLabelByName(e);return t&&t.data&&t.data.lid},stringify:function(e){var t=n.labelsStore.getLabelById(e);return t?t.data.name:e}},{keywords:["от","from"],paramName:h.SearchQueryParams.SERVICE_ID,stringify:function(e){var t=l.a.find(n.services,{serviceId:e});return t?t.email:e},customGetter:function(){var e=n.parsedQuery.hdr_from;if(e&&e.value){var t=l.a.find(n.services,{email:e.value});return t&&t.serviceId||null}return null},customRemover:function(){return n._removeFilterFromQuery("hdr_from")}}],this._parseQuery=function(e){if(!e)return{};var t,r=[],i=0,o=/([^\\]|^)"$/,a=function(e,r){var i=n._languageByParamName[r.type];return r.isEnclosed?(r.value+=e,!!o.test(e)&&(r.value=n._getFilterValueFromString(i,r.value),delete r.isEnclosed,!0)):'"'===e[0]?e.length>1&&o.test(e)?(r.value=n._getFilterValueFromString(i,e),!0):(r.value+=e,r.isEnclosed=!0,t=r,!1):(r.value=n._getFilterValueFromString(i,e),!0)};if(e.split(/( +)/g).forEach((function(e){if(t)t.length+=e.length," "!==e[0]?a(e,t)&&(r.push(t),t=null):t.isEnclosed&&(t.value+=e);else{var o=e.indexOf(":");if(-1!==o){var s=e.substring(0,o),u=s&&l.a.find(n.language,(function(e){return l.a.includes(e.keywords,s)}));if(u){var c={start:i,type:u.paramName,length:e.length,value:""};if(o!==e.length-1){var d=e.substring(o+1);a(d,c)?r.push(c):t=c}else t=c}}}i+=e.length})),t){var s=n._languageByParamName[t.type];(t.value||s.canBeEmpty)&&(t.length=e.length-t.start,delete t.isEnclosed,t.value=n._getFilterValueFromString(s,t.value),r.push(t))}return Object(p.a)(r,(function(e){return e.type}))},this.convertFilterToQueryString=function(e,t){if(null==t)return null;var r=n._languageByParamName[e];return r&&(r.stringify&&(t=r.stringify(t)),t=t.replace(/"/g,'\\"'),-1!==t.indexOf(" ")&&(t='"'.concat(t,'"')),e=r.keywords[0]),"".concat(e,":").concat(t)},this.getAdvanced=function(e){if(n._languageByParamName[e].customGetter)return n._languageByParamName[e].customGetter();var t=n.parsedQuery[e];return t&&t.value||null},this.foldersStore=i,this.labelsStore=o,this.searchStore=a,this.services=Object(g.a)()}return o(e,[{key:"_removeFilterFromQuery",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(this._languageByParamName[e].customRemover)return this._languageByParamName[e].customRemover();t=t||this.parsedQuery,n=n||this.searchStore.searchQuery.currentShowText;var r=t[e];return r?(n.substr(0,r.start)+n.substr(r.start+r.length)).replace(/  +/g," ").trim():n}},{key:"_refineValue",value:function(e){return e.replace(/^"(.*)"$/,"$1").replace(/\\"/g,'"')}},{key:"_getFilterValueFromString",value:function(e,t){return t=this._refineValue(t),e.parseValue?e.parseValue(t):t}},{key:"setMultipleAdvanced",value:function(){for(var e=this,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];var i=this.searchStore.searchQuery,o=i.currentShowText,a=this._parseQuery(o);n.forEach(Object(f.action)((function(t,r){var i=t.name,s=t.value;if((a[i]||e._languageByParamName[i].customRemover)&&(o=e._removeFilterFromQuery(i,a,o),a=e._parseQuery(o)),s||""===s){o=o.replace(/ *[a-zа-я\-]+\: *$/,"");var u=e.convertFilterToQueryString(i,s);o=o?o.trim()+" "+u:u}o&&(o+=" "),r<n.length-1&&(a=e._parseQuery(o))}))),i.currentSuggestText=i.currentShowText=o}},{key:"_languageByParamName",get:function(){return Object(p.a)(this.language,(function(e){return e.paramName}))}},{key:"parsedQuery",get:function(){return{}}}]),e})(),a(s.prototype,"parsedQuery",[f.computed],Object.getOwnPropertyDescriptor(s.prototype,"parsedQuery"),s.prototype),a(s.prototype,"setMultipleAdvanced",[f.action],Object.getOwnPropertyDescriptor(s.prototype,"setMultipleAdvanced"),s.prototype),s)},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return e.reduce((function(e,r){return e[t(r)]=n?n(r):r,e}),{})}},function(e,t,n){"use strict";var r=n(2199);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){function a(e){r(u,i,o,a,s,"next",e)}function s(e){r(u,i,o,a,s,"throw",e)}var u=e.apply(t,n);a(void 0)})}}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}n.d(t,"a",(function(){return u}));var u=(function(){function e(t){var n=t.themesStore,r=t.generalThemesBridge;o(this,e),this.themesStore=n,this._generalThemesBridge=r}return s(e,[{key:"setTheme",value:(function(){function e(e){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!this.themesStore.isGeneralThemeExists(t)){e.next=4;break}return e.next=3,this._generalThemesBridge.enableTheme(t);case 3:return e.abrupt("return",ns.action.run("trigger-theme-redraw",{themeId:t}));case 4:if(this.themesStore.isThemeExist(t)){e.next=6;break}return e.abrupt("return");case 6:return e.next=8,ns.action.run("change-theme",{themeId:t});case 8:if(!(n=this.themesStore.isGeneralThemeExists(this.themesStore.currentTheme))){e.next=11;break}return e.abrupt("return",this._generalThemesBridge.disableTheme());case 11:case"end":return e.stop()}}),e,this)})));return e})()},{key:"enableVideoBg",value:function(){return this._generalThemesBridge.enableVideoBg()}},{key:"disableVideoBg",value:function(){return this._generalThemesBridge.disableVideoBg()}},{key:"setScope",value:function(e){var t=ns.Model.get("themes"),n=t.getCurrentTheme(),r=ns.Model.get("settings");"theme-colorful"===n.id&&r.setSettings({"colorful-theme-skin":e}),"theme-seasons"===n.id&&r.setSettings({currentScope:e}),n.saveScope(e),n.removeSavedSkin(),n.updateCurrentSkin(!0),ns.page.go()}},{key:"isVideoBgEnabled",get:function(){return this._generalThemesBridge.isVideoBgEnabled()}}]),e})()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return i}));var i=function e(t){var n=this,i=t.themesSelectorStore;r(this,e),this.openThemeSelector=function(){n.themesSelectorStore.model.open(),ns.page.go()},this.themesSelectorStore=i}},,,,,,function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}n.d(t,"a",(function(){return i}));var i=function e(t){r(this,e),Object.assign(this,e.defaults,t)};i.defaults={hideOnTimeout:!0,hideOnClick:!0,isCloseButtonVisible:!0,callOnCloseOnTimeout:!1,params:{},size:"s",timeout:6e3}},function(e,t,n){"use strict";var r=n(2208),i=n(2255),o=n(2258),a=n(2298);r.a.DescriptionWithIcon=i.a,r.a.Buttons.Action=o.a,r.a.Buttons.Clear=a.a,t.a=r.a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(2256);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(348)),s=n.n(a),u=n(370),c=n(2257),l=(n.n(c),function(e){var t=e.icon,n=e.children;return r(u.default.Description,{},void 0,r("div",{className:"mail-DescriptionWithIcon"},void 0,r("div",{className:"mail-DescriptionWithIcon_Icon mail-DescriptionWithIcon_".concat(t)}),r("div",{className:"mail-DescriptionWithIcon_Text"},void 0,n)))});t.a=l,l.propTypes={icon:s.a.string.isRequired}},function(e,t){},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return d}));var l=n(402),d=(function(e){function t(){return i(this,t),o(this,s(t).apply(this,arguments))}return u(t,e),t})(l.a);d.defaultProps={view:"classic",tone:"default",size:"m",theme:"action"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return d}));var l=n(402),d=(function(e){function t(){return i(this,t),o(this,s(t).apply(this,arguments))}return u(t,e),t})(l.a);d.defaultProps={view:"classic",tone:"default",size:"m",theme:"clear"}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var o,a=n(137),s=(n.n(a),n(348)),u=n.n(s),c=n(350),l=n.n(c),d=n(487),f=n(2318),p=n(2319),g=n(2342),h=n(2344),m=(n.n(h),i(g.a,{})),v=i(d.default,{cls:"mail-StatuslineProgress_Active",size:"xxs",progress:!0}),b=i("span",{className:"mail-StatuslineProgress_Done"}),_=i("span",{className:"mail-StatuslineProgress_Fail"}),y=function(e){var t,n=e.name,o=e.status,a=e.withBar,s=void 0!==a&&a,u=e.children;return i("div",{className:l()((t={"mail-StatuslineProgress":!0},r(t,"mail-StatuslineProgress_".concat(n),Boolean(n)),r(t,"mail-StatuslineProgress_withBar",s),t))},void 0,s&&m,"active"===o&&v,"done"===o&&b,"fail"===o&&_,u)};t.a=y,y.propTypes={status:u.a.string,name:u.a.string,withBar:u.a.bool},y.Message=f.a,y.Action=p.a},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var i=n(137),o=n.n(i),a=n(2301),s=function(e){return o.a.createElement(a.a,r({},e,{progress:!0}))};t.a=s,s.displayName="Spin",s.defaultProps={theme:"normal"}},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),function(e){return r("div",{className:"mail-StatuslineProgress_Message"},void 0,e.children)});t.a=a},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}var i=n(137),o=n.n(i),a=n(488),s=function(e){return o.a.createElement(a.a,r({cls:"mail-StatuslineProgress_Action"},e),e.children)};t.a=s},function(e,t,n){"use strict";var r=n(348),i=n.n(r),o=n(2321),a=n(2341);n.n(a);t.a=o.a,o.a.propTypes=Object.assign(o.a.propTypes,{theme:i.a.oneOf(["black","ghost","normal","outer","pseudo","strong","transparent-black","transparent-white","yellow"])})},,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(2343)),s=(n.n(a),function(){return r("div",{className:"mail-StatuslineProgress-Bar"},void 0,r("span",{className:"mail-StatuslineProgress-Bar_Inner",style:{animationDuration:"".concat(7e3,"ms")}}))});t.a=s},function(e,t){},function(e,t){},,function(e,t,n){"use strict";var r=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},i=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s};Object.defineProperty(t,"__esModule",{value:!0}),t.PassportChildWindow=t.CloseReason=void 0;var o,a=n(356),s=n(505),u=n(571);!(function(e){e.SUCCESS="SUCCESS",e.CANCEL="CANCEL",e.BLOCKED="BLOCKED"})(o=t.CloseReason||(t.CloseReason={}));var c=(function(){function e(e){var t=this;this.params=e,this.currentWindow=null,this.key=Symbol("VerifyPasswordChildWindow"),this.disposer=new s.Disposer,this.resolveFn=null,this.onResponse=function(e){var n=e.source;t.currentWindow&&n===t.currentWindow&&e.origin===window.location.origin&&e.data.authSuccess&&t.close(o.SUCCESS)}}return e.create=function(t){return new e(t)},e.getWindowOptions=function(){var e=window.screenX+(document.body.clientWidth-840)/2;return["resizable=yes","location=no","toolbar=no","scrollbars=yes","chrome=yes","width=840","height=680","top="+(window.screenY+(document.body.clientHeight-680)/2),"left="+e].join(",")},e.prototype.show=function(){return r(this,void 0,Promise,(function(){var t,n,r,s,u=this;return i(this,(function(i){return this.currentWindow&&this.close(o.CANCEL),t=window.location.origin+"/u2709/post-message-to-opener.html",n=this.params.url+"?retpath="+encodeURIComponent(t)+"&uid="+a.getUid(),r=e.getWindowOptions(),(s=window.open(n,"ya_verify_password_child_window",r))?(this.currentWindow=s,[2,new Promise(function(e){u.resolveFn=e,u.createSubscriptions(s)})]):[2,o.BLOCKED]}))}))},e.prototype.createSubscriptions=function(e){var t=this,n=setInterval((function(){e.closed&&t.close(o.CANCEL)}),100);this.disposer.add(this.key,[function(){return clearInterval(n)}]);var r=function(){return t.close(o.CANCEL)};this.disposer.add(this.key,[s.addEventListener({element:window,eventName:"beforeunload",listener:r,isCapture:!1}),s.addEventListener({element:window,eventName:"message",listener:this.onResponse,isCapture:!1}),u.addNsEventListener("ns-page-before-load",r)])},e.prototype.close=function(e){var t;this.currentWindow&&!this.currentWindow.closed&&this.currentWindow.close(),null===(t=this.resolveFn)||void 0===t||t.call(this,e),this.clear()},e.prototype.clear=function(){this.disposer.disposeAll(),this.currentWindow=null,this.resolveFn=null},e})();t.PassportChildWindow=c},,,,,function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SmartScroll=void 0;var o=i(n(137)),a=i(n(489)),s=i(n(2352)),u=a.default.bind(s.default),c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t,"scrollbarWidth",{get:function(){return null==this.savedScrollbarWidth&&(this.savedScrollbarWidth=this.calculateScrollbarWidth()),this.savedScrollbarWidth},enumerable:!1,configurable:!0}),t.calculateScrollbarWidth=function(){var e=document.createElement("div");e.style.height="50px",e.style.width="100%";var t=document.createElement("div");t.style.height="1px",t.style.width="50px",t.style.position="absolute",t.style.overflowY="scroll",t.style.left="-9999px",t.style.top="-9999px",t.appendChild(e),document.body.appendChild(t);var n=t.offsetWidth-t.clientWidth;return document.body.removeChild(t),n},t.prototype.render=function(){return o.default.createElement("div",{className:u("root",this.props.className)},o.default.createElement("div",{className:u("scroll",this.props.containerClass),style:{width:"calc(100% + "+t.scrollbarWidth+"px)",marginRight:"-"+t.scrollbarWidth+"px","--scrollbar-width":t.scrollbarWidth+"px"}},this.props.children))},t})(o.default.Component);t.SmartScroll=c},function(e,t){e.exports={root:"SmartScroll__root--cSRNG",scroll:"SmartScroll__scroll--zm9AN"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ProductFeatureCode=t.DiscountPeriod=t.PaymentPeriod=void 0;!(function(e){e.month="month",e.year="year"})(t.PaymentPeriod||(t.PaymentPeriod={}));!(function(e){e.week="week",e.month="month",e.year="year"})(t.DiscountPeriod||(t.DiscountPeriod={}));!(function(e){e.BACKUP="mail_b2c_can_use_backup",e.DISK="mpfs_disk_space"})(t.ProductFeatureCode||(t.ProductFeatureCode={}))},,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";t.a=(function(){var e={};return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"svgicon-".concat(t);if(e[t])return e[t];var r=document.getElementById(n);if(r){var i=Array.prototype.slice.call(r.childNodes),o=new XMLSerializer,a=i.reduce((function(e,t){return e+o.serializeToString(t)}),""),s=r.getAttribute("viewBox"),u=r.getAttribute("fill");return e[t]={id:n,viewBox:s,svgBody:a,fill:u},e[t]}return null}})()},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.DragAndDropMetrika=void 0;var a=n(875),s=(function(e){function t(t){var n=e.call(this,t)||this;return n.logDropMessageIntoFolder=function(){n.logMetric("Message","drop into folder")},n.logDropMessageIntoTab=function(){n.logMetric("Message","drop into tab")},n.logDropLabelOnMessage=function(){n.logMetric("Label","drop on message")},n.logDropMessageOnToolbarDelete=function(){n.logDropMessageToolbar("delete")},n.logDropMessageOnToolbarForward=function(){n.logDropMessageToolbar("forward")},n.logDropMessageOnToolbarSpam=function(){n.logDropMessageToolbar("spam")},n.logDropMessageOnToolbarNotSpam=function(){n.logDropMessageToolbar("not spam")},n.logDropMessageOnToolbarMarkRead=function(){n.logDropMessageToolbar("mark read")},n.logDropMessageOnToolbarMarkUnread=function(){n.logDropMessageToolbar("mark unread")},n.logDragFolder=function(){n.logMetric("Folder","drag start")},n}return r(t,e),t.prototype.logMetric=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.prototype.logMetric.apply(this,o(["Drag-n-drop"],t))},t.prototype.logDropMessageToolbar=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logMetric.apply(this,o(["Message","Toolbar"],e))},t})(a.BaseMetrika);t.DragAndDropMetrika=s},function(e,t,n){function r(e){return n(i(e))}function i(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./af":1582,"./af.js":1582,"./ar":1583,"./ar-dz":1584,"./ar-dz.js":1584,"./ar-kw":1585,"./ar-kw.js":1585,"./ar-ly":1586,"./ar-ly.js":1586,"./ar-ma":1587,"./ar-ma.js":1587,"./ar-sa":1588,"./ar-sa.js":1588,"./ar-tn":1589,"./ar-tn.js":1589,"./ar.js":1583,"./az":1590,"./az.js":1590,"./be":1591,"./be.js":1591,"./bg":1592,"./bg.js":1592,"./bn":1593,"./bn.js":1593,"./bo":1594,"./bo.js":1594,"./br":1595,"./br.js":1595,"./bs":1596,"./bs.js":1596,"./ca":1597,"./ca.js":1597,"./cs":1598,"./cs.js":1598,"./cv":1599,"./cv.js":1599,"./cy":1600,"./cy.js":1600,"./da":1601,"./da.js":1601,"./de":1602,"./de-at":1603,"./de-at.js":1603,"./de-ch":1604,"./de-ch.js":1604,"./de.js":1602,"./dv":1605,"./dv.js":1605,"./el":1606,"./el.js":1606,"./en-au":1607,"./en-au.js":1607,"./en-ca":1608,"./en-ca.js":1608,"./en-gb":1609,"./en-gb.js":1609,"./en-ie":1610,"./en-ie.js":1610,"./en-nz":1611,"./en-nz.js":1611,"./eo":1612,"./eo.js":1612,"./es":1613,"./es-do":1614,"./es-do.js":1614,"./es.js":1613,"./et":1615,"./et.js":1615,"./eu":1616,"./eu.js":1616,"./fa":1617,"./fa.js":1617,"./fi":1618,"./fi.js":1618,"./fo":1619,"./fo.js":1619,"./fr":1620,"./fr-ca":1621,"./fr-ca.js":1621,"./fr-ch":1622,"./fr-ch.js":1622,"./fr.js":1620,"./fy":1623,"./fy.js":1623,"./gd":1624,"./gd.js":1624,"./gl":1625,"./gl.js":1625,"./gom-latn":1626,"./gom-latn.js":1626,"./he":1627,"./he.js":1627,"./hi":1628,"./hi.js":1628,"./hr":1629,"./hr.js":1629,"./hu":1630,"./hu.js":1630,"./hy-am":1631,"./hy-am.js":1631,"./id":1632,"./id.js":1632,"./is":1633,"./is.js":1633,"./it":1634,"./it.js":1634,"./ja":1635,"./ja.js":1635,"./jv":1636,"./jv.js":1636,"./ka":1637,"./ka.js":1637,"./kk":1638,"./kk.js":1638,"./km":1639,"./km.js":1639,"./kn":1640,"./kn.js":1640,"./ko":1641,"./ko.js":1641,"./ky":1642,"./ky.js":1642,"./lb":1643,"./lb.js":1643,"./lo":1644,"./lo.js":1644,"./lt":1645,"./lt.js":1645,"./lv":1646,"./lv.js":1646,"./me":1647,"./me.js":1647,"./mi":1648,"./mi.js":1648,"./mk":1649,"./mk.js":1649,"./ml":1650,"./ml.js":1650,"./mr":1651,"./mr.js":1651,"./ms":1652,"./ms-my":1653,"./ms-my.js":1653,"./ms.js":1652,"./my":1654,"./my.js":1654,"./nb":1655,"./nb.js":1655,"./ne":1656,"./ne.js":1656,"./nl":1657,"./nl-be":1658,"./nl-be.js":1658,"./nl.js":1657,"./nn":1659,"./nn.js":1659,"./pa-in":1660,"./pa-in.js":1660,"./pl":1661,"./pl.js":1661,"./pt":1662,"./pt-br":1663,"./pt-br.js":1663,"./pt.js":1662,"./ro":1664,"./ro.js":1664,"./ru":1665,"./ru.js":1665,"./sd":1666,"./sd.js":1666,"./se":1667,"./se.js":1667,"./si":1668,"./si.js":1668,"./sk":1669,"./sk.js":1669,"./sl":1670,"./sl.js":1670,"./sq":1671,"./sq.js":1671,"./sr":1672,"./sr-cyrl":1673,"./sr-cyrl.js":1673,"./sr.js":1672,"./ss":1674,"./ss.js":1674,"./sv":1675,"./sv.js":1675,"./sw":1676,"./sw.js":1676,"./ta":1677,"./ta.js":1677,"./te":1678,"./te.js":1678,"./tet":1679,"./tet.js":1679,"./th":1680,"./th.js":1680,"./tl-ph":1681,"./tl-ph.js":1681,"./tlh":1682,"./tlh.js":1682,"./tr":1683,"./tr.js":1683,"./tzl":1684,"./tzl.js":1684,"./tzm":1685,"./tzm-latn":1686,"./tzm-latn.js":1686,"./tzm.js":1685,"./uk":1687,"./uk.js":1687,"./ur":1688,"./ur.js":1688,"./uz":1689,"./uz-latn":1690,"./uz-latn.js":1690,"./uz.js":1689,"./vi":1691,"./vi.js":1691,"./x-pseudo":1692,"./x-pseudo.js":1692,"./yo":1693,"./yo.js":1693,"./zh-cn":1694,"./zh-cn.js":1694,"./zh-hk":1695,"./zh-hk.js":1695,"./zh-tw":1696,"./zh-tw.js":1696};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=2601},function(e,t,n){"use strict";t.a={parentLocale:"en",months:["гыйнвар","февраль","март","апрель","май","июнь","июль","август","сентябрь","октябрь","ноябрь","декабрь"],monthsShort:["гыйнв","фев","мар","апр","май","июн","июл","авг","сен","окт","ноя","дек"],weekdays:["якшәмбе","дүшәмбе","сишәмбе","чәршәмбе","пәнҗешәмбе","җомга","шимбә"],weekdaysShort:["якш","дүш","сиш","чәрш","пәнҗ","җом","шим"],weekdaysMin:["як","дү","си","чә","пә","җо","ши"]}},function(e,t,n){"use strict";var r=n(2604),i=n(515),o=(n.n(i),n(516)),a=(n.n(o),Object(i.withPsTheme)({source:o.DarkSource.Content})(r.a));t.a=a},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){b||(b="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:b,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return fe}));var p,g,h,m,v,b,_=n(137),y=n.n(_),S=n(348),w=n.n(S),O=n(353),M=n(351),D=n(350),T=n.n(D),x=n(730),C=n(839),E=n(967),P=n(638),k=n(573),j=n(639),A=n(976),I=n(402),R=n(414),B=n.n(R),F=n(657),L=n(368),N=n(386),H=n(658),U=n(356),W=n(138),z=n.n(W),V=n(2621),$=n(2634),q=n(2637),G=n(2640),K=n(2653),Y=n(2708),J=(n.n(Y),n(969)),X=n(352),Q=function(){return B()()("mail-AdvancedSearch")},Z=f(L.default,{id:"mail--AdvancedSearch_service"}),ee=f(X.default,{loc:"suggest-react/advanced-search-filter-services"}),te=f(L.default,{id:"mail--AdvancedSearch_attach"}),ne=f(X.default,{loc:"suggest-react/advanced-search-filter-with-attaches"}),re=f(L.default,{id:"mail--AdvancedSearch_calendar"}),ie=f(X.default,{loc:"suggest-react/advanced-search-label-date"}),oe=f(L.default,{id:"mail--AdvancedSearch_folder"}),ae=f(X.default,{loc:"suggest-react/advanced-search-label-folder"}),se=f(L.default,{id:"mail--AdvancedSearch_from"}),ue=f(X.default,{loc:"suggest-react/advanced-search-filter-from"}),ce=f(L.default,{id:"mail--AdvancedSearch_to"}),le=f(X.default,{loc:"suggest-react/advanced-search-filter-to"}),de=f(X.default,{loc:"suggest-react/advanced-search-label-more"}),fe=(p=Object(O.inject)("searchStore","foldersStore","labelsStore","searchService","searchLogService","settingsService","queryLanguageService"))(g=Object(O.observer)((v=m=(function(e){function t(e){var n;return i(this,t),n=s(this,u(t).call(this,e)),n._logAction=n._logAction.bind(c(n)),n._onDateSelected=n._onDateSelected.bind(c(n)),n._onFolderSelected=n._onFolderSelected.bind(c(n)),n._onServiceSelected=n._onServiceSelected.bind(c(n)),n._toggleImportantFilterValue=n._toggleImportantFilterValue.bind(c(n)),n._onPopupOutsideClick=n._onPopupOutsideClick.bind(c(n)),n._onScopeSelected=n._onScopeSelected.bind(c(n)),n._toggleUnreadFilterValue=n._toggleUnreadFilterValue.bind(c(n)),n._toggleAttachesFilterValue=n._toggleAttachesFilterValue.bind(c(n)),n._togglePopup=n._togglePopup.bind(c(n)),n._hidePopupOnWindowScroll=n._hidePopupOnWindowScroll.bind(c(n)),n._toggleScopeFilterValue=n._toggleScopeFilterValue.bind(c(n)),n._servicesButton=y.a.createRef(),n._datesButton=y.a.createRef(),n._foldersButton=y.a.createRef(),n._fromButton=y.a.createRef(),n._toButton=y.a.createRef(),n._moreButton=y.a.createRef(),n._showHideReaction=new H.a(function(){return e.searchService.shouldDisplayAdvancedSearch},function(){Object(U.toggleAdvancedSearchAppMode)(e.searchService.shouldDisplayAdvancedSearch),Object(U.changeRightColumSize)(),n.setState({displayedPopup:null})}),n.state={},n}return l(t,e),a(t,[{key:"componentDidMount",value:function(){Object(U.toggleAdvancedSearchAppMode)(this.props.searchService.shouldDisplayAdvancedSearch),window.addEventListener("scroll",this._hidePopupOnWindowScroll)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("scroll",this._hidePopupOnWindowScroll),this._showHideReaction.cancel()}},{key:"_toggleAttachesFilterValue",value:function(){var e=this.props.searchService,t=!e.getAdvanced("attaches");e.setAdvanced("attaches",t),this._logAction("Attaches button",t)}},{key:"_onDateSelected",value:function(e){var t=e.from,n=e.to;this.props.searchService.setMultipleAdvanced({name:"from",value:t},{name:"to",value:n}),this.setState({displayedPopup:null})}},{key:"_onFolderSelected",value:function(e){this.props.searchService.setAdvanced("fid",e),this.setState({displayedPopup:null}),this._logAction("Folder item",Boolean(e))}},{key:"_onServiceSelected",value:function(e){this.props.searchService.setAdvanced("serviceId",e),this.setState({displayedPopup:null}),this._logAction("Service item",Boolean(e))}},{key:"_onScopeSelected",value:function(e){this._toggleScopeFilterValue(e),this.setState({displayedPopup:null})}},{key:"_toggleImportantFilterValue",value:function(){var e=this.props,t=e.searchService,n=e.labelsStore,r=n.getImportantId(),i=r===t.getAdvanced("lid")?null:r;t.setAdvanced("lid",i),this.setState({displayedPopup:null}),this._logAction("Important item",Boolean(i))}},{key:"_toggleUnreadFilterValue",value:function(){var e=this.props.searchService,t=!e.getAdvanced("unread");e.setAdvanced("unread",t),this.setState({displayedPopup:null}),this._logAction("Unread item",t)}},{key:"_onContactSelected",value:function(e,t){var n=this.props.searchService;e&&n.setAdvanced("hdr_"+t,e.email),this._logAction("".concat(z.a.capitalize(t)," item"),!0),this._togglePopup()}},{key:"_togglePopup",value:function(e){this.state.displayedPopup===e?this.setState({displayedPopup:null}):this.setState({displayedPopup:e})}},{key:"_hidePopupOnWindowScroll",value:function(){this.state.displayedPopup&&Object(U.hasFixedToolbar)()&&setTimeout(this._togglePopup,0)}},{key:"_toggleScopeFilterValue",value:function(e){var t,n=this.props.searchService;t=n.getAdvanced("scope")===e,n.setAdvanced("scope",t?null:e),this._logAction("Scope button ".concat(e),!t)}},{key:"_isScopeActive",value:function(e){return this.props.searchService.getAdvanced("scope")===e}},{key:"_onPopupOutsideClick",value:function(e){for(var t=e.target;t.parentElement;){if(t.classList.contains("js-prevent-popup-close"))return;t=t.parentElement}"HTML"===t.nodeName&&this.setState({displayedPopup:null})}},{key:"_logAction",value:function(e,t){var n=this.props,r=n.searchLogService,i=n.searchService;r.countNewAdvancedSearch(e,t?"on":"off",i.bubbles.length)}},{key:"maybeRenderPopup",value:function(){var e=this,t=this.state.displayedPopup;if(!t)return null;var n,r,i=this.props,o=i.searchService,a=i.foldersStore,s=i.labelsStore;switch(t){case"service":var u=Object(J.a)()||[];n=f($.a,{cls:Q().e("popup-content"),services:u||[],selectedServiceId:o.getAdvanced("serviceId"),onServiceSelected:this._onServiceSelected}),r=this._servicesButton.current;break;case"date":n=f(G.a,{cls:Q().e("popup-content"),from:o.getAdvanced("from"),to:o.getAdvanced("to"),onDateSelected:this._onDateSelected,logAction:this._logAction}),r=this._datesButton.current;break;case"folder":n=f(V.a,{cls:Q().e("popup-content"),folders:a.foldersForSearch.map((function(e){return e.data})),selectedFid:o.getAdvanced("fid"),onFolderSelected:this._onFolderSelected}),r=this._foldersButton.current;break;case"more":var c=o.getAdvanced("scope"),l=o.getAdvanced("lid");n=f(q.a,{cls:Q().e("popup-content"),scope:c,onScopeSelected:this._onScopeSelected,important:Boolean(l&&l===s.getImportantId()),onImportantSelected:this._toggleImportantFilterValue,unread:Boolean(o.getAdvanced("unread")),onUnreadSelected:this._toggleUnreadFilterValue,logAction:this._logAction}),r=this._moreButton.current;break;case"from":case"to":n=f(K.a,{cls:Q().e("popup-content"),type:t,onValueSelected:function(n){return e._onContactSelected(n,t)},onCancel:this._togglePopup,value:o.getAdvanced("hdr_"+t)}),r=this["_".concat(t,"Button")].current}return f(F.a,{visible:!0,anchor:r,theme:"normal",view:"default",onOutsideClick:this._onPopupOutsideClick},t,n)}},{key:"_maybeRenderServicesButton",value:function(){var e=this;if(Object(U.isCorp)()){var t=this.props.searchService;return y.a.createElement(I.a,{theme:"action",size:"l",cls:Q().e("button").m({active:Boolean(t.getAdvanced("serviceId"))}),ref:this._servicesButton,onClick:function(){return e._togglePopup("service")}},Z,ee)}return null}},{key:"render",value:function(){var e=this,t=this.props,n=t.searchService,r=t.className;if(!n.shouldDisplayAdvancedSearch)return null;var i=Boolean(n.getAdvanced("from")||n.getAdvanced("to"));return f(N.default,{lang:Daria.locale},void 0,f("div",{className:T()(Q().toString(),r)},void 0,this._maybeRenderServicesButton(),f(I.a,{theme:"action",size:"l",cls:Q().e("button").m({active:Boolean(n.getAdvanced("attaches"))}),onClick:this._toggleAttachesFilterValue},void 0,te,ne),y.a.createElement(I.a,{theme:"action",size:"l",cls:Q().e("button").m({active:i}),ref:this._datesButton,onClick:function(){return e._togglePopup("date")}},re,ie),y.a.createElement(I.a,{theme:"action",size:"l",cls:Q().e("button").m({active:Boolean(n.getAdvanced("fid"))}),ref:this._foldersButton,onClick:function(){return e._togglePopup("folder")}},oe,ae),y.a.createElement(I.a,{theme:"action",size:"l",cls:Q().e("button").m({active:this._isScopeActive("hdr_from")}),ref:this._fromButton,onClick:function(){return e._togglePopup("from")}},se,ue),y.a.createElement(I.a,{theme:"action",size:"l",cls:Q().e("button").m({active:this._isScopeActive("hdr_to")}),ref:this._toButton,onClick:function(){return e._togglePopup("to")}},ce,le),y.a.createElement(I.a,{theme:"action",size:"l",cls:Q().e("button").m({active:!1}),ref:this._moreButton,onClick:function(){return e._togglePopup("more")}},de),this.maybeRenderPopup()))}}]),t})(y.a.PureComponent),m.propTypes={searchStore:w.a.instanceOf(x.a).isRequired,foldersStore:w.a.instanceOf(C.a).isRequired,labelsStore:w.a.instanceOf(E.a).isRequired,searchService:w.a.instanceOf(P.b).isRequired,searchLogService:w.a.instanceOf(j.a).isRequired,settingsService:w.a.instanceOf(k.a).isRequired,queryLanguageService:w.a.instanceOf(A.a).isRequired,className:w.a.string},h=v,(function(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o})(h.prototype,"_toggleScopeFilterValue",[M.action],Object.getOwnPropertyDescriptor(h.prototype,"_toggleScopeFilterValue"),h.prototype),g=h))||g)||g},,,,,,,,,,,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(null==e)return{};var n,r,i=u(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function u(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return t&&l(e.prototype,t),n&&l(e,n),e}function f(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?p(e):t}function p(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function g(e,t,n){return(g="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=h(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function h(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&b(e,t)}function b(e,t){return(b=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return O}));var _=n(348),y=n.n(_),S=n(1697),w=n(2620),O=(n.n(w),(function(e){function t(){return c(this,t),f(this,m(t).apply(this,arguments))}return v(t,e),d(t,[{key:"_calcBestDrawingParams",value:function(e){if(this.props.ignorePageOffsets){var n=g(m(t.prototype),"_calcBestDrawingParams",this).call(this,e),r="anchor"===this.props.target?2:1,i=this._adjustPosition(n),a=i.top,u=i.left,c=s(i,["top","left"]);return o({top:a+r*window.pageYOffset,left:u+r*window.pageXOffset},c)}return g(m(t.prototype),"_calcBestDrawingParams",this).call(this,e)}},{key:"_adjustPosition",value:function(e){var t=this.props,n=t.maxWidth,r=t.minLeft;if("anchor"===t.target&&n&&r){var i=this._calcPopupDimensions(),o=e.left+window.pageXOffset+i.width-(r+n);o>0&&(e.left-=o,e.tail.left+=o);var a=r-e.left-window.pageXOffset;a>0&&(e.left+=a,e.tail.left-=a)}return e}},{key:"_calcTargetDimensions",value:function(e){if(this.props.ignorePageOffsets&&"anchor"===this.props.target){var n=g(m(t.prototype),"_calcTargetDimensions",this).call(this,e),r=n.top,i=n.left,a=s(n,["top","left"]);return o({top:r-window.pageYOffset,left:i-window.pageXOffset},a)}return g(m(t.prototype),"_calcTargetDimensions",this).call(this,e)}},{key:"_calcPos",value:function(e,n,r){if(this.props.patchBottomRight&&"bottom-right"===e){var i=this._calcViewportDimensions(),a=this.props.viewportOffset||this.defaultViewportOffset,s=n.left;return g(m(t.prototype),"_calcPos",this).call(this,e,o({},n,{width:n.width||i.right-a-s||0}),r)}return g(m(t.prototype),"_calcPos",this).call(this,e,n,r)}},{key:"_calcViewportDimensions",value:function(){if(this.props.fitPopupTo){var e=this.props.fitPopupTo.getBoundingClientRect(),n=e.top,r=e.left,i=e.bottom,o=e.right;return this.props.ignorePageOffsets||(n+=window.pageYOffset,i+=window.pageYOffset,r+=window.pageXOffset,o+=window.pageXOffset),{top:n,left:r,bottom:i,right:o}}return g(m(t.prototype),"_calcViewportDimensions",this).call(this)}}]),t})(S.a));O.propTypes=Object.assign(S.a.propTypes,{theme:y.a.string,fitPopupTo:y.a.instanceOf(Element),ignorePageOffsets:y.a.bool,patchBottomRight:y.a.bool,maxWidth:y.a.number,minLeft:y.a.number})},,,,,function(e,t){},function(e,t,n){"use strict";var r=n(2622);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return O}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(414),_=n.n(b),y=n(876),S=n(2633),w=(n.n(S),function(){return _()()("mail-AdvancedSearch-FolderSelector")}),O=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=u(t)).call.apply(e,[this].concat(o))),n._onFolderClick=n._onFolderClick.bind(c(n)),n}return l(t,e),a(t,[{key:"_onFolderClick",value:function(e){var t=this.props,n=t.onFolderSelected;n(e===t.selectedFid?null:e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.cls,r=t.folders,i=t.selectedFid;return f("div",{className:w().mix(n)},void 0,f(y.a,{theme:"normal",view:"classic",size:"s",type:"radio",val:i},void 0,r.map((function(t){return f(y.a.Item,{val:t.fid,onClick:function(){return e._onFolderClick(t.fid)}},t.fid,t.name)}))))}}]),t})(h.a.PureComponent);O.propTypes={cls:v.a.object,folders:v.a.array,onFolderSelected:v.a.func,selectedFid:v.a.string}},,,,,,,,,,,function(e,t){},function(e,t,n){"use strict";var r=n(2635);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return O}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(414),_=n.n(b),y=n(876),S=n(2636),w=(n.n(S),function(){return _()()("mail-AdvancedSearch-ServiceSelector")}),O=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=u(t)).call.apply(e,[this].concat(o))),n._onServiceClick=n._onServiceClick.bind(c(n)),n}return l(t,e),a(t,[{key:"_onServiceClick",value:function(e){var t=this.props,n=t.onServiceSelected;n(e===t.selectedServiceId?null:e)}},{key:"render",value:function(){var e=this,t=this.props,n=t.cls,r=t.services,i=t.selectedServiceId;return f("div",{className:w().mix(n)},void 0,f(y.a,{theme:"normal",view:"classic",size:"s",type:"radio",val:i},void 0,r.map((function(t){return f(y.a.Item,{val:t.serviceId,onClick:function(){return e._onServiceClick(t.serviceId)}},t.serviceId,t.name)}))))}}]),t})(h.a.PureComponent);O.propTypes={cls:v.a.object,services:v.a.array,onServiceSelected:v.a.func.isRequired,selectedServiceId:v.a.string}},function(e,t){},function(e,t,n){"use strict";var r=n(2638);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return A}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(414),_=n.n(b),y=n(386),S=n(876),w=n(368),O=n(352),M=n(2639),D=(n.n(M),function(){return _()()("mail-AdvancedSearch-MoreSelector")}),T=f(O.default,{loc:"suggest-react/advanced-search-label-scope"}),x=f(O.default,{loc:"suggest-react/advanced-search-filter-subject"}),C=f(O.default,{loc:"suggest-react/advanced-search-filter-body"}),E=f(w.default,{id:"mail--AdvancedSearch_important"}),P=f(O.default,{loc:"suggest-react/advanced-search-filter-important"}),k=f(w.default,{id:"mail--AdvancedSearch_unread"}),j=f(O.default,{loc:"suggest-react/advanced-search-filter-unread"}),A=(function(e){function t(){var e;i(this,t);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return s(this,(e=c(t)).call.apply(e,[this].concat(r)))}return l(t,e),a(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.cls,r=t.scope,i=t.important,o=t.unread,a=t.onImportantSelected,s=t.onUnreadSelected,u=t.onScopeSelected,c=["important","unread"].filter((function(t){return e.props[t]}));return f(y.default,{lang:Daria.locale},void 0,f("div",{className:D().mix(n)},void 0,f("div",{className:D().e("popup-header")},void 0,T),f(S.a,{theme:"normal",view:"classic",size:"s",type:"check",val:r},void 0,f(S.a.Item,{val:"hdr_subject",onClick:function(){return u("hdr_subject")}},void 0,x),f(S.a.Item,{val:"body_text",onClick:function(){return u("body_text")}},void 0,C)),f("div",{className:D().e("separator")}),f(S.a,{cls:D().e("iconed-menu"),theme:"normal",view:"classic",size:"s",type:"check",val:c},void 0,f(S.a.Item,{val:"important",onClick:function(){return a(!i)}},void 0,f("div",{className:D().e("icon-row")},void 0,E,P)),f(S.a.Item,{val:"unread",onClick:function(){return s(!o)}},void 0,f("div",{className:D().e("icon-row")},void 0,k,j)))))}}]),t})(h.a.PureComponent);A.propTypes={cls:v.a.object,onUnreadSelected:v.a.func,onImportantSelected:v.a.func,onScopeSelected:v.a.func,unread:v.a.bool,important:v.a.bool,scope:v.a.oneOfType([v.a.string,v.a.arrayOf(v.a.string)])}},function(e,t){},function(e,t,n){"use strict";var r=n(2641);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?d(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n,r){h||(h="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:h,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return L}));var h,m=n(137),v=n.n(m),b=n(348),_=n.n(b),y=n(414),S=n.n(y),w=n(386),O=n(1720),M=n(1187),D=n.n(M),T=n(356),x=n(402),C=n(368),E=n(391),P=n(352),k=n(2652),j=(n.n(k),function(){return S()()("mail-AdvancedSearch-DateSelector")}),A=g(P.default,{loc:"suggest-react/advanced-search-label-wrong-dates"}),I=g(P.default,{loc:"suggest-react/advanced-search-label-exchange-dates"}),R=g(P.default,{loc:"suggest-react/advanced-search-label-date-find"}),B=g(P.default,{loc:"suggest-react/advanced-search-label-select-date"}),F=g(C.default,{id:"mail--AdvancedSearch_arrow"}),L=(function(e){function t(){var e,n;a(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return n=c(this,(e=l(t)).call.apply(e,[this].concat(i))),n._customDateSelected=n._customDateSelected.bind(d(n)),n._applyCustomDates=n._applyCustomDates.bind(d(n)),n._exchangeDates=n._exchangeDates.bind(d(n)),n.props.from||n.props.to?n.state={from:n.props.from,to:n.props.to}:n.state={from:new Date(Daria.passportNow()),to:new Date(Daria.passportNow())},n}return f(t,e),u(t,[{key:"_customDateSelected",value:function(e,t){this.setState(o({},e,t&&Object(E.getDateComponentOfDatetime)(t.toDate())))}},{key:"_exchangeDates",value:function(){this.setState({from:this.state.to,to:this.state.from})}},{key:"_applyCustomDates",value:function(){var e=this.props,t=e.onDateSelected,n=e.logAction;t({from:this.state.from,to:this.state.to}),n&&n("Custom dates",!0)}},{key:"_renderButtons",value:function(){var e=this.state,t=e.from,n=e.to;return g("div",{className:j().e("buttons-block")},void 0,t&&n&&n<t&&g("div",{className:j().e("error-message")},void 0,A,g(x.a,{theme:"link",size:"s",onClick:this._exchangeDates},void 0,I)),g("div",{className:j().e("buttons-row")},void 0,g(x.a,{theme:"action",size:"n",onClick:this._applyCustomDates},void 0,R)))}},{key:"render",value:function(){var e=this,t=this.props.cls,n={locale:D.a[Object(T.getLocale)()],dateFormat:"DD.MM.YYYY",placeholderText:"01.01.2000",size:"m",width:"available",fixedHeight:!0,maxDate:Daria.passportNow(),calendarClassName:"js-prevent-popup-close suggest-datepicker-calendar"};return g(w.default,{lang:Daria.locale},void 0,g("div",{className:j().mix(t)},void 0,g("div",{className:j().e("select-date-header")},void 0,B),g("div",{className:j().e("date-picker-row")},void 0,v.a.createElement(O.a,r({},n,{onChange:function(t){return e._customDateSelected("from",t)},selected:this.state.from})),F,v.a.createElement(O.a,r({},n,{onChange:function(t){return e._customDateSelected("to",t)},selected:this.state.to}))),this._renderButtons()))}}]),t})(v.a.PureComponent);L.propTypes={cls:_.a.object,from:_.a.instanceOf(Date),to:_.a.instanceOf(Date),onDateSelected:_.a.func,logAction:_.a.func}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return m}));var f=n(137),p=n.n(f),g=n(348),h=n.n(g),m=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n.state={component:null},n}return l(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this;this.props.loader().then((function(t){e.setState({component:t.default})}))}},{key:"render",value:function(){return this.state.component?p.a.createElement(this.state.component,this.props):this.props.renderPlaceholder()}}]),t})(p.a.Component);m.propTypes={loader:h.a.func.isRequired,renderPlaceholder:h.a.func},m.defaultProps={renderPlaceholder:function(){return null}}},,,,,,,,,,function(e,t){},function(e,t,n){"use strict";var r=n(2654);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){v||(v="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:v,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return N}));var p,g,h,m,v,b=n(353),_=n(137),y=n.n(_),S=n(348),w=n.n(S),O=n(414),M=n.n(O),D=n(386),T=n(879),x=n(728),C=n(1515),E=n(397),P=n.n(E),k=n(138),j=n.n(k),A=n(2703),I=(n.n(A),n(2704)),R=n(352),B=function(){return M()()("mail-AdvancedSearch-ContactSelector")},F=f(R.default,{loc:"suggest-react/advanced-search-filter-from"}),L=f(R.default,{loc:"suggest-react/advanced-search-filter-to"}),N=(p=Object(b.inject)("avatarsService","contactsSuggestService"))((m=h=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n._onTextChange=function(e){n.setState({text:e}),n._makeQueryDebounced()},n._makeQuery=function(){var e=n.state.text;n.props.contactsSuggestService.getContacts(e).then((function(t){n.state.text===e&&n._handleSuggestResult(t)}))},n._handleSuggestResult=function(e){n.setState({contacts:e,selectedIndex:e.length?0:null,avatars:null});var t=e;n.props.avatarsService.loadAvatars(t).then((function(e){n.state.contacts===t&&n.setState({avatars:e.map((function(e){return e.avatar}))})}))},n._selectNext=function(){var e=n.state,t=e.selectedIndex,r=e.contacts,i=null===t||t>=r.length-1?0:t+1;n.setState({selectedIndex:i})},n._selectPrev=function(){var e=n.state,t=e.selectedIndex,r=e.contacts,i=null===t||t<=0?r.length-1:t-1;n.setState({selectedIndex:i})},n._selectContact=function(e){var t=n.state.contacts,r=t.indexOf(e);-1!==r&&n.setState({selectedIndex:r})},n._onKeyDown=function(e){var t=n.state,r=t.selectedIndex,i=t.contacts,o=n.props,a=o.onCancel,s=o.onValueSelected;switch(e.keyCode){case P.a.DOWN:n._selectNext();break;case P.a.UP:n._selectPrev();break;case P.a.ENTER:null!==r&&r>=0&&r<i.length&&s(i[r]);break;case P.a.ESC:a()}};var u=n.props.value;return n.state={text:u||"",contacts:[],avatars:null},n._makeQueryDebounced=j.a.debounce(n._makeQuery,200),n._inputRef=y.a.createRef(),n._makeQuery(),n}return l(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e._inputRef&&e._inputRef.current.focus()}),0)}},{key:"render",value:function(){var e=this,t=this.props,n=t.cls,r=t.type,i=t.onValueSelected,o=this.state,a=o.text,s=o.contacts,u=o.avatars,c=o.selectedIndex;return f(D.default,{lang:Daria.locale},void 0,f("div",{className:B().mix(n)},void 0,f("div",{className:B().e("header")},void 0,"from"===r?F:L),y.a.createElement(T.a,{pin:"round-round",theme:"websearch",view:"default",text:a,onKeyDown:this._onKeyDown,onChange:this._onTextChange,ref:this._inputRef}),s.map((function(t,n){return f(I.a,{isSelected:n===c,contact:t,avatar:u&&u[n],onClick:i,onFocus:e._selectContact},t.email+" "+t.name)}))))}}]),t})(y.a.PureComponent),h.propTypes={cls:w.a.object,type:w.a.string,value:w.a.string,onValueSelected:w.a.func.isRequired,onCancel:w.a.func.isRequired,logAction:w.a.func,avatarsService:w.a.instanceOf(x.a).isRequired,contactsSuggestService:w.a.instanceOf(C.a).isRequired},g=m))||g},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return M}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(414),_=n.n(b),y=n(2705),S=(n.n(y),n(745)),w=n.n(S),O=function(){return _()()("mail-AdvancedSearch-ContactItem")},M=(function(e){function t(){return i(this,t),s(this,c(t).apply(this,arguments))}return l(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.contact,n=e.avatar,r=e.isSelected,i=e.onClick,o=e.onFocus,a=[t.name,t.title].filter((function(e){return e})).join("\n");return f("div",{className:O().m({selected:r}),onClick:function(){return i(t)},onMouseEnter:o?function(){return o(t)}:null,title:a},void 0,f("div",{className:O().e("avatar")},void 0,h.a.createElement(w.a,n)),f("div",{className:O().e("text")},void 0,t.name!==t.email&&f("div",{className:O().e("name")},void 0,t.name),f("div",{className:O().e("email")},void 0,t.email)))}}]),t})(h.a.PureComponent);M.propTypes={cls:v.a.object,contact:v.a.object.isRequired,avatar:v.a.object,onClick:v.a.func.isRequired,onFocus:v.a.func,isSelected:v.a.bool}},function(e,t){},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var o=i(n(137)),a=i(n(350));n(2707);var s=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.maybeRenderMonogram=function(){var e=this.props,t=e.url,n=e.monogram;return t?null:o.default.createElement("span",{className:"mail-Avatar__Monogram"},n)},t.prototype.render=function(){var e=this.props,t=e.url,n=e.color,r=e.size,i=void 0===r?"s":r,s=e.className;if(e.isSpam)return o.default.createElement("div",{className:a.default("mail-Avatar","mail-Avatar_spam","mail-Avatar_size-"+i,s)});var u={};return t?u.backgroundImage="url("+t+")":n&&(u.backgroundColor=n),o.default.createElement("div",{className:a.default("mail-Avatar","mail-Avatar_size-"+i,s),style:u,"aria-hidden":!0},this.maybeRenderMonogram())},t})(o.default.Component);t.default=s},function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function i(e){function t(e){f!==e&&(f=e,a(!0),o("показ бабла"))}function n(){a(!1),window.removeEventListener("mousedown",i),setTimeout((function(){c.a.unmountComponentAtNode(u),document.body.removeChild(u),e()}),200)}function i(e){var t=e.target;t&&(o(t.dataset.promoPopularContactsMetrika||"клик вне зоны бабла"),n())}function o(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";Jane.c(["Популярные контакты",e])}function a(e){var t={cls:"promo-popular-contacts",theme:"normal",target:"anchor",anchor:f,visible:e,hasTail:!0};c.a.render(s.a.createElement(l.a,t,r("div",{className:"promo-popular-contacts-message","data-promo-popular-contacts-metrika":"клик в бабл"},void 0,r(d.default,{id:"mail--Close16",cls:"promo-popular-contacts-close",data:{"data-promo-popular-contacts-metrika":"клик на крестик бабла"}}),i18n("%Compose_promo_popular_contacts"))),u)}p.create=function(){};var u=document.createElement("div");document.body.appendChild(u),(function(){window.addEventListener("mousedown",i)})();var f=null;return{setAnchor:t,close:n}}var o,a=n(137),s=n.n(a),u=n(141),c=n.n(u),l=n(657),d=n(368),f=n(2710),p=(n.n(f),{create:i});t.a=p},function(e,t){},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.page,n=e.email,i=document.createElement("div");document.body.appendChild(i);var o=function(){i&&(u.a.unmountComponentAtNode(i),document.body.removeChild(i),i=null,ns.events.trigger("daria:unsubscribe-popup:hide"))},s=function(){h.SubscriptionCountersStore.instance().forceUpdate(),m.PendingSubscriptionsStore.instance().forceUpdate()},v=Object(l.isDarkContent)(),b={isDark:v,onClose:o,onReload:s,page:t,email:n,linkToMailPro:Object(f.getLinkToMailPro)("manage_subscriptions"),onHelp:function(){window.open("".concat(d.helpUrl,"/web/preferences/manage-subscriptions.html#opt-in"),"_blank")},onChoosePlan:function(){},onOptInEnable:function(){p.a.instance().setSettings(r({},g.Settings.OPT_IN_SUBSCRIPTIONS_ENABLED,"on")),h.SubscriptionCountersStore.instance().clearData()},onOptInDisable:function(){p.a.instance().setSettings(r({},g.Settings.OPT_IN_SUBSCRIPTIONS_ENABLED,""))}};u.a.render(a.a.createElement(c.a,b),i),m.PendingSubscriptionsStore.instance().resetLastReview()}var o=n(137),a=n.n(o),s=n(141),u=n.n(s),c=n(2712),l=n(581),d=n(435),f=n(356),p=n(573),g=n(50),h=(n.n(g),n(1191)),m=(n.n(h),n(1728)),v=(n.n(m),{openPopup:i});t.a=v},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return w}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(1189),_=n(2721),y=(n.n(_),n(1190)),S={CLOSE:"subscriptions.close",READY:"subscriptions.DOMReady",RELOAD:"subscriptions.reload",API_ERROR:"subscriptions.apiError",NETWORK_ERROR:"subscriptions.networkError",CHOOSE_PLAN:"subscriptions.choosePlan",HELP:"subscriptions.help",OPT_IN_ENABLE:"subscriptions.optinEnable",OPT_IN_DISABLE:"subscriptions.optinDisable"},w=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n.onClose=function(){return n.props.onClose()},n._formFrameListener=function(e){switch(e.data){case S.READY:n._setSubscriptionsConfig();break;case S.RELOAD:n._onSubscriptionFolderReload();break;case S.CLOSE:n._onClose();break;case S.API_ERROR:case S.NETWORK_ERROR:n._onError();break;case S.CHOOSE_PLAN:n._onChoosePlan();break;case S.HELP:n._onHelp();break;case S.OPT_IN_ENABLE:n.props.onOptInEnable&&n.props.onOptInEnable();break;case S.OPT_IN_DISABLE:n.props.onOptInDisable&&n.props.onOptInDisable()}},n}return l(t,e),a(t,[{key:"render",value:function(){return f(b.a,{autoclosable:!0,cls:"mail-SubscriptionsPopup",theme:"normal",visible:!0,onClose:this.onClose},void 0,f("div",{className:"mail-SubscriptionsPopup_dialog"},void 0,f("iframe",{className:"js-subscriptions-frame",frameBorder:"0",src:["/subs/".concat(this.props.page||""),this.props.email?"/".concat(this.props.email):"","?platform=web","&locale=".concat(Daria.locale),"&noHistory=1","&optinExp=".concat(Object(y.isOptInSubscriptionsVisible)()?1:0),Daria.Config.uid?"&uid=".concat(Daria.Config.uid):"",this.props.isDark?"&darkTheme=1":""].join("")})))}},{key:"componentDidMount",value:function(){window.addEventListener("message",this._formFrameListener),$.Shortcuts.modalListOn("subscriptions-popup"),ns.events.on("daria:unsubscribe-popup:hide",this._onClose.bind(this))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("message",this._formFrameListener),$.Shortcuts.modalListOff("subscriptions-popup"),ns.events.off("daria:unsubscribe-popup:hide",this._onClose)}},{key:"_setSubscriptionsConfig",value:function(){var e={uid:Daria.uid,client:"liza",choosePlanUrl:this.props.linkToMailPro};$(".js-subscriptions-frame")[0].contentWindow.subscriptions.setConfig(e)}},{key:"_onSubscriptionFolderReload",value:function(){this.props.onReload()}},{key:"_onClose",value:function(){this.props.onClose()}},{key:"_onError",value:function(){this.props.onClose()}},{key:"_onChoosePlan",value:function(){this.props.onChoosePlan&&this.props.onChoosePlan()}},{key:"_onHelp",value:function(){this.props.onHelp&&this.props.onHelp()}}]),t})(h.a.PureComponent);w.propTypes={isDark:v.a.bool.isRequired,onClose:v.a.func.isRequired,onReload:v.a.func.isRequired,linkToMailPro:v.a.string.isRequired,onChoosePlan:v.a.func,onHelp:v.a.func,onOptInEnable:v.a.func,onOptInDisable:v.a.func,page:v.a.oneOf(["pending","active","hidden"]),email:v.a.string}},,,,,,,,function(e,t){},function(e,t){},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t,n,r){s||(s="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),u=0;u<o;u++)a[u]=arguments[u+3];t.children=a}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:s,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return p}));var s,u=n(137),c=(n.n(u),n(141)),l=n.n(c),d=n(386),f=n(2723),p=(function(){function e(){r(this,e),this.rootNode=null}return o(e,[{key:"_initRootNode",value:function(){this.rootNode||(this.rootNode=document.createElement("div"),document.body.appendChild(this.rootNode))}},{key:"showPromo",value:function(e,t,n){this._initRootNode(),l.a.render(a(d.default,{lang:Daria.locale},void 0,a(f.a,{anchor:e,onClosePromo:n,scope:t,visible:!0})),this.rootNode)}},{key:"hidePromo",value:function(){this.rootNode&&l.a.unmountComponentAtNode(this.rootNode)}}]),e})()},function(e,t,n){"use strict";var r=n(2724);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return O}));var p,g=n(137),h=n.n(g),m=n(350),v=n.n(m),b=n(348),_=n.n(b),y=n(370),S=n(352),w=n(2725),O=(n.n(w),(function(e){function t(){return i(this,t),s(this,c(t).apply(this,arguments))}return l(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.anchor,n=e.cls,r=e.onClosePromo,i=e.scope,o=e.visible;if(!t||!i)return null;var a=v()("mail-Compose-BetaPromo",n),s={hiding:!0,mainOffset:0,secondaryOffset:-8,style:{position:"absolute"},tailOffset:8};return f(y.default,{theme:"promo",tone:"default",size:"m",cls:a,visible:o,anchor:t,scope:i,to:["top-right"],popupProps:s},void 0,f(y.default.Close,{onClick:r}),f(y.default.Description,{},void 0,f(S.default,{loc:Daria.isReactiveCompose()?"compose-react/Promo_EnableOldCompose":"compose-react/Promo_EnableNewCompose"})))}}]),t})(h.a.PureComponent));O.propTypes={anchor:_.a.object,cls:_.a.string,onClosePromo:_.a.func.isRequired,scope:_.a.object,visible:_.a.bool.isRequired}},function(e,t){},function(e,t,n){"use strict";function r(e){var t=e.onOk,n=document.createElement("div");document.body.appendChild(n);var r=function(){n&&(s.a.unmountComponentAtNode(n),document.body.removeChild(n),n=null)},i={onOk:t,onClose:r};s.a.render(o.a.createElement(u.a,i),n)}var i=n(137),o=n.n(i),a=n(141),s=n.n(a),u=n(2727);t.a={openPopup:r}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){return s(e)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function s(e){if(Array.isArray(e))return e}function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){function o(e){u(s,r,i,o,a,"next",e)}function a(e){u(s,r,i,o,a,"throw",e)}var s=e.apply(t,n);o(void 0)})}}function l(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function d(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function f(e,t,n){return t&&d(e.prototype,t),n&&d(e,n),e}function p(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?g(e):t}function g(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&v(e,t)}function v(e,t){return(v=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function b(e,t,n,r){_||(_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:_,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var _,y=n(137),S=n.n(y),w=n(348),O=n.n(w),M=n(1189),D=n(879),T=n(402),x=n(386),C=n(356),E=n(2728),P=(n.n(E),n(2729)),k=n.n(P),j=n(352),A={Wrapper:"mail-YaCollectorEmailInputPopup",Content:"mail-YaCollectorEmailInputPopup_Content",Header:"mail-YaCollectorEmailInputPopup_Header",EmailInputWrapper:"mail-YaCollectorEmailInputPopup_EmailInputWrapper",ControlPanel:"mail-YaCollectorEmailInputPopup_ControlPanel",ErrorIcon:"mail-YaCollectorEmailInputPopup_ErrorIcon",ErrorText:"mail-YaCollectorEmailInputPopup_ErrorText"},I=b(j.default,{loc:"common-react/YaCollectorEmailInputPopup_requiredField"}),R=b(j.default,{loc:"common-react/YaCollectorEmailInputPopup_invalidEmail"}),B=b(j.default,{loc:"common-react/YaCollectorEmailInputPopup_title"}),F=b("label",{},void 0,b(j.default,{loc:"common-react/YaCollectorEmailInputPopup_emailField"})),L=b(j.default,{loc:"common-react/YaCollectorEmailInputPopup_ok"}),N=b(j.default,{loc:"common-react/YaCollectorEmailInputPopup_cancel"}),H=(function(e){function t(){var e,n;l(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=p(this,(e=h(t)).call.apply(e,[this].concat(o))),n.state={email:"",errorMessage:null},n.emailInputRef=S.a.createRef(),n.setEmailInputRef=function(e){return n.emailInputRef.current=e},n.onEmailChange=function(e){return n.setState({email:e})},n.onOk=c(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.state.email){e.next=4;break}return n.setState({errorMessage:I}),e.abrupt("return");case 4:return e.next=6,n.isYandexUser(t);case 6:if(e.sent){e.next=9;break}return n.setState({errorMessage:R}),e.abrupt("return");case 9:n.props.onOk({email:t}),n.props.onClose();case 11:case"end":return e.stop()}}),e)}))),n.isYandexUser=function(e){return ns.request("is-yandex-user",{email:e}).then((function(e){return"yes"===i(e,1)[0].get(".y")}))},n}return m(t,e),f(t,[{key:"componentDidMount",value:function(){var e=this;setTimeout((function(){e.emailInputRef.current&&e.emailInputRef.current.focus()}),0)}},{key:"renderErrorMessage",value:function(){var e=this.state.errorMessage;return e?b("div",{},void 0,b("img",{className:A.ErrorIcon,src:k.a}),b("div",{className:A.ErrorText},void 0,e)):null}},{key:"render",value:function(){var e=this.props.onClose,t=this.state.email;return b(x.default,{lang:Object(C.getLocale)()},void 0,b(M.a,{cls:A.Wrapper,autoclosable:!0,visible:!0,theme:"normal",onClose:e},void 0,b("div",{className:A.Content},void 0,b("div",{className:A.Header},void 0,B),b("div",{},void 0,b("div",{className:A.EmailInputWrapper},void 0,F,b(D.a,{innerRef:this.setEmailInputRef,theme:"normal",size:"xs",onChange:this.onEmailChange,text:t}),this.renderErrorMessage()),b("div",{className:A.ControlPanel},void 0,b(T.a,{theme:"normal",size:"xs",onClick:this.onOk},void 0,L),b(T.a,{theme:"normal",size:"xs",onClick:e},void 0,N))))))}}]),t})(S.a.Component);H.propTypes={onOk:O.a.func.isRequired,onClose:O.a.func.isRequired},t.a=H},function(e,t){},function(e,t,n){e.exports=n.p+"_/bf5cdd356233d8b8688ad3c30f8835d7-error.svg"},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise(function(r,o){function a(e){i(u,r,o,a,s,"next",e)}function s(e){i(u,r,o,a,s,"throw",e)}var u=e.apply(t,n);a(void 0)})}}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function g(e,t,n,r){_||(_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:_,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return Me}));var h,m,v,b,_,y=n(137),S=n.n(y),w=n(348),O=n.n(w),M=n(351),D=n(353),T=n(138),x=n.n(T),C=n(2731),E=n.n(C),P=n(2753),k=n.n(P),j=n(657),A=n(356),I=n(2755),R=n(2756),B=(n.n(R),n(375)),F=n(1498),L=n(965),N=n(1507),H=n(1500),U=n(730),W=n(573),z=n(977),V=n(729),$=n(1510),q=n(459),G=n(422),K=n(2757),Y=n(2993),J=n(3041),X=n(3044),Q=n.n(X),Z=n(3046),ee=n.n(Z),te=n(1215),ne=n(395),re=n.n(ne),ie=n(3047),oe=n(386),ae=n(731),se=n(3048),ue=n.n(se),ce=n(1759),le=(n.n(ce),n(1760)),de=n.n(le),fe=n(3050),pe=n.n(fe),ge=n(435),he=n(426),me=Object(A.isCorp)()?de.a:Object(ce.withDefaultServices)(),ve=k()(ue()(me(E.a))),be=g(C.LogoCorp,{}),_e=g(C.Logo360,{}),ye=g(K.a,{}),Se=g(J.a,{}),we=(h=Object(D.inject)("accountInformationStore","contactSuggestStore","themesSelectorService","settingsStore","settingsService","servicesPopupStore","routerStore","themesStore","headUserStateStore","userDropdownDataStore","searchStore"))(m=Object(D.observer)((b=v=(function(e){function t(e){var n;return a(this,t),n=c(this,l(t).call(this,e)),n._disposer=new re.a,n.state={isMounted:!1},n._renderLogo=function(){return Object(A.isCorp)()?be:Object(A.hasSid)(122)||Object(A.isB2BUser)()?g(C.Logo360,{onClick:n._onCurrentServiceClick}):_e},n._onMorePopupChangeVisibility=n._onMorePopupChangeVisibility.bind(d(n)),n}return f(t,e),u(t,[{key:"componentDidMount",value:function(){var e=this.props.headUserStateStore;this.userAccountAvaNode=document.querySelector(".user-account__pic"),this.userNode=document.querySelector(".user-account"),this.userBlock=document.querySelector(".legouser"),this.updateUserAccountAvatarCounter(e.hasNewLettersInMA),this._disposer.add(this,[this._createXivaUpdateUserCountersReaction(),this._createXivaUpdateNewLettersReaction()]),this._disposer.addEventListener(this,{element:this.userNode,eventName:"mousedown",listener:this._onClickOnUser.bind(this)}),this._disposer.addEventListener(this,{element:this.userBlock,eventName:"mousedown",listener:this._onMetricClick.bind(this)});var t=Object(ie.a)(this.props.userDropdownDataStore);t&&this._disposer.add(this,[t]),this.setState({isMounted:!0})}},{key:"componentWillUnmount",value:function(){this._disposer.disposeAll()}},{key:"_createXivaUpdateUserCountersReaction",value:function(){var e=this,t=this.props,n=t.headUserStateStore,r=t.userDropdownDataStore;return Object(M.reaction)((function(){return r.userCountersHash}),(function(){e.updateUserAccountAvatarCounter(n.hasNewLettersInMA)}))}},{key:"_createXivaUpdateNewLettersReaction",value:function(){var e=this,t=this.props.headUserStateStore;return Object(M.reaction)((function(){return t.hasNewLettersInMA}),(function(){e.updateUserAccountAvatarCounter(t.hasNewLettersInMA)}))}},{key:"updateUserAccountAvatarCounter",value:function(e){e?this.userAccountAvaNode.classList.add("is-updated"):this.userAccountAvaNode.classList.remove("is-updated")}},{key:"_onClickOnUser",value:(function(){function e(){return t.apply(this,arguments)}var t=o(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a=this;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=this.props,n=t.headUserStateStore,r=t.userDropdownDataStore,n.setNewLettersInMA(!1),G.default.forcedRequest("do-mail-reset-recent-counter"),this.updateUserAccountAvatarCounter(n.hasNewLettersInMA),e.next=6,r.getUserAccountsCountersHash();case 6:i=e.sent,o=this._getUserAccountsNodesWithUid(),Array.prototype.slice.call(o).forEach((function(e){var t=a._getUserAccountNodeUid(e);if(t){var n=e.getElementsByClassName("counterLabel")[0];if(!n){var r=document.createElement("div");r.classList.add("counterLabel","is-hidden"),e.querySelector(".user-pic").appendChild(r),n=r}i[t]>0&&(n.classList.remove("is-hidden"),n.innerText=i[t])}}));case 9:case"end":return e.stop()}}),e,this)})));return e})()},{key:"_onMetricClick",value:function(e){var t=Object(I.a)(e.target,"count-me");if(t){var n={};try{n=JSON.parse(t.dataset.count)}catch(e){n=t.dataset.count}Object(te.countMetrikaFn)(n.name,n)}}},{key:"_getUserAccountNodeUid",value:function(e){return x.a.get(JSON.parse(e.getAttribute("data-bem")),".legouser__account.uid")}},{key:"_getUserAccountsNodesWithUid",value:function(){var e=this,t=document.querySelectorAll(".PSHeader .legouser__popup .legouser__multi-auth .legouser__account");return Array.prototype.slice.call(t).filter((function(t){return Boolean(e._getUserAccountNodeUid(t))}))}},{key:"_maybeRenderRightContent",value:function(){return this.state.isMounted?ye:null}},{key:"render",value:function(){var e=this.props,t=e.routerStore,n=e.searchStore,r=e.contactSuggestStore,i=e.settingsService,o=t.isAbookPage,a=null;o?a=Se:t.isSetupPage&&i.isCompactHeaderMode||(a=g("div",{className:"mail-Search",role:"search"},void 0,Object(Y.a)()));var s=Object(A.getConfig)(),u=[{text:i18n("%Yandex_homepage"),url:s["morda-url"],action:"homepage"}];Object(A.isCorp)()?u.unshift({text:i18n("%ServiceTabs_staff"),url:s["staff-host"],action:"staff"}):(u.unshift({text:i18n("%Сменить_пароль"),url:"".concat(s["passport-url"],"?mode=changepass"),action:"change-password"}),this.props.settingsStore.hideYandexJobs||u.unshift({text:i18n("%Hiring_long"),url:"".concat(s["hiring-url"],"?from=mail_account"),action:"hiring"}));var c=t.isAbookPage?!r.isFolded:!n.isFolded,l=this.props.accountInformationStore.isB2BUser,d=this.props.settingsStore.hideB2cTariffPromo,f={links:ge.headerServicesLinks,corpLinks:ge.headerServicesLinks,currentService:"Mail",showDocuments:s.headerWithDocs,onCurrentServiceClick:this._onCurrentServiceClick,onMorePopupChangeVisibility:this._onMorePopupChangeVisibility,theme:this._getTheme(),subscriptionButtonTheme:this._getButtonSkin(),isLegoOnReact:!0,LegoPopup:j.a,allServicesLink:!Object(A.isCorp)()&&s["all-url"],timeZone:s.timeZone,leftContent:a,searchOpened:c,rightContent:this._maybeRenderRightContent(),tld:s.domain,lang:Object(A.getLocale)(),userProps:{uid:Object(A.getUid)(),name:s.headerUserName,avatarId:s.avatarId,yu:Object(A.getYandexUid)(),avatarHost:s["avatar-host"],retpath:s["origin-url"],yaplusAvailable:!d&&!Object(A.isCorp)(),hasPlus:Object(A.hasPlus)(),noCounter:!0,helpUrl:s["help-url"],accountsUrl:s["accounts-url"],customMenuItems:u,loggedByLink:!0,loggedByLinkRetpath:s["origin-url"],subname:s.headerUserSubname,isInternal:Object(A.isCorp)()},isMailUserBlock:!0,isB2bAdmin:this.props.accountInformationStore.data.isAdmin,isB2bUser:l,countMetrikaFn:function(e,t){if(!i.isCompactHeaderMode){for(var n=arguments.length,r=new Array(n>2?n-2:0),o=2;o<n;o++)r[o-2]=arguments[o];te.countMetrikaFn.apply(void 0,r)}},customLogoUrl:s.customLogoImageUrl,getI18nFn:function(e,t){return Object(A.getTranslations)()[e]["mail-liza"]["ps-header"][t]()},yandex360Link:d||l||Object(A.hasSid)(122)?"/":s["yandex360-url"],hideTuning:d,showFan:l,onlyUserHTMLInSSR:!0,renderLogo:this._renderLogo,onLogoClick:this._onCurrentServiceClick},p="".concat(ge.headerServicesLinks.Wiki,"/HR/NDA");return S.a.createElement(S.a.Fragment,null,S.a.createElement(ve,f),Object(A.isCorp)()&&g("a",{className:pe.a.ndaStamp,href:p}))}},{key:"_onCurrentServiceClick",value:function(e){e.preventDefault(),Object(A.runAction)("mailbox.check")}},{key:"_onMorePopupChangeVisibility",value:function(e){this.props.servicesPopupStore.toggle(e)}},{key:"_getTheme",value:function(){var e=this.props,t=e.themesStore;return e.routerStore.is404LikePage?"light":Q()(t.currentTheme,t.currentSkin)}},{key:"_getButtonSkin",value:function(){var e=this.props,t=e.themesStore;if(!e.routerStore.is404LikePage)return ee()(t.currentTheme,t.currentSkin)}}]),t})(S.a.PureComponent),v.propTypes={accountInformationStore:O.a.instanceOf(F.a).isRequired,contactSuggestStore:O.a.instanceOf(L.a).isRequired,headUserStateStore:O.a.instanceOf(H.a).isRequired,servicesPopupStore:O.a.instanceOf(N.a).isRequired,searchStore:O.a.instanceOf(U.a).isRequired,settingsStore:O.a.instanceOf(ae.c).isRequired,settingsService:O.a.instanceOf(W.a).isRequired,themesSelectorService:O.a.instanceOf(z.a).isRequired,routerStore:O.a.instanceOf(V.a).isRequired,themesStore:O.a.instanceOf(he.ThemesStore).isRequired,userDropdownDataStore:O.a.instanceOf($.a).isRequired},m=b))||m)||m,Oe=g(we,{}),Me=function(){var e={contactSuggestStore:Object(B.getContactSuggestStore)(),accountInformationStore:Object(B.getAccountInformationStore)(),routerStore:Object(B.getRouterStore)(),themesSelectorService:Object(q.getThemesSelectorService)(),themesStore:he.ThemesStore.instance(),routerService:Object(q.getRouterService)(),servicesPopupStore:Object(B.getServicesPopupStore)(),settingsService:Object(q.getSettingsService)(),settingsStore:Object(B.getSettingsStore)(),settingsSelectorStore:Object(B.getSettingsSelectorStore)(),searchLogService:Object(q.getSearchLogService)(),searchStore:Object(B.getSearchStore)(),userDropdownDataStore:Object(B.getUserDropdownDataStore)(),headUserStateStore:Object(B.getHeadUserStateStore)()};return g(oe.default,{lang:Object(A.getLocale)()},void 0,S.a.createElement(D.Provider,e,Oe))}},,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e,t){for(var n=e;n&&!n.classList.contains(t);)n=n.parentElement;return n}},function(e,t){},function(e,t,n){"use strict";var r=n(2758);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){v||(v="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:v,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return k}));var p,g,h,m,v,b=n(137),_=n.n(b),y=n(348),S=n.n(y),w=n(353),O=n(87),M=(n.n(O),n(2759)),D=(n.n(M),n(2960)),T=(n.n(D),n(2990)),x=n(977),C=n(1508),E=n(2992),P=(n.n(E),f(M.NewSettings,{})),k=(p=Object(w.inject)("themesSelectorService","settingsSelectorStore"))(g=Object(w.observer)((m=h=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n.showSettings=function(){n.props.settingsSelectorStore.show()},n.hideSettings=function(){n.props.settingsSelectorStore.hide()},n}return l(t,e),a(t,[{key:"renderNewActions",value:function(){return P}},{key:"renderOldActions",value:function(){return _.a.createElement(_.a.Fragment,null,f(T.a,{showThemesSelector:this.props.themesSelectorService.openThemeSelector}),f(D.SettingsButton,{show:this.showSettings,hide:this.hideSettings,isOpen:this.props.settingsSelectorStore.open}))}},{key:"render",value:function(){return _.a.createElement(_.a.Fragment,null,Object(O.hasFeature)(O.Features.WEB_SETTINGS_POPUP_NEW)?this.renderNewActions():this.renderOldActions())}}]),t})(b.PureComponent),h.propTypes={themesSelectorService:S.a.instanceOf(x.a).isRequired,settingsSelectorStore:S.a.instanceOf(C.a).isRequired},g=m))||g)||g},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.NewSettings=void 0;var s=o(n(137)),u=n(353),c=a(n(350)),l=n(142),d=n(882),f=a(n(368)),p=n(2760),g=n(2907),h=n(356),m=a(n(367)),v=a(n(2959)),b=n(157);t.NewSettings=u.observer((function(){var e,t=s.useRef(null),n=g.useSettingsPopupStore(),r=n.isPopupVisible,i=n.setPopupVisible,o=n.isAllThemesVisible,a=n.setAllThemesVisible,u=s.useCallback((function(){return i(!r)}),[i,r]),_=s.useCallback((function(){return i(!1)}),[i]),y=s.useCallback((function(e){var t=e.target;t.classList.contains("mail-Region-Autocompleter_inner")||t.classList.contains("mail-Region-Autocompleter-List-Item")||_()}),[_]),S=s.useMemo((function(){return{showAllThemes:o,setShowAllThemes:a}}),[o,a]),w=g.useSettings(),O=g.useThemes(),M=g.usePromo(),D=!h.isCorp()&&Object.values(M.promos).some((function(e){return e.isNew}));return s.default.createElement(s.default.Fragment,null,s.default.createElement(l.Button,{className:c.default("mail-GhostButton","mail-SettingsButton","promozavr-anchor-settingsButton"),view:"clear",onClick:u,innerRef:t,"aria-label":m.default("settings-popup-react/popupTitle"),icon:function(){return s.default.createElement("span",{className:c.default(v.default.icon)},s.default.createElement(f.default,{id:"mail--Yandex-header_settings"}),D&&s.default.createElement("span",{className:v.default.badge},s.default.createElement(b.Badge,{outlineColor:"var(--badge-fill-color)"})))}}),s.default.createElement(d.Popup,{className:c.default(v.default.popup,(e={},e[v.default.dark]=O.isDark,e)),view:"default",visible:r,target:"anchor",anchor:t,hasTail:!0,tailSize:22,direction:"bottom",onClose:y,modifiers:[{name:"hide",enabled:!1}],keepMounted:!1,enableFocusTrap:!0,role:"dialog","aria-label":m.default("settings-popup-react/popupTitle")},s.default.createElement(p.MailSettings,{view:S,settings:w,themes:O,promo:M,onClose:_})))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MailSettingsPopupProps=t.MailSettings=void 0;var r=n(2761);Object.defineProperty(t,"MailSettings",{enumerable:!0,get:function(){return r.MailSettings}}),Object.defineProperty(t,"MailSettingsPopupProps",{enumerable:!0,get:function(){return r.MailSettingsPopupProps}})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MailSettings=void 0;var s=o(n(137)),u=n(353),c=a(n(350)),l=n(411),d=n(412),f=n(2765),p=n(2769),g=n(2899),h=n(660),m=a(n(1211));t.MailSettings=u.observer((function(e){var t,n=e.view,r=e.settings,i=e.themes,o=e.promo,a=e.onClose,u=n.showAllThemes,v=n.setShowAllThemes,b=s.useRef(null),_=s.useRef(null),y=s.useCallback((function(){v(!0),setTimeout((function(){b.current&&b.current.focus()}),100),h.logPopupMetric([l.HEADER_METRIKA_SHOW_ALL_THEMES])}),[v]),S=s.useCallback((function(){v(!1),setTimeout((function(){_.current&&_.current.focus()}),100),h.logPopupMetric([l.HEADER_METRIKA_HIDE_ALL_THEMES])}),[v]);return s.useEffect((function(){return h.logPopupMetric(),function(){return v(!1)}}),[v]),s.default.createElement(d.SettingsContext.Provider,{value:r},s.default.createElement(d.ThemesContext.Provider,{value:i},s.default.createElement(d.PromoContext.Provider,{value:o},s.default.createElement("div",{className:m.default.root},s.default.createElement(f.SettingsHeader,{onClose:a}),s.default.createElement("div",{className:c.default(m.default.container,(t={},t[m.default.showAllThemes]=u,t))},s.default.createElement(p.MailSettingsMain,{buttonRef:_,onShowAllThemes:y,closePopup:a}),s.default.createElement(g.MailSettingsThemes,{onHide:S,buttonRef:b}))))))}))},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useSettingsContext=t.SettingsContext=void 0;var a=o(n(137));t.SettingsContext=a.default.createContext({});var s=function(){return a.useContext(t.SettingsContext)};t.useSettingsContext=s},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.useThemesContext=t.ThemesContext=void 0;var a=o(n(137));t.ThemesContext=a.default.createContext({});var s=function(){return a.useContext(t.ThemesContext)};t.useThemesContext=s},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t};Object.defineProperty(t,"__esModule",{value:!0}),t.usePromoContext=t.PromoContext=t.PromoType=void 0;var a=o(n(137)),s=n(138);!(function(e){e.BACKUP="setup-backup",e.BEAUTIFUL_EMAIL="setup-beautiful-email",e.SUBSCRIPTIONS="setup-unsubscribe-filters"})(t.PromoType||(t.PromoType={})),t.PromoContext=a.default.createContext({backupDate:null,beautifulEmail:"",canUseBackup:!1,openSubscribesSettings:s.noop,optinEnabled:!1,promos:{},markPromoViewed:s.noop});var u=function(){return a.useContext(t.PromoContext)};t.usePromoContext=u},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsHeader=void 0;var r=n(2766);Object.defineProperty(t,"SettingsHeader",{enumerable:!0,get:function(){return r.SettingsHeader}})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsHeader=void 0;var s=o(n(137)),u=a(n(350)),c=n(411),l=a(n(352)),d=n(140),f=n(142),p=n(660),g=a(n(2767)),h=a(n(2768)),m=function(e){var t=e.onClose,n=s.useCallback((function(e){return s.default.createElement("div",{className:u.default(h.default.icon,e)},s.default.createElement(g.default,{width:"16"}))}),[]),r=s.useCallback((function(){p.logPopupMetric([c.HEADER_METRIKA_SETTINGS_ALL]),t()}),[t]);return s.default.createElement("div",{className:h.default.container},s.default.createElement(d.Text,{className:h.default.header,typography:"subheader-s",as:"h1",weight:"medium",color:"primary"},s.default.createElement(l.default,{loc:"settings-popup-react/popupTitle"})),s.default.createElement(f.Button,{view:"clear",size:"s",type:"link",url:"#setup",iconRight:n,onClick:r,className:h.default.button},s.default.createElement(d.Text,{weight:"medium",typography:"body-long-m"},s.default.createElement(l.default,{loc:"settings-popup-react/allSettingsButton"}))))};t.SettingsHeader=m},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){return a.createElement("svg",r({viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(137),s=(n.n(a),(function(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M14.045 6.941l-3.403-3.408a.672.672 0 00-.947 0c-.26.26-.26.68 0 .94l1.543 1.543c.508.509 1.07.96 1.675 1.349l-.165.164a10 10 0 00-1.97-.196H2a.667.667 0 000 1.334h8.779a10 10 0 001.969-.196l.165.165a9.996 9.996 0 00-1.675 1.348l-1.543 1.543c-.26.26-.26.68 0 .94.26.26.687.26.947 0l3.403-3.408a1.497 1.497 0 000-2.118z",fill:"currentColor"}));t.default=i},function(e,t){e.exports={container:"SettingsHeader__container--1ufpD",header:"SettingsHeader__header--2GaJk",button:"SettingsHeader__button--1qYzu",icon:"SettingsHeader__icon--msPHR"}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MailSettingsMain=void 0;var i=r(n(137)),o=n(356),a=n(2770),s=n(2867),u=n(2893),c=r(n(1211)),l=function(e){var t=e.onShowAllThemes,n=e.closePopup,r=e.buttonRef;return i.default.createElement("div",{className:c.default.main},!o.isCorp()&&i.default.createElement(i.default.Fragment,null,i.default.createElement(u.SettingsPromo,{closePopup:n})),i.default.createElement(a.SettingsDisplay,null),i.default.createElement(s.SettingsThemes,{buttonRef:r,onShowAll:t}))};t.MailSettingsMain=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsDisplay=void 0;var r=n(2771);Object.defineProperty(t,"SettingsDisplay",{enumerable:!0,get:function(){return r.SettingsDisplay}})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsDisplay=void 0;var u=o(n(137)),c=n(50),l=n(411),d=s(n(352)),f=n(412),p=n(1195),g=n(2774),h=n(2777),m=n(660),v=s(n(2860)),b=s(n(2861)),_=s(n(2862)),y=s(n(2863)),S=s(n(2864)),w=s(n(2865)),O=s(n(2866)),M=s(n(367)),D=function(){var e=f.useThemesContext().isDark,t=f.useSettingsContext(),n=t.settings,r=t.setSettings,i=u.useCallback((function(e){r({layout:e}),m.logPopupMetric([l.HEADER_METRIKA_CHANGE_LAYOUT])}),[r]),o=u.useCallback((function(e){return function(){return i(e)}}),[i]),s=a(e?[b.default,y.default,w.default]:[v.default,_.default,S.default],3),p=s[0],h=s[1],D=s[2];return u.default.createElement("div",{className:O.default.displaySwitchContainer,role:"radiogroup","aria-label":M.default("settings-popup-react/layoutTitle")},u.default.createElement(g.Layout,{selected:n[c.Settings.LAYOUT]===c.LayoutTypes.Pane2,hint:u.default.createElement(d.default,{loc:"settings-popup-react/narrowLayout2PaneHint"}),label:M.default("settings-popup-react/layout2PaneHint"),onClick:o(c.LayoutTypes.Pane2)},u.default.createElement(p,{className:O.default.svg})),u.default.createElement(g.Layout,{selected:n[c.Settings.LAYOUT]===c.LayoutTypes.Pane3,hint:u.default.createElement(d.default,{loc:"settings-popup-react/narrowLayout3PaneHint"}),label:M.default("settings-popup-react/layout3PaneHint"),onClick:o(c.LayoutTypes.Pane3)},u.default.createElement(h,{className:O.default.svg})),u.default.createElement(g.Layout,{selected:n[c.Settings.LAYOUT]===c.LayoutTypes.Pane3Horizontal,hint:u.default.createElement(d.default,{loc:"settings-popup-react/narrowLayout3PaneHorizontalHint"}),label:M.default("settings-popup-react/layout3PaneHorizontalHint"),onClick:o(c.LayoutTypes.Pane3Horizontal)},u.default.createElement(D,{className:O.default.svg})))},T=function(){var e=f.useSettingsContext().settings,t=u.useMemo((function(){return e[c.Settings.LAYOUT]===c.LayoutTypes.Pane2}),[e]);return u.default.createElement(p.SettingsSection,{title:u.default.createElement(d.default,{loc:"settings-popup-react/displaySectionTitle"})},u.default.createElement(D,null),u.default.createElement(h.SettingsCheckboxesContainer,null,u.default.createElement(h.SettingsCheckbox,{name:c.Settings.WITH_BIGGER_TEXT,metricName:"Bigger text",className:"qa-SettingsPopup-BiggerTextCheckbox",label:u.default.createElement(d.default,{loc:"settings-popup-react/settingBiggerText"})}),u.default.createElement(h.CompactLeftColumnCheckbox,{metricName:"Compact left column",className:"qa-SettingsPopup-CompactLeftColumnCheckbox",label:u.default.createElement(d.default,{loc:"settings-popup-react/settingCompactLeftColumn"})}),u.default.createElement(h.SettingsCheckbox,{metricName:"Thread view",className:"qa-SettingsPopup-ThreadViewCheckbox",name:c.Settings.FOLDER_THREAD_VIEW,label:u.default.createElement(d.default,{loc:"settings-popup-react/settingFolderThreadLabel"})}),t&&u.default.createElement(h.SettingsCheckbox,{name:c.Settings.MINIFIED_MAIL_LIST,metricName:"Minified mail list",className:"qa-SettingsPopup-MinifiedListCheckbox",label:u.default.createElement(d.default,{loc:"settings-popup-react/settingMinifiedMailList"})})))};t.SettingsDisplay=T},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsSection=void 0;var o=i(n(137)),a=i(n(350)),s=n(140),u=n(142),c=i(n(2773)),l=function(e){var t=e.title,n=e.children,i=e.className,l=e.button;return o.default.createElement("section",{className:a.default(c.default.container,i)},o.default.createElement("header",{className:c.default.header},o.default.createElement(s.Text,{className:c.default.headerText,as:"h2",typography:"body-short-m",weight:"medium"},t),l&&o.default.createElement(u.Button,r({view:"clear",size:"m"},l,{className:a.default(c.default.button,l.className)}),o.default.createElement(s.Text,{weight:"medium",typography:"body-long-m"},l.children))),n)};t.SettingsSection=l},function(e,t){e.exports={container:"SettingsSection__container--ovhl5",header:"SettingsSection__header--34nNe",headerText:"SettingsSection__headerText--3_nSJ",button:"SettingsSection__button--31RuD"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Layout=void 0;var r=n(2775);Object.defineProperty(t,"Layout",{enumerable:!0,get:function(){return r.Layout}})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Layout=void 0;var i=r(n(137)),o=r(n(350)),a=n(143),s=r(n(2776)),u=n(412),c=function(e){var t,n=e.selected,r=e.hint,c=e.children,l=e.onClick,d=e.label,f=u.useThemesContext().isDark;return i.default.createElement(a.TooltipStateful,{view:"default",size:"s",state:"warning",direction:"top",className:s.default.hint,content:r},i.default.createElement("div",{role:"radio","aria-checked":n,"aria-label":d,tabIndex:0,className:o.default(s.default.pane,(t={},t[s.default.selected]=n,t[s.default.dark]=f,t)),onClick:l},c))};t.Layout=c},function(e,t){e.exports={pane:"Layout__pane--11cm4",dark:"Layout__dark--2_ffv",selected:"Layout__selected--2Ksdw",hint:"Layout__hint--EmyFv"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsCheckboxesContainer=t.SettingsCheckbox=t.CompactLeftColumnCheckbox=void 0;var r=n(2778);Object.defineProperty(t,"CompactLeftColumnCheckbox",{enumerable:!0,get:function(){return r.CompactLeftColumnCheckbox}});var i=n(2858);Object.defineProperty(t,"SettingsCheckbox",{enumerable:!0,get:function(){return i.SettingsCheckbox}});var o=n(2859);Object.defineProperty(t,"SettingsCheckboxesContainer",{enumerable:!0,get:function(){return o.SettingsCheckboxesContainer}})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},u=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CompactLeftColumnCheckbox=void 0;var l=a(n(137)),d=n(349),f=c(n(350)),p=n(148),g=n(411),h=n(1739),m=n(660),v=n(571),b=n(2857),_=c(n(1197)),y=d.compose(h.withLinesMulti)(p.Checkbox),S=function(e){var t=e.metricName,n=e.className,i=s(e,["metricName","className"]),o=b.isCompactColumn(),a=u(l.useState(o),2),c=a[0],d=a[1],p=l.useCallback((function(e){m.logPopupMetric([g.HEADER_METRIKA_MAIN_SETTING,t,e.target.checked?g.STATE_ON:g.STATE_OFF]),v.triggerNsEvent("daria:toggle-left-column-width"),d(e.target.checked),e.target.checked&&document.body.offsetWidth>document.documentElement.offsetWidth&&window.scrollTo({left:document.body.offsetWidth-document.documentElement.offsetWidth})}),[t]);return l.useEffect((function(){!(function(){d(o)})()}),[o]),l.default.createElement(y,r({},i,{disabled:!b.isPageWithResizableLeftColumn(),size:"s",view:"default",onChange:p,checked:c,className:f.default(_.default.checkbox,n)}))};t.CompactLeftColumnCheckbox=S},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(){return Daria.resize.isWithCompactLeftColumn}function i(){return Daria.isPageWithResizableLeftColumn()}Object.defineProperty(t,"__esModule",{value:!0}),t.isCompactColumn=r,t.isPageWithResizableLeftColumn=i},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsCheckbox=void 0;var c=a(n(137)),l=n(349),d=u(n(350)),f=n(148),p=n(411),g=n(412),h=n(660),m=n(1739),v=l.compose(m.withLinesMulti)(f.Checkbox),b=u(n(1197)),_=function(e){var t=e.name,n=e.invert,i=e.metricName,o=e.className,a=s(e,["name","invert","metricName","className"]),u=g.useSettingsContext(),l=u.settings,f=u.setSettings,m=c.useMemo((function(){var e=Boolean(l[t]);return n?!e:e}),[n,t,l]),_=c.useCallback((function(e){var r;f((r={},r[t]=n?!e.target.checked:e.target.checked,r)),h.logPopupMetric([p.HEADER_METRIKA_MAIN_SETTING,i,e.target.checked?p.STATE_ON:p.STATE_OFF])}),[n,f,t,i]);return c.default.createElement(v,r({size:"s",view:"default"},a,{onChange:_,checked:m,className:d.default(b.default.checkbox,o)}))};t.SettingsCheckbox=_},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsCheckboxesContainer=void 0;var i=r(n(137)),o=r(n(1197)),a=function(e){var t=e.children;return i.default.createElement("div",{className:o.default.container},t)};t.SettingsCheckboxesContainer=a},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function o(e){return s.createElement("svg",r({width:129,height:68,viewBox:"1 0 129 68",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u,i("path",{d:"M0 12C0 5.373 5.373 0 12 0h6v68h-6C5.373 68 0 62.627 0 56V12z",fill:"#F5F5F5",style:{mixBlendMode:"multiply"}}),i("rect",{x:4,y:9,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),i("rect",{x:4,y:15,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),i("rect",{x:4,y:21,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),i("rect",{x:4,y:27,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}))}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(137),u=(n.n(s),i("g",{opacity:.7,fill:"#D9D9D9"},void 0,i("path",{d:"M18 8h111v1H18zM18 18h111v1H18zM18 28h111v1H18zM18 38h111v1H18zM18 48h111v1H18zM18 58h111v1H18z"})));t.default=o},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function o(e){return s.createElement("svg",r({width:129,height:68,viewBox:"0 0 129 68",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u,c,l,d,f,p,g)}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(137),u=(n.n(s),i("rect",{width:129,height:68,rx:11,fill:"#2E2F34"})),c=i("g",{opacity:.7,fill:"#D3D3DE",fillOpacity:.2},void 0,i("path",{d:"M18 8h111v1H18zM18 18h111v1H18zM18 28h111v1H18zM18 38h111v1H18zM18 48h111v1H18zM18 58h111v1H18z"})),l=i("path",{d:"M0 12C0 5.373 5.373 0 12 0h6v68h-6C5.373 68 0 62.627 0 56V12z",fill:"#fff",fillOpacity:.07}),d=i("rect",{x:4,y:9,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),f=i("rect",{x:4,y:15,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),p=i("rect",{x:4,y:21,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),g=i("rect",{x:4,y:27,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2});t.default=o},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function o(e){return s.createElement("svg",r({width:129,height:68,viewBox:"0 0 129 68",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u,c,l,d,f,p,g,h,m,v,b,_,i("path",{d:"M0 12C0 5.373 5.373 0 12 0h6v68h-6C5.373 68 0 62.627 0 56V12z",fill:"#F5F5F5",style:{mixBlendMode:"multiply"}}),i("rect",{x:4,y:9,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),i("rect",{x:4,y:15,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),i("rect",{x:4,y:21,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),i("rect",{x:4,y:27,width:10,height:2,rx:.868,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),y)}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(137),u=(n.n(s),i("rect",{width:129,height:68,rx:12,fill:"#fff"})),c=i("g",{opacity:.7,fill:"#D9D9D9"},void 0,i("path",{d:"M18 8h29v1H18zM18 17h29v1H18zM18 26h29v1H18zM18 35h29v1H18zM18 44h29v1H18zM18 53h29v1H18zM18 62h29v1H18z"})),l=i("rect",{opacity:.5,x:58.115,y:6,width:38,height:4,rx:1.4,fill:"#999"}),d=i("rect",{opacity:.3,x:58.115,y:26,width:22,height:2,rx:1,fill:"#999"}),f=i("rect",{opacity:.3,x:58.115,y:38,width:29,height:2,rx:1,fill:"#999"}),p=i("rect",{opacity:.3,x:58.115,y:32,width:38,height:2,rx:1,fill:"#999"}),g=i("rect",{opacity:.3,x:58.115,y:44,width:22,height:2,rx:1,fill:"#999"}),h=i("rect",{opacity:.3,x:58.115,y:61,width:10,height:2,rx:1,fill:"#999"}),m=i("rect",{opacity:.3,x:58.115,y:51,width:38,height:2,rx:1,fill:"#999"}),v=i("circle",{cx:62.115,cy:17,r:4,fill:"#FFEA99"}),b=i("rect",{opacity:.3,x:69.231,y:13,width:18,height:3,rx:1.4,fill:"#999"}),_=i("rect",{opacity:.3,x:69.231,y:18,width:9,height:2,rx:1,fill:"#999"}),y=i("path",{d:"M48.115 0h-1v69h1V0z",fill:"#D9D9D9"});t.default=o},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function o(e){return s.createElement("svg",r({width:129,height:69,viewBox:"0 0 129 69",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u,c,l,d,f,p,g,h,m,v,b,_,y,S,w,O,M,D)}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(137),u=(n.n(s),i("rect",{width:129,height:68,rx:12,fill:"#2E2F34"})),c=i("g",{opacity:.7,fill:"#D3D3DE",fillOpacity:.2},void 0,i("path",{d:"M18 8h29v1H18zM18 17h29v1H18zM18 26h29v1H18zM18 35h29v1H18zM18 44h29v1H18zM18 53h29v1H18zM18 62h29v1H18z"})),l=i("rect",{opacity:.7,x:58.115,y:6,width:38,height:4,rx:1.4,fill:"#F7F7FF",fillOpacity:.5}),d=i("rect",{x:58.115,y:26,width:22,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),f=i("rect",{x:58.115,y:38,width:29,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),p=i("rect",{x:58.115,y:32,width:38,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),g=i("rect",{x:58.115,y:44,width:22,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),h=i("rect",{x:58.115,y:61,width:10,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),m=i("rect",{x:58.115,y:51,width:38,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),v=i("circle",{cx:62.115,cy:17,r:4,fill:"#FFEA99"}),b=i("rect",{x:69.231,y:13,width:18,height:3,rx:1.4,fill:"#D3D3DE",fillOpacity:.2}),_=i("rect",{x:69.231,y:18,width:9,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),y=i("path",{d:"M0 12C0 5.373 5.373 0 12 0h6v68h-6C5.373 68 0 62.627 0 56V12z",fill:"#fff",fillOpacity:.07}),S=i("rect",{x:4,y:9,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),w=i("rect",{x:4,y:15,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),O=i("rect",{x:4,y:21,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),M=i("rect",{x:4,y:27,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),D=i("path",{d:"M48.115 0h-1v69h1V0z",fill:"#D3D3DE",fillOpacity:.2});t.default=o},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function o(e){return s.createElement("svg",r({width:129,height:68,viewBox:"0 0 129 68",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u,c,l,d,f,p,g,h,i("path",{d:"M0 12C0 5.373 5.373 0 12 0h6v68h-6C5.373 68 0 62.627 0 56V12z",fill:"#F5F5F5",style:{mixBlendMode:"multiply"}}),i("rect",{x:4,y:9,width:10,height:2,rx:1,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),i("rect",{x:4,y:15,width:10,height:2,rx:1,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),i("rect",{x:4,y:21,width:10,height:2,rx:1,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}),i("rect",{x:4,y:27,width:10,height:2,rx:1,fill:"#EBEBEB",style:{mixBlendMode:"multiply"}}))}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(137),u=(n.n(s),i("rect",{x:.131,width:128.206,height:68,rx:12,fill:"#fff"})),c=i("rect",{opacity:.5,x:23,y:38,width:58,height:4,rx:1.4,fill:"#999"}),l=i("rect",{opacity:.3,x:23,y:58,width:22,height:2,rx:1,fill:"#999"}),d=i("rect",{opacity:.3,x:23,y:63,width:58,height:2,rx:1,fill:"#999"}),f=i("circle",{cx:27,cy:49,r:4,fill:"#FFEA99"}),p=i("rect",{opacity:.3,x:34.115,y:45,width:18,height:3,rx:1.4,fill:"#999"}),g=i("rect",{opacity:.3,x:34.115,y:50,width:9,height:2,rx:1,fill:"#999"}),h=i("g",{opacity:.7,fill:"#D9D9D9"},void 0,i("rect",{x:18,y:7,width:109.613,height:1,rx:.5}),i("rect",{x:18,y:16,width:111.001,height:1,rx:.5}),i("rect",{x:18,y:25,width:111.001,height:1,rx:.5}),i("rect",{x:18,y:34,width:111.001,height:1,rx:.5}));t.default=o},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function o(e){return s.createElement("svg",r({width:129,height:68,viewBox:"0 0 129 68",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u,c,l,d,f,p,g,h,m,v,b,_,y)}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(137),u=(n.n(s),i("rect",{x:.131,width:128.206,height:68,rx:12,fill:"#2E2F34"})),c=i("rect",{opacity:.7,x:23,y:38,width:58,height:4,rx:1.4,fill:"#F7F7FF",fillOpacity:.5}),l=i("rect",{x:23,y:58,width:22,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),d=i("rect",{x:23,y:63,width:58,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),f=i("circle",{cx:27,cy:49,r:4,fill:"#FFEA99"}),p=i("rect",{x:34.115,y:45,width:18,height:3,rx:1.4,fill:"#D3D3DE",fillOpacity:.2}),g=i("rect",{x:34.115,y:50,width:9,height:2,rx:1,fill:"#D3D3DE",fillOpacity:.2}),h=i("g",{opacity:.7,fill:"#D3D3DE",fillOpacity:.2},void 0,i("rect",{x:18,y:7,width:109.613,height:1,rx:.5}),i("rect",{x:18,y:16,width:111.001,height:1,rx:.5}),i("rect",{x:18,y:25,width:111.001,height:1,rx:.5}),i("rect",{x:18,y:34,width:111.001,height:1,rx:.5})),m=i("path",{d:"M0 12C0 5.373 5.373 0 12 0h6v68h-6C5.373 68 0 62.627 0 56V12z",fill:"#fff",fillOpacity:.07}),v=i("rect",{x:4,y:9,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),b=i("rect",{x:4,y:15,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),_=i("rect",{x:4,y:21,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2}),y=i("rect",{x:4,y:27,width:10,height:2,rx:.868,fill:"#D3D3DE",fillOpacity:.2});t.default=o},function(e,t){e.exports={displaySwitchContainer:"SettingsDisplay__displaySwitchContainer--3uR-v",item:"SettingsDisplay__item--37Zd7",checkbox:"SettingsDisplay__checkbox--1M6X3",svg:"SettingsDisplay__svg--2-J1m"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsThemes=void 0;var r=n(2868);Object.defineProperty(t,"SettingsThemes",{enumerable:!0,get:function(){return r.SettingsThemes}})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(a(arguments[t]));return e},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsThemes=void 0;var c=o(n(137)),l=u(n(352)),d=n(661),f=n(754),p=n(1743),g=n(1195),h=n(412),m=n(363),v=n(356),b=u(n(2892)),_=[{theme:d.ThemeName.GeneralNewYear2023,displayed:f.isThemeAvailable(d.ThemeName.GeneralNewYear2023,new Date(v.promoNow()))},{theme:d.ThemeName.GeneralGrass,displayed:!f.isThemeAvailable(d.ThemeName.GeneralNewYear2023,new Date(v.promoNow()))},{theme:d.ThemeName.GeneralFlow,displayed:!0},{theme:d.ThemeName.GeneralDarkflow,displayed:!0}],y=_.filter((function(e){return e.displayed})).map((function(e){return e.theme})),S=function(e){var t=e.onShowAll,n=e.buttonRef,r=h.useThemesContext(),i=r.currentTheme,o=r.currentThemeProps,a=m.getVideoBgSwitch(),u=c.useMemo((function(){return y.includes(i)||o.isDark?y:s([i],y)}),[i,o.isDark]),d=c.useMemo((function(){return{onClick:t,children:c.default.createElement(l.default,{loc:"settings-popup-react/showAllThemesButton"}),controlRef:n}}),[n,t]);return c.default.createElement(g.SettingsSection,{title:c.default.createElement(l.default,{loc:"settings-popup-react/themesSectionTitle"}),button:d},c.default.createElement("div",{className:b.default.videoBg},c.default.createElement(a,null)),c.default.createElement(p.ThemesWithScope,{themes:u}))};t.SettingsThemes=S},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemesWithScope=void 0;var u=o(n(137)),c=o(n(367)),l=n(412),d=n(756),f=n(1744),p=n(363),g=s(n(2888)),h=n(550),m=n(1209),v=function(e){var t=e.themes,r=l.useThemesContext(),i=r.generalThemes,o=r.currentTheme,s=r.currentThemeProps,v=r.orderedThemes,b=r.setTheme,_=r.getThemeThumbnail,y=r.preloadTheme,S=p.getThemeCard(),w=u.useCallback((function(e){return e===o}),[o]),O=u.useCallback((function(e){return function(){return y(e)}}),[y]),M=u.useMemo((function(){return o===f.ColorfulThemeName?u.default.createElement(f.ThemeScopeColorful,null):o===f.SeasonsThemeName?u.default.createElement(f.ThemeScopeSeasons,null):o===f.WeatherThemeName?u.default.createElement(f.ThemeScopeWeather,null):s.isDark?u.default.createElement(f.ThemeScopeDark,null):null}),[o,s.isDark]),D=u.useMemo((function(){return t.map((function(e){var t=i.find((function(t){return t.name===e})),n=v.find((function(t){return t.name===e}));return t||n})).filter(h.isDefined)}),[t,i,v]),T=u.useMemo((function(){return s.isDark?3:D.findIndex((function(e){return e.name===o}))}),[D,s.isDark,o]),x=a(u.useState(!1),2),C=x[0],E=x[1],P=u.useMemo((function(){return Boolean(M&&C)}),[M,C]),k=u.useCallback((function(e){return function(){b(e),i.find((function(t){return t.name===e}))||E(!0)}}),[b,i]);return u.default.createElement(u.default.Fragment,null,u.default.createElement("div",{className:g.default.themes,role:"radiogroup","aria-label":c.default("settings-popup-react/themesSectionTitle")},D.map((function(e){return e.isGeneral?u.default.createElement(S,{key:e.name,themeName:e.name,className:g.default.card,selected:w(e.name),displayName:c.i18nSafeText(d.THEME_LOCALES[e.name],""),label:c.i18nSafeText(d.THEME_LOCALES[e.name],""),onHover:O(e.name),thumbnail:_(e.name),isVideo:!0,show360Label:!0}):u.default.createElement(m.ThemeCard,{key:e.name,className:g.default.card,selected:w(e.name),displayName:c.i18nSafeText(d.THEME_LOCALES[e.name],""),label:c.i18nSafeText(d.THEME_LOCALES[e.name],""),onHover:O(e.name),onClick:k(e.name),thumbnail:_(e.name)})})),D.length<4&&u.default.createElement(m.ThemeCard,{className:g.default.card,selected:s.isDark,displayName:c.i18nSafeText("settings-popup-react/darkThemes",""),onClick:k("cosmos"),thumbnail:n(2891),key:"cosmos",label:c.i18nSafeText(d.THEME_LOCALES.cosmos,"")})),u.default.createElement(f.ThemeScopeContainer,{isVisible:P,selectedIndex:T},M))};t.ThemesWithScope=v},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeContainer=void 0;var i=r(n(137)),o=r(n(350)),a=n(412),s=r(n(2871)),u=r(n(2872)),c=function(e){var t,n,r=e.selectedIndex,c=e.isVisible,l=e.children,d=a.useThemesContext(),f=d.currentTheme,p=d.isDark;return i.default.createElement("div",{className:o.default(u.default.container,(t={},t[u.default.isVisible]=c,t[u.default.dark]=p,t))},i.default.createElement(s.default,{"aria-hidden":!0,className:o.default(u.default.selected,(n={},n[u.default.weather]="weather"===f&&3!==r,n[u.default.one]=0===r,n[u.default.two]=1===r,n[u.default.three]=2===r,n[u.default.four]=3===r,n))}),i.default.createElement("div",{className:o.default(u.default.content)},l))};t.ThemeScopeContainer=c},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function o(e){return s.createElement("svg",r({width:22,height:7,viewBox:"0 0 22 7",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u,c)}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(137),u=(n.n(s),i("defs",{},void 0,i("linearGradient",{id:"tail_x_svg__a",x1:0,x2:1},void 0,i("stop",{offset:"0%",stopColor:"var(--tooltip-tail-bg-start-color)"}),i("stop",{offset:"100%",stopColor:"var(--tooltip-tail-bg-end-color)"})))),c=i("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 0C8 0 5.5 7 0 7h22c-5.5 0-8-7-11-7z",fill:"url(#tail_x_svg__a)"});t.default=o},function(e,t){e.exports={container:"ThemeScopeContainer__container--2dj8n",isVisible:"ThemeScopeContainer__isVisible--3snJG",content:"ThemeScopeContainer__content--37bOp",selected:"ThemeScopeContainer__selected--1dq4i",one:"ThemeScopeContainer__one--1Fi4r",two:"ThemeScopeContainer__two--SinFt",three:"ThemeScopeContainer__three--3hil6",four:"ThemeScopeContainer__four--yvhYZ",weather:"ThemeScopeContainer__weather--UeFqB"}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeColorful=t.ColorfulThemeName=void 0;var s=o(n(137)),u=a(n(350)),c=n(50),l=n(412),d=a(n(2874)),f=a(n(2875));t.ColorfulThemeName="colorful";var p=function(){var e=l.useThemesContext(),n=e.themes,r=e.setScope,i=l.useSettingsContext().settings,o=s.useMemo((function(){return Object.keys(n[t.ColorfulThemeName].skins.scopes||{})}),[n]),a=s.useCallback((function(e){r(e)}),[r]),p=s.useCallback((function(e){return i[c.Settings.COLORFUL_THEME_SKIN]===e}),[i]);return s.default.createElement("div",{className:d.default.container,role:"radiogroup"},o.map((function(e){var t,n=p(e);return s.default.createElement("div",{key:e,className:u.default(d.default.item,d.default[e],(t={},t[d.default.checked]=n,t)),onClick:function(){return a(e)},role:"radio","aria-checked":n,"aria-label":e,tabIndex:0},p(e)&&s.default.createElement("div",{className:d.default.check},s.default.createElement(f.default,null)))})))};t.ThemeScopeColorful=p},function(e,t){e.exports={container:"ThemeScopeColorful__container--1pvdM",item:"ThemeScopeColorful__item--2tTyW",checked:"ThemeScopeColorful__checked--9SV3Z",check:"ThemeScopeColorful__check--ve9wv",blue:"ThemeScopeColorful__blue--1G6SM",lightblue:"ThemeScopeColorful__lightblue--3xcWQ",green:"ThemeScopeColorful__green--pkLMO",grass_green:"ThemeScopeColorful__grass_green--3tPcD",turquoise:"ThemeScopeColorful__turquoise--2alqd",yellow:"ThemeScopeColorful__yellow--I_Cft",orange:"ThemeScopeColorful__orange--1t4QB",red:"ThemeScopeColorful__red--2IacW",pink:"ThemeScopeColorful__pink--33nxF",violet:"ThemeScopeColorful__violet--GaiTE",white:"ThemeScopeColorful__white--3_Spx",gray:"ThemeScopeColorful__gray--2o8MM",black:"ThemeScopeColorful__black--1pn9E","sea-wave":"ThemeScopeColorful__sea-wave--OnJaT","pink-navy-sand":"ThemeScopeColorful__pink-navy-sand--2RfwO","plum-navy":"ThemeScopeColorful__plum-navy--3AgNH","teal-orange":"ThemeScopeColorful__teal-orange--3LkwW","terra-salad":"ThemeScopeColorful__terra-salad--QRM3a"}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){return a.createElement("svg",r({width:16,height:17,viewBox:"0 0 16 17",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(137),s=(n.n(a),(function(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})("path",{d:"M6.442 11.538l-2.699-3.11a1 1 0 00-1.486 1.338l3.5 4a1 1 0 001.534-.057l6.5-9a1 1 0 10-1.582-1.223l-5.767 8.052z",fill:"currentColor"}));t.default=i},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeWeather=t.WeatherThemeName=void 0;var u=o(n(137)),c=n(156),l=n(353),d=n(50),f=n(140),p=n(412),g=s(n(2877));t.WeatherThemeName="weather";var h=function(e){var t=e.weather,n=p.useThemesContext(),r=n.autocompleter,i=n.themeWeatherStore,o=p.useSettingsContext().setSettings,s=a(u.useState(""),2),l=s[0],h=s[1],m=u.useRef(null),v=u.useCallback((function(e){return h(e.target.value)}),[h]);u.useEffect((function(){h(t.city||"")}),[t.city]);var b=u.useCallback((function(){if(m.current){var e=m.current;e.style.padding="0 8px",r.bindField({field:e,focus:1}),r.setOptions({width:320}),r.sections[0].onselect=function(){return e.blur()},r.sections[0].onresult=function(t){var n;e.value=t.name_short,o((n={},n[d.Settings.GEO_ID]=t.geoid,n)),i.getWeather()}}}),[r,o,i]),_=u.useCallback((function(){h(t.city||"")}),[t.city]),y=u.useMemo((function(){var e=t.now.temperature;return(e>0?"+":"")+e+"°"}),[t.now.temperature]),S=u.useMemo((function(){return t.now.image}),[t.now.image]);return u.default.createElement("div",{className:g.default.container},u.default.createElement("div",{className:g.default.control},u.default.createElement(c.Textinput,{className:g.default.input,value:l,controlRef:m,onInput:v,view:"default",size:"s",inputMode:"text",type:"text",maxLength:70,onFocus:b,onBlur:_}),u.default.createElement(f.Text,{typography:"subheader-xl",weight:"medium",color:"inverse"},y),S&&u.default.createElement("img",{className:g.default.forecastIcon,"aria-hidden":"true",src:S,alt:""})))};t.ThemeScopeWeather=l.observer((function(){var e,t=p.useThemesContext().themeWeatherStore;return(null===(e=t.weather)||void 0===e?void 0:e.city)?u.default.createElement(h,{weather:t.weather}):null}))},function(e,t){e.exports={container:"ThemeScopeWeather__container--70_fY",control:"ThemeScopeWeather__control--1iZQJ",input:"ThemeScopeWeather__input--3Yo4c",forecastIcon:"ThemeScopeWeather__forecastIcon--uzlvs"}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeSeasons=t.SeasonsThemeName=void 0;var s=o(n(137)),u=n(50),c=a(n(368)),l=a(n(352)),d=n(412),f=n(756),p=n(1745),g=a(n(367)),h=a(n(2881)),m=a(n(2882));t.SeasonsThemeName="seasons";var v=function(){var e=d.useThemesContext(),n=e.themes,r=e.setScope,i=d.useSettingsContext().settings,o=s.useMemo((function(){return n[t.SeasonsThemeName].skins.scopes||{}}),[n]),a=s.useMemo((function(){return Object.keys(o)}),[o]),v=s.useCallback((function(e){r(e)}),[r]),b=s.useCallback((function(e){return!i[u.Settings.SELECTED_SCOPE]&&""===e||i[u.Settings.SELECTED_SCOPE]===e}),[i]);return s.default.createElement("div",{className:m.default.container,role:"radiogroup"},a.map((function(e){return s.default.createElement(p.ThemeScopeItem,{key:e,selected:b(e),onClick:function(){return v(e)},icon:s.default.createElement(c.default,{id:"mail--Themes-Seasons_"+e}),label:s.default.createElement(l.default,{loc:f.SEASONS_LOCALES[e]}),"aria-label":g.default(f.SEASONS_LOCALES[e]),role:"radio",tabIndex:0,"aria-checked":b(e)})})),s.default.createElement(p.ThemeScopeItem,{selected:b(""),onClick:function(){return v("")},icon:s.default.createElement(h.default,null),label:s.default.createElement(l.default,{loc:"settings-popup-react/seasonsChange"}),"aria-label":g.default("settings-popup-react/seasonsChange"),role:"radio",className:"qa-ThemeScope-SeasonsChange",tabIndex:0,"aria-checked":b("")}))};t.ThemeScopeSeasons=v},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r.apply(this,arguments)},i=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeItem=void 0;var a=o(n(137)),s=o(n(350)),u=n(140),c=o(n(2880)),l=function(e){var t,n=e.className,o=e.selected,l=e.icon,d=e.label,f=i(e,["className","selected","icon","label"]);return a.default.createElement(u.Text,r({className:s.default(c.default.item,(t={},t[c.default.selected]=o,t),n),color:"secondary",typography:"caption-m"},f),l,a.default.createElement("div",{className:c.default.label},d))};t.ThemeScopeItem=l},function(e,t){e.exports={item:"ThemeScopeItem__item--zf-1A",selected:"ThemeScopeItem__selected--1dOte",label:"ThemeScopeItem__label--32iEr"}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){return a.createElement("svg",r({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(137),s=(n.n(a),(function(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.3 2a1 1 0 00-1 1v1.001c-.961.014-1.34.129-1.721.333a2.272 2.272 0 00-.945.945c-.218.407-.334.811-.334 1.926v10.59c0 1.114.116 1.519.334 1.926.218.407.538.727.945.945.407.218.811.334 1.926.334h11.59c1.115 0 1.519-.116 1.926-.334.407-.218.727-.538.945-.945.218-.407.334-.811.334-1.926V7.205c0-1.115-.116-1.519-.334-1.926a2.272 2.272 0 00-.945-.945c-.381-.204-.76-.319-1.721-.333V3a1 1 0 10-2 0v1h-8V3a1 1 0 00-1-1zm-2 6v9.675c0 .469.019.763.049.933a.413.413 0 00.049.148.29.29 0 00.124.137c.06.035.073.04.134.053.155.033.422.054.849.054H18.09c.426 0 .694-.02.849-.054a.332.332 0 00.134-.053.29.29 0 00.124-.137.413.413 0 00.049-.148c.03-.17.049-.464.049-.933L19.3 8h-14zm1 2.75a.75.75 0 01.75-.75h10.5a.75.75 0 01.75.75v.5a.75.75 0 01-.75.75H7.05a.75.75 0 01-.75-.75v-.5z",fill:"currentColor"}));t.default=i},function(e,t){e.exports={container:"ThemeScopeSeasons__container--29oJh"}},function(e,t,n){"use strict";function r(){var e=l.useThemesContext().orderedThemes;return u.useMemo((function(){return e.filter((function(e){return e.isDark}))}),[e])}var i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeScopeDark=t.useDarkThemes=void 0;var u=a(n(137)),c=s(n(352)),l=n(412),d=n(756),f=n(1745),p=s(n(2884)),g=s(n(2885)),h=s(n(2886)),m=s(n(2887)),v=s(n(367)),b=function(e){switch(e.scope){case"lamp":return u.default.createElement(p.default,null);case"cosmos":return u.default.createElement(g.default,null);case"zverushki":return u.default.createElement(h.default,null);default:return null}};t.useDarkThemes=r;var _=function(){var e=l.useThemesContext(),t=e.setTheme,n=e.currentTheme,i=e.preloadTheme,o=r(),a=u.useCallback((function(e){t(e)}),[t]);return u.default.createElement("div",{className:m.default.container,role:"radiogroup"},o.map((function(e){return u.default.createElement(f.ThemeScopeItem,{key:e.name,selected:n===e.name,onClick:function(){return a(e.name)},icon:u.default.createElement(b,{scope:e.name}),label:u.default.createElement(c.default,{loc:d.THEME_LOCALES[e.name]}),onMouseEnter:function(){return i(e.name)},"aria-label":v.default(d.THEME_LOCALES[e.name]),role:"radio",tabIndex:0,"aria-checked":n===e.name})})))};t.ThemeScopeDark=_},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){return a.createElement("svg",r({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(137),s=(n.n(a),(function(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.07 17.898c2.437 3.059 7.033 4.626 10.867 3.595 5.282-1.42 8.418-6.857 7.005-12.145-1.026-3.84-4.68-7.041-8.544-7.624a.992.992 0 00-1.02 1.45c1.868 3.48 2.02 6.456.526 9.047-1.495 2.592-4.146 3.948-8.09 4.067a.992.992 0 00-.745 1.61zm15.96-8.036c1.13 4.23-1.38 8.58-5.604 9.717-2.41.647-5.68.004-7.74-1.497 3.438-.551 6.384-2.185 7.932-4.87 1.549-2.684 1.482-6.049.24-9.306 2.328 1.036 4.527 3.543 5.172 5.956z",fill:"currentColor"}));t.default=i},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function o(e){return s.createElement("svg",r({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u,c,l)}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(137),u=(n.n(s),i("circle",{cx:12.5,cy:12,r:8,stroke:"currentColor",strokeWidth:2})),c=i("path",{d:"M18.106 5.283c2.568-.636 4.489-.512 5.083.518 1.106 1.914-2.79 6.233-8.701 9.645C8.577 18.86 2.889 20.074 1.784 18.16c-.671-1.163.365-2.965 2.714-5.16",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round"}),l=i("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 19a.5.5 0 00-.5.5v.5H20a.5.5 0 000 1h.5v.5a.5.5 0 001 0V21h.5a.5.5 0 000-1h-.5v-.5a.5.5 0 00-.5-.5zM10 9a.5.5 0 00-.5.5v.5H9a.5.5 0 000 1h.5v.5a.5.5 0 001 0V11h.5a.5.5 0 000-1h-.5v-.5A.5.5 0 0010 9zM17.497 1a.333.333 0 00-.333.333v.333h-.33a.333.333 0 100 .667h.33v.334a.333.333 0 10.667 0v-.334h.336a.333.333 0 000-.667h-.336v-.333A.333.333 0 0017.497 1zM4.497 22a.333.333 0 00-.333.333v.333h-.33a.333.333 0 000 .667h.33v.334a.333.333 0 00.667 0v-.334h.336a.333.333 0 000-.667H4.83v-.333A.333.333 0 004.497 22z",fill:"currentColor"});t.default=o},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function o(e){return s.createElement("svg",r({width:25,height:24,viewBox:"0 0 25 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u,c,l,d)}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(137),u=(n.n(s),i("path",{d:"M12.5 9c.333-.834 1.4-2.7 3-3.5 1-.5 1.5 4.5 0 6",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"})),c=i("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M21 1a.5.5 0 00-.5.5V2H20a.5.5 0 000 1h.5v.5a.5.5 0 001 0V3h.5a.5.5 0 000-1h-.5v-.5A.5.5 0 0021 1zM16.497 0a.333.333 0 00-.333.333v.333h-.33a.333.333 0 000 .667h.33v.334a.333.333 0 10.667 0v-.334h.336a.333.333 0 000-.667h-.336V.333A.333.333 0 0016.497 0zM1.497 4a.333.333 0 00-.333.333v.333h-.33a.333.333 0 100 .667h.33v.334a.333.333 0 00.667 0v-.334h.336a.333.333 0 000-.667H1.83v-.333A.333.333 0 001.497 4z",fill:"currentColor"}),l=i("path",{d:"M8 1l3.5 6.5s1.5 0 1.5-1C13 6.444 8 1 8 1z",stroke:"currentColor",strokeWidth:2,strokeLinejoin:"round"}),d=i("path",{d:"M12.5 9C12 11.334 5 15.5 2 9c1-.333 3.277-.207 5-1.5 2-1.5 4-1 4-1M10.529 14.152c.43.082 1.408.017 1.88-.897M6 13c-.5.667-1.8 2.3-3 3.5-1.5 1.5 1.5 4 4.5 3 1.5-.5 2-1 2-1 1.334.667 4.4 1.3 6-1.5.4 0 1.167 4 1.5 6M17.5 10.5c1 .333 3.5 2.5 5.5 8.5M17.5 7c2.5.5 5.5 2 6.5 5",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"});t.default=o},function(e,t){e.exports={container:"ThemeScopeDark__container--3YwUu"}},function(e,t){e.exports={themes:"ThemesWithScope__themes--kIT3A",card:"ThemesWithScope__card--IlEXA"}},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ThemeCard=void 0;var i=r(n(137)),o=r(n(350)),a=n(140),s=r(n(2890)),u=function(e){var t,n=e.className,r=e.onClick,u=e.onHover,c=e.selected,l=e.displayName,d=e.thumbnail,f=e.label;return i.default.createElement("div",{onClick:r,onMouseOver:u,className:o.default(s.default.thumbnail,(t={},t[s.default.selected]=c,t),n),style:{backgroundImage:"url("+d+")"},role:"radio","aria-label":f,"aria-checked":c,tabIndex:0},i.default.createElement(a.Text,{className:s.default.label,overflow:"ellipsis",typography:"caption-m",align:"center"},l))};t.ThemeCard=u},function(e,t){e.exports={thumbnail:"ThemeCard__thumbnail--3Kn5x",selected:"ThemeCard__selected--3Mmcw",label:"ThemeCard__label--3N_nj",icon:"ThemeCard__icon--3yXVU",iconVideo:"ThemeCard__iconVideo--3BZIz",icon360:"ThemeCard__icon360--2ge7n"}},function(e,t,n){e.exports=n.p+"_/1f4d5baadd27593d42191d846e9ecb59-dark-meta.jpg"},function(e,t){e.exports={videoBg:"SettingsThemes__videoBg--3jwd6"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsPromo=void 0;var r=n(2894);Object.defineProperty(t,"SettingsPromo",{enumerable:!0,get:function(){return r.SettingsPromo}})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsPromo=void 0;var i=r(n(137)),o=r(n(350)),a=n(2895),s=n(2897),u=n(2898),c=r(n(757)),l=n(412),d=[{type:l.PromoType.BEAUTIFUL_EMAIL,component:a.PromoBeautifulEmail},{type:l.PromoType.BACKUP,component:s.PromoBackup},{type:l.PromoType.SUBSCRIPTIONS,component:u.PromoSubscribes}],f=function(e){var t,n=l.useThemesContext().isDark,r=l.usePromoContext().promos;return i.default.createElement("div",{className:o.default(c.default.container,(t={},t[c.default.dark]=n,t))},d.map((function(t){var n=r[t.type];return n?i.default.createElement(t.component,{key:t.type,closePopup:e.closePopup,isNew:n.isNew}):null})))};t.SettingsPromo=f},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoBeautifulEmail=void 0;var s=o(n(137)),u=a(n(352)),c=n(356),l=n(410),d=n(411),f=n(412),p=n(1210),g=a(n(757)),h=function(e){var t=e.closePopup,n=e.isNew,r=f.usePromoContext(),i=r.beautifulEmail,o=r.markPromoViewed,a=s.useMemo((function(){return i?s.default.createElement(u.default,{tag:s.Fragment,loc:"settings-popup-react/beautifulEmailTitleEnabled",params:{email:i}},s.default.createElement("span",{"data-ref":"email"})):s.default.createElement(u.default,{tag:s.Fragment,loc:"settings-popup-react/beautifulEmailTitle"})}),[i]),h=s.useMemo((function(){return l.hasSubscriptionWithDomain()?d.PREMIUM_USER:d.FREE_USER}),[]),m=s.useCallback((function(){t(),o(f.PromoType.BEAUTIFUL_EMAIL)}),[o,t]);return s.default.createElement(p.PromoItem,{className:g.default.email,caption:a,metricName:d.PROMO_BEAUTIFUL_EMAIL,userType:h,type:"link",url:c.getLinkToBeautifulEmail(),onClick:m,isNew:n})};t.PromoBeautifulEmail=h},function(e,t){e.exports={item:"SettingsPromo__item--3t0Fn",button:"SettingsPromo__button--2kcUQ",badge:"SettingsPromo__badge--3OBGW"}},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoBackup=void 0;var s=o(n(137)),u=a(n(352)),c=n(356),l=n(411),d=n(412),f=n(1210),p=a(n(757)),g=function(e){var t=e.closePopup,n=e.isNew,r=d.usePromoContext(),i=r.canUseBackup,o=r.backupDate,a=r.markPromoViewed,g=s.useMemo((function(){return o?s.default.createElement(u.default,{tag:s.Fragment,loc:"settings-popup-react/promoBackupTitleDatetime",params:{datetime:o}}):s.default.createElement(u.default,{tag:s.Fragment,loc:"settings-popup-react/shortBackupTitle"})}),[o]),h=s.useMemo((function(){return i?l.PREMIUM_USER:c.hasProSubscription()?l.PAID_USER:l.FREE_USER}),[i]),m=s.useCallback((function(){t(),a(d.PromoType.BACKUP)}),[a,t]);return s.default.createElement(f.PromoItem,{className:p.default.backup,caption:g,metricName:l.PROMO_BACKUP,userType:h,type:"link",url:c.getLinkToMailBackup(),onClick:m,isNew:n})};t.PromoBackup=g},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PromoSubscribes=void 0;var s=o(n(137)),u=a(n(352)),c=n(411),l=n(356),d=n(412),f=n(1210),p=a(n(757)),g=function(e){var t=e.closePopup,n=e.isNew,r=d.usePromoContext(),i=r.openSubscribesSettings,o=r.optinEnabled,a=r.subscriptionCounters,g=r.markPromoViewed,h=s.useMemo((function(){return o?c.PREMIUM_USER:l.hasProSubscription()?c.PAID_USER:c.FREE_USER}),[o]),m=s.useCallback((function(){o&&(null===a||void 0===a?void 0:a.pending)?i({page:"pending"}):i(),t(),g(d.PromoType.SUBSCRIPTIONS)}),[o,a,i,t,g]),v=s.useMemo((function(){return o&&(null===a||void 0===a?void 0:a.pending)?s.default.createElement(u.default,{tag:s.Fragment,loc:"settings-popup-react/newSubscribesCounter",params:{count:a.pending}}):s.default.createElement(u.default,{tag:s.Fragment,loc:"settings-popup-react/shortSubscribesTitle"})}),[o,a]);return s.default.createElement(f.PromoItem,{className:p.default.subscribes,caption:v,metricName:c.OPT_IN_SUBSCRIPTIONS_METRIKA,userType:h,onClick:m,isNew:n})};t.PromoSubscribes=g},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MailSettingsThemes=void 0;var s=o(n(137)),u=n(1010),c=a(n(352)),l=n(1195),d=a(n(1211)),f=n(2900),p=n(2904),g=function(e){var t=e.onHide,n=e.buttonRef,r=s.useCallback((function(){return t()}),[t]),i=s.useMemo((function(){return{onClick:r,children:s.default.createElement(c.default,{loc:"settings-popup-react/collapseThemesButton"}),controlRef:n}}),[n,r]);return s.default.createElement(l.SettingsSection,{className:d.default.themesSection,title:s.default.createElement(c.default,{loc:"settings-popup-react/themesSectionTitle"}),button:i},s.default.createElement(u.SmartScroll,{className:d.default.scrollRoot,containerClass:d.default.scrollContainer},s.default.createElement(f.GeneralThemes,null),s.default.createElement(p.MailThemes,null)))};t.MailSettingsThemes=g},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemes=void 0;var r=n(2901);Object.defineProperty(t,"GeneralThemes",{enumerable:!0,get:function(){return r.GeneralThemes}})},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.GeneralThemes=void 0;var i=r(n(137)),o=n(140),a=r(n(2902)),s=r(n(352)),u=n(367),c=n(412),l=n(756),d=r(n(2903)),f=n(1209),p=n(143),g=n(363),h=function(){var e=c.useThemesContext(),t=e.generalThemes,n=e.currentTheme,r=e.getThemeThumbnail,h=e.setTheme,m=g.getVideoBgSwitch(),v=g.getThemeCard();return i.default.createElement("section",null,i.default.createElement("header",{className:d.default.header},i.default.createElement("div",{className:d.default.text},i.default.createElement(o.Text,{typography:"body-short-m"},i.default.createElement(s.default,{loc:"settings-popup-react/generalThemesSectionTitle"})),i.default.createElement(p.TooltipStateful,{className:d.default.tooltip,content:i.default.createElement(s.default,{loc:"settings-popup-react/generalThemesSectionTooltip"}),state:"warning",size:"s",direction:"top",view:"default"},i.default.createElement("div",{className:d.default.info},i.default.createElement(a.default,null)))),i.default.createElement(m,null)),i.default.createElement("div",{className:d.default.cards,role:"radiogroup"},t.map((function(e){return e.isGeneral?i.default.createElement(v,{key:e.name,themeName:e.name,selected:n===e.name,displayName:u.i18nSafeText(l.THEME_LOCALES[e.name],""),label:u.i18nSafeText(l.THEME_LOCALES[e.name],""),thumbnail:r(e.name),isVideo:!0,show360Label:!1}):i.default.createElement(f.ThemeCard,{key:e.name,selected:n===e.name,displayName:u.i18nSafeText(l.THEME_LOCALES[e.name],""),onClick:function(){return h(e.name)},thumbnail:r(e.name),isVideo:!0})}))))};t.GeneralThemes=h},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){return a.createElement("svg",r({width:16,height:16,viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(137),s=(n.n(a),(function(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M8 16A8 8 0 118 0a8 8 0 010 16zm-.43-3.414c-1.025 0-1.361-.628-1.361-1.21 0-.244.076-.611.137-.825l.604-2.49h-.79a.25.25 0 01-.243-.306l.077-.331a.35.35 0 01.272-.264l2.358-.473a.5.5 0 01.583.611l-.955 3.832a.19.19 0 00.329.17l.869-1.002a.325.325 0 01.511.399l-.402.573c-.734 1.07-1.407 1.316-1.989 1.316zm-.346-7.428c0 .505.397.933 1.101.933.689 0 1.194-.382 1.347-.994.03-.123.046-.26.046-.368 0-.504-.398-.933-1.102-.933-.673 0-1.193.383-1.346.995-.031.122-.046.26-.046.367z",fill:"currentColor"}));t.default=i},function(e,t){e.exports={header:"GeneralThemes__header--3kspf",cards:"GeneralThemes__cards--WG4tQ",text:"GeneralThemes__text--TVFDk",info:"GeneralThemes__info--3HR-U",tooltip:"GeneralThemes__tooltip--2BhWW"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.MailThemes=void 0;var r=n(2905);Object.defineProperty(t,"MailThemes",{enumerable:!0,get:function(){return r.MailThemes}})},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.MailThemes=void 0;var s=o(n(137)),u=a(n(352)),c=n(140),l=n(412),d=n(756),f=n(1209),p=n(1743),g=a(n(2906)),h=a(n(367)),m=["colorful","seasons","weather"],v=function(){var e=l.useThemesContext(),t=e.orderedThemes,n=e.currentTheme,r=e.getThemeThumbnail,i=e.setTheme,o=e.preloadTheme,a=s.useCallback((function(e){return function(){return i(e)}}),[i]),v=s.useCallback((function(e){return e===n}),[n]),b=s.useMemo((function(){return t.filter((function(e){return!e.isDark&&!m.includes(e.name)}))}),[t]);return s.default.createElement("section",null,s.default.createElement("header",{className:g.default.header},s.default.createElement(c.Text,{typography:"body-short-m"},s.default.createElement(u.default,{loc:"settings-popup-react/mailThemesSectionTitle"}))),s.default.createElement(p.ThemesWithScope,{themes:m}),s.default.createElement("div",{className:g.default.themes,role:"radiogroup"},b.map((function(e){return s.default.createElement(f.ThemeCard,{key:e.name,selected:v(e.name),displayName:s.default.createElement(u.default,{loc:d.THEME_LOCALES[e.name]}),onClick:a(e.name),thumbnail:r(e.name),onHover:function(){return o(e.name)},label:h.default(d.THEME_LOCALES[e.name])})}))))};t.MailThemes=v},function(e,t){e.exports={header:"MailThemes__header--obMi-",themes:"MailThemes__themes--I76PN"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.useSettingsPopupStore=t.usePromo=t.useThemes=t.useSettings=void 0;var r=n(2908);Object.defineProperty(t,"useSettings",{enumerable:!0,get:function(){return r.useSettings}});var i=n(2909);Object.defineProperty(t,"useThemes",{enumerable:!0,get:function(){return i.useThemes}});var o=n(2957);Object.defineProperty(t,"usePromo",{enumerable:!0,get:function(){return o.usePromo}});var a=n(2958);Object.defineProperty(t,"useSettingsPopupStore",{enumerable:!0,get:function(){return a.useSettingsPopupStore}})},function(e,t,n){"use strict";function r(){return u(this,void 0,Promise,(function(){return c(this,(function(e){switch(e.label){case 0:return[4,h.goPage()];case 1:return e.sent(),v.customDispatchEvent(window,"resize"),[2]}}))}))}function i(){var e;return e={},e[p.Settings.MINIFIED_MAIL_LIST]=g.getSign(p.Settings.MINIFIED_MAIL_LIST),e[p.Settings.MINIFIED_HEADER]=g.getSign(p.Settings.MINIFIED_HEADER),e[p.Settings.SHOW_FOLDERS_TABS]=g.getSign(p.Settings.SHOW_FOLDERS_TABS),e[p.Settings.WITH_BIGGER_TEXT]=g.getSign(p.Settings.WITH_BIGGER_TEXT),e[p.Settings.FOLDER_THREAD_VIEW]=g.getSign(p.Settings.FOLDER_THREAD_VIEW),e[p.Settings.DISABLE_INBOX_ATTACH]=g.getSign(p.Settings.DISABLE_INBOX_ATTACH),e[p.Settings.SHOW_SIDEBAR_WITH_WIDGETS]=g.getSign(p.Settings.SHOW_SIDEBAR_WITH_WIDGETS),e[p.Settings.HIDE_EMPTY_FOLDERS]=g.getSign(p.Settings.HIDE_EMPTY_FOLDERS),e[p.Settings.TIMELINE_ENABLED]=g.getSign(p.Settings.TIMELINE_ENABLED),e[p.Settings.DISABLE_PROMO]=Boolean(g.getSetting(p.Settings.DISABLE_PROMO)),e[p.Settings.LAYOUT]=g.getSetting(p.Settings.LAYOUT),e[p.Settings.COLOR_SCHEME]=g.getSetting(p.Settings.COLOR_SCHEME),e[p.Settings.COLORFUL_THEME_SKIN]=g.getSetting(p.Settings.COLORFUL_THEME_SKIN),e[p.Settings.OVERRIDEN_THEME]=g.getSetting(p.Settings.OVERRIDEN_THEME),e[p.Settings.SEASONS_MODIFIER]=g.getSetting(p.Settings.SEASONS_MODIFIER),e[p.Settings.SELECTED_SCOPE]=g.getSetting(p.Settings.SELECTED_SCOPE),e[p.Settings.GEO_ID]=g.getSetting(p.Settings.GEO_ID),e.enableSidebarWithWidgets=!b.isCorp(),e}function o(){var e=this,t=l(f.useState(i()),2),n=t[0],r=t[1],o=f.useCallback((function(e){return y.includes(e)}),[]),a=f.useCallback((function(){r(s({},i()))}),[]),d=f.useCallback((function(t){return u(e,void 0,void 0,(function(){var e,n;return c(this,(function(r){return e=Object.keys(t),e.length&&(e.forEach((function(e){var n=e;o(n)&&(t[n]=g.signToSetting(n,t[n]))})),n=g.setSettings(t),e.forEach((function(e){e in _&&n.then(_[e])}))),[2]}))}))}),[o]);return f.useEffect((function(){return g.registerChangeSettingsHandler(a),function(){return g.unregisterChangeSettingsHandler(a)}}),[a]),{settings:n,setSettings:d}}var a,s=this&&this.__assign||function(){return s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},s.apply(this,arguments)},u=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},c=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},l=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},d=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useSettings=t.getSettingsObject=t.refreshPage=void 0;var f=n(137),p=n(50),g=n(581),h=n(506),m=d(n(422)),v=n(1212),b=n(356);t.refreshPage=r;var _=(a={},a[p.Settings.LAYOUT]=function(){return h.forceReload()},a[p.Settings.MINIFIED_HEADER]=r,a[p.Settings.MINIFIED_MAIL_LIST]=r,a[p.Settings.SHOW_FOLDERS_TABS]=r,a[p.Settings.SHOW_SIDEBAR_WITH_WIDGETS]=r,a[p.Settings.DISABLE_INBOX_ATTACH]=r,a[p.Settings.TIMELINE_ENABLED]=function(){g.getSign(p.Settings.TIMELINE_ENABLED)&&m.default.request("module-timeline")},a);t.getSettingsObject=i;var y=[p.Settings.MINIFIED_MAIL_LIST,p.Settings.MINIFIED_HEADER,p.Settings.SHOW_FOLDERS_TABS,p.Settings.WITH_BIGGER_TEXT,p.Settings.FOLDER_THREAD_VIEW,p.Settings.DISABLE_INBOX_ATTACH,p.Settings.SHOW_SIDEBAR_WITH_WIDGETS,p.Settings.HIDE_EMPTY_FOLDERS,p.Settings.TIMELINE_ENABLED];t.useSettings=o},function(e,t,n){"use strict";function r(){var e=this,t=m.ThemesStore.instance(),n=p.getThemesService(),r=f.default.Instance(),s=t.themesData,c=u.useMemo((function(){return t.generalThemes.filter(S).map(y(!0))}),[t.generalThemes]),g=u.useMemo((function(){return t.orderedThemes.filter((function(e){return"u2709"!==e.name})).map(y(!1))}),[t.orderedThemes]),v=t.currentTheme,w=t.isPageDark,O=a(u.useState(v),2),M=O[0],D=O[1],T=a(u.useState(n.isVideoBgEnabled),2),x=T[0],C=T[1];u.useEffect((function(){D(v)}),[v]);var E=u.useCallback((function(t){return i(e,void 0,void 0,(function(){return o(this,(function(e){switch(e.label){case 0:return t!==h.WeatherThemeName?[3,2]:(D(t),[4,r.waitForData()]);case 1:e.sent(),e.label=2;case 2:return[4,n.setTheme(t)];case 3:return e.sent(),b(),[2]}}))}))}),[r,n]),P=u.useCallback((function(e){n.setScope(e),b()}),[n]),k=u.useCallback((function(){var e=!n.isVideoBgEnabled;_(e),C(e),n.isVideoBgEnabled?n.disableVideoBg():n.enableVideoBg()}),[n,C]);return{themes:s,generalThemes:c,orderedThemes:g,currentTheme:M,currentThemeProps:y(!1)(s[M]),setTheme:E,setScope:P,getThemeThumbnail:d.getThemeThumbnail,autocompleter:l.getRegionAutocompleter(),themeWeatherStore:r,isDark:w,isVideoBgEnabled:x,toggleVideoBg:k,preloadTheme:d.runTheme}}var i=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.useThemes=void 0;var u=n(137),c=n(661),l=n(356),d=n(883),f=s(n(2956)),p=n(459),g=n(411),h=n(1744),m=n(426),v=n(754),b=function(){return l.logMetric([g.YANDEX_HEADER_PREFIX,g.HEADER_METRIKA_RIGHT,g.HEADER_METRIKA_SETTINGS,g.HEADER_METRIKA_CHANGE_THEME])},_=function(e){return l.logMetric([g.YANDEX_HEADER_PREFIX,g.HEADER_METRIKA_RIGHT,g.HEADER_METRIKA_SETTINGS,g.HEADER_METRIKA_TOGGLE_VIDEO_BG,e?g.STATE_ON:g.STATE_OFF])},y=function(e){return function(t){return{isGeneral:e,isDark:Boolean(t.page_is_dark&&t.content_is_dark&&t.aside_is_dark),name:t.name}}},S=function(e){switch(e.name){case c.ThemeName.GeneralNewYear2023:return v.isThemeAvailable(c.ThemeName.GeneralNewYear2023,new Date(l.promoNow()));default:return!0}};t.useThemes=r},function(e,t,n){e.exports=n.p+"_/a609317dcc5e948346b12db0c236d43f-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/d3340cd8b3742dbe21b94f580ec7b52c-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/8c89e27e071365154219372f4f10ed51-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/611030797b6447dd62aa58a73be5a496-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/14b3c1bd0046dc669ba238efd482348a-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/88a96ec152b922ccbcff50c6ed6f3e4c-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/8399ac1e9ce432672844c9d8cb80cfd0-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/5b31545c39790c76ad00edf8615b2edf-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/537a2b8b9e6333e1ad96ed181b5b9a03-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/dd5f07ea4361187a4f0f0a4d574b8717-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/a7bfddbd59abd7c2a7aa012f83188787-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/a89656bce22f981f7678367cad8561b9-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/3bf8b6e392d4295db14615f54ae6eab0-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/a72b4fc9736709e3e5d1bac405188ca5-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/4c265ebf8e9129ed8ef7fc49581d6aed-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/a52a155576c4b70dab2b6fcc8b6975aa-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/9c6f60bc1c8465d9b44a76b6dbe9bb7b-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/74d3d03070490f404439f03a66212980-thumbnail_winter.new.jpg"},function(e,t,n){e.exports=n.p+"_/4f4527a24aa76bc6561f87a6835f85d5-thumbnail_spring.new.jpg"},function(e,t,n){e.exports=n.p+"_/50b07fe78e674fab825f2dccae9b3f9b-thumbnail_summer.new.jpg"},function(e,t,n){e.exports=n.p+"_/0fa5326ba9e330fb4f43ec0d08d12687-thumbnail_autumn.new.jpg"},function(e,t,n){e.exports=n.p+"_/b19adbd17be0858655448df779258a47-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/48f3ee188a2adf78437d6a3221de5e66-thumbnail.new.jpg"},function(e,t,n){e.exports=n.p+"_/61bf6f493a21aee5da4c3ae71bd31fef-thumbnail.large.jpg"},function(e,t,n){e.exports=n.p+"_/27bbeb47efaf3031226d77cf8d67a992-thumbnail.large.jpg"},function(e,t,n){e.exports=n.p+"_/57d91005815b78bd3fd179d0697903de-thumbnail.large.jpg"},function(e,t,n){e.exports=n.p+"_/51a7beff8146357e882df76bd5fcdb16-thumbnail.large.jpg"},function(e,t,n){e.exports=n.p+"_/f5ee01b1ab666927884b364d15ac52cb-thumbnail.large.jpg"},function(e,t,n){e.exports=n.p+"_/bde70ccec3de606d58f22640aa072121-thumbnail.large.jpg"},function(e,t,n){e.exports=n.p+"_/9e79ba44fb438a9ffd223b6ce4fb2fa6-thumbnail.large.jpg"},function(e,t,n){e.exports=n.p+"_/62a68e4b42467360ab580b2749d23bf6-thumbnail.large.jpg"},function(e,t,n){e.exports=n.p+"_/430c6b999668f49ff175bdd9b7134a8b-thumbnail.large.jpg"},function(e,t,n){e.exports=n.p+"_/16e9ca4e45d61db23d2296826f3885f0-thumbnail.large.jpg"},function(e,t,n){e.exports=n.p+"_/b04e018da78ddd01081ca9a969b08142-thumbnail.large.jpg"},function(e,t,n){e.exports=n.p+"_/bfdaf3c3b80acc39de642985220ec00d-thumbnail.large.jpg"},function(e,t,n){e.exports=n.p+"_/645387b75319c830faa9a1b5b123cb51-thumbnail.large.jpg"},function(e,t,n){e.exports=n.p+"_/ce7364300db361f6edfadc6fa7ba2905-thumbnail.large.jpg"},function(e,t,n){e.exports=n.p+"_/53f011ac9d9501b01316854e42b7f34b-thumbnail.large.jpg"},function(e,t,n){e.exports=n.p+"_/92b653fcf9b62d5581763c895bdd3642-thumbnail.large.jpg"},function(e,t,n){e.exports=n.p+"_/f17737796d9be327fe3d9e83fb8b1b03-thumbnail.large.jpg"},function(e,t,n){e.exports=n.p+"_/c1f2cacb6b7e6f02324c34ecab4b0d13-thumbnail_winter.large.jpg"},function(e,t,n){e.exports=n.p+"_/4965edaad1152724889af29ab96bf98d-thumbnail_spring.large.jpg"},function(e,t,n){e.exports=n.p+"_/dc7b88d84499635175879dea10fdc710-thumbnail_summer.large.jpg"},function(e,t,n){e.exports=n.p+"_/cb838ea3c8e6356796a1c4208f33b18d-thumbnail_autumn.large.jpg"},function(e,t,n){e.exports=n.p+"_/5d42c26bbb230f699626f40da25d4580-thumbnail.large.jpg"},function(e,t,n){e.exports=n.p+"_/8864a4aa9d2ac194d2b8e2f80cad617a-thumbnail.large.jpg"},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0});var a=n(351),s=o(n(400)),u=n(138),c=n(883),l=(function(e){function t(){var t=e.call(this)||this;return t.weatherData=null,t._addModelSubscription("theme-weather",{},{onChanged:function(e){var n;t.weatherData=null!==(n=e.weather)&&void 0!==n?n:null},onDestroyed:function(){t.weatherData=null}}),t}return r(t,e),Object.defineProperty(t.prototype,"weather",{get:function(){return this.weatherData},enumerable:!1,configurable:!0}),t.prototype.waitForData=function(){var e;return this.loadPromise||((null===(e=this.weatherData)||void 0===e?void 0:e.city)||this.error?this.loadPromise=Promise.resolve():this.loadPromise=this.getWeather()),this.loadPromise},Object.defineProperty(t.prototype,"error",{get:function(){return c.getThemeWeather().getWeatherError()},enumerable:!1,configurable:!0}),t.prototype.getWeather=function(){return c.getThemeWeather().getWeather()},t.Instance=u.memoize((function(){return new t})),i([a.observable],t.prototype,"weatherData",void 0),i([a.computed],t.prototype,"weather",null),t})(s.default);t.default=l},function(e,t,n){"use strict";function r(e){return e.substring(0,h.MAX_SETTING_NAME_LENGTH-2)+"_s"}function i(e){var t=[g.PromoType.SUBSCRIPTIONS];return b.isAvailable()&&!c.isPDD()&&t.push(g.PromoType.BEAUTIFUL_EMAIL),u.isBackupVisible()&&t.push(g.PromoType.BACKUP),t.reduce((function(t,n){var i;return a(a({},t),(i={},i[n]={isNew:!e.isSet(r(n))},i))}),{})}function o(){var e,t=m.getSettingsStore(),n=l.BeautifulEmailStore.instance(),o=c.isCorp()?null:f.SubscriptionCountersStore.instance(),a=d.BackupStore.instance(),g=v.getSettingsService();o&&o.waitForData();var h=s.useMemo((function(){var e=a.lastValidBackupDate;return e?p.getShortMonthDateTimeInHumanFormat(e):null}),[a.lastValidBackupDate]),b=s.useCallback((function(e){return c.emitUnsubscribePopupShow(e)}),[]),_=i(t),y=s.useCallback((function(e){var t;return g.setSettings((t={},t[r(e)]="on",t))}),[g]);return{backupDate:h,canUseBackup:u.canUseBackup(),beautifulEmail:n.email,optinEnabled:null!==(e=null===o||void 0===o?void 0:o.optinEnabled)&&void 0!==e&&e,subscriptionCounters:null===o||void 0===o?void 0:o.counters,openSubscribesSettings:b,promos:_,markPromoViewed:y}}var a=this&&this.__assign||function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},a.apply(this,arguments)};Object.defineProperty(t,"__esModule",{value:!0}),t.usePromo=void 0;var s=n(137),u=n(494),c=n(356),l=n(442),d=n(576),f=n(1191),p=n(391),g=n(412),h=n(1750),m=n(375),v=n(459),b=n(410);t.usePromo=o},function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a};Object.defineProperty(t,"__esModule",{value:!0}),t.useSettingsPopupStore=void 0;var i=n(137),o=n(375),a=function(){var e=o.getMailSettingsPopupStore(),t=r(i.useState(e.visible),2),n=t[0],a=t[1],s=r(i.useState(e.showAllThemes),2),u=s[0],c=s[1];return i.useEffect((function(){a(e.visible),c(e.showAllThemes)}),[e.visible,e.showAllThemes]),{isPopupVisible:n,setPopupVisible:i.useCallback((function(t){e.toggle(t)}),[e]),isAllThemesVisible:u,setAllThemesVisible:i.useCallback((function(t){e.toggleAllThemes(t)}),[e])}};t.useSettingsPopupStore=a},function(e,t){e.exports={popup:"NewSettings__popup--3_kxq",dark:"NewSettings__dark--1ZULZ",icon:"NewSettings__icon--1MMbG",badge:"NewSettings__badge--7Gftm"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsButton=void 0;var r=n(2961),i=n(424),o=n(1752);t.SettingsButton=i.withStores({sectionsStore:o.SectionsStore.instance})(r.SettingsButton)},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},s=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsButton=void 0;var c=u(n(137)),l=n(351),d=n(353),f=u(n(350)),p=n(147),g=n(882),h=n(142),m=u(n(368)),v=n(2962),b=n(411),_=n(1215),y=s(n(395)),S=n(87),w=u(n(2989)),O=S.hasFeature(S.Features.THEMED_SETTINGS_ICONS)?g.Popup:p.Popup,M=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.buttonRef=c.default.createRef(),t.disposer=new y.default,t.offset=0,t._toggleShowSettings=function(){t.props.isOpen?t.props.hide():(_.sendSettingsMetrika(),t.props.show())},t._onSetupHomeClick=function(){_.sendSettingsMetrika(b.HEADER_METRIKA_SETTINGS_ALL),t._toggleShowSettings()},t._renderSettingsPopup=function(){return c.default.createElement(O,{visible:t.props.isOpen,target:"anchor",anchor:t.buttonRef,view:"default",className:w.default.popup,onClose:t._toggleShowSettings,hasTail:!0,direction:["bottom-end"],secondaryOffset:t.offset,tailOffset:-t.offset,mainOffset:-4},c.default.createElement(v.SettingsContent,{onHeaderClick:t._onSetupHomeClick,onItemClick:t._toggleShowSettings}))},t.calculateOffset=function(){t.offset=t.getOffset()},t}return r(t,e),Object.defineProperty(t.prototype,"hasNewSections",{get:function(){return this.props.sectionsStore.hasNewSections},enumerable:!1,configurable:!0}),t.prototype.getOffset=function(){var e;if(this.buttonRef.current){var t=this.buttonRef.current.getBoundingClientRect(),n=null===(e=document.querySelector(".js-mail-layout"))||void 0===e?void 0:e.getBoundingClientRect();return n?n.right-t.right:0}return 0},t.prototype.componentDidMount=function(){this.disposer.add(this,y.addNsEventListener("daria:vApp:changeAppWidth",this.calculateOffset)),this.calculateOffset()},t.prototype.componentWillUnmount=function(){this.disposer.disposeAll()},t.prototype.render=function(){var e;return c.default.createElement(c.default.Fragment,null,c.default.createElement(h.Button,{className:f.default("mail-GhostButton","mail-SettingsButton",(e={},e[w.default.hasNew]=this.hasNewSections,e)),view:"clear",onClick:this._toggleShowSettings,innerRef:this.buttonRef,icon:function(){return c.default.createElement("div",{className:w.default.icon},c.default.createElement(m.default,{id:"mail--Yandex-header_settings"}))}}),this._renderSettingsPopup())},a([l.observable],t.prototype,"offset",void 0),a([l.action],t.prototype,"calculateOffset",void 0),t=a([d.observer],t)})(c.default.PureComponent);t.SettingsButton=M},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsContent=void 0;var r=n(2963),i=n(424),o=n(1752);t.SettingsContent=i.withStores({sectionsStore:o.SectionsStore.instance})(r.SettingsContent)},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsContent=void 0;var a=o(n(137)),s=n(353),u=n(2964),c=o(n(352)),l=o(n(2968)),d=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.renderSection=function(e,n){return a.default.createElement(u.SettingsItem,{key:n,item:e,onClick:t.props.onItemClick})},t}return r(t,e),t.prototype.render=function(){return a.default.createElement("div",{className:l.default.root},a.default.createElement("div",{className:l.default.title},a.default.createElement("a",{className:l.default.titleContent,href:"#setup",onClick:this.props.onHeaderClick},a.default.createElement(c.default,{loc:"common-react/setup-home"}))),a.default.createElement("div",{className:l.default.menu},this.props.sectionsStore.sections.map(this.renderSection)))},t=i([s.observer],t)})(a.default.Component);t.SettingsContent=d},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsItem=void 0;var r=n(2965);Object.defineProperty(t,"SettingsItem",{enumerable:!0,get:function(){return r.SettingsItem}})},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},i.apply(this,arguments)},o=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsItem=void 0;var s=a(n(137)),u=n(353),c=a(n(489)),l=n(2966),d=a(n(758)),f=n(411),p=c.default.bind(d.default),g=[f.YANDEX_HEADER_PREFIX,f.HEADER_METRIKA_RIGHT,f.HEADER_METRIKA_SETTINGS,f.HEADER_METRIKA_SETTINGS_OPEN],h=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){if(!this.props.item.isEnabled)return null;var e=this.props.item,t=e.attrs,n=e.CustomComponent,r=n||l.RegularItem;return s.default.createElement(r,i({},this.props,{className:p("root",t.className),metricPrefix:g}))},t=o([u.observer],t)})(s.default.PureComponent);t.SettingsItem=h},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.RegularItem=void 0;var r=n(2967),i=n(1751);t.RegularItem=i.withAction(r.RegularContent)},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.RegularContent=void 0;var i=r(n(489)),o=r(n(137)),a=r(n(352)),s=r(n(758)),u=n(1213),c=i.default.bind(s.default),l=function(e){var t=e.item,n=t.name,r=t.text,i=t.isNew;return o.default.createElement(o.default.Fragment,null,o.default.createElement(u.IconComponent,{Icon:t.Icon,name:n}),o.default.createElement("span",{className:c("content")},o.default.createElement(a.default,{className:c("name"),loc:r})),i?o.default.createElement(a.default,{className:c("newSign"),loc:"common-react/tag-new"}):null)};t.RegularContent=l},function(e,t){e.exports={root:"SettingsContent__root--1rYoa",title:"SettingsContent__title--299uh",titleContent:"SettingsContent__titleContent--_6gyR",menu:"SettingsContent__menu--2wiGE"}},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SectionsStore=void 0;var o=i(n(423)),a=n(2970),s=n(375),u=n(351),c=n(459),l=(function(){function e(e){this.sources=e}return Object.defineProperty(e.prototype,"sections",{get:function(){var t=this;return e.sectionNames.map((function(e){return a.SettingsSection.create(e,t.sources)}))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNewSections",{get:function(){return this.sections.some((function(e){return e.isEnabled&&e.isNew}))},enumerable:!1,configurable:!0}),e.instance=o.default((function(){return new e({settingsStore:s.getSettingsStore(),settingsService:c.getSettingsService()})})),e.sectionNames=[a.SettingsSectionName.SENDER,a.SettingsSectionName.BEAUTIFUL_EMAIL,a.SettingsSectionName.COLLECTORS,a.SettingsSectionName.FOLDERS,a.SettingsSectionName.FILTERS,a.SettingsSectionName.SECURITY,a.SettingsSectionName.BACKUP,a.SettingsSectionName.UNSUBSCRIBE_FILTERS,a.SettingsSectionName.ABOOK,a.SettingsSectionName.THEMES,a.SettingsSectionName.MAIL_PRO,a.SettingsSectionName.OTHER],r([u.computed],e.prototype,"sections",null),r([u.computed],e.prototype,"hasNewSections",null),e})();t.SectionsStore=l},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SettingsSectionName=t.SettingsSectionSources=t.SettingsSection=void 0;var r=n(2971);Object.defineProperty(t,"SettingsSection",{enumerable:!0,get:function(){return r.SettingsSection}}),Object.defineProperty(t,"SettingsSectionSources",{enumerable:!0,get:function(){return r.SettingsSectionSources}});var i=n(1214);Object.defineProperty(t,"SettingsSectionName",{enumerable:!0,get:function(){return i.SettingsSectionName}})},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a};Object.defineProperty(t,"__esModule",{value:!0}),t.UnsubscribeFiltersSettingsSection=t.ThemesSettingsSection=t.MailProSettingsSection=t.CollectorsSettingsSection=t.BackupSettingsSection=t.BeautifulEmailSettingsSection=t.SettingsSection=void 0;var o=n(351),a=n(1214),s=n(2972),u=n(356),c=n(1750),l=n(410),d=n(494),f=n(2985),p=n(2987),g=(function(){function e(e,t,n){this.name=e,this.attrs=t.attrs,this.text=t.text,this.canBeNew=t.canBeNew,this.sources=n,this.Icon=t.Icon}return e.create=function(t,n){var r=s.StaticSectionsAttributes[t];switch(t){case a.SettingsSectionName.BACKUP:return new m(t,r,n);case a.SettingsSectionName.BEAUTIFUL_EMAIL:return new h(t,r,n);case a.SettingsSectionName.COLLECTORS:return new v(t,r,n);case a.SettingsSectionName.MAIL_PRO:return new b(t,r,n);case a.SettingsSectionName.THEMES:return new _(t,r,n);case a.SettingsSectionName.UNSUBSCRIBE_FILTERS:return new y(t,r,n)}return new e(t,r,n)},Object.defineProperty(e.prototype,"settingName",{get:function(){return this.name.substring(0,c.MAX_SETTING_NAME_LENGTH-2)+"_s"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isNew",{get:function(){return this.canBeNew&&!this.sources.settingsStore.isSet(this.settingName)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return!0},enumerable:!1,configurable:!0}),e.prototype.resetNew=function(){var e;this.isNew&&this.sources.settingsService.setSettings((e={},e[this.settingName]="on",e))},i([o.computed],e.prototype,"isNew",null),i([o.action],e.prototype,"resetNew",null),e})();t.SettingsSection=g;var h=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return l.isAvailable()},enumerable:!1,configurable:!0}),t})(g);t.BeautifulEmailSettingsSection=h;var m=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.CustomComponent=p.BackupItem,t}return r(t,e),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return d.isBackupVisible()},enumerable:!1,configurable:!0}),t})(g);t.BackupSettingsSection=m;var v=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return!u.isCorp()},enumerable:!1,configurable:!0}),t})(g);t.CollectorsSettingsSection=v;var b=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return"ru"===u.getTld()&&this.sources.settingsStore.hasProInterface&&!this.sources.settingsStore.hideB2cTariffPromo},enumerable:!1,configurable:!0}),t})(g);t.MailProSettingsSection=b;var _=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return!u.areSettingsUnavailable()},enumerable:!1,configurable:!0}),t})(g);t.ThemesSettingsSection=_;var y=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.CustomComponent=f.UnsubscribeFiltersItem,t}return r(t,e),Object.defineProperty(t.prototype,"isEnabled",{get:function(){return!u.isCorp()},enumerable:!1,configurable:!0}),t})(g);t.UnsubscribeFiltersSettingsSection=y},function(e,t,n){"use strict";var r,i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StaticSectionsAttributes=void 0;var o=n(1214),a=n(356),s=i(n(2973)),u=i(n(2974)),c=i(n(2975)),l=i(n(2976)),d=i(n(2977)),f=i(n(2978)),p=i(n(2979)),g=i(n(2980)),h=i(n(2981)),m=i(n(2982)),v=i(n(2983)),b=i(n(2984));t.StaticSectionsAttributes=(r={},r[o.SettingsSectionName.ABOOK]={attrs:{href:"#setup/abook",action:"common.close-dropdown-if-current-page",params:{metrika:"Contacts"}},Icon:s.default,text:"common-react/setup-abook-name",canBeNew:!1},r[o.SettingsSectionName.BACKUP]={attrs:{href:"#setup/backup",action:"common.close-dropdown-if-current-page",params:{metrika:"Backup"}},Icon:u.default,text:"common-react/setup-backup-name",canBeNew:!0},r[o.SettingsSectionName.BEAUTIFUL_EMAIL]={attrs:{href:"#setup/beautiful-email",action:"common.close-dropdown-if-current-page",params:{metrika:"Beautiful Email"},className:"beautiful-email-section"},Icon:c.default,text:"common-react/setup-beautiful-email-name",canBeNew:!0},r[o.SettingsSectionName.COLLECTORS]={attrs:{href:"#setup/collectors",action:"common.close-dropdown-if-current-page",params:{metrika:"Import mail from other accounts"}},Icon:l.default,text:"common-react/setup-collectors-name",canBeNew:!1},r[o.SettingsSectionName.FILTERS]={attrs:{href:"#setup/filters",action:"common.close-dropdown-if-current-page",params:{metrika:"Message filters"}},Icon:d.default,text:"common-react/setup-filters-name",canBeNew:!1},r[o.SettingsSectionName.FOLDERS]={attrs:{href:"#setup/folders",action:"common.close-dropdown-if-current-page",params:{metrika:"Folders and labels"}},Icon:f.default,text:"common-react/setup-folders-name",canBeNew:!1},r[o.SettingsSectionName.MAIL_PRO]={attrs:{href:a.getLinkToMailPro("mail_settings"),target:"blank",rel:"noopener noreferrer",action:"common.close-dropdown-if-current-page",params:{metrika:"Pro"},className:"with-mail-pro"},Icon:p.default,text:"common-react/setup-mail-pro-name",canBeNew:!0},r[o.SettingsSectionName.OTHER]={attrs:{href:"#setup/other",action:"common.close-dropdown-if-current-page",params:{metrika:"Other"}},Icon:g.default,text:"common-react/setup-other-name",canBeNew:!1},r[o.SettingsSectionName.SECURITY]={attrs:{href:"#setup/security",action:"common.close-dropdown-if-current-page",params:{metrika:"Security"}},Icon:h.default,text:"common-react/setup-security-name",canBeNew:!1},r[o.SettingsSectionName.SENDER]={attrs:{href:"#setup/sender",action:"common.close-dropdown-if-current-page",params:{metrika:"Sender information"}},Icon:m.default,text:"common-react/setup-sender-name",canBeNew:!1},r[o.SettingsSectionName.THEMES]={attrs:{href:"#",action:"common.show-themes-selector",params:{metrika:"Appearance"}},Icon:v.default,text:"common-react/setup-themes-name",canBeNew:!1},r[o.SettingsSectionName.UNSUBSCRIBE_FILTERS]={attrs:{href:"#",action:"common.show-unsubscribe-popup",params:{metrika:"Manage subscriptions"}},Icon:b.default,text:"common-react/setup-unsubscribe-filters-name",canBeNew:!0},r)},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){return a.createElement("svg",r({width:20,height:20},e),s)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(137),s=(n.n(a),(function(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})("path",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",fill:"currentColor",clipRule:"evenodd",d:"M18 3c-.6 0-1 .4-1 1v12c0 .6-.4 1-1 1H3v-2h10c1.1 0 2-.9 2-2V3c0-1.1-.9-2-2-2H3c-1.1 0-2 .9-2 2v14c0 1.1.9 2 2 2h14c1.1 0 2-.9 2-2V4c0-.6-.4-1-1-1zM3 4c0-.5.5-1 1-1h8c.5 0 1 .5 1 1v8c0 .5-.5 1-1 1H4c-.5 0-1-.5-1-1V4zm2.1 6.2c.7.6 1.8.9 3 .9s2.8-.7 3-.9c-.7-.5-1.9-.5-2.1-1v-.6c.1-.1.4-.4.4-.7.1 0 .3-.1.3-.4 0-.2-.1-.3-.1-.3.2-.4.5-1.7-.7-1.8-.1-.2-.4-.3-.8-.3-1.6 0-1.8 1-1.5 2.1-.1 0-.2.1-.1.3 0 .3.2.4.3.4 0 .3.3.7.4.7v.6c-.2.5-1.4.5-2.1 1z"}));t.default=i},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){return a.createElement("svg",r({width:20,height:20,xmlns:"http://www.w3.org/2000/svg"},e),s)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(137),s=(n.n(a),(function(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})("path",{fillRule:"evenodd",fill:"currentColor",clipRule:"evenodd",d:"M2.767 14.744a.696.696 0 001.151-.002l2.628-3.88a.696.696 0 00-.577-1.086l-1.68.001a6.667 6.667 0 114.027 6.348.952.952 0 10-.756 1.749 8.574 8.574 0 008.2-14.97A8.571 8.571 0 002.384 9.778L.697 9.78a.696.696 0 00-.575 1.088l2.645 3.877zm11.918-2.464a.952.952 0 00-.5-1.25l-2.756-1.182V5.714a.952.952 0 00-1.905 0v4.448c0 .572.34 1.088.866 1.313l3.044 1.305a.952.952 0 001.25-.5z"}));t.default=i},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){return a.createElement("svg",r({width:20,height:20,xmlns:"http://www.w3.org/2000/svg"},e),s)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(137),s=(n.n(a),(function(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})("path",{fill:"currentColor",d:"M10 .91C4.982.91.91 4.981.91 10s4.072 9.09 9.09 9.09h4.546v-1.817H10c-3.945 0-7.273-3.328-7.273-7.273S6.055 2.727 10 2.727 17.273 6.055 17.273 10v1.3c0 .718-.646 1.427-1.364 1.427-.718 0-1.364-.709-1.364-1.427V10A4.547 4.547 0 0010 5.455 4.547 4.547 0 005.455 10a4.547 4.547 0 007.763 3.21c.591.808 1.61 1.335 2.691 1.335 1.791 0 3.182-1.454 3.182-3.245V10c0-5.018-4.073-9.09-9.09-9.09zm0 11.817A2.724 2.724 0 017.273 10 2.724 2.724 0 0110 7.273 2.724 2.724 0 0112.727 10 2.724 2.724 0 0110 12.727z"}));t.default=i},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){return a.createElement("svg",r({width:20,height:20},e),s)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(137),s=(n.n(a),(function(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})("path",{xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",d:"M7 12v7l6-2v-5l4.5-6h-15L7 12zm4.4-1.2l-.4.5v4.2l-2 .7v-4.9l-.4-.5L6.5 8h7l-2.1 2.8zM16 1H4C1.1 1 1.4 3.1 1.4 4h17.2c0-.8.2-3-2.6-3z"}));t.default=i},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){return a.createElement("svg",r({width:20,height:20},e),s)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(137),s=(n.n(a),(function(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})("path",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",fill:"currentColor",d:"M16 12l3-4.5L16 3h-5c0-1.1-.9-2-2-2s-2 .9-2 2v12.3c-.6.3-1 1-1 1.7v2h6v-2c0-.7-.4-1.4-1-1.7V12h5zm-5-7h4l2 2.5-2 2.5h-4V5zM4 5L.9 9.6 4 14h1V5H4z"}));t.default=i},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){return a.createElement("svg",r({width:20,height:20},e),s)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(137),s=(n.n(a),(function(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})("path",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",fill:"currentColor",d:"M18 2h-7c0-.6-.5-1-1-1H2c-.6 0-1 .4-1 1v16c0 .6.4 1 1 1h16c.5 0 1-.4 1-1V3c0-.6-.4-1-1-1zm-1 15H3V8h14v9zm0-11H3V3h6v1h8v2z"}));t.default=i},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function o(e){return s.createElement("svg",r({width:20,height:20,fill:"currentColor",xmlns:"http://www.w3.org/2000/svg"},e),u,c,l)}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(137),u=(n.n(s),i("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 3a1 1 0 00-1 1v12a1 1 0 001 1h8a1 1 0 001-1V4a1 1 0 00-1-1H6zM3 4a3 3 0 013-3h8a3 3 0 013 3v12a3 3 0 01-3 3H6a3 3 0 01-3-3V4z"})),c=i("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13.46 9.908a.75.75 0 01.132 1.053l-3.5 4.5a.75.75 0 01-1.122.07l-2.5-2.5a.75.75 0 111.06-1.061l1.9 1.899 2.978-3.83a.75.75 0 011.053-.131z"}),l=i("path",{d:"M0 3a1.5 1.5 0 011.5 1.5v11A1.5 1.5 0 010 17V3zm20 0a1.5 1.5 0 00-1.5 1.5v11A1.5 1.5 0 0020 17V3zM6.75 4.5h6.5a.75.75 0 010 1.5h-6.5a.75.75 0 010-1.5zm0 2.5h4.5a.75.75 0 010 1.5h-4.5a.75.75 0 010-1.5z"});t.default=o},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){return a.createElement("svg",r({width:20,height:20},e),s)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(137),s=(n.n(a),(function(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})("path",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",fill:"currentColor",clipRule:"evenodd",d:"M3 8c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm7 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2zm7 0c-1.1 0-2 .9-2 2s.9 2 2 2 2-.9 2-2-.9-2-2-2z"}));t.default=i},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){return a.createElement("svg",r({width:20,height:20},e),s)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(137),s=(n.n(a),(function(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})("path",{xmlns:"http://www.w3.org/2000/svg",fillRule:"evenodd",fill:"currentColor",clipRule:"evenodd",d:"M10 1L1 3v9c0 3.4 3.3 4.3 9 7 5.7-2.7 9-3.6 9-7V3l-9-2zm7 11c0 1.4-1.1 2.1-5.4 4-.5.2-1.1.5-1.6.8-.6-.3-1.1-.5-1.6-.8C4.1 14 3 13.4 3 12V4.6L10 3l7 1.6V12zm-7 3c3.2-1.5 5-2 5-4V6l-5-1v10z"}));t.default=i},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){return a.createElement("svg",r({width:20,height:20},e),s)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(137),s=(n.n(a),(function(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})("path",{fill:"currentColor",d:"M10 1c-5 0-9 4-9 9s4 9 9 9 9-4 9-9-4-9-9-9zm4.3 14.5c-1.1-.5-2.2-.7-2.5-1.5v-1.3c.2-.1.6-.9.7-1.6.2 0 .5-.2.6-.9 0-.4-.1-.6-.2-.7.3-.9.9-3.7-1.1-4-.4-.3-.9-.5-1.6-.5-2.8.1-3.2 2.1-2.6 4.5-.1.1-.3.3-.2.7.1.7.4.9.6.9.1.7.5 1.4.7 1.6V14c-.3.9-1.7 1.1-2.8 1.7A7.01 7.01 0 013 10c0-3.9 3.1-7 7-7s7 3.1 7 7c0 2.2-1.1 4.2-2.7 5.5z"}));t.default=i},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){return a.createElement("svg",r({width:20,height:20},e),s)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(137),s=(n.n(a),(function(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})("path",{fill:"currentColor",xmlns:"http://www.w3.org/2000/svg",d:"M11 3.4l6 1.2v10.7l-6 1.2V3.4M9 1v18l10-2V3L9 1zM7 3H5v14h2V3zM3 5H1v10h2V5z"}));t.default=i},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function o(e){return s.createElement("svg",r({width:20,height:19,xmlns:"http://www.w3.org/2000/svg"},e),u,c)}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(137),u=(n.n(s),i("path",{fill:"currentColor",d:"M4 0v16c0 .6-.4 1-1 1s-1-.4-1-1V6H0v10c0 1.7 1.3 3 3 3h14c1.7 0 3-1.3 3-3V0H4zm14 16.063c0 .562-.4.937-1 .937H5.8c.1-.281.2-.563.2-.938V2h12v14.063z"})),c=i("path",{fill:"currentColor",d:"M8 4h8v2H8zm0 4h8v2H8zm0 4h8v2H8z"});t.default=o},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.UnsubscribeFiltersItem=void 0;var r=n(2986);Object.defineProperty(t,"UnsubscribeFiltersItem",{enumerable:!0,get:function(){return r.UnsubscribeFiltersItem}})},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.UnsubscribeFiltersItem=void 0;var a=o(n(137)),s=n(353),u=n(351),c=o(n(489)),l=n(356),d=n(1213),f=o(n(352)),p=n(1191),g=n(375),h=o(n(758)),m=o(n(395)),v=c.default.bind(h.default),b=function(e){return a.default.createElement(f.default,{className:v("extra"),loc:"subscriptions-react/settings-extra-title",params:{count:e.count}})},_=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.innerRef=a.default.createRef(),t.newslettersStore=p.SubscriptionCountersStore.instance(),t.settingsStore=g.getSettingsStore(),t.disposer=new m.default,t.onClick=function(e){var n=t.props,r=n.onClick,i=n.item,o=n.metricPrefix,a=i.attrs,s=a.action,u=a.params;s&&(u.metrika&&(u.metrika=o.join(":")+':Click on "'+u.metrika+'"'),t.shouldShowTag&&(u.page="pending"),l.runAction(s,u,t.innerRef.current,e)),i.resetNew(),r()},t}return r(t,e),Object.defineProperty(t.prototype,"newslettersCount",{get:function(){var e;return null===(e=this.newslettersStore.counters)||void 0===e?void 0:e.pending},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isOptInOn",{get:function(){return this.settingsStore.canUseOptInSubscriptions&&this.settingsStore.isOptInSubscriptionsEnabled},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shouldShowTag",{get:function(){return this.isOptInOn&&!this.props.item.isNew&&Boolean(this.newslettersCount)},enumerable:!1,configurable:!0}),t.prototype.componentDidMount=function(){var e=this;this.isOptInOn&&p.SubscriptionCountersStore.instance().waitForData(),this.disposer.add(this,[u.reaction((function(){return e.isOptInOn}),(function(e){return e&&p.SubscriptionCountersStore.instance().waitForData()}))])},t.prototype.componentWillUnmount=function(){this.disposer.disposeAll()},t.prototype.render=function(){var e=this.props,t=e.item,n=e.className,r=t.attrs,i=t.name,o=t.text,s=t.isNew;return a.default.createElement("a",{className:n,href:r.href,onClick:this.onClick,ref:this.innerRef,rel:r.rel,target:r.target},a.default.createElement(d.IconComponent,{Icon:t.Icon,name:i}),a.default.createElement("span",{className:v("content")},a.default.createElement(f.default,{className:v("name"),loc:o}),this.shouldShowTag&&this.newslettersCount&&a.default.createElement(b,{count:this.newslettersCount})),s?a.default.createElement(f.default,{className:v("newSign"),loc:"common-react/tag-new"}):null)},i([u.computed],t.prototype,"newslettersCount",null),i([u.computed],t.prototype,"isOptInOn",null),i([u.computed],t.prototype,"shouldShowTag",null),t=i([s.observer],t)})(a.default.PureComponent);t.UnsubscribeFiltersItem=_},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackupItem=void 0;var r=n(2988),i=n(1751);t.BackupItem=i.withAction(r.BackupContent)},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BackupContent=t.AttentionText=t.ExtraText=void 0;var a=o(n(137)),s=o(n(489)),u=n(353),c=n(351),l=o(n(352)),d=n(391),f=o(n(367)),p=n(576),g=n(1213),h=o(n(758)),m=s.default.bind(h.default),v=function(e){return a.default.createElement("span",{className:m("extra")},e.text)};t.ExtraText=v;var b=function(e){return a.default.createElement("span",{className:m("attention")},e.text)};t.AttentionText=b;var _=(function(e){function n(){var t=null!==e&&e.apply(this,arguments)||this;return t.backupStore=p.BackupStore.instance(),t}return r(n,e),Object.defineProperty(n.prototype,"extraText",{get:function(){return this.backupStore.lastValidBackupDate?d.getShortMonthDateTimeInHumanFormat(this.backupStore.lastValidBackupDate):null},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"attentionText",{get:function(){return this.backupStore.hasCreateError?f.default("setup-backup/backup-create-failed"):null},enumerable:!1,configurable:!0}),n.prototype.render=function(){var e=this.props.item,n=e.name,r=e.text,i=e.isNew,o=this.attentionText?a.default.createElement(t.AttentionText,{text:this.attentionText}):this.extraText?a.default.createElement(t.ExtraText,{text:this.extraText}):null;return a.default.createElement(a.default.Fragment,null,a.default.createElement(g.IconComponent,{Icon:e.Icon,name:n}),a.default.createElement("span",{className:m("content")},a.default.createElement(l.default,{className:m("name"),loc:r}),o),i?a.default.createElement(l.default,{className:m("newSign"),loc:"common-react/tag-new"}):null)},i([c.computed],n.prototype,"extraText",null),i([c.computed],n.prototype,"attentionText",null),n=i([u.observer],n)})(a.default.PureComponent);t.BackupContent=_},function(e,t){e.exports={icon:"SettingsButton__icon--Et0A7",hasNew:"SettingsButton__hasNew--5shl0",popup:"SettingsButton__popup--q2Y0l"}},function(e,t,n){"use strict";var r=n(2991);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return y}));var p,g=n(137),h=(n.n(g),n(348)),m=n.n(h),v=n(368),b=n(402),_=f(v.default,{id:"mail--Yandex-header_themes"}),y=(function(e){function t(){return i(this,t),s(this,c(t).apply(this,arguments))}return l(t,e),a(t,[{key:"render",value:function(){return f(b.a,{theme:"default",onClick:this.props.showThemesSelector,cls:"mail-GhostButton mail-ThemesButton"},void 0,_)}}]),t})(g.PureComponent);y.propTypes={showThemesSelector:m.a.func.isRequired}},function(e,t){},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}n.d(t,"a",(function(){return d}));var i=n(137),o=n.n(i),a=n(2994),s=n(353),u=n(375),c=n(459),l=n(1188),d=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Object(u.getSearchStore)(),n={foldersStore:Object(u.getFoldersStore)(),labelsStore:Object(u.getLabelsStore)(),routerStore:Object(u.getRouterStore)(),searchStore:t,settingsStore:Object(u.getSettingsStore)(),routerService:Object(c.getRouterService)(),searchService:Object(c.getSearchService)(),searchLogService:Object(c.getSearchLogService)(),settingsService:Object(c.getSettingsService)(),queryLanguageService:Object(c.getQueryLanguageService)(),shortcuts:Object(l.getShortcuts)(),scenarioManager:c.scenarioManager},i=function(e){Daria.React._searchRef=e};return o.a.createElement(s.Provider,n,o.a.createElement(a.a,r({},e,{ref:i})))}},function(e,t,n){"use strict";var r=n(2995);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){M||(M="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:M,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function g(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var h,m,v,b,_,y,S,w,O,M,D=n(137),T=n.n(D),x=n(348),C=n.n(x),E=n(508),P=n.n(E),k=n(356),j=n(350),A=n.n(j),I=n(351),R=n(353),B=n(386),F=n(839),L=n(730),N=n(638),H=n(573),U=n(841),W=n(2996),z=(n.n(W),n(139)),V=(n.n(z),N.a.SEARCH_TRIGGER),$=n(2997).default,q=(h=Object(R.inject)("foldersStore","searchStore","searchService","searchLogService","settingsService","routerService"))(m=Object(R.observer)((O=w=(function(e){function t(e,n){var r;return i(this,t),r=s(this,u(t).call(this,e,n)),p(c(r),"_selectItem",b,c(r)),r._logSelectSuggestItem=function(e){var t=r.props,n=t.searchStore,i=t.searchLogService,o=e.data,a=n.getItemPosition(e)+1,s={text:n.searchQuery.currentShowText,suggestUsed:!0,target:o.target,show_text:o.show_text,search_text:o.search_text,itemPos:a};i.logSearchSuggest(s),i.suggestWasLogged=!0},p(c(r),"_handleMessageClick",_,c(r)),p(c(r),"_handleQueryLanguageClick",y,c(r)),p(c(r),"_setAdvancedOption",S,c(r)),r._getContainerClass=r._getContainerClass.bind(c(r)),r._searchViaEnterPress=r._searchViaEnterPress.bind(c(r)),r._searchViaButton=r._searchViaButton.bind(c(r)),r._startSuggest=r._startSuggest.bind(c(r)),r._activateSearchViaShortcut=r._activateSearchViaShortcut.bind(c(r)),r._suggestWrapper=null,r}return l(t,e),a(t,[{key:"componentDidMount",value:function(){this.props.searchLogService.setSuggestTrigger()}},{key:"_getItemShowText",value:function(e){var t=e.data;switch(t.target){case"mail":return t.show_text;default:return t.search_text}}},{key:"_searchViaEnterPress",value:function(){var e=this.props.searchLogService;e.setSearchTrigger(V.ENTER),e.endSuggestScenario(V.ENTER),this._startSearch({force:!0})}},{key:"_searchViaButton",value:function(){var e=this.props,t=e.searchLogService;e.searchStore.isFolded||(t.setSearchTrigger(V.BUTTON),t.endSuggestScenario(V.BUTTON),this._startSearch({force:!0}))}},{key:"_activateSearchViaShortcut",value:function(){this._startSuggest(P.a.HOTKEY),this._setFocusOnInput()}},{key:"_startSearch",value:function(e){var t=this.props,n=t.searchStore,r=t.searchService;n.showSuggest=!1,r.startSearch(n.searchQuery.currentShowText,e)}},{key:"_setFocusOnInput",value:function(e,t){this._suggestWrapper&&this._suggestWrapper.focusInput(e,t)}},{key:"toggleFolded",value:function(e){this._suggestWrapper&&this._suggestWrapper.toggleFolded(e)}},{key:"_startSuggest",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P.a.CLICK,t=this.props,n=t.foldersStore,r=t.searchStore,i=t.searchService,o=t.searchLogService,a=r.searchQuery;if(i.startSuggest(),Object(k.emitSuggestOpened)(e),r.isFolded&&Object(k.isCorp)()&&!i.getAdvanced("fid")){var s=n.getFolderBySymbol(z.WellKnownFolderSymbol.INBOX);s&&s.data.fid&&i.setAdvanced("fid",s.data.fid)}o.setSuggestTrigger(e),o.logSuggestActivation({suggestWithEmptyRequest:!a.currentSearchText})}},{key:"_getContainerClass",value:function(){var e=this.props.settingsService;return A()({"mail-SearchContainer":!0,"is-in-compact-header":e.isCompactHeaderMode})}},{key:"render",value:function(){var e=this,t=this.props,n=t.toneDefault,r=t.toneActive,i=t.searchStore,o=t.settingsService,a={searchQuery:i.searchQuery},s={toneDefault:n,toneActive:r,isCompact:o.isCompactHeaderMode,getContainerClass:this._getContainerClass,getItemShowText:this._getItemShowText,startSuggest:this._startSuggest,searchViaButton:this._searchViaButton,searchViaEnterPress:this._searchViaEnterPress,selectItem:this._selectItem,ref:function(t){e._suggestWrapper=t}};return f(B.default,{lang:Daria.locale},void 0,T.a.createElement(R.Provider,a,T.a.createElement($,s)))}}]),t})(T.a.Component),w.propTypes={foldersStore:C.a.instanceOf(F.a).isRequired,searchStore:C.a.instanceOf(L.a).isRequired,searchService:C.a.instanceOf(N.b).isRequired,searchLogService:C.a.instanceOf(N.a).isRequired,settingsService:C.a.instanceOf(H.a).isRequired,routerService:C.a.instanceOf(U.a).isRequired,toneDefault:C.a.string,toneActive:C.a.string,className:C.a.string},v=O,g(v.prototype,"_startSearch",[I.action],Object.getOwnPropertyDescriptor(v.prototype,"_startSearch"),v.prototype),b=g(v.prototype,"_selectItem",[I.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{force:!0},r=e.props,i=r.searchStore,o=r.searchService,a=r.searchLogService,s=t.data,u=!1,c=!1;switch(e._logSelectSuggestItem(t),a.setSearchTrigger(V.SUGGEST),i.showSuggest=!1,s.target){case"mail":u=e._handleMessageClick(s),c=u;break;case"ql":e._handleQueryLanguageClick(s),u=!0,c=void 0;break;case"folder":u=e._setAdvancedOption("fid",s.fid);break;case"label":case"important":u=e._setAdvancedOption("lid",s.lid);break;case"unread":u=e._setAdvancedOption("unread",!0)}return u||(i.searchQuery.currentShowText=s.search_text,o.startSearch(s.search_text,n)),c}}}),_=g(v.prototype,"_handleMessageClick",[I.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.props.routerService;return!!t.mid&&(n.navigateToMessage(t.mid,t.fid),!0)}}}),y=g(v.prototype,"_handleQueryLanguageClick",[I.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.props.searchStore.searchQuery;n.currentSearchText=t.search_text,n.currentSuggestText=t.search_text,n.currentShowText=t.search_text,e._setFocusOnInput()}}}),S=g(v.prototype,"_setAdvancedOption",[I.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t,n){var r=e.props,i=r.searchStore.searchQuery,o=r.searchService;return!!n&&(o.setAdvanced(t,n),i.currentSearchText="",i.currentSuggestText="",i.currentShowText="",!0)}}}),m=v))||m)||m;t.a=q},function(e,t){},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function p(e,t,n,r){O||(O="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:O,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function g(e,t,n,r){n&&Object.defineProperty(e,t,{enumerable:n.enumerable,configurable:n.configurable,writable:n.writable,value:n.initializer?n.initializer.call(r):void 0})}function h(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}Object.defineProperty(t,"__esModule",{value:!0});var m,v,b,_,y,S,w,O,M=n(137),D=n.n(M),T=n(348),x=n.n(T),C=n(351),E=n(353),P=n(356),k=n(508),j=n.n(k),A=n(730),I=n(729),R=n(839),B=n(841),F=n(573),L=n(976),N=n(638),H=n(2998),U=n(2999),W=n(3e3),z=n(402),V=n(1216),$=n(1753),q=n(1217),G=n(3020),K=n(884),Y=n(646),J=n(3040),X=$.a.SEARCH_TRIGGER,Q=$.a.FOLD_SOURCE,Z=i18n("%ServiceTabs__Search_Button"),ee=i18n("%Toolbar_Mobile_SearchMessages"),te=i18n("%Search_Bubble_Remove"),ne=(w={},f(w,Q.SHORTCUT,j.a.HOTKEY),f(w,Q.CLOSE_CLICK,j.a.CLICK),f(w,Q.RIGHT_CONTENT_CLICK,j.a.CLICK),f(w,Q.BG_CLICK,j.a.BG_CLICK),w),re=p(J.a,{}),ie=p(V.a,{}),oe=(m=Object(E.inject)("searchStore","routerStore","foldersStore","routerService","searchService","searchLogService","settingsService","queryLanguageService"))(v=Object(E.observer)((S=y=(function(e){function t(e,n){var r;return i(this,t),r=s(this,u(t).call(this,e,n)),g(c(r),"_changeQuery",_,c(r)),r._suggest=null,r._isSuggestVisible=r._isSuggestVisible.bind(c(r)),r._foldSuggest=r._foldSuggest.bind(c(r)),r._unfoldSuggest=r._unfoldSuggest.bind(c(r)),r._changeQuery=r._changeQuery.bind(c(r)),r._onClearClick=r._onClearClick.bind(c(r)),r._onCloseClick=r._onCloseClick.bind(c(r)),r._onFoldedChanged=r._onFoldedChanged.bind(c(r)),r._onSearchFinish=r._onSearchFinish.bind(c(r)),r._onSubmit=r._onSubmit.bind(c(r)),r._onSuggestStateChanged=r._onSuggestStateChanged.bind(c(r)),r._shouldFoldOnEsc=r._shouldFoldOnEsc.bind(c(r)),r._showAdvancedSearch=r._showAdvancedSearch.bind(c(r)),r.state={},r}return l(t,e),a(t,[{key:"componentDidMount",value:function(){var e=this.props,t=e.searchStore,n=e.routerStore,r=e.searchService,i=e.settingsService,o=e.queryLanguageService;this._navigationSearchReaction=new W.a({routerStore:n,searchStore:t},{searchService:r,settingsService:i},{fold:this._foldSuggest,unfold:this._unfoldSuggest}),this._searchSuggestReaction=new H.a(t,r,this._isSuggestVisible),this._searchReaction=new U.a({searchStore:t,routerStore:n},{searchService:r,queryLanguageService:o})}},{key:"componentWillUnmount",value:function(){this._navigationSearchReaction.cancel(),this._searchSuggestReaction.cancel(),this._searchReaction.cancel()}},{key:"focusInput",value:function(){if(this._suggest){var e;(e=this._suggest).focusInput.apply(e,arguments)}}},{key:"toggleFolded",value:function(e){e?this._foldSuggest():this._unfoldSuggest()}},{key:"_isSuggestVisible",value:function(){return Boolean(this._suggest&&this._suggest.isSuggestVisible())}},{key:"_onFoldedChanged",value:function(e){var t=this.props,n=t.searchStore,r=t.searchService,i=t.searchLogService,o=t.isCompact;n.isFolded=e,e?(r.resetSearch(),r.cleanupSuggest(),n.dropSearchSession(),o&&Object(P.toolbarRestruct)()):i.countSearchActivation(),Object(P.toggleSearchAppMode)(!e)}},{key:"_onSuggestStateChanged",value:function(e){this.setState({suggestState:e})}},{key:"_onSearchFinish",value:function(e){var t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=this.props,r=n.routerService,i=n.searchLogService;i.logSearchFinish(ne[e]),i.endSuggestScenario(ne[e]),t&&r.openLastPageBeforeSearch()}},{key:"_renderItem",value:function(e){return p(G.a,{item:e})}},{key:"_shouldFoldOnEsc",value:function(){return!this.props.routerStore.isSearchResultsPage}},{key:"_getItemType",value:function(e){return e.data.target}},{key:"_onSubmit",value:function(e){var t=this.props,n=t.searchViaButton,r=t.searchViaEnterPress;e===X.ENTER_PRESS?r():n()}},{key:"_onClearClick",value:function(){var e=this.props.searchLogService;e.countTextCleared(),e.logSuggestClear()}},{key:"_onCloseClick",value:function(){var e=this.props,t=e.searchLogService,n=e.searchStore,r=n.searchQuery;r.isAdvancedDirty&&(r.reset(),this.focusInput()),t.countSuggestClose()}},{key:"_showAdvancedSearch",value:function(){var e=this.props,t=e.searchService,n=e.searchStore,r=n.searchQuery;r.currentShowText&&r.currentShowText!==r.currentSearchText?this._onSubmit():t.shouldDisplayAdvancedSearch||n.setForceShowAdvancedSearch(!0),this._unfoldSuggest()}},{key:"_maybeRenderAdvancedSearchButton",value:function(){var e=this.props,t=e.searchService,n=e.searchStore;return!t.shouldDisplayAdvancedSearch||this.state.suggestState===q.b.UNFOLDED_ACTIVE&&n.suggestItems.length?p(z.a,{theme:"normal",view:"default",tone:"mail-suggest-themed",size:"n",cls:"search-input__advanced-button",icon:re,title:i18n("%Search_Advanced_Search"),onClick:this._showAdvancedSearch}):null}},{key:"_renderRocksSuggest",value:function(){var e=this,t=this.props,n=t.searchStore,r=t.toneActive,i=t.isCompact,o=t.selectItem,a=t.startSuggest,s=t.getItemShowText,u=t.searchService;this._logShowDefaultSuggest();var c=u.hasUserBubbles;return D.a.createElement($.a,{ref:function(t){e._suggest=t},suggestQuery:n.searchQuery.currentShowText,isNarrow:!0,isMobile:!1,isCompact:i,toneDefault:"mail-suggest-themed",toneActive:r,maxLength:K.d,clsActivator:"mail-GhostButton",runsInIE:Y.default.isIE(),iconPosition:"right",bubbles:u.bubbles,onBubblesRemove:function(e){return u.removeBubbles(e)},placeholderDefault:ee,placeholderCustom:ee,suggestItems:n.suggestItems,keepExpanded:c,shouldNotDeactivateOnClose:n.searchQuery.isAdvancedDirty,renderItem:this._renderItem,showClose:!0,removeSearchBubbleTitle:te,searchButtonText:Z,getShowText:s,getItemType:this._getItemType,handleItemSelect:o,shouldFoldOnEsc:this._shouldFoldOnEsc,startSuggest:a,onTextChange:this._changeQuery,onClearClick:this._onClearClick,onFoldedChanged:this._onFoldedChanged,onStateChanged:this._onSuggestStateChanged,onSubmit:this._onSubmit,onCloseClick:this._onCloseClick,onActiveChange:P.toggleVerticalScrollBar,onSearchFinish:this._onSearchFinish,advancedButton:this._maybeRenderAdvancedSearchButton()})}},{key:"_logShowDefaultSuggest",value:function(){var e=this.props,t=e.searchStore,n=e.searchLogService;this._isSuggestVisible()&&t.searchQuery.isDefaultSuggest&&t.hasSuggestItems&&n.logSearchSuggest({suggestWithEmptyRequest:!0})}},{key:"_foldSuggest",value:function(){var e=this.props.searchStore;this._suggest&&(e.isFolded=!0,this._suggest.fold())}},{key:"_unfoldSuggest",value:function(){var e=this.props.searchStore;this._suggest&&(e.isFolded=!1,this._suggest.unfold())}},{key:"render",value:function(){return p("div",{className:(0,this.props.getContainerClass)()},void 0,this._renderRocksSuggest(),ie)}}]),t})(D.a.Component),y.propTypes={searchStore:x.a.instanceOf(A.a).isRequired,routerStore:x.a.instanceOf(I.a).isRequired,foldersStore:x.a.instanceOf(R.a).isRequired,routerService:x.a.instanceOf(B.a).isRequired,searchService:x.a.instanceOf(N.b).isRequired,searchLogService:x.a.instanceOf(N.a).isRequired,settingsService:x.a.instanceOf(F.a).isRequired,queryLanguageService:x.a.instanceOf(L.a).isRequired,toneActive:x.a.string,isCompact:x.a.bool.isRequired,getContainerClass:x.a.func.isRequired,getItemShowText:x.a.func.isRequired,startSuggest:x.a.func.isRequired,searchViaButton:x.a.func.isRequired,searchViaEnterPress:x.a.func.isRequired,selectItem:x.a.func.isRequired},b=S,_=h(b.prototype,"_changeQuery",[C.action],{configurable:!0,enumerable:!0,writable:!0,initializer:function(){var e=this;return function(t){var n=e.props.searchStore.searchQuery;n.currentSuggestText=t,n.currentShowText=t}}}),h(b.prototype,"_onFoldedChanged",[C.action],Object.getOwnPropertyDescriptor(b.prototype,"_onFoldedChanged"),b.prototype),h(b.prototype,"_onCloseClick",[C.action],Object.getOwnPropertyDescriptor(b.prototype,"_onCloseClick"),b.prototype),h(b.prototype,"_foldSuggest",[C.action],Object.getOwnPropertyDescriptor(b.prototype,"_foldSuggest"),b.prototype),h(b.prototype,"_unfoldSuggest",[C.action],Object.getOwnPropertyDescriptor(b.prototype,"_unfoldSuggest"),b.prototype),v=b))||v)||v;t.default=oe},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return d}));var l=n(658),d=(function(e){function t(e,n,r){return i(this,t),o(this,s(t).call(this,(function(){return e.searchQuery.paramsForSuggest}),(function(){r()&&n.startSuggest()})))}return u(t,e),t})(l.a)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return p}));var l=n(658),d=n(138),f=n.n(d),p=(function(e){function t(e,n){var r=e.searchStore,a=e.routerStore,u=n.searchService;return i(this,t),o(this,s(t).call(this,(function(){return r.searchQuery.getAutosearchParams()}),(function(){var e=!a.isMessagesListPage,t=a.isNavigatingToMessageInList,n=r.isFolded&&!r.forceShowAdvancedSearch,i=u.isSearchLocked;e||t||n||i||u.startSearch(r.searchQuery.currentShowText,{force:!0})}),{equals:function(e,t){return f.a.isEqual(e,t)}}))}return u(t,e),t})(l.a)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?a(e):t}function a(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}n.d(t,"a",(function(){return d}));var l=n(658),d=(function(e){function t(e,n,r){var a=e.routerStore,u=e.searchStore,c=n.searchService,l=n.settingsService,d=r.fold,f=r.unfold;return i(this,t),o(this,s(t).call(this,(function(){return{page:a.currentPage.page,params:a.currentPage.params}}),(function(){var e=a.isSearchResultsPage,t=a.isCollectorSearch();if(u.forceShowAdvancedSearch&&u.setForceShowAdvancedSearch(!1),!u.wasSearchRequestSimplified||!e&&!t){if(t)return d(),void u.searchQuery.reset();c.syncSearchQuery();var n=!l.isCompactHeaderMode||!a.currentPage.params.ids;u.searchQuery.currentShowText=n?u.searchQuery.currentSuggestText:"";var r=u.searchQuery.isAdvancedDirty||Boolean(u.searchQuery.currentSearchText);u.isFolded&&e&&r&&n?f():u.isFolded||e||d()}}),{fireImmediately:!0}))}return u(t,e),t})(l.a)},,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){v||(v="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:v,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return N}));var p,g,h,m,v,b=n(137),_=n.n(b),y=n(348),S=n.n(y),w=n(353),O=n(507),M=n(731),D=n(638),T=n(3021),x=n(3024),C=n(3027),E=n(3028),P=n(3031),k=n(3032),j=n(3033),A=n(3034),I=n(3035),R=n(3036),B=n(3037),F=n(3038),L=(n.n(F),n(3039)),N=(n.n(L),(p=Object(w.inject)("settingsStore","searchService","searchLogService"))(g=Object(w.observer)((m=h=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n._onClickRemove=function(){var e=n.props,t=e.item,r=e.searchService,i=e.searchLogService;r.removeSuggestItem(t),i.countSuggestAction("Delete history item"),i.logSuggestHistoryItemRemove()},n}return l(t,e),a(t,[{key:"_isAttach",value:function(){var e=this.props.item,t=e.data,n=t.scopes,r=void 0===n?[]:n,i=t.attachments,o=void 0===i?[]:i;return 1===r.length&&"attachment"===r[0]&&o.length>0}},{key:"render",value:function(){var e=this.props,t=e.item,n=e.settingsStore,r=t.data;switch(r.target){case"history":return f(T.a,{itemData:r,onRemove:this._onClickRemove});case"subject":return f(j.a,{itemData:r});case"ql":return f(A.a,{itemData:r});case"contact":return f(x.a,{itemData:r});case"mail":return this._isAttach()?f(E.a,{itemData:r,isBiggerText:n.isBiggerText}):f(C.a,{itemData:r});case"show-all-results":return f(k.a,{itemData:r});case"folder":return f(P.a,{itemData:r});case"label":return f(I.a,{itemData:r});case"important":return f(R.a,{itemData:r});case"unread":return f(B.a,{itemData:r});default:return Object(O.logError)({errorType:"search-suggest-unsupported-target",target:r.target,suggestItemData:r}),null}}}]),t})(_.a.PureComponent),h.propTypes={settingsStore:S.a.instanceOf(M.c).isRequired,searchService:S.a.instanceOf(D.b).isRequired,searchLogService:S.a.instanceOf(D.a).isRequired,item:S.a.object.isRequired},g=m))||g)||g)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return M}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(476),_=n(368),y=n(402),S=i18n("%Search_Suggest_RemoveItemTitle"),w=f("div",{className:"mail-SuggestItem-Rocks-Icon mail-SuggestItem-Rocks-Icon_align_middle"},void 0,f(_.default,{id:"mail--SearchSuggest-History_2",cls:"mail-IconContainer"})),O=f(_.default,{id:"mail--SearchSuggest-Close"}),M=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n.onRemoveClick=function(e){e.stopPropagation(),(0,n.props.onRemove)()},n}return l(t,e),a(t,[{key:"render",value:function(){var e=this.props.itemData;return f("div",{className:"mail-SuggestItem-Rocks mail-SuggestItem-Rocks-History"},void 0,w,f("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,f(b.a,{htmlText:e.show_text_highlighted})),f(y.a,{theme:"clear",size:"m",cls:"mail-SuggestItem-Rocks-History-Remove",onClick:this.onRemoveClick,title:S,controlAttrs:{"aria-label":S}},void 0,O))}}]),t})(h.a.Component);M.propTypes={itemData:v.a.object.isRequired,onRemove:v.a.func.isRequired},M.defaultProps={onRemove:function(){}}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var o,a=n(137),s=(n.n(a),n(348)),u=n.n(s),c=n(350),l=n.n(c),d=n(3023),f=(n.n(d),function(e){var t=e.text,n=e.htmlText,o=e.cls,a=void 0===o?"":o;if(!t&&!n)return null;var s=l()(r({"mail-LimitLongText":!0},a,!0));return t?i("span",{className:s},void 0,t):i("span",{className:s,dangerouslySetInnerHTML:{__html:n}})});f.propTypes={text:u.a.string,htmlText:u.a.string,cls:u.a.string},t.a=f},function(e,t){},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(348)),s=n.n(a),u=n(476),c=n(3025),l=function(e){var t=e.itemData;return r("div",{className:"mail-SuggestItem-Rocks mail-SuggestItem-Rocks-Contact"},void 0,r("div",{className:"mail-SuggestItem-Rocks-Icon mail-SuggestItem-Rocks-Icon_align_middle"},void 0,r(c.a,{email:t.email,name:t.display_name,className:"mail-IconContainer"})),r("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,r(u.a,{htmlText:t.display_name_highlighted,cls:"mail-SuggestItem-Rocks-Contact-Name"}),r(u.a,{htmlText:t.email_highlighted,cls:"mail-SuggestItem-Rocks-Contact-Email"})))};l.propTypes={itemData:s.a.object.isRequired},t.a=l},function(e,t,n){"use strict";var r=n(3026);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return _}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(840),_=(function(e){function t(){return i(this,t),s(this,c(t).apply(this,arguments))}return l(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.cls,n=e.email,r=e.name,i={email:n,name:r||n,size:30,href:!1,mode:"MessageSnippet-Item_userpic"};return f("span",{className:t,dangerouslySetInnerHTML:{__html:Object(b.a)(i)}})}}]),t})(h.a.PureComponent);_.propTypes={email:v.a.string.isRequired,name:v.a.string,cls:v.a.string}},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(348)),s=n.n(a),u=n(476),c=n(368),l=n(391),d=r("div",{className:"mail-SuggestItem-Rocks-Icon"},void 0,r(c.default,{id:"mail--SearchSuggest-Mail",cls:"mail-IconContainer"})),f=function(e){var t=e.itemData;return r("div",{className:"mail-SuggestItem-Rocks"},void 0,d,r("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,r("div",{className:"mail-SuggestItem-Rocks-Row"},void 0,r(u.a,{htmlText:t.display_name_highlighted||t.display_name,cls:"mail-SuggestItem-Rocks-Mail-From"}),r("span",{className:"mail-SuggestItem-Rocks-Date"},void 0,Object(l.getMessagesListDate)(t.received_date))),r("div",{className:"mail-SuggestItem-Rocks-Row"},void 0,r(u.a,{htmlText:t.show_text_highlighted,cls:"mail-SuggestItem-Rocks-Mail-Subject"}))))};f.propTypes={itemData:s.a.object.isRequired},t.a=f},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return M}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(391),_=n(1219),y=n(368),S=n(476),w={normalText:{font:"13px Arial, sans-serif",width:180},bigText:{font:"15px Arial, sans-serif",width:210}},O=f("div",{className:"mail-SuggestItem-Rocks-Icon"},void 0,f(y.default,{id:"mail--SearchSuggest-Attach",cls:"mail-IconContainer"})),M=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n._renderAttach=function(e){var t=n.props.isBiggerText,r=t?w.bigText:w.normalText,i=e.fileext&&"."===e.fileext[0]?e.fileext.substr(1):e.fileext;return f("li",{className:"mail-SuggestItem-Rocks-Attach-FilesItem mail-File_type_".concat(i),tabIndex:"0"},e.hid,f("span",{className:"mail-SuggestItem-Rocks-Attach-Extension mail-File-Extension"},void 0,i),f(_.default,{text:e.filename,className:"mail-SuggestItem-Rocks-Attach-FileName",font:r.font,width:r.width}))},n}return l(t,e),a(t,[{key:"_maybeRenderMoreAttachesButton",value:function(e){return e.length<3?null:f("li",{className:"mail-SuggestItem-Rocks-Attach-Total"},void 0,i18n("%Search_Suggest_TotalAttaches",e.length))}},{key:"render",value:function(){var e=this.props.itemData;return f("div",{className:"mail-SuggestItem-Rocks"},void 0,O,f("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,f("div",{className:"mail-SuggestItem-Rocks-Row"},void 0,f(S.a,{htmlText:e.display_name_highlighted||e.display_name,cls:"mail-SuggestItem-Rocks-Attach-From"}),f(S.a,{htmlText:e.show_text_highlighted,cls:"mail-SuggestItem-Rocks-Attach-Subject"}),f("span",{className:"mail-SuggestItem-Rocks-Date"},void 0,Object(b.getMessagesListDate)(e.received_date))),f("div",{className:"mail-SuggestItem-Rocks-Row"},void 0,f("ul",{className:"mail-SuggestItem-Rocks-Attach-Files"},void 0,e.attachments.slice(0,2).map(this._renderAttach),this._maybeRenderMoreAttachesButton(e.attachments)))))}}]),t})(h.a.Component);M.propTypes={isBiggerText:v.a.bool.isRequired,itemData:v.a.object.isRequired}},,,function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(348)),s=n.n(a),u=n(476),c=n(368),l=r("div",{className:"mail-SuggestItem-Rocks-Icon mail-SuggestItem-Rocks-Icon_align_middle"},void 0,r(c.default,{id:"mail--SearchSuggest-Folder",cls:"mail-IconContainer"})),d=function(e){var t=e.itemData;return r("div",{className:"mail-SuggestItem-Rocks"},void 0,l,r("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,r(u.a,{htmlText:t.show_text_highlighted})))};d.propTypes={itemData:s.a.object.isRequired},t.a=d},function(e,t,n){"use strict";function r(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function i(e){var t=e.itemData;return r("div",{className:"mail-SuggestItem-Rocks mail-SuggestItem-Rocks-AllResults"},void 0,p,r("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,r(c.a,{htmlText:i18n("%Search_Suggest_ShowAllResults",'<span class="mail-SuggestItem-Rocks__search-term">'.concat(f.a.escape(t.search_text),"</span>"))})))}var o,a=n(137),s=(n.n(a),n(348)),u=n.n(s),c=n(476),l=n(368),d=n(138),f=n.n(d),p=r("div",{className:"mail-SuggestItem-Rocks-Icon mail-SuggestItem-Rocks-Icon_align_middle"},void 0,r(l.default,{id:"mail--Header-Search",cls:"mail-IconContainer"}));i.propTypes={itemData:u.a.object.isRequired},t.a=i},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(348)),s=n.n(a),u=n(476),c=n(368),l=r("div",{className:"mail-SuggestItem-Rocks-Icon mail-SuggestItem-Rocks-Icon_align_middle"},void 0,r(c.default,{id:"mail--SearchSuggest-Mail",cls:"mail-IconContainer"})),d=function(e){var t=e.itemData;return r("div",{className:"mail-SuggestItem-Rocks mail-SuggestItem-Rocks-Subject"},void 0,l,r("div",{className:"mail-SuggestItem-Rocks-Content"},void 0,r(u.a,{htmlText:t.show_text_highlighted})))};t.a=d,d.propTypes={itemData:s.a.object.isRequired}},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(348)),s=n.n(a),u=n(476),c=n(368),l=r(c.default,{id:"mail--SearchSuggest-Ql",cls:"mail-IconContainer"}),d=function(e){var t=e.itemData;return r("div",{className:"mail-SuggestItem"},void 0,l,r(u.a,{htmlText:t.show_text_highlighted||t.show_text}))};d.propTypes={itemData:s.a.object.isRequired},t.a=d},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){v||(v="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:v,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return C}));var p,g,h,m,v,b=n(137),_=n.n(b),y=n(348),S=n.n(y),w=n(476),O=n(368),M=n(353),D=n(967),T=n(507),x=n(884),C=(p=Object(M.inject)("labelsStore"))(g=Object(M.observer)((m=h=(function(e){function t(){return i(this,t),s(this,c(t).apply(this,arguments))}return l(t,e),a(t,[{key:"_getLabelColor",value:function(){var e=this.props,t=e.labelsStore,n=e.itemData,r=t.getLabelById(n.lid);return r?"#"+r.data.color:(Object(T.logError)({errorType:"search-suggest-unknown-label",lid:n.lid,suggestItemData:n}),x.e)}},{key:"render",value:function(){var e=this.props.itemData;return f("div",{className:"mail-SuggestItem"},void 0,f(O.default,{id:"mail--SearchSuggest-Label",color:this._getLabelColor(),cls:"mail-IconContainer"}),f(w.a,{htmlText:e.show_text_highlighted}))}}]),t})(_.a.PureComponent),h.propTypes={labelsStore:S.a.instanceOf(D.a).isRequired,itemData:S.a.object.isRequired},g=m))||g)||g},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(348)),s=n.n(a),u=n(476),c=n(368),l=r(c.default,{id:"mail--SearchSuggest-Important",cls:"mail-IconContainer"}),d=function(e){var t=e.itemData;return r("div",{className:"mail-SuggestItem"},void 0,l,r(u.a,{htmlText:t.show_text_highlighted}))};d.propTypes={itemData:s.a.object.isRequired},t.a=d},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(348)),s=n.n(a),u=n(476),c=n(368),l=r(c.default,{id:"mail--SearchSuggest-Unread",cls:"mail-IconContainer"}),d=function(e){var t=e.itemData;return r("div",{className:"mail-SuggestItem"},void 0,l,r(u.a,{htmlText:t.show_text_highlighted}))};d.propTypes={itemData:s.a.object.isRequired},t.a=d},function(e,t){},function(e,t){},,function(e,t,n){"use strict";var r=n(3042);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){_||(_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:_,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function p(e,t,n,r,i){var o={};return Object.keys(r).forEach((function(e){o[e]=r[e]})),o.enumerable=!!o.enumerable,o.configurable=!!o.configurable,("value"in o||o.initializer)&&(o.writable=!0),o=n.slice().reverse().reduce((function(n,r){return r(e,t,n)||n}),o),i&&void 0!==o.initializer&&(o.value=o.initializer?o.initializer.call(i):void 0,o.initializer=void 0),void 0===o.initializer&&(Object.defineProperty(e,t,o),o=null),o}var g,h,m,v,b,_,y=n(137),S=n.n(y),w=n(348),O=n.n(w),M=n(1753),D=n(138),T=n.n(D),x=n(356),C=n(646),E=n(884),P=n(1216),k=n(351),j=n(353),A=n(395),I=n.n(A),R=n(3043),B=(n.n(R),n(841)),F=n(573),L=n(639),N=n(965),H=n(729),U=f(P.a,{}),W=(g=Object(j.inject)("routerService","settingsService","searchLogService","contactSuggestStore","routerStore"))(h=Object(j.observer)((b=v=(function(e){function t(e,n){var r;return i(this,t),r=s(this,u(t).call(this,e,n)),r._disposer=new I.a,r.componentDidMount=function(){var e=r.props.routerStore;r._disposer.add(c(r),[Object(k.reaction)((function(){return e.currentPage.params.q}),(function(){var t=e.currentPage.params.q||"";r.state.text!==t&&(r.setState({text:t}),r._suggest&&t&&r._suggest.unfold())}),{fireImmediately:!0})])},r.componentWillUnmount=function(){r._disposer.dispose(c(r))},r.state={},r._onFoldedChanged=r._onFoldedChanged.bind(c(r)),r._onTextChange=r._onTextChange.bind(c(r)),r._clearClick=r._clearClick.bind(c(r)),r._onSubmit=r._onSubmit.bind(c(r)),r._onTextChangeWithDelay=T.a.debounce(r._onTextChangeWithDelay,300),r._onActiveChange=r._onActiveChange.bind(c(r)),r._countOpen=r._countOpen.bind(c(r)),r._countCloseClick=r._countCloseClick.bind(c(r)),r}return l(t,e),a(t,[{key:"_onFoldedChanged",value:function(e){Object(x.toggleSearchAppMode)(!e),this.props.contactSuggestStore.isFolded=e}},{key:"_onTextChange",value:function(e){this.setState({text:e}),this._onTextChangeWithDelay(e)}},{key:"_clearClick",value:function(){this.setState({text:""}),this.props.routerService.navigateToPage("abook",{q:""})}},{key:"_countCloseClick",value:function(){this.props.searchLogService.countSearchContactsSuggest(["close"])}},{key:"_onSubmit",value:function(){this.props.routerService.navigateToPage("abook",{q:this.state.text})}},{key:"_onActiveChange",value:function(e){e&&!this.state.text&&this._countOpen(),this._onSubmit()}},{key:"_onTextChangeWithDelay",value:function(e){var t=this.props.routerService;e&&(this.props.searchLogService.countSearchContactsSuggest(["search"]),t.navigateToPage("abook",{q:e},{shouldAddPageParams:!0}))}},{key:"_countOpen",value:function(){this.props.searchLogService.countSearchContactsSuggest(["open"])}},{key:"render",value:function(){var e=this,t=this.props.settingsService,n=i18n("%Toolbar_Mobile_SearchMessages");return f("div",{className:"mail-Search mail-ContactsSuggest js-mail-search"},void 0,f("div",{className:"mail-SearchContainer"},void 0,S.a.createElement(M.a,{ref:function(t){e._suggest=t},suggestQuery:this.state.text,isMobile:!1,isNarrow:!0,isCompact:t.isCompactHeaderMode,toneDefault:"mail-suggest-themed",maxLength:E.d,clsActivator:"mail-GhostButton",runsInIE:C.default.isIE(),iconPosition:"right",keepExpanded:Boolean(this.state.text),placeholderDefault:n,placeholderCustom:n,suggestItems:[],showClose:!0,onActiveChange:this._onActiveChange,onTextChange:this._onTextChange,onClearClick:this._clearClick,onCloseClick:this._countCloseClick,onFoldedChanged:this._onFoldedChanged,onSubmit:this._onSubmit,searchButtonText:i18n("%ServiceTabs__Search_Button"),renderItem:function(){},getShowText:function(){},handleItemSelect:function(){},removeSearchBubbleTitle:""}),U))}}]),t})(S.a.Component),v.propTypes={routerService:O.a.instanceOf(B.a).isRequired,settingsService:O.a.instanceOf(F.a).isRequired,searchLogService:O.a.instanceOf(L.a).isRequired,contactSuggestStore:O.a.instanceOf(N.a).isRequired,routerStore:O.a.instanceOf(H.a).isRequired},m=b,p(m.prototype,"_onFoldedChanged",[k.action],Object.getOwnPropertyDescriptor(m.prototype,"_onFoldedChanged"),m.prototype),p(m.prototype,"_onTextChange",[k.action],Object.getOwnPropertyDescriptor(m.prototype,"_onTextChange"),m.prototype),p(m.prototype,"_clearClick",[k.action],Object.getOwnPropertyDescriptor(m.prototype,"_clearClick"),m.prototype),h=m))||h)||h;t.a=W},function(e,t){},function(e,t,n){"use strict";var r=n(3045),i={white:"dark",grey:"light",black:"light"};e.exports=function(e,t){return i[r(e,t)]}},function(e,t,n){"use strict";var r=[function(e,t){var n=t.scope;return"colorful"===e&&"white"===n},function(e){return"foxes"===e}];e.exports=function(e,t){return!t||t.page_is_dark?"white":r.some((function(n){return n(e,t)}))?"grey":"black"}},function(e,t,n){"use strict";var r=[function(e,t){var n=t.scope;return"colorful"===e&&"grass_green"===n},function(e,t){var n=t.scope;return"colorful"===e&&"turquoise"===n},function(e,t){var n=t.scope;return"colorful"===e&&"orange"===n},function(e,t){var n=t.scope;return"colorful"===e&&"red"===n},function(e,t){var n=t.scope;return"colorful"===e&&"teal-orange"===n},function(e,t){var n=t.scope;return"colorful"===e&&"pink-navy-sand"===n},function(e){return"owls"===e},function(e){return"weather"===e},function(e,t){var n=t.skin;return"newspaper"===e&&"1"===String(n)}];e.exports=function(e,t){if(!t||r.some((function(n){return n(e,t)})))return"gray"}},function(e,t,n){"use strict";function r(e){var t=document.querySelector(".legouser__popup");if(t){var n=new o.a({target:t,className:"light-popup_visible_yes",onAdd:Object(i.action)((function(){return e.isDropdownOpen=!0})),onRemove:Object(i.action)((function(){return e.isDropdownOpen=!1}))});return n.disconnect.bind(n)}}t.a=r;var i=n(351),o=n(1511)},,,function(e,t){e.exports={ndaStamp:"PSHeader__ndaStamp--23rTc"}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t,n){return t&&u(e.prototype,t),n&&u(e,n),e}function l(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&g(e,t)}function g(e,t){return(g=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function h(e,t,n,r){_||(_="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:_,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return A}));var m,v,b,_,y=n(137),S=n.n(y),w=n(348),O=n.n(w),M=n(353),D=n(3052),T=n.n(D),x=n(370),C=n(426),E=n(641),P=n(3065),k=n(3104),j=(n.n(k),function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return(e=Jane).c.apply(e,["Нотификации","Функциональные нотификации"].concat(n))}),A=Object(M.observer)((b=v=(function(e){function t(){return s(this,t),l(this,f(t).apply(this,arguments))}return p(t,e),c(t,[{key:"render",value:function(){var e=this.props.statuslineState;return S.a.createElement(S.a.Fragment,null,this.renderTooltip(e))}},{key:"renderTooltip",value:function(e){var t=this.props,n=t.anchor,r=t.themesStore,i=e.isVisible,o=e.onClick,a=e.onClose,s=e.status,u=e.startAutoClose,c=e.stopAutoClose,l=e.onCloseSilently,d=r.isContentDark,f=d?"normal":"yellow",p=d?"transparent-black":"transparent-white",g={anchor:n,autoclosable:!1,cls:"mail-Statusline",mainOffset:30,onClick:o,onClose:a,onMouseOver:c,onMouseLeave:u,size:s.size,tail:!1,theme:"promo",tone:d?"dark":"default",to:"top",visible:i};return s.isCloseButtonVisible&&(g.cls+=" with-close"),S.a.createElement(x.default,g,s.isCloseButtonVisible&&h(x.default.Close,{onClick:a}),h("div",{onClick:o},void 0,this.getContent(e.status,{isTooltipDark:d,linkTheme:f,progressLinkTheme:p,sendMetric:j.bind(null,s.name),subscribeShowCallback:function(t){e.addShowCallback(t)},unsubscribeShowCallback:function(t){e.removeShowCallback(t)},onCloseSilently:l})))}},{key:"getContent",value:function(e,t){var n=P[this.toClassName(e.name)];return n?S.a.createElement(n,o({},e.params,{},t)):e.build?e.build(t):e.text?h(x.default.Description,{},void 0,e.text):null}},{key:"toClassName",value:function(e){var t=T()(e);return t.charAt(0).toUpperCase()+t.slice(1)}}]),t})(S.a.Component),v.propTypes={anchor:O.a.instanceOf(Element).isRequired,statuslineState:O.a.instanceOf(E.default).isRequired,themesStore:O.a.instanceOf(C.ThemesStore).isRequired},m=b))||m},,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3066);n.d(t,"AddYandexMailMaillistFail",(function(){return r.a}));var i=n(3069);n.d(t,"AddYandexMailMaillistSuccess",(function(){return i.a}));var o=n(3070);n.d(t,"ApplyFilter",(function(){return o.a}));var a=n(3071);n.d(t,"BeautifulEmailConnectedPromo",(function(){return a.a}));var s=n(3073);n.d(t,"BeforeSendingMessage",(function(){return s.a}));var u=n(3074);n.d(t,"CancelSendFailed",(function(){return u.a}));var c=n(3075);n.d(t,"CantLoadData",(function(){return c.a}));var l=n(3076);n.d(t,"ConfirmMops",(function(){return l.a}));var d=n(3077);n.d(t,"ConfirmSpam",(function(){return d.a}));var f=n(3078);n.d(t,"ConfirmNotSpam",(function(){return f.a}));var p=n(3079);n.d(t,"ConfirmSpamOrDelete",(function(){return p.a}));var g=n(3080);n.d(t,"ConfirmUnsubscribe",(function(){return g.a}));var h=n(3081);n.d(t,"CreateFilter",(function(){return h.a}));var m=n(3082);n.d(t,"DraftRemoved",(function(){return m.a}));var v=n(3083);n.d(t,"EmailAddedToBlacklist",(function(){return v.a}));var b=n(3084);n.d(t,"FilterCreated",(function(){return b.a}));var _=n(3085);n.d(t,"MaxSignatureCountLimitExceeded",(function(){return _.a}));var y=n(3086);n.d(t,"MaxSignatureLengthLimitExceeded",(function(){return y.a}));var S=n(3087);n.d(t,"MessageNotSpam",(function(){return S.a}));var w=n(3088);n.d(t,"MessageSent",(function(){return w.a}));var O=n(3089);n.d(t,"MessageSentCancelling",(function(){return O.a}));var M=n(3090);n.d(t,"MessageSentDelayed",(function(){return M.a}));var D=n(3091);n.d(t,"RecipientsLimitExceeded",(function(){return D.a}));var T=n(3092);n.d(t,"SendingMessage",(function(){return T.a}));var x=n(3093);n.d(t,"SettingsSaved",(function(){return x.a}));var C=n(3094);n.d(t,"SignatureAdded",(function(){return C.a}));var E=n(3095);n.d(t,"SignatureDeleted",(function(){return E.a}));var P=n(3096);n.d(t,"SignatureUpdated",(function(){return P.a}));var k=n(3097);n.d(t,"TemplateCreated",(function(){return k.a}));var j=n(3098);n.d(t,"TemplateNotFound",(function(){return j.a}));var A=n(3099);n.d(t,"TemplateUpdated",(function(){return A.a}));var I=n(3100);n.d(t,"TimelineLoadingFailed",(function(){return I.a}));var R=n(3101);n.d(t,"TooBigAttachment",(function(){return R.a}));var B=n(3102);n.d(t,"UnsubscribeResult",(function(){return B.a}));var F=n(3103);n.d(t,"UndoNotSpam",(function(){return F.a}))},function(e,t,n){"use strict";var r=n(3067);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return M}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(370),_=n(488),y=n(352),S=n(3068),w=(n.n(S),f(y.default,{loc:"statusline/action_repeat"})),O=f("div",{},void 0,f(y.default,{loc:"statusline/add_yandex_mail_maillist_fail"})),M=(function(e){function t(){return i(this,t),s(this,c(t).apply(this,arguments))}return l(t,e),a(t,[{key:"renderRetryButton",value:function(){var e=this.props,t=e.onRepeat,n=e.progressLinkTheme;return e.showRetryButton?f(b.default.Buttons,{},"buttons",f(_.a,{onClick:t,theme:n},void 0,w)):null}},{key:"render",value:function(){return f("div",{className:"mail-Statusline-AddYandexMailMaillistFail"},void 0,f(b.default.DescriptionWithIcon,{icon:"error"},void 0,O,this.renderRetryButton()))}}]),t})(h.a.Component);M.propTypes={onRepeat:v.a.func.isRequired,progressLinkTheme:v.a.string.isRequired,showRetryButton:v.a.bool.isRequired}},function(e,t){},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(370)),s=n(413),u=n(352),c=r(a.default.Description,{},void 0,r(s.default,{name:"AddYandexMailMaillistSuccess",status:"done"},void 0,r(s.default.Message,{},void 0,r(u.default,{loc:"statusline/add_yandex_mail_maillist_success"})))),l=function(){return c};t.a=l},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return _}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(370),_=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n.onEditButtonClick=function(){var e=n.props.filid;ns.action.run("message.filter-move.edit",{filid:e})},n.onMoveButtonClick=function(){var e=n.props.filid;ns.action.run("message.filter-move.apply",{filid:e})},n}return l(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.moveButtonText,r=e.editButtonText;return f("div",{},void 0,f(b.default.Description,{},"description",t),f(b.default.Buttons,{},"buttons",f(b.default.Buttons.Clear,{onClick:this.onEditButtonClick},void 0,r),f(b.default.Buttons.Action,{onClick:this.onMoveButtonClick},void 0,n)))}}]),t})(h.a.Component);_.propTypes={message:v.a.string.isRequired,filid:v.a.string.isRequired,moveButtonText:v.a.string.isRequired,editButtonText:v.a.string.isRequired}},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(348)),s=n.n(a),u=n(370),c=n(352),l=n(3072),d=(n.n(l),{Block:"BeautifulEmailConnectedPromo"}),f=r("br",{}),p=r(c.default,{loc:"statusline/beautiful-email-connected-promo-description"}),g=r(c.default,{loc:"statusline/beautiful-email-connected-promo-cancel-button-text"}),h=r(c.default,{loc:"statusline/beautiful-email-connected-promo-action-button-text"}),m=function(e){return r("div",{className:d.Block},void 0,r(u.default.Description,{},"description",r("b",{},void 0,r(c.default,{loc:"statusline/beautiful-email-connected-promo-title"},void 0,r("span",{"data-ref":"email"},void 0,e.domainAlias))),f,p),r(u.default.Buttons,{},"buttons",r(u.default.Buttons.Clear,{onClick:e.onClose},void 0,g),r(u.default.Buttons.Action,{onClick:e.onAction},void 0,h)))};t.a=m,m.propTypes={domainAlias:s.a.string,onAction:s.a.func,onClose:s.a.func}},function(e,t){},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(370)),s=n(413),u=n(352),c=r(a.default.Description,{},void 0,r(s.default,{status:"active"},void 0,r(s.default.Message,{},void 0,r(u.default,{loc:"statusline/before_sending_message"})))),l=function(){return c};t.a=l},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(370)),s=n(352),u=r(a.default.DescriptionWithIcon,{icon:"error"},void 0,r(s.default,{loc:"statusline/cancel_send_delayed_failed"})),c=function(){return u};t.a=c},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(370)),s=n(352),u=r(a.default.DescriptionWithIcon,{icon:"error"},void 0,r(s.default,{loc:"statusline/cant_load_data"},void 0,r("b",{"data-ref":"bold"}))),c=function(){return u};t.a=c},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(348)),s=n.n(a),u=n(370),c=function(e){var t=e.title,n=e.message,i=e.actionButtonText,o=e.cancelButtonText;return r("div",{},void 0,r(u.default.Description,{},"description",r("b",{},void 0,t)," ",n),r(u.default.Buttons,{},"buttons",r(u.default.Buttons.Clear,{cls:"js-cancel-mops"},void 0,o),r(u.default.Buttons.Action,{cls:"js-confirm-mops"},void 0,i)))};t.a=c,c.propTypes={title:s.a.string.isRequired,message:s.a.string.isRequired,actionButtonText:s.a.string.isRequired,cancelButtonText:s.a.string.isRequired}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return O}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(370),_=n(352),y=f("br",{}),S=f(_.default,{loc:"statusline/confirm_spam_cancel"}),w=f(_.default,{loc:"statusline/confirm_spam_action"}),O=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n.onCancel=function(){n.onClose(n.props.onCancel,'Клик в "Нет, положить в Спам"')},n.onAction=function(){n.onClose(n.props.onAction,'Клик в "Да, отключить"')},n}return l(t,e),a(t,[{key:"onClose",value:function(e,t){e&&e(),this.props.onCloseSilently(),this.props.sendMetric("Клик",t)}},{key:"render",value:function(){var e=this.props.email,t=e?"statusline/confirm_spam_title":"statusline/confirm_spam_title_plural",n=e?"statusline/confirm_spam_desc":"statusline/confirm_spam_desc_plural";return f("div",{},void 0,f(b.default.Description,{},"description",f("b",{},void 0,f(_.default,{loc:t})),y,f(_.default,{loc:n,params:{email:e}})),f(b.default.Buttons,{},"buttons",f(b.default.Buttons.Clear,{onClick:this.onCancel},void 0,S),f(b.default.Buttons.Action,{onClick:this.onAction},void 0,w)))}}]),t})(h.a.Component);O.propTypes={email:v.a.string,onAction:v.a.func,onCancel:v.a.func,sendMetric:v.a.func.isRequired,onCloseSilently:v.a.func.isRequired}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return O}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(370),_=n(352),y=f(b.default.Description,{},"description",f("b",{},void 0,f(_.default,{loc:"message-viewer-env/spamModalTitle"})),f("br",{}),f(_.default,{loc:"message-viewer-env/spamModalMessage"})),S=f(_.default,{loc:"message-viewer-env/spamModalCancelButton"}),w=f(_.default,{loc:"message-viewer-env/spamModalButton"}),O=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n.onCancel=function(){n.onClose(n.props.onCancel,'Клик в "Отмена"')},n.onAction=function(){n.onClose(n.props.onAction,'Клик в "Точно не спам"')},n}return l(t,e),a(t,[{key:"onClose",value:function(e,t){e&&e(),this.props.onCloseSilently(),this.props.sendMetric("Клик",t)}},{key:"render",value:function(){return f("div",{},void 0,y,f(b.default.Buttons,{},"buttons",f(b.default.Buttons.Clear,{onClick:this.onCancel},void 0,S),f(b.default.Buttons.Action,{onClick:this.onAction},void 0,w)))}}]),t})(h.a.Component);O.propTypes={onAction:v.a.func,onCancel:v.a.func,sendMetric:v.a.func.isRequired,onCloseSilently:v.a.func.isRequired}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return M}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(370),_=n(352),y=f("b",{},void 0,f(_.default,{loc:"statusline/confirm_false_spam_title"})),S=f("br",{}),w=f(_.default,{loc:"statusline/confirm_false_spam_cancel"}),O=f(_.default,{loc:"statusline/confirm_false_spam_action"}),M=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n.onCancel=function(){n.onClose(n.props.onCancel,'Клик в "Нет, это спам"')},n.onAction=function(){n.onClose(n.props.onAction,'Клик в "Удалить"')},n}return l(t,e),a(t,[{key:"onClose",value:function(e,t){e&&e(),this.props.onCloseSilently(),this.props.sendMetric("Клик",t)}},{key:"render",value:function(){var e=this.props.email;return f("div",{},void 0,f(b.default.Description,{},"description",y,S,f(_.default,{loc:"statusline/confirm_false_spam_desc",params:{email:e}})),f(b.default.Buttons,{},"buttons",f(b.default.Buttons.Clear,{onClick:this.onCancel},void 0,w),f(b.default.Buttons.Action,{onClick:this.onAction},void 0,O)))}}]),t})(h.a.Component);M.propTypes={email:v.a.string,onAction:v.a.func,onCancel:v.a.func,sendMetric:v.a.func.isRequired,onCloseSilently:v.a.func.isRequired}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return M}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(370),_=n(352),y=f("br",{}),S=f(_.default,{loc:"statusline/confirm_unsubscribe_description"}),w=f(_.default,{loc:"statusline/confirm_unsubscribe_cancel"}),O=f(_.default,{loc:"statusline/confirm_unsubscribe_action"}),M=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n.onCancel=function(){var e=n.props,t=e.onCancel,r=e.sendMetric;t&&t(),r("Клик",'Клик в "Не сейчас"')},n.onAction=function(){var e=n.props,t=e.onAction,r=e.sendMetric;t&&t(),r("Клик",'Клик в "Да, удалять"')},n}return l(t,e),a(t,[{key:"render",value:function(){var e=this.props.email;return f("div",{},void 0,f(b.default.Description,{},"description",f("b",{},void 0,f(_.default,{loc:"statusline/confirm_unsubscribe_title",params:{email:e}})),y,S),f(b.default.Buttons,{},"buttons",f(b.default.Buttons.Clear,{onClick:this.onCancel},void 0,w),f(b.default.Buttons.Action,{onClick:this.onAction},void 0,O)))}}]),t})(h.a.Component);M.propTypes={email:v.a.string.isRequired,onAction:v.a.func,onCancel:v.a.func,sendMetric:v.a.func.isRequired}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return _}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(370),_=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n.onCancelButtonClick=function(){ns.action.run("message.filter-move.disable")},n.onMoveButtonClick=function(){var e=n.props,t=e.mid,r=e.fid;ns.action.run("message.filter-move.create",{mid:t,fid:r})},n}return l(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.message,n=e.moveButtonText,r=e.cancelButtonText;return f("div",{},void 0,f(b.default.Description,{},"description",t),f(b.default.Buttons,{},"buttons",f(b.default.Buttons.Clear,{onClick:this.onCancelButtonClick},void 0,r),f(b.default.Buttons.Action,{onClick:this.onMoveButtonClick},void 0,n)))}}]),t})(h.a.Component);_.propTypes={message:v.a.string.isRequired,mid:v.a.string.isRequired,fid:v.a.string.isRequired,moveButtonText:v.a.string.isRequired,cancelButtonText:v.a.string.isRequired}},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(370)),s=n(413),u=n(761),c=n(352),l=r(s.default.Message,{},void 0,r(c.default,{loc:"statusline/draft_removed"})),d=function(e){return r(a.default.Description,{},void 0,r(s.default,{status:"done"},void 0,l,e.children))};t.a=Object(u.a)(d)},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(348)),s=n.n(a),u=n(488),c=n(370),l=n(352),d=function(e){var t=e.email,n=e.linkTheme;return r(c.default.Description,{},void 0,r(l.default,{loc:"statusline/email_added_to_blacklist",params:{email:t}},void 0,r(u.a,{theme:n,"data-ref":"link",url:"#setup/filters"})))};t.a=d,d.propTypes={email:s.a.string.isRequired,linkTheme:s.a.string.isRequired}},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var o,a=n(137),s=n.n(a),u=n(348),c=n.n(u),l=n(488),d=n(370),f=n(352),p=function(e){var t=e.linkTheme,n=e.url;return i(d.default.Description,{},void 0,i(f.default,{loc:"statusline/filter_created"},void 0,s.a.createElement(l.a,r({"data-ref":"link"},{theme:t,url:n}))))};t.a=p,p.propTypes={linkTheme:c.a.string.isRequired,url:c.a.string.isRequired}},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(370)),s=n(352),u=r(a.default.Description,{},void 0,r(s.default,{loc:"statusline/max_signature_count_limit_exceeded"})),c=function(){return u};t.a=c},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(370)),s=n(352),u=r(a.default.Description,{},void 0,r(s.default,{loc:"statusline/max_signature_length_limit_exceeded"})),c=function(){return u};t.a=c},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(348)),s=n.n(a),u=n(488),c=n(370),l=n(352),d=function(e){var t=e.count,n=e.linkTheme;return r(c.default.Description,{},void 0,r(l.default,{loc:"statusline/message_not_spam",params:{count:t}},void 0,r(u.a,{theme:n,"data-ref":"link",url:"#inbox"})))};t.a=d,d.propTypes={count:s.a.number.isRequired,linkTheme:s.a.string.isRequired}},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(370)),s=n(413),u=n(761),c=n(352),l=r(s.default,{name:"MessageSending",status:"active"},void 0,r(s.default.Message,{},void 0,r(c.default,{loc:"statusline/sending_message"}))),d=r(s.default.Message,{},void 0,r(c.default,{loc:"statusline/message_sent"})),f=function(e){return r(a.default.Description,{},void 0,l,r(s.default,{name:"MessageSent",status:"done"},void 0,d,e.children))};t.a=Object(u.a)(f)},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(370)),s=n(413),u=n(352),c=r(a.default.Description,{},void 0,r(s.default,{status:"active"},void 0,r(s.default.Message,{},void 0,r(u.default,{loc:"statusline/message_sent_cancelling"})))),l=function(){return c};t.a=l},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(348)),s=n.n(a),u=n(370),c=n(413),l=n(761),d=n(391),f=n(352),p=r(c.default,{name:"MessageSending",status:"active"},void 0,r(c.default.Message,{},void 0,r(f.default,{loc:"statusline/sending_message"}))),g=function(e){var t=e.sendTime,n={date:Object(d.getDateInHumanFormat)(t),time:Object(d.getTimeInHumanFormat)(t)};return r(u.default.Description,{},void 0,p,r(c.default,{name:"MessageSent",status:"done"},void 0,r(c.default.Message,{},void 0,r(f.default,{loc:"statusline/message_sent_delayed",params:n})),e.children))};g.propTypes={sendTime:s.a.instanceOf(Date).isRequired},t.a=Object(l.a)(g)},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(348)),s=n.n(a),u=n(370),c=n(352),l=function(e){var t=e.maxCount;return r(u.default.Description,{},void 0,r(c.default,{loc:"statusline/recipients_limit_exceeded",params:{maxCount:t}}))};t.a=l,l.propTypes={maxCount:s.a.number.isRequired}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return O}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(370),_=n(413),y=n(352),S=f(y.default,{loc:"statusline/action_cancel"}),w=f(_.default.Message,{},void 0,f(y.default,{loc:"statusline/sending_message"})),O=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n.onCancel=function(){var e=n.props,t=e.onCancel,r=e.sendMetric;t(),r("Клик","Отменить")},n}return l(t,e),a(t,[{key:"render",value:function(){var e,t=this.props,n=t.linkTheme,r=t.onCancel;return r&&(e=f(_.default.Action,{theme:n,onClick:this.onCancel},void 0,S)),f(b.default.Description,{},void 0,f(_.default,{status:"active"},void 0,w,e))}}]),t})(h.a.Component);O.propTypes={linkTheme:v.a.string.isRequired,sendMetric:v.a.func.isRequired,onCancel:v.a.func}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return O}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(370),_=n(413),y=n(352),S=f(_.default.Message,{},void 0,f(y.default,{loc:"statusline/settings_saved"})),w=f(y.default,{loc:"statusline/go_to_inbox"}),O=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n.onLinkClick=function(){n.props.sendMetric("Клик",'Клик в "Перейти во входящие"')},n}return l(t,e),a(t,[{key:"render",value:function(){var e=this.props.progressLinkTheme;return f(b.default.Description,{},void 0,f(_.default,{status:"done"},void 0,S,f(_.default.Action,{theme:e,url:"#inbox",onClick:this.onLinkClick},void 0,w)))}}]),t})(h.a.Component);O.propTypes={progressLinkTheme:v.a.string.isRequired,sendMetric:v.a.func.isRequired}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return O}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(370),_=n(413),y=n(352),S=f(_.default.Message,{},void 0,f(y.default,{loc:"statusline/signature_added"})),w=f(y.default,{loc:"statusline/go_to_inbox"}),O=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n.onLinkClick=function(){n.props.sendMetric("Клик",'Клик в "Перейти во входящие"')},n}return l(t,e),a(t,[{key:"render",value:function(){var e=this.props.progressLinkTheme;return f(b.default.Description,{},void 0,f(_.default,{status:"done"},void 0,S,f(_.default.Action,{theme:e,url:"#inbox",onClick:this.onLinkClick},void 0,w)))}}]),t})(h.a.Component);O.propTypes={progressLinkTheme:v.a.string.isRequired,sendMetric:v.a.func.isRequired}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return O}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(370),_=n(413),y=n(352),S=f(_.default.Message,{},void 0,f(y.default,{loc:"statusline/signature_deleted"})),w=f(y.default,{loc:"statusline/go_to_inbox"}),O=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n.onLinkClick=function(){n.props.sendMetric("Клик",'Клик в "Перейти во входящие"')},n}return l(t,e),a(t,[{key:"render",value:function(){var e=this.props.progressLinkTheme;return f(b.default.Description,{},void 0,f(_.default,{status:"done"},void 0,S,f(_.default.Action,{theme:e,url:"#inbox",onClick:this.onLinkClick},void 0,w)))}}]),t})(h.a.Component);O.propTypes={progressLinkTheme:v.a.string.isRequired,sendMetric:v.a.func.isRequired}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return O}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(370),_=n(413),y=n(352),S=f(_.default.Message,{},void 0,f(y.default,{loc:"statusline/signature_updated"})),w=f(y.default,{loc:"statusline/go_to_inbox"}),O=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n.onLinkClick=function(){n.props.sendMetric("Клик",'Клик в "Перейти во входящие"')},n}return l(t,e),a(t,[{key:"render",value:function(){var e=this.props.progressLinkTheme;return f(b.default.Description,{},void 0,f(_.default,{status:"done"},void 0,S,f(_.default.Action,{theme:e,url:"#inbox",onClick:this.onLinkClick},void 0,w)))}}]),t})(h.a.Component);O.propTypes={progressLinkTheme:v.a.string.isRequired,sendMetric:v.a.func.isRequired}},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(370)),s=n(413),u=n(761),c=n(352),l=r(s.default.Message,{},void 0,r(c.default,{loc:"statusline/template_created"})),d=function(e){return r(a.default.Description,{},void 0,r(s.default,{status:"done"},void 0,l,e.children))};t.a=Object(u.a)(d)},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return w}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(488),_=n(370),y=n(139),S=(n.n(y),n(352)),w=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n.onRemoveButtonClick=function(){ns.action.run("toolbar.settings.button.remove",{button:"template"}),n.props.sendMetric("Клик",'Клик в "Удалите кнопку"')},n.onCreateButtonClick=function(){var e=n.props.template;ns.action.run("compose.go",{save_symbol:y.WellKnownFolderSymbol.TEMPLATE,old_tmpl:e}),n.props.sendMetric("Клик",'Клик в "Создайте новый шаблон"')},n}return l(t,e),a(t,[{key:"render",value:function(){var e=this.props.linkTheme;return f(_.default.Description,{},void 0,f(S.default,{loc:"statusline/template_not_found"},void 0,f(b.a,{"data-ref":"remove",theme:e,url:"#",onClick:this.onRemoveButtonClick}),f(b.a,{"data-ref":"create",theme:e,url:"#",onClick:this.onCreateButtonClick})))}}]),t})(h.a.Component);w.propTypes={linkTheme:v.a.string.isRequired,template:v.a.string.isRequired,sendMetric:v.a.func.isRequired}},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(348)),s=n.n(a),u=n(370),c=n(413),l=n(761),d=n(352),f=r("b",{"data-ref":"name"}),p=function(e){var t=e.name;return r(u.default.Description,{},void 0,r(c.default,{status:"done"},void 0,r(c.default.Message,{},void 0,r(d.default,{loc:"statusline/template_updated",params:{name:t}},void 0,f)),e.children))};p.propTypes={name:s.a.string},t.a=Object(l.a)(p)},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var o,a=n(137),s=n.n(a),u=n(348),c=n.n(u),l=n(488),d=n(370),f=n(352),p=function(e){var t=e.linkTheme,n=e.url;return i(d.default.Description,{},void 0,i(f.default,{loc:"statusline/timeline_loading_failed"},void 0,s.a.createElement(l.a,r({"data-ref":"link"},{theme:t,url:n}))))};t.a=p,p.propTypes={linkTheme:c.a.string.isRequired,url:c.a.string.isRequired}},function(e,t,n){"use strict";function r(e,t,n,r){i||(i="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var o=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&o)for(var c in o)void 0===t[c]&&(t[c]=o[c]);else t||(t=o||{});return{$$typeof:i,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var i,o=n(137),a=(n.n(o),n(348)),s=n.n(a),u=n(370),c=n(352),l=function(e){var t=e.maxCount,n=e.maxSize;return r(u.default.Description,{},void 0,r(c.default,{loc:"statusline/too_big_attachment",params:{maxCount:t,maxSize:n}}))};t.a=l,l.propTypes={maxCount:s.a.number.isRequired,maxSize:s.a.number.isRequired}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return w}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(370),_=n(413),y=n(352),S=f(y.default,{loc:"statusline/unsubscribe_result_action"}),w=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n.onLinkClick=function(e){e.preventDefault(),ns.events.trigger("daria:unsubscribe-popup:show"),n.props.sendMetric("Клик",'Клик в "Настроить рассылки"')},n}return l(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.plural,n=e.progressLinkTheme,r=t?"statusline/unsubscribe_result_description_plural":"statusline/unsubscribe_result_description";return f(b.default.Description,{},void 0,f(_.default,{status:"done"},void 0,f(_.default.Message,{},void 0,f(y.default,{loc:r})),f(_.default.Action,{theme:n,url:"#",onClick:this.onLinkClick},void 0,S)))}}]),t})(h.a.Component);w.propTypes={plural:v.a.bool,progressLinkTheme:v.a.string.isRequired,sendMetric:v.a.func.isRequired}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return O}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(370),_=n(413),y=n(352),S=f(_.default.Message,{},void 0,f(y.default,{loc:"statusline/undo_not_spam"})),w=f(y.default,{loc:"statusline/action_cancel"}),O=(function(e){function t(){var e,n;i(this,t);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return n=s(this,(e=c(t)).call.apply(e,[this].concat(o))),n.onCancel=function(){n.props.onCancel(),n.props.sendMetric("Клик","Отменить")},n}return l(t,e),a(t,[{key:"render",value:function(){var e=this.props.progressLinkTheme;return f(b.default.Description,{},void 0,f(_.default,{status:"done"},void 0,S,f(_.default.Action,{theme:e,onClick:this.onCancel},void 0,w)))}}]),t})(h.a.Component);O.propTypes={progressLinkTheme:v.a.string.isRequired,sendMetric:v.a.func.isRequired,onCancel:v.a.func.isRequired}},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(3188);r.a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(3223),i=n.n(r),o=n(3225);n.n(o);t.a=i.a},,,,function(e,t,n){"use strict";var r=n(3227);r.a},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AttachmentItem=t.AttachType=void 0;var o,a=i(n(137)),s=i(n(350)),u=i(n(1219)),c=i(n(3599)),l=i(n(1806)),d=i(n(3602)),f=parseInt(d.default.attachmentWidth,10)-2*parseInt(d.default.paddingH,10);!(function(e){e.FILE="simple",e.YADISK="narod",e.FORWARDER_EMAIL="forwarded"})(o=t.AttachType||(t.AttachType={}));var p=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){var e,t=s.default(d.default.attachmentItem,(e={},e[d.default.transparent]=this.props.transparent,e));return a.default.createElement("div",{className:t},this.renderPreview(),a.default.createElement("div",{className:s.default(d.default.text,"qa-Attachment-fileName")},a.default.createElement(u.default,{text:this.props.name,numberOfRows:2,width:f,font:"14px/16px \\'YS Text\\', Arial, sans-serif"})),this.props.renderControls&&this.props.renderControls())},t.prototype.renderDiskAttachIcon=function(){return this.props.attachType!==o.YADISK?null:a.default.createElement("div",{className:d.default.attachIcon},a.default.createElement(l.default,null))},t.prototype.renderPreview=function(){var e=this.props,t=e.previewSrc,n=e.extension,r=e.fileType;if(!t){var i="folder"===r?"dir":"file";return a.default.createElement("div",{className:s.default(d.default.preview,d.default.resourceIcon)},a.default.createElement(c.default,{cls:s.default(d.default.icon,"qa-Attachment-icon","qa-Attachment-icon-"+i),ext:n,mediatype:r,type:i,size:"m"}),this.renderDiskAttachIcon())}var o=new URL(t);o.searchParams.delete("thumb"),o.searchParams.set("resize","y"),o.searchParams.set("max_size","78x78");var u=o.toString();o.searchParams.set("max_size","156x156");var l=o.toString()+" 2x";return a.default.createElement("div",{className:d.default.preview},a.default.createElement("img",{src:u,srcSet:l,alt:"",className:d.default.previewImg}),this.renderDiskAttachIcon())},t.RECT={width:parseInt(d.default.attachmentWidth,10),height:parseInt(d.default.attachmentHeight,10)},t})(a.default.PureComponent);t.AttachmentItem=p},,,,function(e,t){e.exports={attachmentWidth:"116px",attachmentHeight:"144px",paddingV:"12px",paddingH:"10px",attachmentItem:"AttachmentItem__attachmentItem--P5Tr2",text:"AttachmentItem__text--24wwt",preview:"AttachmentItem__preview--3Ejra",attachIcon:"AttachmentItem__attachIcon--upwwv",previewImg:"AttachmentItem__previewImg--ydYh5",resourceIcon:"AttachmentItem__resourceIcon--gyX19",icon:"AttachmentItem__icon--2rtDG",transparent:"AttachmentItem__transparent--1xpFx"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(355),_=n.n(b),y=n(879),S=n(1813),w=(function(e){function t(e){var n;i(this,t),n=s(this,c(t).call(this,e)),n.setNewInputValue=function(e){n.setState({inputValue:e})},n.processRemoveSymbols=function(e){var t=n.formatterService.separator;e[e.length-1]===t?n.setNewInputValue(e.slice(0,e.length-1)):n.setNewInputValue(e)},n.onInputValueChange=function(e){var t=n.props,r=t.onInput,i=t.onChange,o=t.date,a=n.formatterService,s=a.parseDateParts(e);if(r&&r(),n.isInputValueValid(s,e.length)){if(n.isRemovingSymbols(e.length))return void n.processRemoveSymbols(e);var u=a.tryParseDate(s,o),c=u.newDate,l=u.newInputString;i(c),n.setNewInputValue(l)}};var r=e.date,o=e.format,a=e.DateFormatterService;return n.state={inputValue:r.format(o)},n.formatterService=new a(r,o),n}return l(t,e),a(t,[{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.date,r=t.format,i=n.format(r);e.date.format(r)!==i&&this.setNewInputValue(i)}},{key:"isInputValueValid",value:function(e,t){var n=this.formatterService,r=n.dateFormat,i=n.areDatePartsValid;return t<=r.length&&i(e)}},{key:"isRemovingSymbols",value:function(e){return e<this.state.inputValue.length}},{key:"render",value:function(){var e=this.props,t=e.cls,n=e.date,r=e.format,i=e.onClick;return f(y.a,{type:"text",size:"m",view:"default",theme:"normal",autocomplete:!1,text:this.state.inputValue,placeholder:n.format(r),onChange:this.onInputValueChange,onClick:i,cls:t})}}]),t})(h.a.PureComponent);w.propTypes={onInput:v.a.func,onChange:v.a.func,onClick:v.a.func,format:v.a.string,cls:v.a.string,date:v.a.objectOf(_.a),DateFormatterService:v.a.func},w.defaultProps={date:_()(),format:S.a,DateFormatterService:S.b},t.a=w},,,,,,,,function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Label=void 0;var s=o(n(137)),u=a(n(350)),c=a(n(368)),l=n(142),d=a(n(3654)),f=a(n(367)),p=function(e){var t,n=e.onRemove,r=e.background,i=e.className,o=e.color,a=e.id,p=e.isImportant,g=e.name,h=e.href,m=s.useCallback((function(e){e.preventDefault(),null===n||void 0===n||n(e)}),[n]),v=s.useCallback((function(e){return s.default.createElement("span",{className:u.default(e,d.default.removeIcon)},s.default.createElement(c.default,{id:"mail--Compose-Cross"}))}),[]),b={},_={},y=u.default(d.default.root,"qa-ComposeLabel",i,(t={},t[d.default.important+" qa-ComposeLabel_important"]=p,t[d.default.withRemoveIcon+" qa-ComposeLabel_withRemoveIcon"]=Boolean(n),t[d.default.withHover]=Boolean(h),t));return p||(b.backgroundColor=r,b.color=o),_.opacity=p||o?.7:1,s.default.createElement("div",{className:y,style:b},s.default.createElement("a",{className:u.default(d.default.text,"qa-ComposeLabel-Text"),href:h,style:_},p&&s.default.createElement(c.default,{cls:u.default(d.default.icon,"qa-ComposeLabel-Icon"),id:a}),g),n&&s.default.createElement(l.Button,{view:"clear",size:"xs",className:u.default(d.default.remove,"qa-ComposeLabel-Remove"),onClick:m,icon:v,"aria-label":f.default("common-react/removeLabel")}))};t.Label=p},function(e,t){e.exports={variables:'"../../../modules/compose-react/variables.m.css"',labelBorderRadius:"32px",labelPadding:"0 12px",addressFieldHeight:"26px",removeButtonSize:"24px",removeIconSize:"10px",insideMargin:"8px",root:"Label__root--1AG6h",important:"Label__important--2MrNr",withRemoveIcon:"Label__withRemoveIcon--zNcox",icon:"Label__icon--3DS9u",text:"Label__text--2jdFt",withHover:"Label__withHover---ZqLW",remove:"Label__remove--3ha29",removeIcon:"Label__removeIcon--30K4S"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){e.exports=n.p+"_/9ea7321615ba6d6ed154cea463f0c085-attach_icon_virus.svg"},function(e,t,n){e.exports=n.p+"_/2fd58e123a7954c32a21b89ad9ed0834-attach_icon_folder.svg"},function(e,t,n){e.exports=n.p+"_/49863cae38d85f3a1508bc8e9239016d-attach_icon_7z.svg"},function(e,t,n){e.exports=n.p+"_/8ca841a78c428fbbea24fcf397d7f409-attach_icon_ai.svg"},function(e,t,n){e.exports=n.p+"_/3aa640e55b9248192d7848c1882b5894-attach_icon_corel.svg"},function(e,t,n){e.exports=n.p+"_/db12c186914f8db1f9ef6124a18c4562-attach_icon_css.svg"},function(e,t,n){e.exports=n.p+"_/169aa042df1e3b991f1767aafb4b4642-attach_icon_djvu.svg"},function(e,t,n){e.exports=n.p+"_/42c9395ece8c111b2ddec02d116ebabe-attach_icon_dll.svg"},function(e,t,n){e.exports=n.p+"_/6cf1df2ebec1ec63458035c0e746a984-attach_icon_epub.svg"},function(e,t,n){e.exports=n.p+"_/c43e0ea2882a130f96a60335b974ddad-attach_icon_fb2.svg"},function(e,t,n){e.exports=n.p+"_/0395e68e5145cbcf1d45fa091cab78fa-attach_icon_indd.svg"},function(e,t,n){e.exports=n.p+"_/3784d6759a1edefc70140d92d9fc945c-attach_icon_ini.svg"},function(e,t,n){e.exports=n.p+"_/b5d7f828946298ff892e8669f51ce53e-attach_icon_js.svg"},function(e,t,n){e.exports=n.p+"_/1b31e7895ed29944deef9785130391e4-attach_icon_odp.svg"},function(e,t,n){e.exports=n.p+"_/81e0bb8d578b77c7ef65dcf7430ec799-attach_icon_ods.svg"},function(e,t,n){e.exports=n.p+"_/901699e6d4d06d8d50192f86aacf58ba-attach_icon_odt.svg"},function(e,t,n){e.exports=n.p+"_/861ab79aedccf6dd07da6fed2bb3202c-attach_icon_pdf.svg"},function(e,t,n){e.exports=n.p+"_/62361dbd7ae2d1e199022beebf2a5db9-attach_icon_psd.svg"},function(e,t,n){e.exports=n.p+"_/46943c4ac36b66f2efbb012899d150bd-attach_icon_rar.svg"},function(e,t,n){e.exports=n.p+"_/263bf4bdd537e5f6b4b53e6fd18688a9-attach_icon_rtf.svg"},function(e,t,n){e.exports=n.p+"_/669e80a6900a81942b6ef152cebc6bae-attach_icon_sketch.svg"},function(e,t,n){e.exports=n.p+"_/2521c91ec97715bd54cb86c3a3a49496-attach_icon_svg.svg"},function(e,t,n){e.exports=n.p+"_/54ef3b8767740a54291f546c6baded90-attach_icon_txt.svg"},function(e,t,n){e.exports=n.p+"_/38e790dd588ce44ebc8f8d1c2df0c52b-attach_icon_vcf.svg"},function(e,t,n){e.exports=n.p+"_/ca814b1e16c5fc1c90dc3955707df406-attach_icon_xhtml.svg"},function(e,t,n){e.exports=n.p+"_/2a31adba227f40c2fd2e04988ee374e0-attach_icon_xml.svg"},function(e,t,n){e.exports=n.p+"_/0bc2ad4d36f0dfefd86de9d8ecc5288e-attach_icon_books.svg"},function(e,t,n){e.exports=n.p+"_/a81937d5fcb7ba94f736c422014d1c95-attach_icon_font.svg"},function(e,t,n){e.exports=n.p+"_/f69b0bee9e32636ed623bb752a31d591-attach_icon_other.svg"},function(e,t,n){e.exports=n.p+"_/55c441d826db7bcd2d84be0b661dbcc8-attach_icon_folder_simple.svg"},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(3825);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";var r=n(3826);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function u(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,n,r){g||(g="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:g,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return E}));var g,h=n(137),m=n.n(h),v=n(138),b=(n.n(v),n(348)),_=n.n(b),y=n(350),S=n.n(y),w=n(1219),O=n(3827),M=n(884),D=n(369),T=n(3829),x=(n.n(T),"mail-AttachmentItem"),C={Block:x,Header:"".concat(x,"-Header"),Footer:"".concat(x,"-Footer"),Badge:"".concat(x,"-Badge"),Text:"".concat(x,"-Text")},E=(function(e){function t(){return o(this,t),u(this,l(t).apply(this,arguments))}return d(t,e),s(t,[{key:"render",value:function(){var e=this.props,t=e.style,n=e.previewSrc;return p("div",{className:S()(C.Block,"".concat(C.Block,"_").concat(t),i({},"".concat(C.Block,"_thumbnail"),n))},void 0,this.renderHeader(),this.renderFooter())}},{key:"renderHeader",value:function(){return p("div",{className:C.Header},void 0,this.renderText())}},{key:"renderFooter",value:function(){var e=this.props.previewSrc;return p("div",{className:C.Footer,style:e?{backgroundImage:"url('".concat(e,"')")}:{}},void 0,p(O.a,{cls:C.Badge,fileType:this.props.fileType,extension:this.props.extension,sourceType:this.props.sourceType}))}},{key:"renderText",value:function(){var e=this.props,t=e.name,n=e.style,r=n===M.c.SLIM?1:2;return p("div",{className:C.Text},void 0,p(w.default,{text:t,numberOfRows:r,font:M.a,width:M.b}))}}]),t})(m.a.PureComponent);E.defaultProps={style:M.c.NORMAL,sourceType:D.d.FILE},E.propTypes={style:_.a.oneOf(Object(v.values)(M.c)),sourceType:_.a.oneOf(Object(v.values)(D.d)),fileType:_.a.string,extension:_.a.string,name:_.a.string,previewSrc:_.a.string}},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return!t||"object"!==r(t)&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function l(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e,t,n,r){p||(p="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:p,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return T}));var p,g=n(137),h=n.n(g),m=n(348),v=n.n(m),b=n(138),_=(n.n(b),n(350)),y=n.n(_),S=n(369),w=n(368),O=n(3828),M=(n.n(O),{Block:"FileTypeBadge",DiskIcon:"".concat("FileTypeBadge","-DiskIcon"),Extension:"".concat("FileTypeBadge","-Extension")}),D={folder:"folder"},T=(function(e){function t(){return i(this,t),s(this,c(t).apply(this,arguments))}return l(t,e),a(t,[{key:"render",value:function(){var e=this.props,t=e.fileType,n=e.extension,r=e.sourceType,i=y()(this.props.cls,M.Block,"".concat(M.Block,"_").concat(t)),o=n&&"."===n[0]?n.substring(1):n;o=o||t;var a=r===S.d.YADISK,s=t!==D.folder;return f("div",{className:i},void 0,a&&f(w.default,{id:"mail--Compose-AttachDisk",cls:M.DiskIcon}),s&&f("span",{className:M.Extension},void 0,o))}}]),t})(h.a.PureComponent);T.propTypes={cls:v.a.string,fileType:v.a.string.isRequired,extension:v.a.string,sourceType:v.a.oneOf(Object(b.values)(S.d))}},function(e,t){},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=n(4076);n.d(t,"a",(function(){return r.a}))},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){"@babel/helpers - typeof";return(i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function u(e,t){return!t||"object"!==i(t)&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&f(e,t)}function f(e,t){return(f=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t,n,r){g||(g="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var a=new Array(o),s=0;s<o;s++)a[s]=arguments[s+3];t.children=a}if(t&&i)for(var u in i)void 0===t[u]&&(t[u]=i[u]);else t||(t=i||{});return{$$typeof:g,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}n.d(t,"a",(function(){return j}));var g,h=n(137),m=n.n(h),v=n(348),b=n.n(v),_=n(414),y=n.n(_),S=n(427),w=n(560),O=n(352),M=n(356),D=n(4077),T=(n.n(D),function(){return y()()("ComposeTurnOffPromo")}),x=p(S.a,{id:"mail--ComposeReact-Effects"}),C=p(O.default,{loc:"common-react/promo-compose-turn-off-title"}),E=p(O.default,{loc:"common-react/promo-compose-turn-off-details"}),P=p(O.default,{loc:"common-react/promo-compose-turn-off-cancel"}),k=p(O.default,{loc:"common-react/promo-compose-turn-off-action"}),j=(function(e){function t(){var e,n;o(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return n=u(this,(e=l(t)).call.apply(e,[this].concat(i))),n.onCancel=function(){n.props.onCancel(),Object(M.logMetric)([t.METRIC_ROOT,"cancel"])},n.onAction=function(){n.props.onAction(),Object(M.logMetric)([t.METRIC_ROOT,"action"])},n}return d(t,e),s(t,[{key:"componentDidMount",value:function(){Object(M.logMetric)([t.METRIC_ROOT,"show"])}},{key:"render",value:function(){var e={view:"default",tone:"default",size:"m"};return p("div",{className:T()},void 0,p("div",{className:T().e("Icon")},void 0,x),p("div",{className:T().e("Description")},void 0,p("div",{className:T().e("Title")},void 0,C),p("div",{className:T().e("Details")},void 0,E)),p("div",{className:T().e("Buttons")},void 0,m.a.createElement(w.a,r({},e,{theme:"clear",onClick:this.onCancel}),P),m.a.createElement(w.a,r({},e,{theme:"normal",onClick:this.onAction}),k)))}}]),t})(m.a.PureComponent);j.propTypes={onCancel:b.a.func.isRequired,onAction:b.a.func.isRequired},j.METRIC_ROOT="Compose turn off promo"},function(e,t){},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t){},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}n.d(t,"a",(function(){return s}));var s=(function(){function e(){i(this,e)}return a(e,[{key:"_getSettings",value:function(){return ns.Model.get("settings")}},{key:"isCompactMessagesList",value:function(){return this.getCompactMessagesListValue()&&!Daria.isAttachmentsLineDesign()}},{key:"getCompactMessagesListValue",value:function(){return this._getSettings().isSet("liza_minified")}},{key:"isCompactHeader",value:function(){return this.getCompactHeaderValue()}},{key:"getCompactHeaderValue",value:function(){return this._getSettings().isSet("liza_minified_header")}},{key:"toggleCompact",value:function(){var e=!this.getCompactMessagesListValue(),t=r({},"liza_minified",e);e||(t["size-view-app2"]="0"),this._getSettings().setSettings(t)}},{key:"toggleCompactHeader",value:function(){var e=!this.getCompactHeaderValue(),t=r({},"liza_minified_header",e);e||(t["size-view-app2"]="0"),this._getSettings().setSettings(t)}}]),e})()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return a}));var a=(function(){function e(){r(this,e),this._renderedMids={}}return o(e,[{key:"log",value:function(e){if(!this._isLogDisabled()){var t=this._extractMids(e);this._areAllMidsAlreadyRendered(t)||(this._markMidsAsRendered(t),Daria.monitoring.mailListRender(this._getLogParams(t)))}}},{key:"_extractMids",value:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).slice(0,Daria.DEFAULT_MESSAGES_PER_PAGE).map((function(e){return e.isThread()?e.get(".last_mid"):e.get(".mid")}))}},{key:"_markMidsAsRendered",value:function(){var e=this;(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){return e._renderedMids[t]=!0}))}},{key:"_areAllMidsAlreadyRendered",value:function(){var e=this;return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).every((function(t){return e._renderedMids[t]}))}},{key:"_getLogParams",value:function(e){var t={mids:e},n=ns.page.current.params,r=n.current_folder,i=n.tabId;return i?t.tabId=i:r&&(t.fid=r),Daria.areFoldersTabsEnabled()&&(t.foldersTabsEnabled=!0),t}},{key:"_isLogDisabled",value:function(){return!Jane.watcher.get("pageVisible")}}]),e})()},function(e,t,n){"use strict";var r={};e.exports=Daria.getEncryptedView=function(e){return r[e]||(r[e]=Daria.getRandomName()),r[e]}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i={};t.default=Daria.getDirectBlockLayoutInfo=function(e){if(!i[e]){var t=Daria.getRandomName();ns.View.define(t,{models:{"app-state":{"ns-model-changed":!1,"ns-model-changed.module-direct-loaded":"forceUpdate"}},yateModule:"mail"});var n=Daria.getRandomName()+"@",o=r({},t,r({},n,(function(){return ns.Model.get("app-state").get(".module-direct-loaded")?Daria.getDirectViewLayout(e):"messages-direct"===e?r({},Daria.getEncryptedView("messages-direct-line-placeholder"),{}):{}})));if("messages-direct"===e){var a=Daria.getRandomName()+"-box",s=a+"@";i[e]={id:a,name:s,layout:r({},s,(function(){return o}))}}else i[e]={name:t,layout:o}}return i[e]}},function(e,t){Daria.Abook={},Daria.Abook.formatContactInfo=function(e,t,n){if(n=n||{},!e)return{};var r=e.cid,i=e.name,o=$.map(e.email,(function(e){return e.value})),a=o;if(t.joinName&&(i=i.full||""),t.onlyFirstEmail){var s=n.email?$.inArray(n.email,o):0;o=o[s>-1?s:0]}1===o.length&&(o=o[0]);var u={cid:r,name:i,email:o};return t.withContactEmailList&&(u.emailList=a),t.shared&&(u.ya_directory=e.ya_directory),u}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(87),i=(n.n(r),n(1855));Daria.formatContacts=function(e,t){var n,r=Daria.Constants.CONTACTS.DELIMITER;t&&(n=ns.Model.get("account-information").getEmails());var i=[];$.isArray(e)||(e=[e]);for(var o=0,a=e.length;o<a;o++){var s=e[o],u=s.email,c=s.name;!u||t&&$.inArray(u,n)>-1||"no_address"!==c&&"(адрес не указан)"!==c&&i.push(Jane.FormValidation.obj2contact(s))}return i.join(r)},Daria.createAutocompleteFormatter=function(e){var t=Daria.Constants.CONTACTS.DELIMITER;return function(n){return n.contacts?n.contacts.map(e).join(t):e(n)}},Daria.formatAutocompleteResult=Daria.createAutocompleteFormatter((function(e){return e.email})),Daria.showDoubleSizedContacts=function(){return Daria.Config.pddDomain||Daria.Config.workspace},Daria.getAccountAgeInDays=function(){var e=ns.Model.get("account-information");return(Daria.now()-e.getData().reg_date)/864e5},Daria.isNewAccount=function(){return Daria.getAccountAgeInDays()<=3},Daria.uidEnds=function(e){if($.isArray(e)&&e.length){var t=String(e[0]).length,n=parseInt(Daria.uid.slice(-t),10);return $.inArray(n,e)>-1}return!1},Daria.areFoldersTabsEnabled=function(){return Daria.canUseTabs()&&ns.Model.get("settings").getSign("show_folders_tabs")},Daria.canUseTabs=function(){return!Daria.IS_CORP&&!Daria.Config.isPDD},Daria.areCompactFolderTabsEnabled=function(){return Boolean(Daria.areFoldersTabsEnabled()||Daria.isPriorityTabEnabled())},Daria.isPriorityTabAvailable=function(){return!Daria.IS_CORP&&ns.Model.get("labels").getPriorityLID()&&(ns.Model.get("settings").getSign("priority_mail")||Daria.hasSid(669))},Daria.isPriorityTabEnabled=function(){var e=ns.Model.get("settings").getSign("show_priority_stuff");return Daria.isPriorityTabAvailable()&&e},Daria.isPriorityTab=function(){var e=Daria.isPriorityTabEnabled(),t="messages"===ns.page.current.page&&ns.page.current.params.current_label===ns.Model.get("labels").getPriorityLID();return e&&t},Daria.isAttachmentsTabEnabled=function(){return(Daria.areFoldersTabsEnabled()||Daria.isPriorityTabEnabled())&&Daria.is2pane()},Daria.isAttachmentsTab=function(){var e=Daria.isAttachmentsTabEnabled(),t=ns.page.current.params||{},n=Boolean(t.attachments);return e&&n},Daria.isSearchWithAttachesTab=function(){var e=Daria.isAttachmentsTabEnabled(),t=ns.page.current.params||{},n=Boolean(t.search&&t.attaches);return e&&n},Daria.isAttachmentsLineDesign=function(){return Daria.isAttachmentsTab()||Daria.isSearchWithAttachesTab()},Daria.isReactiveCompose=function(){return!0},Daria.enableReactiveCompose=function(e){ns.Model.get("settings").setSettings({force_ns_compose:!e,storedComposeStates:"undefined",last_used_compose_size:""}),Daria.maybeSaveReactComposeFirstUsedDate()},Daria.maybeSaveReactComposeFirstUsedDate=function(){var e=ns.Model.get("settings");e.getSign("react_compose_first_used")||e.setSettings({react_compose_first_used:Daria.now().toString()})},Daria.startScenarioForCompose=i.a,Daria.hasAmpForm=function(){var e="MSIE"!==Daria.UA.BrowserName&&"Edge"!==Daria.UA.BrowserName;return Object(r.hasFeature)(r.Features.WEB_AMP_FORM)&&e},Daria.isSearchWithoutAllResultsFallback=function(){return Object(r.hasFeature)(r.Features.WEB_SEARCH_WITHOUT_ALL_RESULTS_FALLBACK)},Daria.isAdvertisementOnWithProMail=function(){return"ru"===Daria.Config.TLD&&!Daria.IS_CORP&&!Object(r.hasFeature)(r.Features.WEB_AUTOTESTS_MUTE_AD)}},function(e,t,n){var r={"message.ogg":n(4271),"message.mp3":n(4272),"message.wav":n(4273)};Daria.Sound={preload:function(e){this._getPlayer(e)},play:function(e){this._getPlayer(e)()},_cache:{},_getPlayer:function(e){if(!this._cache[e])if("src"in document.createElement("audio")){var t=this._createAudioEl(e);this._cache[e]=function(){t.play()}}else if("src"in document.createElement("bgsound")){var n=document.createElement("bgsound");document.getElementsByTagName("head")[0].appendChild(n),this._cache[e]=function(){n.src=r[e+".mp3"]}}else this._cache[e]=function(){};return this._cache[e]},_createAudioEl:function(e){var t=document.createElement("div");t.innerHTML='<audio preload="auto"><source src="'+r[e+".ogg"]+'" type="audio/ogg"></source><source src="'+r[e+".mp3"]+'" type="audio/mpeg"></source><source src="'+r[e+".wav"]+'" type="audio/wav"></source></audio>';var n=t.firstChild;return document.body.appendChild(n),n}}},function(e,t,n){e.exports=n.p+"_/dc22b778f507cf99af5f1fbaa09283ad-message.ogg"},function(e,t,n){e.exports=n.p+"_/c8904f7129944be785562682585d90dd-message.mp3"},function(e,t,n){e.exports=n.p+"_/a58459d090abe810c59cc0c21af602b9-message.wav"},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(139);n.n(r);!(function(e){var t=Daria.Constants.CONTACTS.DELIMITER;e.emailAutocompleterOpts={tpl:'<div class="b-mail-suggest b-mail-suggest_contacts"><div class="b-grid js-sections"></div></div>',activeClass:"b-grid-item_selected",width:"20em",multiple:!0,minChars:0,minClickCount:0,excludeSelected:!0,filterItem:function(e){var t,n=this.currentValue||this.prevVal;return e.data.title?(t=[].concat(e.data.contacts),t=$.grep(t,(function(e){return-1===n.indexOf(e.email)})),t.length):e.data.email?-1===n.indexOf(e.data.email):void 0},scroll:!0,scrollElem:".b-grid",item:".b-grid-item",sections:[{url:Daria.api.models+"?_model.0=abook-suggest",fakeRequestParams:!0,dataType:"json",param:"q",withCkey:!0,extraParams:{glimit:5,climit:35,useAbook:"on"},contextExtraParams:function(){var e,t=Daria.vCompose,n={};return t&&"compose"===ns.page.current.page?(e=$.map(["To","Cc","Bcc"],(function(e){var n=t["get"+e]();if(n)return n.replace(/\s*/g,"").split(",")})),e=e.join(","),e=$.map(Jane.FormValidation.splitContacts(e),(function(e){return e.email})),e=e.join(","),e&&(n.to=e),n):n},beforeRequest:function(e){return e.length>=1},parse:function(e,t){function n(e,n,r,o){for(var a=0,s=e.length;a<s&&a!==o;a+=1){var u=e[a];u&&(r[r.length]={data:u,$item:$(n.call(i,u,t))})}}e=jpath(e,".models[0].data")[0]||{};var r=[],i=this;return e.contacts&&e.contacts.length&&n(e.contacts,i.formatContact,r,i.extraParams.climit),e.groups&&e.groups.length&&n(e.groups,i.formatGroup,r,i.extraParams.glimit),r},groupTpl:'<div class="b-grid-item"><span class="b-grid-item__content"><span class="b-grid-item__content__i"><span class="b-grid-item__content__group">'+i18n("%Search_Suggest_group")+'</span>&#160;{title}</span></span><span class="b-grid-item__content"><span class="b-grid-item__content__i"><span class="b-grid-item__misc">{emails}</span></span></span></div>',formatContact:function(e,t){var n='<div class="b-grid-item"><span class="b-grid-item__content"><span class="b-grid-item__content__i">'+_.escape(e.name||e.email)+'</span></span><span class="b-grid-item__content"><span class="b-grid-item__content__i"><span class="b-grid-item__misc">'+(e.name&&e.email?_.escape(e.email):" ")+'</span></span></span><span class="b-grid-item__right"><span class="b-userpic b-userpic_small'+(e.cid?" cid-"+e.cid:"")+'">'+(e.ref&&e.email&&e.id>-1&&!e.popdom?Daria.Recipients.add({name:e.name,email:e.email,href:!1,size:28}):"")+"</span></span>";return n+="</div>",Daria.Autocompleter.utils.highlight(n,t)},formatGroup:function(e,n){for(var r=[],i=0,o=e.contacts.length;i<o;i++)r.push(e.contacts[i].email);return Daria.Autocompleter.utils.highlight(Daria.supplant(this.groupTpl,{title:e.title,emails:r.join(t)}),n)},formatResult:Daria.createAutocompleteFormatter((function(e){return e.name?'"'.concat(e.name,'" <').concat(e.email,">"):e.email}))}]};var n=e.emailAutocompleterOpts.sections[0];e.emailAutocompleterOpts.sections.push($.extend({},n,{url:Daria.api.models+"?_model.0=abook-suggest",fakeRequestParams:!0,extraParams:{popular:!0,climit:10,useAbook:"on"},parse:function(e,t){var r=jpath(e,".models[0].data")[0]||{};return r.contact&&!r.contacts&&(r.contacts=r.contact),n.parse.call(this,e,t)},formatContact:function(e,t){return e.name=e.name&&e.name.full,n.formatContact.call(this,e,t)},beforeRequest:function(e,t){if(e)return!1;if("compose"!==ns.page.current.page)return!1;if(t&&t.keyPressed)return!1;var n=ns.page.current.params,i=ns.Model.get("folders").getFolderBySymbol(r.WellKnownFolderSymbol.TEMPLATE),o=i&&i.fid;return!(Daria.composeParams&&Daria.composeParams.save_symbol===r.WellKnownFolderSymbol.TEMPLATE||n.save_symbol===r.WellKnownFolderSymbol.TEMPLATE||n.ids&&ns.Model.get("message",{ids:n.ids}).inFolder(o))},onshow:function(){Jane.c(["popular_suggest","Показы саджеста популярных контактов"])},onresult:function(e){Daria.composeParams=Daria.composeParams||{},Daria.composeParams["popular-suggest-general"]||(Daria.composeParams["popular-suggest-general"]=[]),Daria.composeParams["popular-suggest-general"].push(e.email),Jane.c(["popular_suggest","Клики в саджест популярных контактов"]);var t=Jane.watcher.get("autocompleter.popularContacts")||[],n=this,r=function e(){ns.events.off("ns-page-before-load",e),n.binded=!1,Jane.watcher.set("autocompleter.popularContacts",[])};t.push(e.email),Jane.watcher.set("autocompleter.popularContacts",t,{silent:!0}),this.binded||(this.binded=!0,ns.events.on("ns-page-before-load",r))}})),e.getEmailAutocompleter=function(){var t=new e(e.emailAutocompleterOpts),n=t.onChange;return t.onChange=function(){var e=this.$input.val();return this.keyPressed&&!e?void this.hide():n.apply(this,arguments)},t},e.getContact=function(){return e.getEmailAutocompleter()},e.getContactEmail=function(){return e.__contactEmailInstance||(e.__contactEmailInstance=(function(){var t=$.extend(!0,{},e.emailAutocompleterOpts,{multiple:!1,filterItem:null});t.sections=$.each(t.sections,(function(e,t){$.extend(t,{formatResult:function(e){return e.email||""},parse:function(e,t){e=jpath(e,".models[0].data")[0]||{};var n=[],r=this;return e.contacts&&e.contacts.length&&(function(e,n,i,o){for(var a=0,s=e.length;a<s&&a!==o;a+=1){var u=e[a];u&&(i[i.length]={data:u,$item:$(n.call(r,u,t))})}})(e.contacts,r.formatContact,n,r.extraParams.climit),n}})}));var n=new e(t),r=n.onChange;return n.onChange=function(){var e=this.$input.val();return this.keyPressed&&!e?void this.hide():r.apply(this,arguments)},n})()),e.__contactEmailInstance}})(Daria.Autocompleter)},function(e,t,n){var r=n(4276),i=n(4277),o=n(4278),a=null;Daria.Autocompleter.logSuggestInfo=function(e){e.uid=Daria.uid,e.searchid=Daria.React.getSearchId(),Jane.ErrorLog.send(e)},Daria.Autocompleter.enumerate=function(e,t,n){return e.map((function(e,r){return e[n]=r+t,e}))},Daria.Autocompleter.getSearch=function(){if(!a){var e=$(Jane.tt("mail:search-autocomplete"));a=new Daria.Autocompleter({tpl:e,activeClass:"b-grid-item_selected",item:".b-grid-item",blockSubmit:!1,selectFirst:!1,minChars:0,saveSelectionOnBlur:!1,position:{right:10},lastWord:!0,onrender:function(){},sections:[r(),i(),o()]})}return a}},function(e,t){e.exports=function(){return{url:Daria.api.models+"?_model.0=history-suggest",dataType:"json",param:"text",getParamFromTerm:function(e){return e},withCkey:!0,max:5,tpl:yr.run("mail",null,"search-autocomplete-suggest"),onshow:function(){Jane.c({Search:'Show "previous requests"'})},onselect:function(e,t){Daria.Autocompleter.logSuggestInfo({event:"suggest_used",suggest_group:"history",user_input:this.prevVal,user_select_idx:t+1,idx:e.idx||1,suggest_text:e.text})},onfetch:function(e,t){Daria.Autocompleter.logSuggestInfo({event:"suggest_all",suggest_group:"history",user_input:this.prevVal,empty_suggest:t})},parse:function(e,t,n){e=jpath(e,".models[0].data")[0],e=Daria.Autocompleter.enumerate(e,1,"idx");var r=this.max;""===t&&(this.max=10);var i=n.parse(e,this,t);return this.max=r,i},formatItem:function(e){return yr.run("mail",e,"search-autocomplete-suggest-item")},formatResult:function(e){return e.text}}}},function(e,t){e.exports=function(){var e={},t="";return Daria.IS_CORP||(Daria.Config.pddDomain||(e.mix_groups=Daria.uidEnds([4]),e.emails=ns.Model.get("account-information").getAllUserEmails().join(",")),t="&"+$.param(e)),{url:Daria.api.models+"?_model.0=abook-suggest"+t,dataType:"json",param:"q",withCkey:!0,max:10,tpl:yr.run("mail",null,"search-autocomplete-contacts"),parse:function(e,t){e=jpath(e,".models[0].data.contacts")[0];var n=[];if(e&&e.length){e=Daria.Autocompleter.enumerate(e,1,"idx");for(var r=0,i=e.length;r<i&&r<this.max;r++){var o=e[r];o&&n.push({data:o,$item:$(this.formatItem(o,t))})}}return n},formatItem:function(e){return yr.run("mail",e,"search-autocomplete-contacts-item")},formatResult:function(e){return e.email},onshow:function(){Jane.c("Search",'Show "conversation with recipients"')},onselect:function(t,n){Daria.Autocompleter.logSuggestInfo({event:"suggest_used",suggest_group:"address",user_input:this.prevVal,user_select_idx:n+1,idx:t.idx||1,suggest_text:t.email,mix_groups:e.mix_groups||!0})},onfetch:function(t,n){Daria.Autocompleter.logSuggestInfo({event:"suggest_all",suggest_group:"address",user_input:this.prevVal,empty_suggest:n,mix_groups:e.mix_groups||!0})}}}},function(e,t){var n="//clck.yandex.ru/redir/dtype=stred/pid=2/cid=71675/*"+Daria.Config["www-url"]+"/yandsearch?text=";e.exports=function(){return{isStatic:!0,tpl:yr.run("mail",null,"search-autocomplete-internet"),onfetch:function(e,t){Daria.Autocompleter.logSuggestInfo({event:"suggest_all",suggest_group:"internet",user_input:this.prevVal,empty_suggest:t})},formatItem:function(e){var t=Daria.Autocompleter.getSearch().$input.val();return t?(e.term=t,e.url=n+encodeURIComponent(t),yr.run("mail",e,"search-autocomplete-internet-item")):null},onresult:function(e){return Daria.Autocompleter.logSuggestInfo({event:"suggest_used",suggest_group:"internet",user_input:this.prevVal,idx:0,user_select_idx:1,suggest_text:e.term}),window.open(e.url,"_blank"),Jane.c("Search","Click on Search the Internet"),!0}}}},function(e,t){!(function(){function e(e){var r=e.data.obj;return Daria.MessagesPager.active=r,r.isDragging=!0,r.slider.addClass("b-mail-paginator_scrolling"),$(document).on("mousemove",{obj:r},n),$(document).on("mouseup",{obj:r},t),e.preventDefault(),!1}function t(e){var r=e.data.obj;delete Daria.MessagesPager.active,r.isDragging=!1,r.slider.removeClass("b-mail-paginator_scrolling"),$(document).off("mousemove",{obj:r},n),$(document).off("mouseup",t)}function n(e){var t=e.data.obj;if(t.isDragging){t.dragged||(t.dragged=!0);var n=Math.floor(e.pageX-t.sliderWidth/2-t.$container.offset().left);return t._setSliderPosition(n),e.preventDefault(),!1}}function r(e){var t=e.data.obj;t.scrolling||t._setSliderPositionByScroll(t.$container.scrollLeft(),!1)}function i(e){var t=$(e.currentTarget),n=ns.action.getParams(t[0]);return e.data.obj.updateScroll(n,!0),!0}ns.events.on("pageVisible.change",(function(){Daria.MessagesPager.active&&t({data:{obj:Daria.MessagesPager.active}})})),Daria.MessagesPager=function(e,t,n){this._params=n||{},this.$node=$(e),this.isFloat=t,this.setPagerToDate=_.debounce(this.setPagerToDate,0),this.init()},Daria.MessagesPager.incDate=function(e,t){var n=Jane.Common.n;return e=Number(e),t=Number(t),12===t?(e++,t=1):t++,[String(e),String(n(t))]},Daria.MessagesPager.decDate=function(e,t){var n=Jane.Common.n;return e=Number(e),t=Number(t),1===t?(e--,t=12):t--,[String(e),String(n(t))]},Daria.MessagesPager.prototype={init:function(){return this.slider=this.$node.find(".js-messages-pager-slider"),this.$scrollLeft=this.$node.find(".b-link_scroll-left"),this.$scrollRight=this.$node.find(".b-link_scroll-right"),0===this.slider.size()?(this.$scrollRight.add(this.$scrollLeft).addClass("b-link_disabled"),void this._showPager()):(this.$container=this.$node.find(".js-messages-pager-container"),this.scrollContainer=this.$node.find(".js-messages-pager-scroll"),this.tooltip=this.$node.find(".js-tooltip"),this.dragged=!1,this.$containerWidth=this.$container.width(),this.scrollWidth=this.scrollContainer.width(),this.sliderWidth=this.$containerWidth/this.scrollWidth*this.$containerWidth,this.dragged=!1,this.years=this.$node.find(".js-year").get().map((function(e){return{left:e.offsetLeft,year:ns.action.getParams(e).year}})),this.$containerWidth>=this.scrollWidth?(this.slider.remove(),this.$scrollLeft.remove(),this.$scrollRight.remove(),void this._showPager()):(this.minSliderX=0,this.maxSliderX=Math.floor(this.$containerWidth-this.sliderWidth),this.minScroll=0,this.maxScroll=this.scrollWidth-this.$containerWidth,this.slider.css("width",Math.ceil(this.sliderWidth)),this.isDragging=!1,this.bindEvents(),void(this.isFloat||this.updateScroll())))},_showPager:function(){this._visible||(this.$node.css("visibility","visible"),this._visible=!0)},_getItems:function(){if(!this._months){var e=this.$container.scrollLeft(),t=this._months=[];this.$node.find(".b-mail-paginator__item").each((function(){t.push($(this).position().left+e)}))}return this._months},updateScroll:function(e,t){e||(e=this._params.dontUsePageParams?{}:ns.page.current.params);var n;e.datePager&&(n=e.datePager,n=n.replace(/\./g,"")),n&&this.setCurrentItem(n),this.$container&&(n?this.setPagerToDate(n,t):this._setSliderPosition(this.maxSliderX))},updateTooltip:function(e,t){if(this.years.length){for(var n=0;n<this.years.length&&this.years[n].left-t<e;)n++;n--,n<0&&(n=0),this.tooltipYear!==this.years[n].year&&(this.tooltipYear=this.years[n].year,this.tooltip.html(this.tooltipYear))}},resetCurrentItem:function(e){this.$node.find(".b-mail-paginator__item_current, .b-mail-paginator__link_current").removeClass("b-mail-paginator__item_current b-mail-paginator__link_current");var t=this.scrollWidth-this.$containerWidth;this._setSliderPositionByScroll(t,e)},setCurrentItem:function(e){var t=this.$node.find(".item-"+e);0!==t.size()&&(t.closest(".js-messages-pager-container").find(".b-mail-paginator__item_current").removeClass("b-mail-paginator__item_current").find(".b-mail-paginator__link_current").removeClass("b-mail-paginator__link_current"),t.closest(".b-mail-paginator__item").addClass("b-mail-paginator__item_current").find(".b-mail-paginator__link").addClass("b-mail-paginator__link_current"))},setPagerToDate:function(e,t){var n=this.$node.find(".item-"+e);if(0!==n.size()){var r=n.position().left+this.$container.scrollLeft(),i=r-this.$containerWidth/2+25;this._setSliderPositionByScroll(i,t)}},_setSliderPosition:function(e,t,n){var r=this;e=Math.floor(e),e>this.maxSliderX&&(e=this.maxSliderX),e<this.minSliderX&&(e=this.minSliderX),t=t||Math.floor(e/this.maxSliderX*(this.scrollWidth-this.$containerWidth));var i=e+this.sliderWidth/2;n&&document.documentMode&&document.documentMode<9&&(n=!1);var o=e>this.minSliderX,a=e<this.maxSliderX,s=a&&i+54<this.$containerWidth,u=o&&i-54>0;n?this.slider.stop().animate({left:e},"fast"):this.slider.stop().css({left:e}),s!==this.showRightArrow&&(this.showRightArrow=s,this.slider.toggleClass("b-mail-paginator__slider_arrow_right",s)),u!==this.showLeftArrow&&(this.showLeftArrow=u,this.slider.toggleClass("b-mail-paginator__slider_arrow_left",u)),n?(this.scrolling=!0,this.$container.stop().animate({scrollLeft:t},"fast",(function(){r.scrolling=!1}))):this.$container.stop().scrollLeft(t),a!==this.allowRightArrow&&(this.$scrollRight.toggleClass("b-link_disabled",!a),this.allowRightArrow=a),o!==this.allowLeftArrow&&(this.$scrollLeft.toggleClass("b-link_disabled",!o),this.allowLeftArrow=o),this.updateTooltip(e+this.sliderWidth/2,t),this._showPager()},_setSliderPositionByScroll:function(e,t){e<this.minScroll?e=this.minScroll:e>this.maxScroll&&(e=this.maxScroll);var n=e/(this.scrollWidth-this.$containerWidth)*(this.$containerWidth-this.sliderWidth);this._setSliderPosition(n,e,t)},_adjustSliderPosition:function(e){var t=this.$container.scrollLeft();e>0&&(t+=this.$containerWidth);for(var n,r=this._getItems(),i=0,o=r.length;i<o;i++)if(r[i]>=t){n=e>0?r[i-1]:r[i]-this.$containerWidth;break}n||(n=this.maxScroll),this._setSliderPositionByScroll(n,!0)},_moveScroll:function(e){var t=e.currentTarget.className;return!(t.indexOf("b-link_disabled")>-1)&&(this._adjustSliderPosition(t.indexOf("left")>-1?-1:1),!1)},bindEvents:function(){this.slider.on("mousedown",{obj:this},e),this.$container.on("scroll",{obj:this},r),this.isFloat&&this.$container.find(".b-mail-paginator__link").on("click",{obj:this},i),this.$scrollLeft.add(this.$scrollRight).on("click",this._moveScroll.bind(this))},unbindEvents:function(){this.slider.off("mousedown",e),this.isFloat&&this.$container&&this.$container.find(".b-mail-paginator__link").off("click",i),this.$container&&this.$container.off("scroll"),this.$scrollLeft&&this.$scrollLeft.add(this.$scrollRight).off("click")}}})()},function(e,t,n){"use strict";function r(e){return a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}Object.defineProperty(t,"__esModule",{value:!0});var s=n(139);n.n(s);!(function(e,t){function n(e,t,n){if(t){var r=ns.Model.get("labels").getLabelByName(n).lid;ns.Model.get("message",{ids:t}).hasLabel(r)&&(e=i18n("%Drag_Снять_метку",n))}return e}var i=t.DragNDrop,o=function(){};o.prototype=new i.EmptyDrag,o.prototype.init=function(t,n){return this.is_active=!1,this.is_draggable=!0,this.area=i.getDragMessageArea(),this.draggable=n,this.label=this.getLabelText(n),this.evt=t,this.message_row=this.getMessageRow(t.target),this._messagesNode=e(".js-messages-list").get(0),this},o.prototype.onDragStart=function(t){this.is_active=!0,this.area.show(),this.area.alignByEvent(t);var n=e(this.evt.target),r="is-draggable-labels";return n.parents(".js-labels").length&&(r+=" is-draggable-labels-from-labels"),this.standardMessage(),e("html").addClass(r),this},o.prototype.standardMessage=function(){this.area.setText(i18n("%Drag_Укажите_письмо_для_пометки",this.label))},o.prototype.onDrag=function(e){this.area.alignByEvent(e)},o.prototype.getTargetData=function(t){var n=e(t),r=this,i=[{name:"message_many",test:function(){return"messages"===ns.page.current.page&&(!!e.contains(r._messagesNode,t)&&e(r.getMessageRow(t)))}},{name:"message_one",test:function(){return!!n.is(".js-message-subject-drop")&&n}},{name:"unlabel",test:function(){return!(!(n.is(".js-toolbar-item-delete")||n.is(".js-labels")||n.is(".js-labels *"))||0!==e(r.evt.target).parents(".js-labels").length)&&n}}];return this.testTarget(i,n)},o.prototype.onDragEnter=function(t,r){var i;if("unlabel"===r.name)i=i18n("%Drag_Снять_метку",this.label);else{var o=e(r.target).closest(".js-message").data("id");i=n(i18n("%Drag_Пометить_письмо",this.label),o,this.label)}this.area.setText(i),this.hilite(r.target),this.area.evaluateDimensions()},o.prototype.onDragLeave=function(e,t){this.standardMessage(),this.nohilite(t.target)},o.prototype.onDragEnd=function(){this.area.alignByEvent(this.evt,{animate:!0}),e("html").removeClass("is-draggable-labels is-draggable-labels-from-labels")},o.prototype.getMessageRow=function(t){return e(t).parents(".js-message:eq(0)").addBack().filter(".js-message:eq(0)")[0]},o.prototype.onDrop=function(t,n){this.area.hide();var r="label";"unlabel"===n.name&&(r="unlabel");var i;switch(r){case"label":i=n.target;break;case"unlabel":i=e(this.message_row?this.message_row:this.draggable)}if(i&&n.target[0]!==this.message_row){var o=i.closest(".js-message").data("id"),a={};if(o){var s=ns.Model.get("message",{ids:o}),u=ns.Model.get("messages-checked",{mid:o});u.check(s,!0),a={mMessagesChecked:u}}var c={operation:r,params:_.extend(a,ns.action.getParams(this.draggable))};i.trigger("dragndrop.drop",c)}this.nohilite(n.target),e("html").removeClass("is-draggable-labels is-draggable-labels-from-labels")},Daria.DragLabel=o;var a=function(){};a.prototype=new i.EmptyDrag,a.prototype.init=function(t,n){this.is_active=!1,this.is_draggable=!0,this.area=i.getDragMessageArea(),this.draggable=n;var r=n.find(".b-messages__message__checkbox__input");return this.checked=r.prop("checked"),this.evt=t,n.is(".js-message-subject-drop")&&(this.type="subject"),this.TARGET_BLOCK_LABELS=e(".ns-view-labels")[0],this},a.prototype.getTargetData=function(t){var n=e(t),r=this,i=function(e,t){if(t&&this.mMessagesChecked.isFolderOrTabSelected())return!1;var r=n.closest(e);return!!r.length&&r},o=function(e,t){return i.bind(r,e,t)},a=[{name:"mark",test:o(".js-toolbar-item-mark-as-read")},{name:"mark",test:o(".js-drop-area-read")},{name:"unmark",test:o(".js-toolbar-item-mark-as-unread")},{name:"unmark",test:o(".js-drop-area-unread")},{name:"remove",test:o(".js-toolbar-item-delete")},{name:"remove",test:o(".js-drop-area-delete")},{name:"reply-all",test:o(".js-toolbar-item-reply-all",!0)},{name:"reply",test:o(".js-toolbar-item-reply",!0)},{name:"reply",test:o(".js-reply",!0)},{name:"forward",test:o(".js-toolbar-item-forward")},{name:"tospam",test:o(".js-toolbar-item-spam")},{name:"tospam",test:o(".js-drop-area-spam")},{name:"notspam",test:o(".js-toolbar-item-not-spam")},{name:"messages.deselect",test:o(".js-deselect")},{name:"move",test:function(){var e=n.parents(".js-valid-drag-target:eq(0)");if(e.length)return e}},{name:"label",test:function(){if(ns.Model.get("folders").isFolder(ns.page.current.params.current_folder,s.LabelDisabledFolders))return!1;if(!n.hasClass("js-label-no-dnd")&&i(".js-labels-item")&&e.contains(r.TARGET_BLOCK_LABELS,t)){if(!n.attr("data-title")){var o=n.closest("[data-title]");n=!!o.length&&o}return n}return!1}}],u=this.testTarget(a,n);return u.original_target=n,u},a.prototype.hiliteAll=function(){var t="mail-Page_draggingMessage";ns.Model.get("folders").isFolder(ns.page.current.params.current_folder,s.DragSpecialFolders)&&(t=t.concat(" mail-Page_draggingSpamMessage")),this.mMessagesChecked.isFolderOrTabSelected()&&(t+=" mail-Page_draggingMessageAll"),e("html").addClass(t)},a.prototype.nohiliteAll=function(){e("html").removeClass("mail-Page_draggingMessage mail-Page_draggingSpamMessage mail-Page_DraggingMessageAll")},a.prototype.check=function(t,n){if("messages"===ns.page.current.page){var r=e(n.target).closest(".js-cbt-item");if(r.length||t){if(r.length){var i=r.attr("data-id"),o=ns.Model.get("message",{ids:i});this.mMessagesChecked.check(o,t)}}else this.mMessagesChecked.resetChecked()}},a.prototype.showHiddenFolders=function(){var e=ns.Model.get("settings");e.isSet("hide_empty_folders")&&!this._showingHiddenFolders&&(this._showingHiddenFolders=!0,e.setIfChanged(".hide_empty_folders",!1))},a.prototype.hideHiddenFolders=function(){if(this._showingHiddenFolders){var e=ns.Model.get("settings");this._showingHiddenFolders=!1,e.setIfChanged(".hide_empty_folders",!0)}},a.prototype.onDragStart=function(e){if(1===e.which&&2!==e.buttons){this.mMessagesChecked=ns.Model.get("messages-checked",ns.page.current.params);var t=this.mMessagesChecked.getIds();if(![].concat(r(t.ids),r(t.tids)).map((function(e){return ns.Model.get("message",{ids:e})})).some((function(e){return e.isReplyLaterStarted()}))){this.showHiddenFolders(),this.check(!0,this.evt);var n=1;this.mMessagesChecked.touch({silent:!0}),"messages"===ns.page.current.page&&0===(n=this.mMessagesChecked.getCount())&&(n=1),this.count=n,this.is_active=!0,this.area.show(),this.area.alignByEvent(e),this.hiliteAll(),n<5?this.area.$control.addClass("b-drag-helper_few"):1!==n&&this.area.$control.addClass("b-drag-helper_many"),this.standardMessage(),ns.events.trigger("daria:dragndrop:message:start",this.mMessagesChecked)}}},a.prototype.standardMessage=function(){this.area.setText(i18n("%Drag_Куда_перенести_письма",this.count)),this.area.evaluateDimensions()},a.prototype.onDrag=function(e){ns.events.trigger("daria:dragndrop:message:update",e),this.area.alignByEvent(e)},a.prototype.onDragEnd=function(e){this.hideHiddenFolders(),this.area.alignByEvent(this.evt,{animate:!0}),this.mMessagesChecked.isOnlyMessageChecked()&&this.check(this.checked,e),this.nohiliteAll(),ns.events.trigger("daria:dragndrop:message:dragend")},a.prototype.onDragEnter=function(t,r){var i=this.count,o={remove:i18n("%Drag_Удалить",i),mark:i18n("%Drag_Пометить_прочитанным",i),unmark:i18n("%Drag_Пометить_непрочитанным",i),tospam:i18n("%Drag_Пометить_как_спам",i),notspam:i18n("%Drag_Пометить_как_неспам",i),"reply-all":i18n("%Drag_Ответить",i),reply:i18n("%Drag_Ответить",i),forward:i18n("%Drag_Переслать",i),"messages.deselect":i18n("%Drag_Снять_выделение",i)},a="",s="";switch(this.hilite(r.target),r.name){case"move":var u=r.original_target,c=e(u).closest(".js-valid-drag-target");s=c.length?c.attr("data-title"):u.text();var l=c.attr("data-params"),d=ns.parseQuery(l),f=d.fid;d.tabId?a=i18n("%Folder_tabs_move_to_tab",s):(a=i18n("%Drag_Перенести_в_папку",i,s),this.lazyAction((function(){ns.Model.get("folder",{fid:f}).switchFolded(!1)}),300));break;case"label":s=this.getLabelText(r.target[0]);var p=this.draggable,g=p.data("id");a=n(i18n("%Drag_Пометить_меткой",i,s),g,s);break;default:r.name in o&&(a=o[r.name])}this.area.setText(a),this.area.evaluateDimensions()},a.prototype.lazyAction=function(e,t){this.lazyActionTimeout&&(clearTimeout(this.lazyActionTimeout),this.lazyActionTimeout=null),e&&(this.lazyActionTimeout=setTimeout(e,t))},a.prototype.onDragLeave=function(e,t){this.lazyAction(!1),this.standardMessage(),this.nohilite(t.target)},a.prototype.onDrop=function(e,t){this.lazyAction(!1),this.hideHiddenFolders();var n={operation:t.name,params:ns.action.getParams(t.target[0])},r=this.draggable;Daria.is3pane()&&"subject"===this.type&&t.target.closest(".js-inplace-message-toolbar").length&&(r=t.target),r.trigger("dragndrop.drop",n),this.area.hide(),this.nohilite(t.target),this.nohiliteAll(),ns.events.trigger("daria:dragndrop:message:dragend")},i.add([{test:function(t,n){var r=ns.page.current;if(ns.Model.get("folders").isFolder(r.params.current_folder,s.LabelDisabledFolders))return!1;var i=n.closest(".js-labels-item");if(!i.length||i.hasClass("js-label-no-dnd"))return!1;var o=i[0];if("messages"===r.page)return o;if("message"===r.page){var a=ns.Model.get("message",r.params);if(!s.LabelDisabledFolders.some((function(e){return a.inFolderBySymbol(e)}))&&e(".ns-view-labels").find(o).length)return o}return!1},result:function(e,t){return(new o).init(e,t)}},{test:function(e,t){if(t.is(".js-invalid-drag-target"))return!1;var n=t.closest(".js-message-subject-drop");if(n.length)return n;var r=t.closest(".js-message");if(0!==r.length&&0===t.closest(".js-cbt-item-target").length){var i=r.data("id"),o=ns.Model.get("message",{ids:i});return o?o.isDraggable()&&r:r}return!1},result:function(e,t){return(new a).init(e,t)}}]),Daria.DragMessage=a})(jQuery,Jane)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(139),i=(n.n(r),n(431));n.n(i);!(function(){var e=function(e){this.$el=$(".b-drag-helper_folder"),this.$source=$(e);var n=t.getFidByElement(e),r=ns.Model.get("folders").getFolderById(n);return this.folderName=r&&r.name||"",this.$el&&0!==this.$el.length||(this.$el=$('<div class="b-drag-helper_folder"><div class="b-drag-helper_folder__content"></div></div>').appendTo($("body"))),this.$el.css({opacity:1}),this};e.prototype.ret=function(){var e=this.$source.offset();this.$el.animate({left:e.left,top:e.top,opacity:0},$.proxy((function(){this.hide()}),this))},e.prototype.move=function(e){var t=document.documentElement,n=document.body,r=e.clientX+(t&&t.scrollLeft||n&&n.scrollLeft||0)-(t.clientLeft||0),i=e.clientY+(t&&t.scrollTop||n&&n.scrollTop||0)-(t.clientTop||0);return this.$el.offset({top:i+5,left:r+5}),this},e.prototype.show=function(){return this.$el.show(),this},e.prototype.hide=function(){return this.$el.hide(),this},e.prototype.setDefaultText=function(){return this.$el.find(".b-drag-helper_folder__content").text(i18n("%Drag_Перенести_папку",this.folderName)),this},e.prototype.setText=function(e){return this.$el.find(".b-drag-helper_folder__content").text(e),this};var t=function(){};t.getFidByElement=function(e){var t=$(e);if(!t.length)return!1;var n=Daria.parseQuery(t.data("params"));switch(ns.page.current.page){case"setup":return n.id;default:return n.fid}},t.getOffsetY=function(e){var t=document.documentElement,n=document.body;return e.clientY+(t&&t.scrollTop||n&&n.scrollTop||0)-(t.clientTop||0)},t.isOffsetTop=function(e,n){var r=t.getOffsetY(e),i=r-n.offset().top;return i>=-1&&i<=5},t.isOffsetBottom=function(e,n){var r=t.getOffsetY(e),i=n.height()+n.offset().top-r;return i>=0&&i<=5},t.isOffsetIn=function(e,n){var r=t.getOffsetY(e),i=n.offset().top,o=r-i,a=n.height()+i-r;return o>5&&a>5},t.prototype=new Jane.DragNDrop.EmptyDrag,t.prototype.CLASS_MOVEIN="mail-FolderList-Item_movein",t.prototype.CLASS_MOVEBT="mail-FolderList-Item_movebt",t.prototype.CLASS_MOVETOP="mail-FolderList-Item_movetop",t.prototype.CLASS_DROPHOVER="mail-FolderList-Item_drophover",t.prototype.init=function(e,t){this.is_active=!1,this.is_draggable=!0,this.evt=e,this.draggable=t;var n,r=ns.Model.get("folders").getMoveFoldersFid(this.getDragFid());switch(ns.page.current.page){case"setup":n=".js-setup-folders-list";break;default:n=".js-folders"}return n&&(this.$targets=$(".js-folders-item",n).filter(".fid-"+r.join(",.fid-"))),this._onPageAfterLoad=function(){this.$targets=$(".js-folders-item",n).filter(".fid-"+r.join(",.fid-"))}.bind(this),ns.events.on("ns-page-after-load",this._onPageAfterLoad),this},t.prototype.lazyAction=function(e,t){this.lazyActionTimeout&&(clearTimeout(this.lazyActionTimeout),this.lazyActionTimeout=null),e&&(this.lazyActionTimeout=setTimeout(e,t))},t.prototype.getTargetData=function(e){var t=this,n=$(e),r=[{name:"folder",test:function(e){var n=e.closest(".js-folders-item");return!(!n.length||!t.$targets.filter(n[0]).length)&&n}}];return this.testTarget(r,n)},t.prototype.onDragStart=function(t){return this.is_active=!0,ns.events.trigger("dragndrop.dragstart"),this.hiliteAll(),this.area=new e(this.draggable).setDefaultText().show().move(t),i.MetrikaService.instance().dragAndDrop.logDragFolder(),this},t.prototype.onDrag=function(e,n){this.area.move(e);var i=n&&n.target;if(i){var o=t.getFidByElement(i),a=ns.Model.get("folders").getFolderById(o),s=a&&a.name;t.isOffsetTop(e,i)?a.symbol!==r.WellKnownFolderSymbol.INBOX&&(this.area.setText(i18n("%Drag_Move_Folder_Before",s)),i.removeClass(this.CLASS_MOVEIN+" "+this.CLASS_MOVEBT).addClass(this.CLASS_MOVETOP)):t.isOffsetBottom(e,i)?(this.area.setText(i18n("%Drag_Move_Folder_Prev",s)),i.removeClass(this.CLASS_MOVEIN+" "+this.CLASS_MOVETOP).addClass(this.CLASS_MOVEBT)):t.isOffsetIn(e,i)?(this.area.setText(i18n("%Drag_Перенести_папку_в_папку",s)),i.removeClass(this.CLASS_MOVEBT+" "+this.CLASS_MOVETOP).addClass(this.CLASS_MOVEIN)):(this.area.setDefaultText(),i.removeClass(this.CLASS_MOVEBT+" "+this.CLASS_MOVETOP+" "+this.CLASS_MOVEIN))}},t.prototype.onDragEnd=function(e){this.nohiliteAll(),this.area.ret(e),ns.events.off("ns-page-after-load",this._onPageAfterLoad)},t.prototype.onDragEnter=function(e,n){var r=n.target,i=ns.Model.get("folders"),o=t.getFidByElement(r),a=i.getFolderById(o);this.area.setText(i18n("%Drag_Перенести_папку_в_папку",a&&a.name)),ns.events.trigger("dragndrop.dragenter",_.extend(e,{currentTarget:r[0],fid:o}))},t.prototype.onDragLeave=function(e,t){var n=t.target;this.area.setDefaultText(),this.lazyAction(!1),this.nohilite(n),n.removeClass(this.CLASS_MOVEIN+" "+this.CLASS_MOVETOP+" "+this.CLASS_MOVEBT)},t.prototype.onDrop=function(e,n){ns.events.off("ns-page-after-load",this._onPageAfterLoad),ns.events.trigger("dragndrop.drop"),this.lazyAction(!1),this.area.hide(),this.nohilite(n.target),this.nohiliteAll();var i,o=this.getDragFid(),a=n.target,s=t.getFidByElement(a),u=ns.Model.get("folders").getFolderById(s);t.isOffsetTop(e,a)?i=u.symbol===r.WellKnownFolderSymbol.INBOX?"putin":"putbefore":t.isOffsetBottom(e,a)?i="putnext":t.isOffsetIn(e,a)&&(i="putin"),a.removeClass(this.CLASS_MOVEBT+" "+this.CLASS_MOVETOP+" "+this.CLASS_MOVEIN),i&&ns.events.trigger("daria:folders.move",{fid:o,overFid:s,action:i})},t.prototype.hiliteAll=function(){this.$targets.addClass(this.CLASS_DROPHOVER)},t.prototype.nohiliteAll=function(){this.$targets.removeClass(this.CLASS_DROPHOVER)},t.prototype.getDragFid=function(){return t.getFidByElement(this.draggable)},Jane.DragNDrop.add({test:function(e,n){var r=n.closest(".js-folders-item");if(!r.length)return!1;var i=t.getFidByElement(r);return!!i&&(!!ns.Model.get("folders").isDraggable(i)&&r[0])},result:function(e,n){return(new t).init(e,n)}})})()},function(e,t){ns.events.on("daria:folders.move",(function(e,t){function n(e){switch(e){case"nameduplicate":return void Daria.Statusline.show({name:"folders_move_error",speed:"fast",text:i18n("%Folder_Move_Error_Nameduplicate")});case"actionerror":return void Jane.ErrorLog.send({event:"folders.move.action",status:e,action:a})}ns.events.trigger("daria:folders.move:done")}var r=ns.Model.get("folders"),i=t.fid,o=t.overFid,a=t.action,s=$.Deferred();switch(a){case"putin":r.moveIn(i,o).always(s.resolve);break;case"putnext":r.moveAfter(i,o).always(s.resolve);break;case"putbefore":r.moveBefore(i,o).always(s.resolve)}s.always(n)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4284),i=n(1282),o=n(1877),a=n(4285),s=n(4286);Daria.requestModelsForCompose=i.c,Daria.forceRefreshModelsForCompose=i.b,Daria.composeGo=function(e){return Daria.isReactiveCompose()?Object(o.a)(e):Object(r.a)(e)},Daria.openQuickReply=a.a,Daria.composesRestore=function(e){return Daria.isReactiveCompose()&&Object(s.a)(e)},Daria.composesDestroy=function(){return Daria.React.Compose&&Daria.React.Compose.destroy()}},function(e,t,n){"use strict";function r(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Vow.promise(),n=ns.router.generateUrl("compose2",Object(i.pick)(e,(function(e){return void 0!==e})));return ns.page.go(n).then(t.fulfill,(function(e){"block"!==e&&t.reject(e)}),t),t}t.a=r;var i=n(138);n.n(i)},function(e,t,n){"use strict";var r=n(924),i=n(1877);t.a=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return Object(r.a)().then((function(){return Daria.React.QuickReply.open(e,Object(i.b)(e))}))}},function(e,t,n){"use strict";var r=n(924),i=n(138),o=n.n(i);t.a=function(e){var t=ns.Model.get("settings").getSetting("storedComposeStates");return o.a.get(Daria,"React.Compose.shouldRenderStack")||t&&"undefined"!==t?Object(r.a)().then((function(){return Daria.React.Compose.restore(e)})):Promise.resolve()}},function(e,t){!(function(e,t){t.Geolocation={getData:function(){var e=$.Deferred();return navigator.geolocation.getCurrentPosition((function(t){e.resolve(t)}),(function(t){e.reject(t)})),e.promise()},checkUserRelevance:function(){return!!Modernizr.geolocation&&(!!Modernizr.mozilla&&t.uidEnds([39,94,92,44,55]))},monitoring:function(){this.checkUserRelevance()&&this.getData().done((function(t){var n=$.extend({event:"geolocation",result:"success"},t.coords);e.ErrorLog.send(n)})).fail((function(t){var n=$.extend({event:"geolocation",result:"failure"},t);e.ErrorLog.send(n)}))}}})(Jane,Daria)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(139);n.n(r);!(function(e,t){var n=function(e,n){var r=ns.Model.get("messages",n);if(e.filter.type="search",e.filter.param={},$.each(["request","fid","scope","from","to","unread","lid"],(function(t,r){n[r]&&(e.filter.param[r]=n[r])})),e.filter.param.reqid=t.React.getSearchSessionId(),e.message&&e.message.mid){r.isSearchTopResult(e.message.mid)&&(e.filter.param.tophits="yes");var i=r.getMessageByMid(e.message.mid),o=(r.models||[]).indexOf(i);o>-1&&(e.message.index=o+1)}e.filter.param=$.param(e.filter.param)},i=function(t,n,r,i){if(1===n.ids.length^1===n.tids.length){var o=n.ids.shift(),a=n.tids.shift(),s=o||a,u=ns.Model.get("message",{ids:s}),c=u.getData()||r.messageInfo;if(c&&c.date){if(t.message={thread:a?c.count:0,timestamp:c.date.timestamp,type:c.type,from:jpath(c,'.field[.type=="from"].email')[0],index:c.idx,subject:c.subject},u.isNew()&&(t.message.isnew=1),_.forEach(["widget","widget-type","widget-controls"],(function(e){r[e]&&(t.message[e]=r[e])})),c.fid){var l=ns.Model.get("folders").getFolderById(c.fid);l&&(t.message.folder={fid:l.fid},l.symbol&&(t.message.folder.symbol=l.symbol))}o?t.message.mid=o:a&&(t.message.tid=a),"show"===i&&e.watcher.get("message.may-unsubscribe")&&(t.message.actions=["unsubscribe"])}else t.message=null}else t.messages={count:n.ids.length,threads:n.tids.length}};t.actionLog=function(e,r){var o=$.extend({},ns.page.current.params),a=r.originalAction||r.action,s=ns.page.current.page,u=r.mMessagesChecked?r.mMessagesChecked.getIds():{},c=$.extend(!0,{},{ids:[],tids:[]},r.ids||{},u),l=t.getPrevPageSearchContext();if(!1!==r.islog){c.tids.length||c.ids.length||!o.ids||c.ids.push(o.ids);var d=new Date,f={timestamp:d.getTime()+60*d.getTimezoneOffset()*1e3,action:a,platform:navigator.platform,filter:{page:s,type:null,param:null}};i(f,c,r,a),"search"===o.search?n(f,o):"message"===s&&l?n(f,l.page.params):o.thread_id?(f.filter.type="thread",f.filter.param=o.thread_id):o.current_label?(f.filter.type="label",f.filter.param=o.current_label):o.current_folder?(f.filter.type="folder",f.filter.param=o.current_folder):o.extra_cond&&(f.filter.type=o.extra_cond),r.btn&&(f.btn=r.btn);var p={data:JSON.stringify(f)};"search"===f.filter.type&&(p.isSearch=!0),ns.request.addRequestParams(p),t.actionLog.send(p)}},t.actionLog.send=function(e){e.model="do-action-log",$.post("".concat(t.api.journal,"?_m=").concat(e.model),e)};var o;ns.events.on("user.action.log",t.actionLog),ns.events.on("message.action.complete",t.actionLog),ns.events.on("ns-page-after-load",(function(){var e=ns.page.current,n=ns.page.current;if(o&&"message"===o.page&&"messages"===n){var i=e.current_folder;if(i){var a=ns.Model.get("folders").getFolderBySymbol(r.WellKnownFolderSymbol.INBOX);a&&a.fid===i&&t.actionLog("pageload",{action:"gotoinbox",eventObject:{params:$.extend({islog:!0},e)}})}}o=$.extend(!0,{},ns.page.current)}))})(Jane,Daria)},function(e,t){!(function(){var e=/^([^@]+)@(.*?\.)?(ya(?:ndex\-team|money)\.(?:ru|com(\.(tr|ua))?))$/;Daria.email={},Daria.email.isCA=function(e,t){var n=e.match(/^(\+?\d+)@ya(?:ndex)?\./);return!!n&&(t&&(t.phone=n[1]),!0)},Daria.email.isCorp=function(t){return Daria.IS_CORP&&e.test(t)},Daria.email.isSupport=function(e){return new RegExp("^(?:[^@]+)@(?:support\\.yandex\\.(?:"+Daria.Config.domainZonesForReg+"|com\\.ua))$").test(e)},Daria.email.getDomain=function(e){return Daria.email.split(e).pop()},Daria.email.getLogin=function(e){var t=Daria.email.split(e);return t.pop(),t.join("@")},Daria.email.split=function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split("@")},Daria.email.normalize=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(Daria.email.getLogin(e).replace(/-/g,"."),"@").concat(Daria.email.getDomain(e))}})()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4291);!(function(e){var t={doc:"doc",docx:"doc",htm:"doc/text",html:"doc/text",mht:"doc",odt:"doc",rtf:"doc",txt:"doc/txt",pdf:"pdf",odp:"ppt",ppt:"ppt",pptx:"ppt",csv:"xls/xls",ods:"xls",ots:"xls",xls:"xls",xlsx:"xls",eml:"mail/eml",vcf:"mail/eml",exe:"application/exe",aac:"audio/audio",mka:"audio",mp3:"audio/mp3",ogg:"audio/audio",wav:"audio",wma:"audio/wma",ai:"image/ai",bmp:"image/bmp",cdr:"image/cdr",djvu:"image",eps:"image",gif:"image/gif",ico:"image",jpe:"image",jpeg:"image/jpg",jpg:"image/jpg",pcx:"image/pcx",pjpeg:"image",png:"image/png",ps:"image",psd:"image/psd",tga:"image",tif:"image/tiff",tiff:"image/tiff","3gp":"video",avi:"video/avi",flv:"video/video",m2v:"video",mkv:"video",mov:"video/mov",mp4:"video/mp4",mpe:"video",mpeg:"video",mpg:"video",qt:"video",vob:"video",wmv:"video/wmv","7z":"zip/zip",arj:"zip/zip",bz2:"zip",lzh:"zip/zip",uc2:"zip/zip",zip:"zip",rar:"rar"},n=["bmp","gif","jpg","jpeg","pjpeg","pcx","png","tif","tiff"];["apk","cab","dmg","docb","docm","gz","js","msi","phps","pptb","pptm","sea","sit","tar","torrent","xlsb","xlsm","xpi"].forEach((function(e){t[e]="general/general"})),e.getExtensionInfo=function(e){var i=Object(r.a)(e),o=(t[i]||"").split("/"),a={class:o[0]||"general",preview:$.inArray(i,n)>-1};return o.length>1&&(a.icon=o[1]),a},e.getExtension=r.a,e.splitName=r.c,e.splitAttachmentName=r.b})(Daria)},function(e,t,n){"use strict";function r(e){var t=e||"",n=t.split(".");if(1===n.length)return[t,""];var r=n.pop();return[n.join("."),r]}function i(e){return r(e)[1].toLowerCase()}function o(e){for(var t=r(e)[0],n=t.length,i=Math.min(6,n);" "===t[n-i];)i--;return{prefix:t.slice(0,n-i),suffix:t.slice(-i)}}t.c=r,t.a=i,t.b=o},function(e,t){Daria.MessageTime={getFormattedTime:function(e){var t={attach:void 0,title:void 0,message:void 0,list:void 0,full:void 0,isRelative:!1},n=this._getUserTZ(),r=new Date(Daria.now()-n),i=new Date(e-n);return r.getUTCDate()===i.getUTCDate()&&r.getUTCMonth()===i.getUTCMonth()&&r.getUTCFullYear()===i.getUTCFullYear()?(t.message=Jane.Date.format("%Date_today_at_HM",i,!0),t.list=Jane.Date.format("%Date_HM__colon",i,!0),t.attach=t.list,t.full=Jane.Date.format("%Date_dB_in_HM",i,!0),t.isRelative=!0):r.getUTCFullYear()!==i.getUTCFullYear()?(t.message=Jane.Date.format("%Date_dmy_at_HM",i,!0),t.list=Jane.Date.format("%Date_dmy__dot",i,!0),t.attach=Jane.Date.format("%Date_db",i,!0),t.title=Jane.Date.format("%Date_Format_dBY_short_year_in_HM",i,!0),t.full=t.title):(t.message=Jane.Date.format("%Date_dB_in_HM",i,!0),t.list=Jane.Date.format("%Date_db",i,!0),t.attach=t.list,t.title=t.message,t.full=Jane.Date.format("%Date_dB_in_HM",i,!0)),t},_getUserTZ:function(){return ns.Model.get("account-information").get(".tz_offset")*Jane.Date.MINUTE}}},function(e,t){Daria.getPageTitle=function(e,t){var n,r,i="",o=t.ids;switch(e){case"message":n=ns.Model.get("message",{ids:o}),r=n.getSubject();var a=n.getFromName();r&&a&&(i+=i18n("%Title_message",r)+" — "+a);break;case"messages":var s,u=t.current_folder,c=0;if(Daria.isFoldersTabPage(t)){var l=ns.Model.get("tabs").getTab(t.tabId);l&&(c=l.getUnreadCount(),s=l.get(".title"))}else if(u){var d=ns.Model.get("folders").getFolderById(u);d&&(s=d.name,c=d.new)}s&&(i+=c>0?c+" · "+s:s);break;case"compose":if(n=ns.Model.get("message",{ids:o}),!(o&&/^\d+$/.test(o)&&n.isValid())){i+=i18n("%Title_compose");break}r=n.getSubject();switch(t.oper){case"reply":case"reply-all":i+=i18n("%Title_reply",r);break;case"forward":i+=i18n("%Title_forward",r);break;default:i+=i18n("%Title_draft",r)}}return i&&(i+=" — "),i+=i18n("%Title_mail")},Daria.updateTitle=function(){var e=ns.page.current.params,t=ns.page.current.page,n=Daria.getPageTitle(t,e),r=Jane.watcher.get("pageVisible"),i=r?0:Math.min(Daria.gotNewMail,10);"compose"===t&&(i=t),jQuery("#favicon, #png16favicon, #png32favicon").remove();var o=Daria.IS_CORP?"ya-team-favicon":"main-favicon",a="/u2709/favicon/png/".concat(o,"/16/").concat(i,".png"),s="/u2709/favicon/png/".concat(o,"/32/").concat(i,".png");Modernizr.mozilla>=58&&(a+="?nocacheIcon=".concat(Math.floor(1e13*Math.random())),s+="?nocacheIcon=".concat(Math.floor(1e13*Math.random())));var u='<link id="png16favicon" rel="icon" type="image/png" href="'.concat(a,'" sizes="16x16" />')+'<link id="png32favicon" rel="icon" type="image/png" href="'.concat(s,'" sizes="32x32" />');jQuery("head").append(u),Daria.gotNewMail&&!r&&(n="* "+n),document.title=n},ns.events.on("pageVisible.change",(function(){Daria.gotNewMail=0,Daria.updateTitle()})),ns.events.on("ns-page-after-load",(function(){Daria.updateTitle()}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){function a(e){r(u,i,o,a,s,"next",e)}function s(e){r(u,i,o,a,s,"throw",e)}var u=e.apply(t,n);a(void 0)})}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(676),a=n.n(o),s=n(367);!(function(){function e(e){e.convert=n(e.text),e.convert=e.convert.replace("--\n","-- \n"),e.preview=e.convert.trim();var t=e.preview.split("\n");return t.length>3&&(e.spreview=t.slice(0,3).join("\n")),e}function t(e){e.convert=r(e.text),e.convert=Daria.Html2Text.flatDOMHtml(e.convert),e.convert=e.convert.replace("-- ","--&nbsp;").replace(">--<",">--&nbsp;<"),e.preview=Daria.Html2Text.html2text(e.convert).trim(),!e.preview&&o(e.text)&&(e.preview="< "+Object(s.default)("compose-react/Signature_picture")+" >");var t=e.preview.split("\n");return t.length>3&&(e.spreview=t.slice(0,3).join("\n")),e}function n(e){return e=Daria.Html2Text.text2html(e),e=_.unescape(e),Daria.Html2Text.html2text(e)}function r(e){return e=Daria.Html2Text.text2html(e),"<div>"+(e=_.unescape(e))+"</div>"}function o(e){return/<img[^>]*>/i.test(e)}Daria.signs={actionStatuses:{ADDED:"signature_added",APPENDED:"signature_appended",UPDATED:"signature_updated",DELETED:"signature_deleted",ERROR:"signature_appending_failed",ERROR_MAX_SIGN_LENGTH:"max_signature_length_limit_exceeded",ERROR_MAX_SIGNS_COUNT:"max_signature_count_limit_exceeded"},get _settingsModel(){return ns.Model.get("settings")},get _signsModel(){return ns.Model.get("signs")},getFilteredSigns:function(e,t){return _.filter(e,(function(e){var n=_.map(e.emails,(function(e){return e.toLowerCase()}));return 0===e.emails.length||-1!==n.indexOf(t.toLowerCase())}))},sort:function(e,t){return function(n,r){var i=_.map(arguments,(function(n){var r=0;return n.isDefault&&(r+=1),t&&n.lang===t&&(r+=2),e&&-1!==n.emails.indexOf(e)&&(r+=4),r}));return i[0]<i[1]?1:i[0]>i[1]?-1:n._idx<r._idx?1:n._idx>r._idx?-1:0}},getHtml:function(){return this._getNotEmptySigns().map(t)},getPlain:function(){return this._getNotEmptySigns().map(e)},addSignature:(function(){function e(e){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this._signsModel===ns.M.STATUS.OK){e.next=3;break}return e.next=3,ns.request("signs");case 3:return n=this._getNotEmptySigns(),n.push(t),e.next=7,this._signsModel.save(n);case 7:return e.abrupt("return",e.sent);case 8:case"end":return e.stop()}}),e,this)})));return e})(),getSignatureMatch:function(e){var t;return e&&(e=n(e),(t=e.replace(/^\s*$/gm,"").replace(/^[\n\r]+/g,"").match(/^.+$/m))&&(this.__firstLineMatch=a()(t[0]).replace(/\s/g,"\\s"))),this.__firstLineMatch||""},appendToBody:function(e,t,n,r,i){var o,a,s=[],u="html"===t;if(u?(s=this.getHtml(),o="<div><br/></div><div><br/></div>",a="<div><br/></div>"):(s=this.getPlain(),o="\n\n",a="\n"),!s.length)return e;r=r||this._settingsModel.getSetting("default_email"),i=i||Daria.Config.locale;var c=this.getFilteredSigns(s,r);c.sort(this.sort(r,i));var l=_.first(c);return l?(u&&(l.convert=Daria.Html2Text.flatDOMHtml(l.convert)),this.getSignatureMatch(l.convert)):l=this.setEmptySign(u),!n&&this._settingsModel.isSet("signature_top")?o+l.convert+a+e:e+o+l.convert+a},setEmptySign:function(e){return{text:"<div>-- </div>",convert:(function(){return e?"<div>--&nbsp;</div>":"-- "})()}},isEmpty:function(e){return!o(e)&&!n(e)},count:function(){return this._getNotEmptySigns().length},sample:function(){var e=this,t=this._settingsModel.getSetting("from_name");if(!t)return!1;var n=(ns.Model.get("userphones").getActivePhone()||{}).number;if(!n)for(var r=this._settingsModel.getSetting("emails"),i={},o=0;o<r.length;o++){var a=r[o];if(a.native&&a.validated&&Daria.email.isCA(a.address,i)){n=i.phone;break}}if(!n)return!1;var s=this._settingsModel.getSetting("default_email"),u={name:t,phone:n,email:s};return u.content=Daria.supplant("<div>--&nbsp;</div><div>{prefix}</div>{phone}",{prefix:i18n("%Signature_sample",_.escape(t)),phone:n?"<div>"+_.escape(n)+"</div>":""},!0),!this.getHtml().filter((function(t){return e.compare(t.convert,u.content)})).length&&u},compare:function(e,t){return e=e.replace(/<\/?[^>]+>/gi,"").replace(/[\s\n]/g,"").replace(/&nbsp;/g,""),t=t.replace(/<\/?[^>]+>/gi,"").replace(/[\s\n]/g,"").replace(/&nbsp;/g,""),e===t},_getNotEmptySigns:function(){var e=this;return this._signsModel.getList().filter((function(t){var n=t.text;return!e.isEmpty(n)}))}}})()},function(e,t){!(function(e){"use strict";e.UISettings={},e.UISettings.shouldShowCheckboxInsideUserpic=function(){var t=ns.Model.get("settings"),n=t.getSetting("show_checkbox_inside_userpic"),r=t.getSetting("messages_avatars");return e.is3pane()||n&&r}})(Daria)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(898);Daria.url={_checkAttachmentHasHid:function(e){if(!this._notEmptyString(e.hid))throw new Error("Attachment should have a hid")},_checkMid:function(e){if(!this._notEmptyString(e))throw new Error("Invalid message id passed")},_getAttachmentName:function(e){return e["name-uri-encoded"]||e.name||e.filename||""},_notEmptyString:function(e){return e&&"string"==typeof e},docviewer:function(e,t){return this._checkMid(t),this._checkAttachmentHasHid(e),"t"===t[0]&&(t=t.slice(1)),Daria.Config["docviewer-frontend-host"]+"/?url="+encodeURIComponent("ya-mail://"+t+"/"+e.hid)+"&name="+this._getAttachmentName(e)+"&uid="+Daria.uid},isEMLSuffixMissing:function(e,t,n){if(!n)return!1;var r=decodeURIComponent(n),i=r.split("."),o="message/rfc822"===[e,t].join("/");return _.all([i.length>1&&"eml"!==_.last(i)||1===i.length,o])},attachment:function(e,t,n){var i;if(e.url)return i=new r.a(e.url),i.replaceParams({uid:Daria.uid}),i.toString();if(!e.uploading&&"string"==typeof t){this._checkMid(t),this._checkAttachmentHasHid(e);var o=this._getAttachmentName(e);this.isEMLSuffixMissing(e.type,e.subtype,o)&&(o=encodeURIComponent(decodeURIComponent(o)+".eml")),i="https://"+Daria.Config.host+"/message_part/"+o+"?_uid="+Daria.uid+"&name="+o+"&hid="+e.hid+"&ids="+t;var a=["no_disposition","exif_rotate","thumb","preview"],s=["thumb_size","fallback_url"];n=n||{};for(var u in n)n.hasOwnProperty(u)&&(a.indexOf(u)>-1&&Boolean(n[u])?i+="&"+u+"=y":s.indexOf(u)>-1&&(i+="&"+u+"="+n[u]));return i}},archive:function(e,t){var n=_.flatten(jpath(e,".attachment")),r=_.filter(n,(function(e){return!e.inline&&(e.name||e.message)&&!e.narod})).map((function(e){return e.hid}));if(0===r.length)return!1;var i=1===r.length;r=r.join(",");var o=jpath(e,'.info.field[.type == "from"].email')[0],a=new Date(Number(e.info.date.timestamp)),s=Jane.Common.n,u=a.getFullYear()+"-"+s(a.getMonth()+1)+"-"+s(a.getDate())+"_"+s(a.getHours())+"-"+s(a.getMinutes())+"-"+s(a.getSeconds()),c=i?jpath(e,".attachment.name")[0]:"Attachments_"+o+"_"+u+".zip",l=encodeURIComponent(c),d={_uid:Daria.uid,hid:r,ids:t,name:c};return i||(d.archive="zip"),"../message_part/"+l+"?"+ns.params2query(d)},upload:function(e,t){var n="signature"===t?Daria.api["upload-signature-images"]:Daria.api["upload-attachment"],i=new r.a(n),o=i.queryParams();return _.isPlainObject(e)&&_.assign(o,e),ns.request.addRequestParams(o),i.query(o),i.toString()},cleanUpYaDisk:function(){return"".concat(Daria.Config["disk-url"],"/client/disk?from=mail_attach_trash&uid=").concat(Daria.uid,"&login=").concat(Daria.account)},increaseYaDiskSize:function(){return"".concat(Daria.Config["disk-url"],"/tuning?from=mail_attach_buy&uid=").concat(Daria.uid,"&login=").concat(Daria.account)},signUpDisk:function(){return"".concat(Daria.Config["disk-url"],"/client/disk")},diskHelp:function(){return Daria.Config["disk-help-url"]}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1494);!(function(){Daria.COPS={},Daria.COPS["abook.select-all"]=function(e){e.selectAll()},Daria.COPS["abook.deselect-all"]=function(e){e.unselectAll()},Daria.COPS["mail-common.person-popup"]=function(){return ns.events.trigger("daria:vAbookContacts.showPersonPopup",{}),Vow.fulfill()},Daria.COPS["abook.remove-contacts"]=function(e){var t=e.getCids();return ns.Model.get("abook-contacts").removeContacts(t).then((function(){ns.Model.invalidateAll(["abook-contacts","abook-selected"])})).then(r.a).then((function(){ns.page.go()}))},Daria.COPS["abook.toolbar-more-actions"]=function(e,t){var n=Daria.COPS["abook.toolbar-more-actions"];return n._openView?(n._openView.destroy(),delete n._openView):n._openView=ns.View.create("abook-extra-actions").open({where:t.buttonView.node}),Vow.fulfill()},Daria.COPS["abook.groups-dropdown"]=function(e,t){var n=Daria.COPS["abook.groups-dropdown"];return n._openView?(n._openView.destroy(),delete n._openView):n._openView=ns.View.create("abook-groups-dropdown",e.params).open({where:t.buttonView.node}),Vow.fulfill()},Daria.COPS["abook.remove-contacts-from-group"]=function(e){var t=Number(ns.page.current.params.tid||0);if(t<=0)return Vow.fulfill();Daria.Dialog.close();var n=e.getCids();return ns.Model.get("abook-groups").removeFromGroup({tids:[t],mcids:n}).then((function(){e.clear(),ns.page.go()}))},Daria.COPS["abook.compose-go"]=function(e){Daria.composeGo({to:e.emailsToString()})},Daria.COPS["abook.assign-contacts-from-group"]=function(e,t){var n=Number(t.tid),r=$(t.target),i=no.jpath(".current.params.tid",ns.page),o=e.getCids(),a=e.getContactsMcids(i),s=!0,u=[];if(_.each(a,(function(e){e.length>1&&(s=!1),u.push(e)})),0===o.length)return Vow.reject("no selected contacts");if(s)return new vow.Promise(function(e,t){ns.Model.get("abook-groups").addToGroup({tid:n,mcids:u}).then(e,t)});if(r.length&&1===o.length){var c=o[0];ns.events.trigger("daria:vAbook:showChooseEmailPopup",{cid:c,tid:n,target:t.target})}else ns.events.trigger("daria:vAbook.showGroupPopup",{type:"add-to-group",targetTid:n,shared:e.params.shared});return Vow.reject("no allContactsWithOneEmail")},Daria.COPS["abook.assign-contacts-from-phone-group"]=function(e){var t=e.getCids(),n=ns.Model.get("abook-groups"),r=n.getPhoneGroupTid();return new vow.Promise(function(e,n){ns.Model.get("abook-groups").addToGroup({tid:r,mcids:t}).then(e,n)})}})()},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){function a(e){r(u,i,o,a,s,"next",e)}function s(e){r(u,i,o,a,s,"throw",e)}var u=e.apply(t,n);a(void 0)})}}function o(e){"@babel/helpers - typeof";return(o="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function a(e){return c(e)||u(e)||s()}function s(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function u(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function c(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}Object.defineProperty(t,"__esModule",{value:!0});var l=n(4299),d=n.n(l),f=n(4301),p=n.n(f),g=n(1326),h=n(4302),m=n(4303),v=n(4305),b=n(139),y=(n.n(b),n(572)),S=(n.n(y),n(4306)),w=n(4307),O=n(4310),M=n(927);n.n(M);!(function(){function e(e,t){ns.events.trigger("daria:MOPS:action-complete",{action:e,mMessagesChecked:t}),ns.events.trigger("daria:MOPS:"+e,{})}function t(e,t,n,r){var i=[].concat(a(t.ids),a(t.tids)),o=i.map((function(e){return ns.Model.get("message",{ids:e})}));ns.Model.traverse("messages",(function(t){if(t.params.current_label===n)if("label"===e){var r=!0,i=!1,a=void 0;try{for(var s,u=o[Symbol.iterator]();!(r=(s=u.next()).done);r=!0){var c=s.value;t.insertMessageBySort(c)}}catch(e){i=!0,a=e}finally{try{r||null==u.return||u.return()}finally{if(i)throw a}}}else t.remove(o)})),Jane.watcher.set("actions-message-label",e,{force:!0}),ns.events.trigger("message.action.complete",{action:e,eventObject:{ids:t,params:r},skipFocus:!0})}function n(e){return!(!e||"object"!==o(e))&&(e.ids.length>0||e.tids.length>0)}function r(e){var t=e.ids.concat(e.tids),n=t.filter((function(e){return!ns.Model.get("state-message-thread-item",{ids:e}).isOpen()}));if(Daria.Page.isParamsForMessage(ns.page.current.params)){var r=Daria.Page.getMessageId(ns.page.current.params);n=_.without(n,r)}if(n.length){var i={type:"mark_read_from_list",mids:n};Jane.ErrorLog.send(i)}}function s(e){var t=e.getLidsSet();t.size&&ns.Model.traverse("messages",(function(e){e.params.current_label&&t.has(e.params.current_label)&&e.invalidate()}))}function u(e,t,r,i){var o=!i&&Daria.MOPS.HooksManager.instance().runBefore(e,u,[e,t,r]);if(o)return o;var c;r=C(e,r),c=r.current_folder,e=Daria.MOPS.fixMoveAction(e,c);var l=[],d=r["message-id"],f=t.isFolderSelected(),p=t.isTabSelected(),g=f?t.getSelectedFolder():null,m=p?t.getSelectedTab():null,v=ns.page.current.params,S=t.getCount(),w=t.getIds(e,r),O=r.tabId;Daria.MOPS._logMops("move",e,"start",w,r),d&&(w.ids=$.grep(w.ids,(function(e){return e===d})));var M=[].concat(a(w.ids),a(w.tids)).map((function(e){return ns.Model.get("message",{ids:e})})),D=M.some((function(e){return e.isValid()&&e.isInTab()})),x=_.extend({},r,{ids:w,count:S,action:e});if(x.whereToGo=Daria.messages.whereToGoAfterMove(e,t,x),ns.events.trigger("daria:MOPS:action-start",x),!n(w))return Vow.reject("no selected ids");var E=ns.Model.get("folders").isCurrentFolder(b.WellKnownFolderSymbol.SENT),P={id:"do-messages",params:{movefile:c,action:e,with_sent:-1!==["move","tospam","delete"].indexOf(e)&&E?1:0}};if(Daria.areFoldersTabsEnabled()&&O&&(P.params.tabId=O),m?P.params.tab=m:g?P.params.fid=g:P.params=_.extend({},P.params,w),!Daria.MOPS._checkDoMessagesParams(P.params))return Vow.reject("moveHelper: not enough params for request in do-messages");l.push(P,{id:"folders"},{id:"labels"}),Daria.areFoldersTabsEnabled()&&(O||D)&&l.push({id:"tabs"}),Daria.isPriorityTab()&&l.push({id:"messages",params:{current_label:ns.Model.get("labels").getPriorityLID()}}),Daria.isAttachmentsTab()&&l.push({id:"messages",params:{goto:"all",extra_cond:"only_atta",sort_type:"date"}}),Daria.isSearchPage()&&v[y.SearchQueryParams.DELETED]&&l.push({id:"messages",params:v});var k=M.some((function(e){return e.isTrash()}));"delete"===e&&k&&ns.Model.invalidate("messages",(function(e){return e.params[y.SearchQueryParams.DELETED]}));var j=Daria.is3pane();if(v.thread_id&&v.current_folder){var A=ns.Model.get("messages",{thread_id:v.thread_id}),I=A.getCountThreadMessageInFolder();if(I&&w.ids.forEach((function(e){ns.Model.get("message",{ids:e}).getFolderId()===v.current_folder&&I--})),!I){j&&Daria.lom.deleteFid(v.current_folder);var R=Daria.messages.getPageAfterSettingForAction(e,r),B=R.pageAfterSetting,F=ns.router(x.whereToGo.where);"messages"===F.page&&F.params.thread_id&&"next_message"!==B&&(delete F.params.thread_id,x.whereToGo.where=ns.router.generateUrl(F.page,F.params),x.whereToGo.updateRequired=!0)}}else j&&Daria.lom.deleteFid(v.current_folder);Daria.MOPS.invalidateModelsOnMove(e,r,v);var L=t.getOnlyCheckedMidOrTid(w),N=ns.Model.get("message",{ids:L}),H=N.isSpam(),U=Boolean(ns.page.current.params.ids||ns.page.current.params.thread_id),W=Boolean("messages"===ns.page.current.page&&U),z=Boolean(W&&Daria.is2pane()&&(ns.page.current.params.ids||ns.page.current.params.thread_id&&_.lte(N.getThreadMessage().getThreadCount()||0,1)||N.isThreadModel())&&"delete"===e),V=!1;if(W&&Daria.is3pane())if(ns.page.current.params.thread_id&&-1!==["move","tospam","delete"].indexOf(e))V=-1!==w.tids.indexOf(ns.page.current.params.thread_id)||w.ids.some((function(e){var t=ns.Model.get("message",{ids:e}),n=t&&t.getThreadMessage();return n&&n.get(".mid")===ns.page.current.params.thread_id&&(n.getThreadCount()||0)<=1}));else if(ns.page.current.params.ids&&-1!==["move","tospam","delete"].indexOf(e))if(-1!==w.ids.indexOf(ns.page.current.params.ids))V=!0;else{var q=ns.Model.get("message",{ids:ns.page.current.params.ids}),G=q&&q.getThreadMessage();V=G&&-1!==w.tids.indexOf(G.get(".mid"))}if("delete"===e||e.indexOf("spam")>=0||"move"===e&&H){var K=Daria.array2obj(w.ids);1===w.ids.length^1===w.tids.length&&(x.messageInfo=_.cloneDeep(ns.Model.get("message",{ids:L})),r.messageInfo=x.messageInfo);var Y=Daria.array2obj(w.tids);ns.Model.traverse("message-body",(function(e){(K[e.params.ids]||Y["t"+e.params.ids])&&(e.invalidate(),e.trigger("daria:mMessageBody:moved"))})),[].concat(a(w.ids),a(w.tids)).forEach((function(e){ns.Model.get("message-widget-state",{ids:e}).resetViewUserClose("message-widget-spam",{silent:!0})})),s(t)}Array.isArray(r.requestModels)&&(l=l.concat(r.requestModels.map((function(e){return{id:e,params:r.requestParams}})))),Daria.MOPS.doActionInModelsByIds(w,"move",{fid:c,tabId:O}),Daria.MOPS.invalidateMessagesCheckedModels(w,e),r.ignoreUnsavedDraft&&ns.page.block.clear(),V&&(ns.page.go(Daria.Page.generateUrl.closeMessage()),ns.Model.get("focus").setPreventOpenOnFocus()),Daria.MOPS._logMops("move",e,"startRequest",w,r);var J=ns.forcedRequest(l);return T(e,t),J.then((function(t){var n=t[0].data,i=n.taskType||"sync";if(S>(parseInt(ns.Model.get("settings").getSetting("messages_per_page"),10)||30)){var o=ns.Model.get("folders"),a=o.isFolder(t[0].params.movefile,[b.WellKnownFolderSymbol.TRASH]),s=o.isFolder(ns.page.current.params.current_folder,[b.WellKnownFolderSymbol.TRASH]),u=s&&a,c=u?"delete-from-trash":e;Daria.MOPS.showStatusline(c,w,S,Object.assign({},r,{isTaskAsync:"async"===i}))}z&&ns.page.go(Daria.Page.generateUrl.closeMessage()),ns.events.trigger("daria:MOPS:action-complete",x),ns.events.trigger("daria:MOPS:"+e,Object.assign({actionStatus:"success"},x)),ns.events.trigger("message.action.complete",x),Object(h.a)(e,M)}),(function(t){z&&ns.page.go(Daria.Page.generateUrl.closeMessage()),ns.events.trigger("daria:MOPS:action-failed",x),ns.events.trigger("daria:MOPS:"+e,Object.assign({actionStatus:"fail"},x));var n=x.ids,r=x.count,i=x.fid,o=x.tabId;return Daria.MOPS.registerOperationFail(e,{ids:n,count:r,fid:i,tabId:o},t,"do-messages"),Vow.reject(t)}))}function c(t,i,o,a){o=o||{};var s=!a&&Daria.MOPS.HooksManager.instance().runBefore(t,c,[t,i,o]);if(s)return s;var u,l,d,f,p=i.isFolderSelected(),g=i.getSelectedFolder(),h=i.isTabSelected(),m=i.getSelectedTab();if(h){if(!m)return Daria.DEBUG&&console.error("Promise rejected because of no tabId"),Vow.reject("no-selection");u=Daria.MOPS.markByTab(t,m),u.hasTabsAdjust()&&(l=u.getIds())}else if(p){if(!g)return Daria.DEBUG&&console.error("Promise rejected because of no fid"),Vow.reject("no-selection");u=Daria.MOPS.markByFid(t,g),u.hasAdjust()&&(l=u.getIds())}else{var v=i.getIds();if(d=i.getCount(),u=Daria.MOPS.doActionInModelsByIds(v,t,{fid:g,tabId:m}),l=u.getIds(),!n(l)&&n(v))return Vow.reject("no-item-to-operation")}var b=u.hasAdjust(),y=u.hasTabsAdjust(),S=[],w={id:"do-messages",params:{action:t}};if(m?w.params.tabId=m:g?w.params.fid=g:(w.params=_.extend({},w.params,l),"mark"===t&&r(l)),!Daria.MOPS._checkDoMessagesParams(w.params))return setTimeout((function(){return Daria.MOPS._undoFailedAction(t,u)}),1),Vow.reject("mark: not enough params for request in do-messages");S.push(w),!Daria.IS_CORP&&b||S.push({id:"folders"}),!Daria.areFoldersTabsEnabled()||!Daria.IS_CORP&&y||S.push({id:"tabs"});var O=function(e){var n=w.params.fid;Daria.MOPS.registerOperationFail(t,{ids:l,count:d,fid:n,tabId:m},e,"do-messages"),Daria.MOPS._hasModelRequestFailed(e,"do-messages")&&Daria.MOPS._undoFailedAction(t,u)};if(b||y)e(t,i),ns.forcedRequest(S).then((function(){}),O),f=Vow.resolve();else{var M=ns.forcedRequest(S);M.then((function(){return e(t,i)}),O),f=M}return o.noResetChecked||T(t,i),f}function l(e,r,i){var s,u=r.isFolderSelected(),c=r.isTabSelected();if("object"===o(i)&&i?(i.actionParams&&(i=i.actionParams),s=i.lid||i.label||i.current_label):s=i,!s)return Vow.reject("No lid passed");var l=i["message-id"];i={lid:s};var d;if(d=l?{ids:[l],tids:[]}:r.getIds(),"toggleLabel"===e){var f=[].concat(a(d.ids),a(d.tids)).some((function(e){return!ns.Model.get("message",{ids:e}).hasLabel(s)}));e=f?"label":"unlabel"}var p=Daria.MOPS.doActionInModelsByIds(d,e,i);if(d=p.getIds(),!n(d))return Daria.DEBUG&&console.error("Promise rejected because of no selection"),Vow.reject("no-selection");ns.events.trigger("label.update-message-labels");var g=[],h={id:"do-"+e,params:{lid:s}};c?h.params.tabId=r.getSelectedTab():u?h.params.fid=r.getSelectedFolder():h.params=_.extend({},h.params,d),g.push(h);var m;return p.hasAdjust()?(ns.Model.get("labels").adjustCounters(p.getAdjust()),m=ns.forcedRequest(g),m.then((function(n){var r=n[0].data,o=r.taskType||"sync";Daria.MOPS.showStatusline(e,d,null,Object.assign({},i,{isTaskAsync:"async"===o})),t(e,d,s,i),ns.page.go()}))):(g.push({id:"labels"}),m=ns.forcedRequest(g),m.then((function(n){n[0].getAffectedTids().forEach((function(t){ns.Model.get("message",{ids:t})[e](i)}));var r=n[0].data,o=r.taskType||"sync";Daria.MOPS.showStatusline(e,d,null,Object.assign({},i,{isTaskAsync:"async"===o})),t(e,d,s,i)}))),m}function f(e,t){var n=ns.Model.get("labels"),r=t.tids;Array.isArray(r)||(r=[r]);var i,o,a,s,u=n.getMuteThreadLabel(),c=[];_.contains(["ignore","disableIgnore"],e)?(o="label","ignore"===e?(a="Игнорировать",i=u&&u.lid):(a="Не предлагать",s=n.getLIDByName("ignore_thisthread:disable"),i=s&&s.lid)):(o="unlabel",i=u&&u.lid,a="Отменить");var l=Vow.promise();return i?l.fulfill(i):(c=[{id:"do-labels-add-by-symbol",params:{symbol:"mute_label"}},{id:"labels"}],"disableIgnore"===e&&(c=[{id:"do-labels-add",params:{label_name:"ignore_thisthread:disable",label_type:"threadWide"}},{id:"labels"}]),l=ns.forcedRequest(c).then((function(t){if(t[0].get(".body.updated")){var n;return n=_.contains(["ignore","unignore"],e)?t[1].getMuteThreadLabel():t[1].getLabelByName("ignore_thisthread:disable"),Vow.fulfill(n&&n.lid)}return Vow.reject("not possible to add label: ".concat(t))}))),Jane.c("Статуслайн игнорирования треда",a),l.then((function(e){return _.each(r,(function(t){ns.Model.get("message",{ids:t})[o]({lid:e})})),c=[{id:"do-"+o,params:{lid:e,tids:r}}],ns.forcedRequest(c)}))}function D(e,t){Daria.MOPS._logMops("archive","archive","start",e.getIds("archive",t),t);var n=ns.Model.get("folders");return n.createArchiveFolder().then((function(){var r=n.getFidBySymbol(b.WellKnownFolderSymbol.ARCHIVE);return r?(t=_.extend({originalAction:"archive",fid:r,noResetChecked:!0},t),c("mark",e,t).then((function(){}),(function(e){if("no-item-to-operation"!==e)throw e})).then((function(){return u("move",e,t)}))):Vow.reject("No folder with archive symbol found!")}))}function T(e,t){"message"!==ns.page.current.page&&(t.isFolderOrTabSelected()||_.contains(["mark","unmark","move","notspam","tospam","pin","unpin","delete"],e))&&t.resetChecked()}var x=function(e,t){var n={delete:"trash",tospam:"spam",notspam:"inbox"};return _.has(n,e)&&(t=ns.Model.get("folders").getFidBySymbol(n[e])),t},C=function(e,t){return t=t||{},t.folder&&(t.fid=t.folder,delete t.folder),t.current_folder=x(e,t.fid||ns.page.current.params.current_folder),t};Daria.MOPS={OperationFailNotificationManager:d.a,_failNotificationManager:new d.a,showStatusline:p.a,HooksManager:M.HooksManager,MOVE_ACTIONS:["archive","move","notspam","remove","tospam","infolder"],mark:function(e,t){return c("mark",e,t)},unmark:function(e){return c("unmark",e)},remove:function(e,t,n){return u("delete",e,t,n)},"remove.draft":function(e,t){return u("delete",e,_.extend({},t,{originalAction:"remove.draft"}))},move:function(e,t){return ns.Model.get("folders").isArchive(t.fid)?D(e,t):u("move",e,t)},infolder:function(e,t){return u("move",e,_.extend({originalAction:"infolder"},t))},archive:function(e,t){return D(e,t)},tospam:function(e,t,n){return u("tospam",e,t,n)},notspam:function(e,t){var n=Object(S.a)();if(!n)return u("notspam",e,t);var r=e.getData();return n.then((function(n){if(n)return u("notspam",e,t).then((function(e){return Daria.Statusline.show({name:"undo_not_spam",params:{onCancel:function(){Daria.MOPS.doActionWithMessages(r,"tospam",{},!0)}},isCloseButtonVisible:!1}),e}))}))},label:function(e,t){return l("label",e,t)},toggleLabel:function(e,t){return l("toggleLabel",e,t)},unlabel:function(e,t){return l("unlabel",e,t)},ignore:function(e){return f("ignore",e)},disableIgnore:function(e){return f("disableIgnore",e)},unignore:function(e){return f("unignore",e)},"unsubscribe-all":m.a,"unsubscribe-one":v.a,pin:function(e,t,n){return Daria.MOPS._pinHelper(e,!0,n)},unpin:function(e){return Daria.MOPS._pinHelper(e,!1)},"compose-edit":(function(){function e(){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,ns.page.go(ns.router.generateUrl("compose2",{ids:ns.page.current.params.ids}));case 2:if(Daria.isReactiveCompose()){e.next=4;break}return e.abrupt("return");case 4:t=ns.page.history.getPreviousPageUrl({match:"messages"}),n=ns.router.generateUrl("messages",{current_folder:ns.Model.get("folders").getFidBySymbol(b.WellKnownFolderSymbol.INBOX)}),ns.page.go(t||n);case 7:case"end":return e.stop()}}),e)})));return e})(),"reply-later-create":w.a,"reply-later-remove":O.a},Daria.MOPS.markByFid=function(e,t){var n=ns.Model.get("folders"),r=n.getUnreadCount(t);ns.Model.traverse("message",(function(n){n.getFolderId()===t&&n[e]()}));var i={};return i[t]=-r,n.adjustUnreadCounters(i),new Daria.MOPS.Opinfo},Daria.MOPS.markByTab=function(e,t){var n=ns.Model.get("tabs"),r=n.getUnreadCount(t);ns.Model.traverse("message",(function(n){n.getTabId()===t&&n[e]()}));var i={};return i[t]=-r,this._adjustTabsUnreads(i),new Daria.MOPS.Opinfo},Daria.MOPS.markReadTab=function(e){ns.Model.get("tabs").getUnreadCount(e)&&(["message-nearest","message-thread-nearest"].forEach((function(e){ns.Model.invalidate(e)})),ns.forcedRequest([{id:"do-folder-mark-read",params:{tabId:e}}]).fail((function(t){return Daria.MOPS.registerOperationFail("mark",{tabId:e},t,"do-folder-mark-read")})),Daria.MOPS.markByTab("mark",e))},Daria.MOPS.doActionInModelsByIds=function(e,t,n){var r=[].concat(e.ids,e.tids);return Daria.MOPS.doActionInMessages(r,t,n)},Daria.MOPS.doActionInMessages=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=new Daria.MOPS.Opinfo;return e.forEach((function(e){var i=ns.Model.get("message",{ids:e});if(i.getData()){var o=i[t](n);r.merge(o)}})),r.hasAdjust()&&"fid"in n&&ns.Model.get("folders").adjustUnreadCounters(r.getAdjust()),Daria.areFoldersTabsEnabled()&&r.hasTabsAdjust()&&"tabId"in n&&this._adjustTabsUnreads(r.getTabsAdjust()),Daria.isPriorityTabEnabled()&&r.hasLabelsUnreadAdjust()&&ns.Model.get("labels").adjustUnreadCounters(r.getLabelsUnreadAdjust()),r},Daria.MOPS.fixMoveAction=function(e,t){var n=ns.Model.get("folders");return"move"===e&&(n.isFolder(t,[b.WellKnownFolderSymbol.TRASH])?e="delete":n.isFolder(t,[b.WellKnownFolderSymbol.SPAM])&&(e="tospam")),e},Daria.MOPS.invalidateModelsOnMove=function(e,t,n){if(ns.Model.destroyAll(["message-nearest"]),["delete","tospam","notspam"].indexOf(e)>-1&&ns.Model.destroyAll(["message-thread-nearest"]),ns.Model.isDefined("messages-pager")){ns.Model.get("messages-pager",n).destroy();var r=t.current_folder;r&&ns.Model.get("messages-pager",{current_folder:r}).destroy()}},Daria.MOPS.invalidateMessagesCheckedModels=function(e,t){"delete"===t&&(e=[].concat(e.ids,e.tids),ns.Model.traverse("messages-checked",(function(t){var n=t.getIds(),r=_(n).chain().values().flattenDeep().compact().map((function(e){return"t"===e.charAt(0)?e.substr(1):e})).value();r.length&&r.some((function(t){return _.include(e,t)}))&&t.resetChecked()})))},Daria.MOPS.updateHelper=function(e,t,n,r){var i=function(){ns.events.trigger("daria:vToolbarButton:loader:end")},o=Daria.MOPS[e](t,n);if(o){if(o.then(i,i),r){var a=function(){return o};return r.update(ns.page.current.params).then(a,a)}return o}},Daria.MOPS.getFakeMessagesChecked=function(e){var t=ns.Model.get("messages-checked",{mid:"mops-fake-checked"});return e=Array.isArray(e)?e:[e],e.forEach((function(e){var n=ns.Model.get("message",{ids:e});t.check(n,!0)})),t},Daria.MOPS.doActionWithMessages=function(e,t,n,r){var i=Daria.MOPS.getFakeMessagesChecked(e),o=function(){i.destroy()};Daria.MOPS[t](i,n,r).then(o,o)},Daria.MOPS._pinHelper=function(e,t,n){var r=t?"pin":"unpin",i=ns.Model.get("labels").getPinnedLabel().lid,o="pin"===r?"label":"unlabel";return t&&!n&&Daria.MOPS.shouldShowConfirmation(r,e.getCount())?void ns.Model.get("mops-confirmation").setMops({action:r,count:e.getCount(),callback:function(){return Daria.MOPS.pin(e,t,!0)}}):(t?Daria.Statusline.show({name:"message_pinned",text:i18n("%Pinned_Письмо_будет_запинено",e.getCount())}):Daria.Statusline.show({name:"message_unpinned",text:i18n("%Pinned_Письмо_будет_распинено",e.getCount())}),l(o,e,{lid:i}),Daria.MOPS.updateModelsAfterPin(e,t))},Daria.MOPS._getReplacementTreeAfterPin=function(e,t){var n=ns.Model.get("settings"),r=n.isThreaded(),i=e.getData(),o={};return i.forEach((function(e){var n=ns.Model.get("message",{ids:e});if(n.isIntoThread()&&!n.isThread()&&r){var i=ns.Model.get("message",{ids:n.getThreadId()}),a=ns.Model.get("messages",{thread_id:n.getThreadId()}),s=a.getPinned();t||0===s.length?(o[i.get(".mid")]=i,delete o[n.get(".mid")]):!t&&s>0&&delete o[n.get(".mid")]}else o[n.get(".mid")]=n})),o},Daria.MOPS._undoFailedAction=function(e,t){_.includes(["mark","unmark"],e)&&(t.getSavedMids().map((function(e){return ns.Model.get("message",{ids:e})})).forEach((function(t){"mark"===e&&t.unmark(),"unmark"===e&&t.mark()})),t.getSavedTids().forEach((function(e){ns.Model.get("message",{ids:e}).set(".new",t.getSavedUnreadCounter(e))})))},Daria.MOPS._hasModelRequestFailed=function(e,t){return Boolean(_.find(e.invalid,(function(e){return e.id===t})))},Daria.MOPS.updateModelsAfterPin=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=Daria.MOPS._getReplacementTreeAfterPin(e,t),i=Object.keys(r).map((function(e){return ns.Model.get("message",{ids:e})}));return ns.Model.traverse("messages",(function(e){"yes"===e.params.with_pins&&e.recalculateIndexesAfterPin(i,t)})),n||T(t?"pin":"unpin",e),Vow.fulfill()},Daria.MOPS.shouldShowConfirmation=function(e,t){var n=ns.page.current.params,r=n.current_folder?ns.Model.get("folder",{fid:n.current_folder}).get(".symbol"):"";return!(b.ClearEnabledFolders.indexOf(r)>=0)&&("pin"===e&&t>=Daria.Constants.MAX_MESSAGES_TO_PIN||["tospam","delete"].indexOf(e)>=0&&t>=Daria.Constants.MAX_MESSAGES_TO_REMOVE_OR_SPAM)},Daria.MOPS._getSourceFoldersLogParams=function(e){var t=e.ids,n=e.tids,r={},i={};[].concat(a(t),a(n)).forEach((function(e){var t=ns.Model.get("message",{ids:e});t.isInTab()?i[t.getTabId()]=!0:r[t.getFolderId()]=!0}));var o=Object.keys(r).map((function(e){return{kind:"folder",source_id:e,source_type:Object(g.c)(e)}})),s=Object.keys(i).map((function(e){return{kind:"tab",source_id:e,source_type:e}}));return[].concat(a(o),a(s))},Daria.MOPS._logMops=function(e,t,n,r){var i=r.ids,o=void 0===i?[]:i,a=r.tids,s=void 0===a?[]:a,u=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};if(o.length||s.length){var c=u.tab||u.tabId,l=Object.assign({helper:e,action:t,actionStage:n,ids:o.join(","),tids:s.join(","),time:Date.now(),kind:"folder",target_type:Object(g.c)(u.current_folder),target_id:u.current_folder,page:Daria.MOPS._getPageParam()},_.pick(u,"originalAction","fid","folder","toolbar","noResetChecked"));Daria.areFoldersTabsEnabled()&&c?(l.kind="tab",l.target_type=c,l.target_id=c):(l.kind="folder",l.target_type=Object(g.c)(u.current_folder),l.target_id=u.current_folder),"start"===n&&(l.sources=Daria.MOPS._getSourceFoldersLogParams({ids:o,tids:s})),Daria.monitoring.journal("MOPS",l),Daria.DEBUG&&console.log("[MOPS]",l)}},Daria.MOPS._getPageParam=function(){return Daria.isPriorityTab()?"priority_tab":Daria.isAttachmentsTab()?"attachments_tab":Daria.isSearchPage()?"search":Daria.isMessagePage()?"message":Daria.isThreadPage()?"thread":Daria.isFoldersTabPage()?"tab":Daria.isMessagesListPage()?"folder":"unknown"},Daria.MOPS.registerOperationFail=function(e,t,n,r){!_.find(n.invalid,(function(e){return e.id===r}))||Daria.MOPS._failNotificationManager.registerOperationFail(e,t)},Daria.MOPS._checkDoMessagesParams=function(e){return!(_.isEmpty(e.ids)&&_.isEmpty(e.tids)&&!Boolean(e.fid)&&!Boolean(e.tabId||Boolean(e.tab))&&(Jane.ErrorLog.send({errorType:"do_messages_not_enough_params_for_request",requestParams:JSON.stringify(e)}),1))},Daria.MOPS._adjustTabsUnreads=function(e){var t=ns.Model.get("tabs").adjustUnreadCounters(e);ns.Model.get("folders").adjustUnreadCounters({1:t})}})()},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var a=n(4300),s=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.fails,i=t.messages,o=t.notifications,s=t.time;r(this,e),this._threshold={fails:n||5,messages:i||5,notifications:o||1,time:s||6e4},this._failOperationsQueue=new a(this._threshold.fails,this._threshold.time),this._resetNotificationShow()}return o(e,[{key:"_resetNotificationShow",value:function(){this._notificationShowCount=0,clearTimeout(this._resetNotificationTimer),this._resetNotificationTimer=null}},{key:"_registerOperationFail",value:function(){this._failOperationsQueue.registerEvent()}},{key:"_shouldShowNotification",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.count,n=void 0===t?0:t,r=e.fid,i=e.tabId,o=this._failOperationsQueue.hasMaxEventsForTimeInterval(),a=this._notificationShowCount,s=this._threshold,u=s.notifications,c=s.messages,l=!n&&(void 0!==r||void 0!==i);return(o||n>=c||l)&&a<u}},{key:"_setNotificationShow",value:function(){var e=this;this._notificationShowCount+=1,this._resetNotificationTimer||(this._resetNotificationTimer=setTimeout((function(){return e._resetNotificationShow()}),this._threshold.time))}},{key:"_logNotificationShow",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"unknown",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.count,r=void 0===n?"unknown":n,i=t.fid,o=t.tabId,a={type:"mops_fail_notification_show",action:e};void 0===i?a.msgsCount=r:(o&&(a.tabId=o),a.fid=i),Jane.ErrorLog.send(a)}},{key:"registerOperationFail",value:function(e,t){this._registerOperationFail(),this._shouldShowNotification(t)&&this.showNotification(e,t)}},{key:"showNotification",value:function(e,t){Daria.Statusline.show({name:"mops_failed",text:i18n("%mops_fail_notification"),speed:"fast",hideOnTimeout:!0,timeout:2e4}),this._setNotificationShow(),this._logNotificationShow(e,t)}}]),e})();s.EventsTimeQueue=a,e.exports=s},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var a=(function(){function e(t,n){r(this,e),this._events=[],this._time=n,this._capacity=t}return o(e,[{key:"hasMaxEventsForTimeInterval",value:function(){if(this._events.length<this._capacity)return!1;var e=Date.now(),t=this._events.length-this._capacity;return Math.abs(e-this._events[t])<=this._time}},{key:"registerEvent",value:function(){this._events.push(Date.now());var e=this._events.length;e>2*this._capacity&&(this._events=this._events.slice(e-this._capacity))}}]),e})();e.exports=a},function(e,t){var n={move:{sync:{message:function(e){return i18n("%Message_Move_Msg_One",e)},messages:function(e){return i18n("%Message_Move_Msg",e)}},async:{messages:function(){return i18n("%Message_Move_Msg_async")}}},archive:{sync:{message:function(e){return i18n("%Message_MoveArchive_Msg_One",e)},messages:function(e){return i18n("%Message_MoveArchive_Msg",e)}},async:{messages:function(){return i18n("%Message_MoveArchive_Msg_async")}}},tospam:{sync:{messages:function(e){return i18n("%Message_To_Spam_Msg",e)}},async:{messages:function(){return i18n("%Message_To_Spam_Msg_async")}}},notspam:{async:{messages:function(){return i18n("%Message_Not_Spam_Msg_async")}}},label:{async:{messages:function(){return i18n("%Message_Label_Msg_async")}}},unlabel:{async:{messages:function(){return i18n("%Message_Unlabel_Msg_async")}}},"delete-from-trash":{async:{messages:function(){return i18n("%Message_Delete_From_Trash_Msg_async")}}},delete:{sync:{messages:function(e){return i18n("%Message_Delete_Msg",e)}},async:{messages:function(){return i18n("%Message_Delete_Msg_async")}}}};e.exports=function(e,t,r,i){var o={speed:"fast"};switch(e){case"notspam":i.isTaskAsync?(o.name="message_not_spam_async",o.text=n[e].async.messages()):(o.params={count:r},o.name="message_not_spam");break;case"tospam":case"delete":i.isTaskAsync?o.text=n[e].async.messages():o.text=n[e].sync.messages(r),o.name="message_removed";break;case"delete-from-trash":o.text=n[e].async.messages(),o.name="message_delete-from-trash";break;case"label":case"unlabel":if(!i.isTaskAsync)return;o.text=n[e].async.messages(),o.name="messages_".concat(e);break;case"move":var a=_.escape(ns.Model.get("message",{ids:t.ids.length?t.ids[0]:t.tids[0]}).getSubject());o.name="messages_moved","archive"===i.originalAction&&(o.name="messages_moved_archive",e="archive"),o.text=1===r?n[e].sync.message(a):i.isTaskAsync?n[e].async.messages():n[e].sync.messages(r)}Daria.Statusline.show(o)}},function(e,t,n){"use strict";function r(e,t){return a(e)||o(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function a(e){if(Array.isArray(e))return e}function s(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function u(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function c(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){function o(e){u(s,r,i,o,a,"next",e)}function a(e){u(s,r,i,o,a,"throw",e)}var s=e.apply(t,n);o(void 0)})}}function l(){return l=c(regeneratorRuntime.mark((function e(t,n){var r,i,o,a,s,u,c,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Object(m.isCorp)()&&"delete"===t&&!Object(v.hasFeature)(v.Features.WEB_UNSUBSCRIBE_ON_DELETE)){e.next=2;break}return e.abrupt("return");case 2:if(r=ns.Model.get("settings").getSign(b),r=r&&Number(r),!((i=r&&Daria.now()-r)&&i<14*Jane.Date.DAY)){e.next=7;break}return e.abrupt("return");case 7:if(o=n.some((function(e){return e.isNew()}))){e.next=10;break}return e.abrupt("return");case 10:if(!(a=n.some((function(e){return!e.isSubscriptionMessage()})))){e.next=13;break}return e.abrupt("return");case 13:if(s=n.map((function(e){return e.getSubscriptionData()})),u=g.a.unique(s.map((function(e){return JSON.stringify(e)}))),1===u.length){e.next=17;break}return e.abrupt("return");case 17:return c=s[0],e.next=20,d();case 20:if(l=e.sent){e.next=23;break}return e.abrupt("return");case 23:if(!l.hasSubscription(c.email)){e.next=25;break}return e.abrupt("return");case 25:Daria.Statusline.show({name:"confirm_unsubscribe",size:"m",isCloseButtonVisible:!1,callOnCloseOnTimeout:!0,params:{email:c.email,onAction:function(){return Object(h.h)([c])},onCancel:_},onClose:_});case 26:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)}function d(){return f.apply(this,arguments)}function f(){return f=c(regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,ns.request("get-hidden-subscriptions/v1");case 3:return t=e.sent,n=r(t,1),i=n[0],e.abrupt("return",i);case 9:return e.prev=9,e.t0=e.catch(0),e.abrupt("return",!1);case 12:case"end":return e.stop()}}),e,null,[[0,9]])}))),f.apply(this,arguments)}var p=n(138),g=n.n(p),h=n(626),m=n(356),v=n(87),b=(n.n(v),"last_remove_subscription");t.a=function(e,t){return l.apply(this,arguments)};var _=function(){ns.Model.get("settings").setSettings(s({},b,Daria.now()))}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){function a(e){r(u,i,o,a,s,"next",e)}function s(e){r(u,i,o,a,s,"throw",e)}var u=e.apply(t,n);a(void 0)})}}n.d(t,"a",(function(){return s}));var o=n(925),a=n(694),s=(n.n(a),(function(){var e=i(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.d)(t,{canDeleteLetters:!Daria.isMessageOpened()});case 2:n=e.sent,n&&n.result===a.UnsubscribeResult.SUCCESS&&t.resetChecked();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})())},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ModuleLoader=void 0;var o=i(n(137)),a=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={component:null},t}return r(t,e),t.prototype.componentDidMount=function(){var e=this;this.props.component().then((function(t){e.setState({component:t}),e.props.onLoad&&e.props.onLoad()}),(function(t){if(e.props.onError)return void e.props.onError(t);throw t}))},t.prototype.render=function(){var e=this.props.placeholder||function(){return null};return this.state.component?this.state.component:"function"==typeof e?e():e},t})(o.default.PureComponent);t.ModuleLoader=a},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){function a(e){r(u,i,o,a,s,"next",e)}function s(e){r(u,i,o,a,s,"throw",e)}var u=e.apply(t,n);a(void 0)})}}n.d(t,"a",(function(){return a}));var o=n(925),a=(function(){var e=i(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,Object(o.d)(t,{canDeleteLetters:!1});case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}})()},function(e,t,n){"use strict";function r(){return new Promise(function(e){Daria.Statusline.show({name:"confirm_not_spam",size:"m",isCloseButtonVisible:!0,hideOnTimeout:!1,hideOnClick:!1,params:{onAction:function(){e(!0)},onCancel:function(){e(!1)}}})})}t.a=r},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){function a(e){r(u,i,o,a,s,"next",e)}function s(e){r(u,i,o,a,s,"throw",e)}var u=e.apply(t,n);a(void 0)})}}n.d(t,"a",(function(){return d}));var o=n(139),a=(n.n(o),n(145)),s=(n.n(a),n(926)),u=n(678),c=(n.n(u),n(4308)),l=n(4309),d=(function(){var e=i(regeneratorRuntime.mark((function e(t,n){var r,i,d,f,p,g,h,m,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=Object(s.c)(t),!r.isReplyLaterFinished()){e.next=3;break}return e.abrupt("return",Object(l.a)(t,n));case 3:if(!r.isReplyLaterStarted()){e.next=5;break}return e.abrupt("return",Object(c.a)(t,n));case 5:if(i=r.getLastMid(),d=Math.floor(Daria.convertPassportDateToTimestamp(n.date)/1e3),f=ns.Model.get("folders"),e.prev=8,p=Object(s.b)(i),g=f.getFolderBySymbol(o.WellKnownFolderSymbol.REPLY_LATER),h=[{id:"stickers",params:{type:a.StickerType.REPLY_LATER}},{id:"folders"}],Daria.areFoldersTabsEnabled()&&h.push({id:"tabs"}),ns.Model.get("labels").getLabelBySymbolicName(u.WellKnownLabels.REPLY_LATER_STARTED)||h.push({id:"labels"}),g){e.next=20;break}return e.next=17,ns.forcedRequest([{id:"do-reply-later-create",params:{mid:i,date:d,ensureFolder:!0}}].concat(h));case 17:ns.router.buildFoldersUrls(),e.next=22;break;case 20:return e.next=22,ns.forcedRequest([{id:"do-reply-later-create",params:{mid:i,date:d}}].concat(h));case 22:Object(s.i)(p),Object(s.f)(t,n),e.next=31;break;case 26:e.prev=26,e.t0=e.catch(8),m="",e.t0&&e.t0.invalid&&(v=e.t0.invalid.find((function(e){return"do-reply-later-create"===e.id})))&&v.error.message&&(m=v.error.message),Object(s.e)(m);case 31:case"end":return e.stop()}}),e,null,[[8,26]])})));return function(t,n){return e.apply(this,arguments)}})()},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){function a(e){r(u,i,o,a,s,"next",e)}function s(e){r(u,i,o,a,s,"throw",e)}var u=e.apply(t,n);a(void 0)})}}n.d(t,"a",(function(){return s}));var o=n(145),a=(n.n(o),n(926)),s=(function(){var e=i(regeneratorRuntime.mark((function e(t,n){var r,i,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(a.c)(t),i=r.getLastMid(),s=Math.floor(Daria.convertPassportDateToTimestamp(n.date)/1e3),e.prev=3,u=Object(a.b)(i),c=[{id:"do-reply-later-update",params:{mid:i,date:s}},{id:"stickers",params:{type:o.StickerType.REPLY_LATER}},{id:"folders"}],Daria.areFoldersTabsEnabled()&&c.push({id:"tabs"}),e.next=9,ns.forcedRequest(c);case 9:Object(a.i)(u),Object(a.f)(t,n),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(3),Object(a.e)();case 16:case"end":return e.stop()}}),e,null,[[3,13]])})));return function(t,n){return e.apply(this,arguments)}})()},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){function a(e){r(u,i,o,a,s,"next",e)}function s(e){r(u,i,o,a,s,"throw",e)}var u=e.apply(t,n);a(void 0)})}}n.d(t,"a",(function(){return s}));var o=n(145),a=(n.n(o),n(926)),s=(function(){var e=i(regeneratorRuntime.mark((function e(t,n){var r,i,s,u,c;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Object(a.c)(t),i=r.getLastMid(),s=Math.floor(Daria.convertPassportDateToTimestamp(n.date)/1e3),e.prev=3,u=Object(a.b)(i),c=[{id:"do-reply-later-reset",params:{mid:i,date:s}},{id:"stickers",params:{type:o.StickerType.REPLY_LATER}},{id:"folders"}],Daria.areFoldersTabsEnabled()&&c.push({id:"tabs"}),e.next=9,ns.forcedRequest(c);case 9:Object(a.j)(t),Object(a.i)(u),Object(a.f)(t,n),e.next=17;break;case 14:e.prev=14,e.t0=e.catch(3),Object(a.e)();case 17:case"end":return e.stop()}}),e,null,[[3,14]])})));return function(t,n){return e.apply(this,arguments)}})()},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){function a(e){r(u,i,o,a,s,"next",e)}function s(e){r(u,i,o,a,s,"throw",e)}var u=e.apply(t,n);a(void 0)})}}n.d(t,"a",(function(){return u}));var o=n(139),a=(n.n(o),n(145)),s=(n.n(a),n(926)),u=(function(){var e=i(regeneratorRuntime.mark((function e(t){var n,r,i,u,c,l,d,f,p,g,h;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=Object(s.c)(t),r=n.getLastMid(),i=Object(s.d)(r),u=i.fid,c=i.tab,l=Object(s.b)(r),d={current_folder:ns.Model.get("folders").getFidBySymbol(o.WellKnownFolderSymbol.INBOX)},f=[{id:"do-reply-later-remove",params:{mid:r}},{id:"stickers",params:{type:a.StickerType.REPLY_LATER}},{id:"folders"}],Daria.areFoldersTabsEnabled()&&f.push({id:"tabs"}),p=n.isReplyLaterFinished(),e.prev=8,e.next=11,ns.forcedRequest(f);case 11:p?Object(s.j)(t):Object(s.a)(t),u!==l.current_folder&&Daria.MOPS.doActionInModelsByIds(t.getIds(),"doMove",{current_folder:u}),g=0===ns.Model.get("folder",{fid:l.current_folder}).get(".count"),("message"===ns.page.current.page||g)&&(h=ns.router.generateUrl("messages",g?d:l),ns.page.go(h)),Object(s.h)(u,c),t.resetChecked(),e.next=22;break;case 19:e.prev=19,e.t0=e.catch(8),Object(s.g)();case 22:case"end":return e.stop()}}),e,null,[[8,19]])})));return function(t){return e.apply(this,arguments)}})()},function(e,t){Daria.MOPS.Opinfo=function(){this._adjust={},this._tabsAdjust={},this._labelsUnreadAdjust={},this._mid=[],this._tid=[],this._modelsCount=0,this._savedMids=[],this._savedNewCounters={}},Daria.MOPS.Opinfo.prototype.addAdjust=function(e,t){this.hasAdjust()&&(this._adjust[e]=t)},Daria.MOPS.Opinfo.prototype.addTabsAdjust=function(e,t){this.hasTabsAdjust()&&(this._tabsAdjust[e]=t)},Daria.MOPS.Opinfo.prototype.addLabelsUnreadAdjust=function(e,t){this.hasLabelsUnreadAdjust()&&(this._labelsUnreadAdjust[e]=t)},Daria.MOPS.Opinfo.prototype.addMid=function(e){this._mid.push(e)},Daria.MOPS.Opinfo.prototype.saveMid=function(e){this._savedMids.push(e)},Daria.MOPS.Opinfo.prototype.getSavedMids=function(){return this._savedMids},Daria.MOPS.Opinfo.prototype.addTid=function(e){this._tid.push(e)},Daria.MOPS.Opinfo.prototype.checkFidAdjust=function(e,t){return!!this.hasAdjust()&&(this._adjust[t]===e||(this.resetAdjust(),!1))},Daria.MOPS.Opinfo.prototype.saveUnreadCounter=function(e,t){this._savedNewCounters[e]=t},Daria.MOPS.Opinfo.prototype.saveAffectedMids=function(){this._savedMids.concat(this._mid)},Daria.MOPS.Opinfo.prototype.getSavedUnreadCounter=function(e){return this._savedNewCounters[e]},Daria.MOPS.Opinfo.prototype.getSavedTids=function(){return Object.keys(this._savedNewCounters)},Daria.MOPS.Opinfo.prototype.checkTidAdjust=function(e,t){var n=Daria.areFoldersTabsEnabled()&&this.hasTabsAdjust(),r=this.hasAdjust();if(!r&&!n)return this._tid.push(t),!1;var i=0;if(r)for(var o in this._adjust)i+=this._adjust[o];if(n){var a=this.getTabsAdjust();i=Object.keys(a).reduce((function(e,t){return e+a[t]}),i)}return i===e||(this.resetAdjust(),this.resetTabsAdjust(),this._tid.push(t),this._mid=[],!1)},Daria.MOPS.Opinfo.prototype.getAdjust=function(){return this._adjust},Daria.MOPS.Opinfo.prototype.getTabsAdjust=function(){return this._tabsAdjust},Daria.MOPS.Opinfo.prototype.getLabelsUnreadAdjust=function(){return this._labelsUnreadAdjust},Daria.MOPS.Opinfo.prototype.getIds=function(){return{ids:this._mid,tids:this._tid}},Daria.MOPS.Opinfo.prototype.getModelsCount=function(){return this._modelsCount},Daria.MOPS.Opinfo.prototype.hasAdjust=function(){return Boolean(this._adjust)},Daria.MOPS.Opinfo.prototype.hasTabsAdjust=function(){return Boolean(this._tabsAdjust)},Daria.MOPS.Opinfo.prototype.hasLabelsUnreadAdjust=function(){return Boolean(this._labelsUnreadAdjust)},Daria.MOPS.Opinfo.prototype.merge=function(e){if(this.hasAdjust())if(e.hasAdjust()){var t=e.getAdjust(),n=this.getAdjust();for(var r in t)r in n?n[r]+=t[r]:n[r]=t[r]}else this.resetAdjust();if(this.hasTabsAdjust())if(e.hasTabsAdjust()){var i=e.getTabsAdjust(),o=this.getTabsAdjust();for(var a in i)a in o?o[a]+=i[a]:o[a]=i[a]}else this.resetTabsAdjust();if(this.hasLabelsUnreadAdjust())if(e.hasLabelsUnreadAdjust())for(var s=e.getLabelsUnreadAdjust(),u=this.getLabelsUnreadAdjust(),c=0,l=Object.keys(s);c<l.length;c++){var d=l[c];d in u?u[d]+=s[d]:u[d]=s[d]}else this.resetLabelsUnreadAdjust();this._mid=this._mid.concat(e._mid),this._tid=this._tid.concat(e._tid),this._savedMids=this._savedMids.concat(e._savedMids),this._savedNewCounters=_.assign(this._savedNewCounters,e._savedNewCounters)},Daria.MOPS.Opinfo.prototype.resetAdjust=function(){this._adjust=null},Daria.MOPS.Opinfo.prototype.resetTabsAdjust=function(){this._tabsAdjust=null},Daria.MOPS.Opinfo.prototype.resetLabelsUnreadAdjust=function(){this._labelsUnreadAdjust=null},Daria.MOPS.Opinfo.prototype.setModelsCount=function(e){this._modelsCount=e}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(139);n.n(r);Daria.MOPS.onMove=function(e,t){var n=t.current_folder,i=ns.Model.get("folders"),o=ns.Model.get("filters");1!==t.count||i.isFolder(n,r.WellKnownFolderSymbol.TRASH)||0!==o.getForFolder(n).length||_.contains(["archive","infolder"],t.originalAction)||ns.action.run("message.filter-move.show",{mid:t.ids.ids[0]||t.ids.tids[0],fid:n})},ns.events.on("daria:MOPS:move",Daria.MOPS.onMove)},function(e,t){Daria.hkMOPS={},Daria.hkMOPS.doAction=function(e,t,n){return Daria.MOPS.updateHelper(e,t,n)},Daria.hkMOPS.doUserDefinedAction=function(e,t){var n=ns.Model.get("messages-checked");if(n.getCount()>0)return void Daria.hkMOPS.doAction(e,n,t);var r,i=ns.Model.get("focus");if(i.isCurrentFocusOnMessage()){r=i.getFocus().params.ids}else"message"===ns.page.current.page&&(r=ns.page.current.params.ids);r&&Daria.MOPS.doActionWithMessages([r],e,t)},Daria.hkMOPS.runReplyAction=function(e,t){t=_.extend({toolbar:!0},t);var n=ns.Model.get("messages-checked");if(n.getCount()>0)return t.mMessagesChecked=n,void ns.action.run(e,t);var r;if("message"===ns.page.current.page&&(r=ns.page.current.params.ids))return t["message-id"]=r,void ns.action.run(e,t);var i=ns.Model.get("focus");if(i.isCurrentFocusOnMessage())if(r=i.getFocus().params.ids,"t"===r[0]){var o=Daria.MOPS.getFakeMessagesChecked([r]);t.mMessagesChecked=o,ns.action.run(e,t),o.destroy()}else t["message-id"]=r,ns.action.run(e,t)},Daria.hkMOPS.toggleImportance=function(){var e=ns.Model.get("messages-checked"),t=ns.Model.get("labels").getImportantLID();e.getCount()>0?Daria.MOPS.updateHelper("toggleLabel",e,{lid:t}):ns.page.go(ns.router.generateUrl("messages",{current_label:t}))},Daria.hkMOPS.mark=function(){var e=ns.Model.get("messages-checked");if(e.getCount()>0)return void Daria.hkMOPS.doAction("mark",e);var t=ns.Model.get("focus");if(t.isCurrentFocusOnMessage()){var n=t.getFocus();Daria.MOPS.doActionWithMessages([n.params.ids],"mark")}},Daria.hkMOPS.unmark=function(){var e=ns.Model.get("messages-checked");e.getCount()>0?Daria.hkMOPS.doAction("unmark",e):"only_new"===ns.page.current.params.extra_cond?ns.events.trigger("daria:vMessages:recalculate"):ns.page.go("#unread")},Daria.hkMOPS.remove=function(){var e=ns.Model.get("messages-checked");if(e.getCount()>0)return void Daria.hkMOPS.doAction("remove",e);var t=ns.Model.get("focus");t.isCurrentFocusOnMessage()&&Daria.MOPS.doActionWithMessages([t.getFocus().params.ids],"remove")},Daria.hkMOPS.triggerToolbarEvent=function(e,t){var n=0,r=ns.Model.get("messages-checked");if(0===r.getCount()&&t){n=200;var i=ns.Model.get("focus");if(i.isCurrentFocusOnMessage()){var o=i.getFocus().getModel("message");r.check(o,!0)}}setTimeout((function(){ns.events.trigger(e)}),n)}},function(e,t){Daria.Printer={PRINT_URL:Daria.api.print},Daria.Printer.printMessage=function(e){var t=Daria.uid,n="".concat(window.location.origin).concat(Daria.Printer.PRINT_URL,"?mid=").concat(e,"&_uid=").concat(t);window.open(n,"_blank")},Daria.Printer.printThread=function(e){var t=Daria.uid,n="".concat(window.location.origin).concat(Daria.Printer.PRINT_URL,"?tid=").concat(e,"&_uid=").concat(t);window.open(n,"_blank")}},function(e,t){Daria.bubblingQuote=function(e){e=e.replace(/^<meta[^>]*>/,"");var t=e.match(/<!--StartFragment-->(.*?)<!--EndFragment-->/);t&&(e=t[1]);var n=document.createElement("div");n.innerHTML=e;for(var r,i=n;i;){if(1!==i.childNodes.length||!Jane.DOM.isBlockquote(i.firstChild)){if(i===n)break;if(i.getElementsByTagName("blockquote").length)break;for(r=n.firstChild.cloneNode(!1),r.removeAttribute("style");i.firstChild;)r.appendChild(i.firstChild);break}i=i.firstChild}return n=null,!!r&&r.outerHTML}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(637),i=n.n(r),o=n(139);n.n(o);!(function(){function e(e){var t=ns.Model.get("folders"),n=ns.page.current.params.current_folder||e&&e.getFolderId();return t.isFolder(n,[o.WellKnownFolderSymbol.TRASH])}function t(){return ns.page.current.params.unread||Boolean(ns.page.current.params.current_label)||Boolean(ns.page.current.params.attachments)||Boolean(ns.page.current.params.search)}function n(e){return"yes"===e.params.search}Daria.messages={},Daria.messages.toCreateThread=function(e){return!e.isThread()&&(!e.isDraftLike()&&!Daria.Widgets.getWidgetName(e))},Daria.messages.clearCacheByFID=function(e){ns.Model.invalidate("messages",(function(t){return t.params.current_folder===e}))},Daria.messages.clearCacheBodyByThread=function(e){$.makeArray(e).forEach((function(e){var t=ns.Model.get("messages",{thread_id:e});t&&t.models.length&&t.models.forEach((function(e){ns.Model.get("message-body",{ids:e.get(".mid")}).invalidate()}))}))},Daria.messages.clearCacheByLID=function(e){ns.Model.invalidate("messages",(function(t){return t.params.current_label===e}))},Daria.messages.clearSearchCache=function(){ns.Model.invalidate("messages",n)},Daria.messages.preload=function(e){return},Daria.messages.everHadMessages=function(){var e=ns.Model.get("settings");if(e.getSetting("has_inbox_message"))return!0;var t=ns.Model.get("messages",ns.page.current.params);return!!t.isValid()&&(t.select('/.message[.type != "12" && .dlid != "yadisk"]').length?(e.setSettingOn("has_inbox_message"),!0):(Jane.c("Не показываем рекламу так как в инбоксе нет писем кроме приветственных"),!1))},Daria.messages.whereToGoAfterMove=function(e,t,n){n=n||{};var r,i,a,s=t?t.getIds():{ids:[],tids:[]},u=s.ids.length?s.ids[0]:s.tids[0],c=u&&ns.Model.get("message",{ids:u}),l=ns.Model.get("folders"),d=Daria.messages.getDestFolderForCurrentMessage(c,e,n),f=Daria.messages.getPageAfterSettingForAction(e,n),p=f.pageAfterSetting,g=f.settingsAction,h=[],m={},v="";switch(p){case"current_list":var b=Daria.messages.calculateUrlForCurrentListSetting(c,n,g);v=b.where,h=b.requestModels,m=b.requestParams;break;case"next_message":var y=Daria.messages.calculateUrlForNextMessageSetting(c);v=y.where,r=y.whereFolderId,i=y.whereTabId,a=y.expandMessage;break;case"inbox":r=l.getFidBySymbol(o.WellKnownFolderSymbol.INBOX),i="relevant";break;case"deleted_list":r="tospam"===e||"notspam"===e?l.getFidBySymbol(o.WellKnownFolderSymbol.SPAM):l.getFidBySymbol(o.WellKnownFolderSymbol.TRASH);break;case"source_folder":r=c.getFolderId(),i=c.getTabId(),r||(r=l.getFidBySymbol(o.WellKnownFolderSymbol.INBOX));break;case"dest_folder":r=d.folderId,i=d.tabId}if(!v&&r){var S={current_folder:r};Daria.areFoldersTabsEnabled()&&i&&(S.tabId=i),h.push("messages"),_.extend(m,S),v=ns.router.generateUrl("messages",S)}var w={where:v,requestParams:m,requestModels:h};return a&&(w.expandMessage=a),w},Daria.messages.getDestFolderForCurrentMessage=function(e,t,n){var r,i,a;switch(t){case"move":case"infolder":r=n.fid||n.folder,i=n.tabId;break;case"archive":a=o.WellKnownFolderSymbol.ARCHIVE;break;case"delete":case"remove":a=o.WellKnownFolderSymbol.TRASH;break;case"tospam":a=o.WellKnownFolderSymbol.SPAM;break;case"notspam":a=o.WellKnownFolderSymbol.INBOX}var s=ns.Model.get("folders");return!r&&a&&(r=s.getFidBySymbol(a)),Daria.is2pane()&&Daria.isMessagePage()&&_.contains(["unmark"],t)&&(r=e&&e.getFolderId()||s.getFidBySymbol(o.WellKnownFolderSymbol.INBOX)),{folderId:r,tabId:i}},Daria.messages.getPageAfterSettingForAction=function(e,t){var n=ns.Model.get("settings"),r=ns.Model.get("folders"),i="move";if(_.includes(["remove","delete"],e)&&(i="delete"),Daria.is2pane()&&Daria.isMessagePage()){_.contains(["move"],e)&&t.fid&&r.getFolderById(t.fid).symbol===o.WellKnownFolderSymbol.TRASH&&(i="delete")}var a=n.getSetting("page_after_".concat(i));if("move"===i&&(a=""),"delete"===i&&(a="next_message"===a?"next_message":"current_list"),"compose"===ns.page.current.page&&"next_message"===a&&(a="source_folder"),Daria.is2pane()&&Daria.isMessagePage()){_.contains(["unmark"],e)&&(a="dest_folder")}return Daria.is3pane()&&(a="current_list"),{pageAfterSetting:a,settingsAction:i}},Daria.messages.calculateUrlForCurrentListSetting=function(e,t,n){return Daria.is3pane()?Daria.messages._calculateUrlForListSetting3Pane(e,t,n):Daria.messages._isOpenInMessageList()&&!Daria.isMessagePage()?Daria.messages._calculateUrlForInMessageListSetting2pane(e):Daria.messages._calculateUrlForListSetting2Pane(e,t,n)},Daria.messages._calculateUrlForListSetting3Pane=function(e,t,n){var r=ns.Model.get("folders"),i=Object.assign({},ns.page.current.params);return t.ids&&(_.contains(t.ids.tids,i.thread_id)&&delete i.thread_id,_.contains(t.ids.ids,i.ids)&&delete i.ids),"delete"===n&&delete i.ids,i.search||i.unread||i.current_folder||i.current_label||(i.current_folder=r.getFidBySymbol(o.WellKnownFolderSymbol.INBOX)),{where:ns.router.generateUrl("messages",i),requestModels:[],requestParams:{}}},Daria.messages._calculateUrlForListSetting2Pane=function(e,t,n){var r="",i=[],a={},s=ns.Model.get("folders");if("move"===n)r=ns.page.currentUrl,i.push("message"),a.ids=e.getMessageThreadMid();else{var u=ns.page.history.getPrevious(),c=u&&ns.router(u);if(c&&"messages"===c.page){r=u;var l=ns.Model.info("messages").pNames,d=_.pick(c.params,(function(e,t){return l.indexOf(t)>-1}));_.extend(a,d),i.push("messages")}else{var f=e.getFolderId();f||(f=s.getFidBySymbol(o.WellKnownFolderSymbol.INBOX)),r=ns.router.generateUrl("messages",{current_folder:f})}}return{where:r,requestModels:i,requestParams:a}},Daria.messages._calculateUrlForInMessageListSetting2pane=function(e){var t=ns.Model.get("folders"),n="";if(Daria.messages._shouldStayInCurrentThread(e))n=ns.page.currentUrl;else{var r=Object.assign({},ns.page.current.params);if(e.getMessageThreadMid()===r.ids&&delete r.ids,e.getThreadId()===r.thread_id&&delete r.thread_id,!(r.search||r.unread||r.current_folder||r.current_label)){var i=e.getFolderId();i||(i=t.getFidBySymbol(o.WellKnownFolderSymbol.INBOX)),r.current_folder=i}n=ns.router.generateUrl("messages",r)}return{where:n,requestModels:[],requestParams:{}}},Daria.messages._shouldStayInCurrentThread=function(e){var t=ns.Model.get("settings"),n=t.isThreaded(),r=e.isThread();return!(!Daria.messages._isOpenInMessageList()||!n||r)&&ns.Model.get("messages",{thread_id:e.getThreadId()}).models.length>1},Daria.messages.calculateUrlForNextMessageSetting=function(n){var r,a,s,u=ns.Model.get("settings"),c=n.getThreadId(),l=Daria.messages._isOpenInMessageList(),d="",f=e(n),p=f||t(),g=u.isThreaded(),h=Daria.messages.findNearestMessage(n,i.a.NEXT);if(h){var m=h.getThreadId()===c;l&&g&&!p&&m?(r=h.getMessageThreadMid(),d=Daria.Page.generateUrl.contentMessage({tid:c,mid:c})):d=!l&&h.isThread()?Daria.Page.generateUrl.contentMessage({tid:h.getThreadId(),mid:h.getData().last_mid}):Daria.Page.generateUrl.contentMessage(h.getData())}if(!d){var v=ns.page.current.params.current_folder||n.getFolderId();if(!v){v=ns.Model.get("folders").getFidBySymbol(o.WellKnownFolderSymbol.INBOX)}a=v,s=ns.page.current.params.tabId||n.getTabId()}return{where:d,whereFolderId:a,whereTabId:s,expandMessage:r}},Daria.messages._isOpenInMessageList=function(){return ns.Model.get("settings").isSet("open-message-list")},Daria.messages.findNearestMessage=function(n){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:i.a.NEXT,o=n.getMessageThreadMid(),a=n.getThreadId(),s=e(n),u=s||t(),c=n.isThread(),l=ns.Model.get("settings"),d=l.isThreaded(),f=null;if(d&&!u&&!c){var p=ns.Model.get("messages",{thread_id:a}),g=p.getCountThreadMessageInFolder(),h=g>1||n.get(".fid")!==ns.page.current.params.current_folder;if((f=p.getNearestMessageByMid(o,r))&&h)return f}var m=Object.assign({},ns.page.current.params);m.ids===o&&delete m.ids,m.thread_id===a&&delete m.thread_id,Daria.isMessagePage()&&(m.current_folder=m.current_folder||n.getFolderId(),d&&!u&&(m.threaded="yes"),Daria.areFoldersTabsEnabled()&&!m.tabId&&(m.tabId=n.getTabId()));var v=ns.Model.get("messages",m);return f=d&&!u?v.getNearestMessageByMid(a,r):v.getNearestMessageByMid(o,r)},Daria.messages.doActionInThreads=function(e,t,n){for(var r=0,i=t.length;r<i;r++)for(var o=t[r],a=ns.Model.get("messages",{thread_id:o}),s=0,u=a.models.length;s<u;s++)a.models[s][e](n)},Daria.messages._pinsBadFolders=o.PinDisabledExtendedFolders,Daria.messages.checkUsePinsByParams=function(e){if("search"===e.search)return!1;if(e.current_label)return!1;if(e.extra_cond)return!1;if("rpopinfo"===e.scope)return!1;if(e.thread_id&&!e.current_folder)return!1;if(e.current_folder){if(ns.Model.get("folders").isFolder(e.current_folder,Daria.messages._pinsBadFolders))return!1}return!0},Daria.messages.canShowPinControlsByParams=function(e){if(e=e||ns.page.current.params,e.current_folder){if(ns.Model.get("folders").isFolder(e.current_folder,Daria.messages._pinsBadFolders))return!1}return!0},Daria.messages.createMessagesItemLayout=function(e){e=e||{};var t="layout-messages-item";return e.threadFull?t+="-thread-full":e.threadInner&&(t+="-thread-inner"),e.widget&&(t+="-"+e.widget),t}})()},function(e,t){function n(e){return o(e)||i(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function o(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}Daria.nsTreeWalker={},Daria.nsTreeWalker.findView=function(e,t){var n=e.info.isBox,r=null;r=n?e.active:e.views;var i=t[0];for(var o in r)if(_.isString(i)&&o===i||_.isRegExp(i)&&i.test(o)){var a;if(n){var s=r[o];a=e.views[s]}else a=r[o];var u=t.slice(1);return u.length?Daria.nsTreeWalker.findView(a,u):a}return null},Daria.nsTreeWalker.getViewsChildren=function(e){var t=[];return e.forEachValidItem((function(e){t.push(e)})),t},Daria.nsTreeWalker.getTreeForFocus=function(){var e=["left-box"],t=[["react-left-column"]];return[Daria.nsTreeWalker._buildColumnTree(t.map((function(t){return[].concat(e,n(t))}))),Daria.nsTreeWalker._buildColumnTree([["messages-list","messages-list-box","messages-wrap","messages"],["message-react"]].map((function(e){return["right-box"].concat(n(e))}))),Daria.nsTreeWalker._buildColumnTree([["messages-box","message-thread","message-thread-pager"],["messages-box","message-thread","message-thread-list"],["messages-box","message-react"]].map((function(e){return["right-box"].concat(n(e))})))]},Daria.nsTreeWalker._buildColumnTree=function(e){var t=e.map(Daria.nsTreeWalker._findViewByPath).map(Daria.nsTreeWalker._getViewFocusableChildren);return _.flatten(t)},Daria.nsTreeWalker._findViewByPath=function(e){return Daria.nsTreeWalker.findView(ns.MAIN_VIEW,e)},Daria.nsTreeWalker._getViewFocusableChildren=function(e){return e?(ns.assert(e.getFocusableChildren,"View: "+e.id,"Не реализован метод #getFocusableChildren()"),e.getFocusableChildren()):[]}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(425),i=n(384),o=n(610);!(function(){var e=/^[a-z]{2}$/,t={};Daria.Translate={MAX_BLOCK_LEN:1e3,getCache:function(e){return t[e]},setCache:function(e,n){t[e]=n},clearCache:function(e){delete t[e]},langs:{ru:{s:["en","uk","tr","pl","de","fr","es","it"],name:i18n("%русский")},uk:{s:["ru"],name:i18n("%украинский")},en:{s:"RUS"===Daria.Config.product?["ru","tr"]:["tr","ru"],name:i18n("%английский")},tr:{s:"RUS"===Daria.Config.product?["ru","en"]:["en","ru"],name:i18n("%турецкий")},pl:{s:["ru"],name:i18n("%польский")},de:{s:["ru"],name:i18n("%немецкий")},fr:{s:["ru"],name:i18n("%французский")},es:{s:["ru"],name:i18n("%испанский")},it:{s:["ru"],name:i18n("%итальянский")},all:{s:["ru","uk","en","tr","pl","de","fr","es","it"],name:""}},id2lang:{1:"ru",2:"en",3:"pl",5:"uk",6:"de",7:"fr",12:"es",13:"it",39:"fi",40:"et",44:"tr"},getDefaultLangTo:function(e){return Daria.Config.locale&&e!==Daria.Config.locale?Daria.Config.locale:_.get(this.langs,e+".s.0",Daria.Config.locale)},getLangByMid:function(t){var n=ns.Model.get("message-body",{ids:t}),r=_.get(n.getData(),"body.0.lang");if(r)return this.id2lang[r]?this.id2lang[r]:e.test(r)?r:void 0},defineLanguage:function(e){var t={uk:/[ґїі]/gi,ru:/[а-яё]/gi,pl:/[ąęł]/gi,tr:/[çğş]/gi,de:/[äüß]/gi,es:/[ňñ]/gi,fr:/[âàéêîôùûÿ]/gi};if(/^(\d|\s)*$/.test(e))return Daria.Config.locale;for(var n in t)if(t[n].test(e))return n;return"en"},translateElement:function(e,t,n){var a=n.cloneNode(!0);return new vow.Promise(function(n,s){Daria.Libs("PageTranslator",(function(){var u=Object.assign(Daria.Config["page-translator"],{element:a}),c=new window.yt.PageTranslator(u);c.translate(e,t),c.on("error",(function(){c.halt(),s(),r.a.hasActiveScenario(i.d)&&r.a.getActiveScenario(i.d).logError(o.f)})),c.on("complete",(function(){c.halt(),n(a)}))}))})},translateText:function(e,t,n){var r=document.createElement("div");return r.innerText=n,this.translateElement(e,t,r).then((function(e){return e.innerText}))},translateHtml:function(e,t,n){var r=document.createElement("div");return r.innerHTML=n,this.translateElement(e,t,r).then((function(e){return e.innerHTML}))},translate:function(e,t,n){return n=Array.isArray(n)?n:[n],vow.all(n.map(function(n){switch(n.format){case"text":return this.translateText(e,t,n.value);case"element":return this.translateElement(e,t,n.value);case"html":return this.translateHtml(e,t,n.value);default:return vow.reject("no correct format for translate: ".concat(n.format))}}.bind(this)))}}})()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4320),i=n(363);Daria.Shortcuts=(function(e,t){var o={eventsBound:!1,altOS:0===navigator.platform.toLowerCase().indexOf("mac"),pageType:"",hotkeysEnabled:!1};o.shortcuts=Object(r.a)(o),n(4324),ns.events.on("toggleShortcuts",(function(e,t){o.toggleHotkeys(t)})),ns.events.on("pageinit",(function(){o.toggleHotkeys(ns.Model.get("settings").getSetting("enable_hotkeys")),ns.events.trigger("daria:hotkeys:inited")})),ns.events.on("ns-page-after-load",(function(){var n=e.is3pane()&&e.isMessageOpenedInList();if(o.pageType!==ns.page.current.page||n!==o.isMessageOpenedIn3Pane){if(o.pageType=ns.page.current.page,o.isMessageOpenedIn3Pane=n,!o.eventsBound)return!1;o.hotkeysEnabled&&(t.Shortcuts.switchList(o.pageType),n&&t.Shortcuts.enableList("message"),t.Shortcuts.refresh(o.pageType))}})),o.toggleHotkeys=function(n){e.Shortcuts.hotkeysEnabled=o.hotkeysEnabled={on:!0,off:!1,true:!0,false:!1}[n],o.hotkeysEnabled?(o.eventsBound||(o.bindLists(o.pageType),o.isMessageOpenedIn3Pane&&t.Shortcuts.enableList("message")),t.Shortcuts.start()):t.Shortcuts.stop()},o.bindLists=function(e){for(var n=o.shortcuts.length-1;n>=0;n--)t.Shortcuts.loadList(o.shortcuts[n],o.altOS);t.Shortcuts.enableList(e),o.eventsBound=!0},o._getShortcutMask=function(e,t){for(var n=o.shortcuts.length-1;n>=0;n--)if(o.shortcuts[n].name===t){var r=o.shortcuts[n];if(r.shortcuts.hasOwnProperty(e))return o.altOS&&r.shortcuts[e].altMask?r.shortcuts[e].altMask:r.shortcuts[e].mask}return""},o.showShortcutsHelp=function(){return Object(i.getShortcutsBridge)().show()},o.switchTab=function(e){void 0===o.popupActiveTab&&(o.popupActiveTab=0),t(".b-shortcuts__list-id-"+o.popupActiveTab).addClass("g-hidden"),t(".b-shortcuts__list-id-"+e.params.tab).removeClass("g-hidden"),t(".b-shortcuts-list__item").removeClass("b-shortcuts-list__item_current"),t(e.event.currentTarget).addClass("b-shortcuts-list__item_current"),o.popupActiveTab=parseInt(e.params.tab,10)},o.getShortcutLabelFor=function(e,t,n){var r=o._getShortcutMask(e,t).replace(/Meta/g,"Cmd").replace(/\+/g," + ");return n?" ("+r+")":r},o.verticalAlignOpenMessage=function(t){var n=ns.page.current.params.thread_id||ns.page.current.params.ids,r="message"===ns.page.current.page;if(!n||r)return!1;var i,o=e.is2pane();i=o?ns.Model.get("scroller-messages"):ns.Model.get("scroller-message");var a={alignToTop:t.alignToTop,relative:i.isRelativeOffset()};return t.alignToTop?a.viewTopOffset=o?-i.FIXED_TOOLBAR_HEIGHT:-i.getScrollOffset():a.viewBottomOffset=o?-ns.Model.get("app-state").get(".timelineHeight"):0,ns.events.trigger("hotkeys.alignOpenMessage",{scroller:i,alignOptions:a}),!0};var a={showShortcutsHelp:o.showShortcutsHelp,switchTab:o.switchTab,hotkeysEnabled:o.hotkeysEnabled,getShortcutLabelFor:o.getShortcutLabelFor,verticalAlignOpenMessage:o.verticalAlignOpenMessage,freeze:function(){return t.Shortcuts.freeze()},unfreeze:function(){return t.Shortcuts.unfreeze()}};return window.ReactClientBridge&&window.ReactClientBridge.shortcutsPromise.resolve(a),a})(Daria,jQuery)},function(e,t,n){"use strict";var r=n(4321),i=(n.n(r),n(363)),o=n(421),a=n(4322),s=n.n(a);t.a=function(e){function t(){var e=ns.Model.get("focus");return u&&e.get(".columnIndex")===e.indexColumns.LEFT}for(var n,a=Object(i.getFocusBridge)(),u=Boolean(a),c=[{global:!0,name:r.ShortcutsGroup.Global,shortcuts:{Check_new_mail:{mask:"F9",altMask:"Shift+o",enableInInput:!e.altOS,action:"mailbox.check"},New_mail:{mask:"w, c",disableAt:["compose2"],handler:function(){if(Object(i.getPddRestrictModel)().isRestricted)return Object(i.getPddRestrictModel)().showPopup();Daria.startScenarioForCompose(o.p),Daria.composeGo()}},Goto_inbox:{mask:"Ctrl+i",altMask:"Meta+i",type:"hold",enableInInput:!0,handler:function(){ns.Model.get("focus").goInbox()}},Find:{mask:"/,?",type:"hold",handler:function(){Daria.React.activateSearch()}},Hotkeys_help:{mask:"Shift+?,Shift+comma,Shift+7,7",type:"hold",handler:function(){e.showShortcutsHelp()}},Column_left:{mask:"Left",type:"hold",disableAt:["compose2"],handler:function(){var e=ns.Model.get("focus");e.changeColumn(!1,{scroll:!u||e.get(".columnIndex")===e.indexColumns.LEFT}),t()&&a.focusGroup(a.FocusGroup.LEFT_COLUMN)}},Column_right:{mask:"Right",type:"hold",disableAt:["compose2"],handler:function(){t()&&a.dropFocus(),ns.Model.get("focus").changeColumn(!0)}},Goto_previous:{mask:"Up",type:"hold",handler:function(){return t()?a.isFocused?void a.focusPrev():void a.focusGroup(a.FocusGroup.LEFT_COLUMN):void Daria.Focus.moveItem({toForward:!1})},enableInInput:!0,namedInput:"js-allow-shortcuts"},Goto_next:{mask:"Down",type:"hold",handler:function(){return t()?a.isFocused?void a.focusNext():void a.focusGroup(a.FocusGroup.LEFT_COLUMN):void Daria.Focus.moveItem({toForward:!0})},enableInInput:!0,namedInput:"js-allow-shortcuts"},Print:{mask:"Shift+p",type:"hold",handler:function(){"message"===ns.page.current.page?ns.events.trigger("hotkeys.print"):ns.Model.get("focus").pubEvent("print")}},Set_mark:{mask:"Space",type:"down",handler:function(){var e=ns.Model.get("focus"),n=!e.hasFocus()||"message"===e.getFocus().id;return!(!Daria.isMessagePage()||!n)||(t()?void a.handleKey(a.Keys.SPACE):e.pubEvent("space"))}},Collapse_folder:{type:"up",mask:"Enter",handler:function(){if(t())return void a.handleKey(a.Keys.ENTER);ns.Model.get("focus").pubEvent("enter")},enableInInput:!0,namedInput:"js-allow-shortcuts"},AlignBottom_Open_Message:{mask:"Ctrl+down",altMask:"Meta+down",type:"hold",handler:function(){return!Daria.Shortcuts.verticalAlignOpenMessage({alignToTop:!1})}},AlignTop_Open_Message:{mask:"Ctrl+up",altMask:"Meta+up",type:"hold",handler:function(){return!Daria.Shortcuts.verticalAlignOpenMessage({alignToTop:!0})}}}},{name:r.ShortcutsGroup.Messages,shortcuts:{Labels_dialog:{mask:"Shift+l",handler:function(){Daria.hkMOPS.triggerToolbarEvent("daria:vLabelsActions:open",!0)}},Folders_dialog:{mask:"Shift+m",handler:function(){Daria.hkMOPS.triggerToolbarEvent("daria:vFoldersActions:open",!0)}},Label_important:{mask:"i",handler:function(){Daria.hkMOPS.toggleImportance()}},Label_read:{mask:"q",handler:function(){Daria.hkMOPS.mark()}},Label_unread:{mask:"Shift+u",handler:function(){Daria.hkMOPS.unmark()}},Reply_all:{mask:"Shift+r",type:"hold",handler:function(){ns.events.trigger("daria:vMessageToolbar:reply",{compose:"full",replyAll:!0})}},Select_all:{mask:"Ctrl+a",altMask:"Meta+a",type:"hold",handler:function(){ns.Model.get("messages-checked",ns.page.current.params).toggleSelectAll()}},Select_modifier:{mask:"Shift",handler:function(){ns.Model.get("focus").startKeyboardSelect()}},Select_previous:{mask:"Shift+Up",type:"hold",handler:function(){ns.Model.get("focus").changeItem(!1,!0)}},Select_next:{mask:"Shift+Down",type:"hold",handler:function(){ns.Model.get("focus").changeItem(!0,!0)}},Goto_first:{mask:"Home",handler:function(){ns.Model.get("focus").focusToFirstMessage()}},Select_till_first:{mask:"Shift+Home",handler:function(){ns.Model.get("focus").focusToFirstMessage(!0)}},Goto_end:{mask:"End",handler:function(){ns.Model.get("focus").focusToLastMessage()}},Select_till_last:{mask:"Shift+End",handler:function(){ns.Model.get("focus").focusToLastMessage(!0)}},Forward:{mask:"Shift+f",handler:function(){ns.Model.get("messages-checked").getCount()<=Daria.Constants.MAX_MESSAGES_TO_FORWARD&&Daria.hkMOPS.runReplyAction("forward")}},Delete_selected:{mask:"Delete",altMask:"Meta+Backspace",type:"hold",handler:function(){Daria.hkMOPS.remove()}},Deselect:{mask:"Esc",enableInInput:!0,handler:function(e){var t="true"===e.target.getAttribute("contenteditable"),n="TEXTAREA"===e.target.nodeName,r=e.target===document.activeElement;if((t||n)&&r)return void document.activeElement.blur();ns.Model.get("messages-checked").getCount()>0?ns.events.trigger("daria:vMessages:deselect"):Daria.is2pane()&&ns.events.trigger("daria:vMessages:closeWithShortcut")}},Reply_open_message:s.a.reply,Label_unread_open_message:s.a.unread,Label_spam_open_message:s.a.toSpam,Toolbar:{mask:"Shift+t",handler:function(){ns.events.trigger("daria:Toolbar:focus")}}}},{name:r.ShortcutsGroup.Message,shortcuts:{Goto_next:{mask:"n,k",handler:function(){Daria.is3pane()?Daria.Focus.moveItem({toForward:!0,focusMessages:!0}):ns.events.trigger("daria:vMessagePrevNextInMessage:changeMessage",{direction:"next"})}},Goto_previous:{mask:"p,j",handler:function(){Daria.is3pane()?Daria.Focus.moveItem({toForward:!1,focusMessages:!0}):ns.events.trigger("daria:vMessagePrevNextInMessage:changeMessage",{direction:"prev"})}},Delete:{mask:"Delete",altMask:"Meta+Backspace",handler:function(){var e=ns.page.current.params.ids;e&&Daria.MOPS.doActionWithMessages([e],"remove")}},Deselect:{mask:"Esc",enableInInput:!0,handler:function(e){var t="true"===e.target.getAttribute("contenteditable"),n="TEXTAREA"===e.target.nodeName,r=e.target===document.activeElement;if((t||n)&&r)return void document.activeElement.blur()}},Reply_all:{mask:"Shift+r",type:"hold",handler:function(){ns.events.trigger("daria:vMessageToolbar:reply",{compose:"full",replyAll:!0})}},Reply:s.a.reply,Forward:{mask:"Shift+f",handler:function(){Daria.hkMOPS.runReplyAction("forward")}},Labels_dialog:{mask:"Shift+l",handler:function(){Daria.hkMOPS.triggerToolbarEvent("daria:vLabelsActions:open")}},Folders_dialog:{mask:"Shift+m",handler:function(){Daria.hkMOPS.triggerToolbarEvent("daria:vFoldersActions:open")}},Label_unread:s.a.unread,Label_spam:s.a.toSpam,Label_important:{mask:"Shift+i",handler:function(){Daria.hkMOPS.toggleImportance()}},Attachments_save:{mask:"Ctrl+s",altMask:"Meta+s",type:"hold",handler:function(){ns.events.trigger("daria:vAttachmentsWidgetBody:downloadAttachments")}},Toolbar:{mask:"Shift+t",handler:function(){ns.events.trigger("daria:Toolbar:focus")}}}},{name:r.ShortcutsGroup.Compose,shortcuts:{Save_draft:{mask:"Ctrl+s",altMask:"Meta+s",type:"hold",enableInInput:!0,handler:function(){ns.events.trigger("daria:vCompose2:save")}},Send:{mask:"Ctrl+Enter",altMask:"Meta+Enter",type:"hold",enableInInput:!0,handler:function(){ns.events.trigger("daria:vCompose2:send")}}}},{name:"compose-react",shortcuts:{}},{name:"datetimepicker",shortcuts:{}},{name:r.ShortcutsGroup.Empty,shortcuts:{}},{name:"disk-resources",shortcuts:{DiskResources_Attach:{mask:"Enter",handler:function(){ns.events.trigger("daria:diskResources:attach")}}}},{name:"context-menu",shortcuts:{Context_menu_cancel:{mask:"Esc",enableInInput:!0,handler:function(){Daria.ContextMenu.close()}}}},{name:"dialog",shortcuts:{Dialog_cancel:{mask:"Esc",enableInInput:!0,handler:function(){Daria.Dialog.cancel()}}}},{name:"finder",shortcuts:{Finder_close:{mask:"Esc",handler:function(){ns.events.trigger("daria:vBrowseDisk:close")}}}},{name:"video-player",shortcuts:{Videoplayer_cancel:{mask:"Esc",handler:function(){Daria.VideoPlayer.close()}}}},{name:"image-viewer",shortcuts:{Image_viewer_close:{mask:"Esc",enableInInput:!0,handler:function(){Daria.Layer.close()}},Image_viewer_next:{mask:"Right",handler:function(){var e=Daria.ImageViewer;e.isGalleryOpen()?e.scrollGallery(1):e.next()}},Image_viewer_prev:{mask:"Left",handler:function(){var e=Daria.ImageViewer;e.isGalleryOpen()?e.scrollGallery(-1):e.prev()}}}},{name:"attach-viewer",shortcuts:{Attach_viewer_close:{mask:"Esc",enableInInput:!0,handler:function(){Daria.Layer.close()}},Attach_viewer_next:{mask:"Right",handler:function(){var e=Daria.AttachViewer;e.isGalleryOpen()?e.scrollGallery(1):e.next()}},Attach_viewer_prev:{mask:"Left",handler:function(){var e=Daria.AttachViewer;e.isGalleryOpen()?e.scrollGallery(-1):e.prev()}}}},{name:"subscriptions-popup",shortcuts:{Subscription_popup_close:{mask:"Esc",enableInInput:!0,handler:function(){ns.events.trigger("daria:unsubscribe-popup:hide")}}}},{name:"themes-selector",shortcuts:{Themes_selector_close:{mask:"Esc",enableInInput:!0,handler:function(e){"INPUT"===e.target.nodeName.toUpperCase()||ns.events.trigger("Daria:vThemesSelector:close")}}}},{name:"abook",shortcuts:{Abook_select_all:{mask:"Ctrl+a",altMask:"Meta+a",type:"hold",handler:function(){ns.events.trigger("daria:vAbookHead.selectAll")}},Abook_deselect_all:{mask:"Esc",enableInInput:!0,handler:function(){ns.events.trigger("daria:vAbookHead.deselectAll")}}}},{name:"toolbar",shortcuts:{Previous_toolbar_button:{mask:"Left",type:"hold",handler:function(){ns.events.trigger("daria:Toolbar:focusPrev")}},Next_toolbar_button:{mask:"Right",type:"hold",handler:function(){ns.events.trigger("daria:Toolbar:focusNext")}},First_toolbar_button:{mask:"Home",handler:function(){ns.events.trigger("daria:Toolbar:focusFirst")}},Last_toolbar_button:{mask:"End",handler:function(){ns.events.trigger("daria:Toolbar:focusLast")}},Back_to_list:{mask:"Down",type:"hold",handler:function(){ns.events.trigger("daria:Toolbar:focusOut")}}}}],l={Archive:{mask:"a",handler:function(){Daria.userToolbar.isButtonActivated(Daria.Constants.TOOLBAR_BUTTONS.ARCHIVE)&&Daria.hkMOPS.doUserDefinedAction("archive")}},Sendon:{mask:"Alt+f",handler:function(){var e=Daria.Constants.TOOLBAR_BUTTONS.SENDON;if(Daria.userToolbar.isButtonActivated(e)){var t=Daria.userToolbar.get(e).settings;Daria.hkMOPS.runReplyAction("sendon",t)}}},Infolder:{mask:"Alt+m",handler:function(){var e=Daria.Constants.TOOLBAR_BUTTONS.INFOLDER;if(Daria.userToolbar.isButtonActivated(e)){var t=Daria.userToolbar.get(e).settings;Daria.hkMOPS.doUserDefinedAction("infolder",t)}}},Defined_label:{mask:"Alt+l",handler:function(){var e=Daria.Constants.TOOLBAR_BUTTONS.LABEL;if(Daria.userToolbar.isButtonActivated(e)){var t=Daria.userToolbar.get(e).settings;Daria.hkMOPS.doUserDefinedAction("toggleLabel",t)}}},Defined_reply:{mask:"Alt+r",handler:function(){var e=ns.Model.get("folders").isIncoming(ns.page.current.params.current_folder),t=Daria.Constants.TOOLBAR_BUTTONS.TEMPLATE;if(e&&Daria.userToolbar.isButtonActivated(t)){var n=Daria.userToolbar.get(t).settings;Daria.hkMOPS.runReplyAction("reply-tmpl",n)}}}},d=c.length-1;d>=0;d--)n=c[d],"messages"!==n.name&&"message"!==n.name||$.extend(n.shortcuts,l);return c}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ShortcutsNames=t.ShortcutsGroup=void 0;!(function(e){e.Global="global",e.Messages="messages",e.Message="message",e.Compose="compose2",e.Personal="personal",e.Empty="empty"})(t.ShortcutsGroup||(t.ShortcutsGroup={}));!(function(e){e.CheckNewMail="Check_new_mail",e.WriteNewMail="New_mail",e.GotoInbox="Goto_inbox",e.Print="Print",e.SelectAll="Select_all",e.LabelsDialog="Labels_dialog",e.FoldersDialog="Folders_dialog",e.LabelRead="Label_read",e.LabelUnread="Label_unread",e.Forward="Forward",e.LabelImportant="Label_important",e.DeleteSelected="Delete_selected",e.LabelSpam="Label_spam",e.Reply="Reply",e.ReplyAll="Reply_all",e.Delete="Delete",e.AttachmentsSave="Attachments_save",e.Send="Send",e.SaveDraft="Save_draft",e.Toolbar="Toolbar"})(t.ShortcutsNames||(t.ShortcutsNames={}))},function(e,t,n){"use strict";var r=n(4323);e.exports={toSpam:{mask:"Shift+s",handler:function(){var e=r(ns.page.current.params);if(e.length){var t=e.filter((function(e){return!e.isSpam()}));t.length?Daria.MOPS.doActionWithMessages(t.map((function(e){return e.get(".mid")})),"tospam"):Daria.MOPS.doActionWithMessages(e.map((function(e){return e.get(".mid")})),"notspam")}}},unread:{mask:"Shift+u",handler:function(){var e=r(ns.page.current.params);e.length&&Daria.MOPS.doActionWithMessages(e.map((function(e){return e.get(".mid")})),"unmark")}},reply:{mask:"Shift+e",handler:function(){ns.events.trigger("daria:vMessageToolbar:reply",{compose:"full"})}}}},function(e,t,n){"use strict";e.exports=function(e){var t=e.ids;if(t)return[ns.Model.get("message",{ids:t})];var n=e.thread_id;if(n){var r=ns.Model.get("messages",{thread_id:n}).models.filter((function(e){return ns.Model.get("state-message-thread-item",{ids:e.get(".mid")}).isOpen()})),i=ns.Model.get("message",{ids:n});return i.hasRealData()&&i.getThreadCount()===r.length?[i]:r.filter((function(e){return!e.isDraftLike()}))}return[]}},function(e,t){Daria.Focus={},Daria.Focus.VALUE_LAZY_SCROLL=100,Daria.Focus.getScroller=function(e){var t;switch(e="number"==typeof e?e:ns.Model.get("focus").getIndexCurrentColumn()){case 0:t=ns.Model.get("scroller-left");break;case 1:t="message"!==ns.page.current.page||Daria.is3pane()?ns.Model.get("scroller-messages"):ns.Model.get("scroller-message");break;case 2:t=ns.Model.get("scroller-message")}return t},Daria.Focus.scrollIntoView=function(e,t){if(!ns.Model.get("skin-saver-state").isPreviewMode()){var n=Daria.Focus.getScroller(t);n.clean();var r=n.getScrollOffset()+2,i=n.getScrollTop(),o=n.getNodeTop(e[0]),a=o-r,s=i-a;if(s>0)return Daria.DEBUG&&console.log("[Focus.scrollIntoView]","nodeTop behind scrollnodeTop"),void n.setScrollTop(i-s);var u=e.height(),c=n.getHeight();if(!(u>c)){var l=i+c,d=o+u,f=d+r,p=f-l;p>0&&(Daria.DEBUG&&console.log("[Focus.scrollIntoView]","nodeBottom behind scrollBottom"),i+p>=o?(Daria.DEBUG&&console.log("[Focus.scrollIntoView]","collision, nodeTop behind scrollTop, scroll to nodeTop"),n.setScrollTop(o-r)):n.setScrollTop(i+p))}}},Daria.Focus.needLazyScroll=function(e,t){switch(e.id){case"message-thread-item-wrap":if(!e.getModel("state-message-thread-item").isOpen())return!1;break;case"message-thread":if(e.getModel("messages").getCount()>1)return!1;break;case"message":case"message-react":break;default:return!1}var n=Daria.Focus.getScroller(),r=n.getNodeTop(e.node),i=r+e.$node.height(),o=n.getScrollTop(),a=o+n.getHeight();return t?i>a:r<o},Daria.Focus.lazyScroll=function(e){var t=Daria.Focus.getScroller(),n=t.getScrollTop();e?n+=Daria.Focus.VALUE_LAZY_SCROLL:n-=Daria.Focus.VALUE_LAZY_SCROLL,t.setScrollTop(n)},Daria.Focus.moveItem=function(e){var t=e.toForward,n=e.focusMessages,r=ns.Model.get("focus"),i=r.getIndexCurrentColumn();n?(r.setColumn(1),r.changeItem(t)):"message"===ns.page.current.page&&i!==r.indexColumns.LEFT?Daria.Focus.lazyScroll(t):r.changeItem(t)},Daria.Focus.clearFocus=function(){ns.Model.get("focus").clearFocus()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(139);n.n(r);Daria.Widgets={},Daria.Widgets.getWidgetName=function(e){return Daria.Widgets._commonChecks(e)?Daria.Widgets.shouldShowTicketWidget(e)?"ticket":Daria.Widgets.shouldShowTaksaWidgets(e)?"widget":Daria.Widgets.shouldShowEvents(e)?"events":"":""},Daria.Widgets._commonChecks=function(e){return!ns.Model.get("folders").spamOrTrash(e.getFolderId())},Daria.Widgets.shouldShowTicketWidget=function(e){if(!Daria.Widgets._shouldShowTaksaWidgets(e))return!1;var t=_.get(e.getMessagesListWidget(),"info.type");return Daria.Widgets.isTicketWidget(t)},Daria.Widgets.isTicketWidget=function(e){return["avia","hotels","pkpass"].some((function(t){return t===e}))},Daria.Widgets._shouldShowTaksaWidgets=function(e){var t=e.getMessagesListWidget();if(!t)return!1;var n=!Daria.is3pane(),r=Boolean(ns.Model.get("settings").getSign("show_widgets_decor")),i=Boolean(ns.Model.get("settings").getSign("show_widgets_buttons")),o=r||i;if(!(n=n&&o))return!1;switch(_.get(t,"info.type")){case"onelink":return n&&!Daria.CompactMode.isCompactMessagesList();case"tracker":return n;default:return n&&!Daria.CompactMode.isCompactMessagesList()&&"ru"===Daria.Config.locale}},Daria.Widgets.shouldShowTaksaWidgets=function(e){var t=_.get(e.getMessagesListWidget(),"info.type");return Daria.Widgets._shouldShowTaksaWidgets(e)&&"calendar"!==t},Daria.Widgets.shouldShowTaksaCalendarWidget=function(e){var t=_.get(e.getMessagesListWidget(),"info.type");return Daria.Widgets._shouldShowTaksaWidgets(e)&&"calendar"===t},Daria.Widgets.shouldShowEvents=function(e){return!Daria.is3pane()&&!Daria.CompactMode.isCompactMessagesList()&&!ns.Model.get("settings").isSet("disable_events")&&e.isCalendarService()},Daria.Widgets.shouldShowAttachments=function(e,t){if(t=t||{},Daria.is2pane()&&e.hasAttachment()){var n="only_atta"===t.extra_cond||t.search&&"yes"===t.attaches,i=ns.Model.get("settings");if(Daria.CompactMode.isCompactMessagesList()&&!n)return!1;if(!i.isSet("disable_inboxattachs")||n){var o;if(o=Daria.isAttachmentsLineDesign()?r.AttachmentWidgetsExcludeFoldersLite:n||e.isIntoThread()?r.AttachmentWidgetsExcludeFoldersMedium:r.AttachmentWidgetsExcludeFoldersMax,e.inFolderBySymbol(o))return!1;if(n)return!0;if("yacal"===e.getSocialLabel())return!1;if(Daria.IS_CORP)return!0;var a=e.getSOLabels();return!_.contains(a,13)}}return!1},Daria.Widgets.shouldShowSubscriptions=function(e){var t=Boolean(ns.Model.get("settings").getSign("show_widgets_buttons"));return!Daria.IS_CORP&&t&&!Daria.CompactMode.isCompactMessagesList()&&e.isSubscriptionMessage()}},function(e,t){Daria.queueCommon={},Daria.queueCommon.CONNECTIONS_MAX=2,Daria.queueCommon.MODELS_MAX=5,Daria.queueCommon.TIMEOUT_BETWEEN_REQUESTS=0,Daria.queueCommon._queue=null,Daria.queueCommon._poolCnt=0,Daria.queueCommon.reset=function(){this._poolCnt=0,this._queue=[]},Daria.queueCommon.add=function(e){this._queue=this._queue.concat(e),this.run()},Daria.queueCommon.run=function(){if(!(this._poolCnt>=this.CONNECTIONS_MAX)){var e=this._queue.splice(0,this.MODELS_MAX);e.length&&(this.request(e).always(function(){this._poolCnt--,setTimeout(this.run.bind(this),this.TIMEOUT_BETWEEN_REQUESTS)}.bind(this)),this._poolCnt++,this.run())}},Daria.queueCommon.request=function(e){return ns.request(e)}},function(e,t){Daria.preloadQueue={},no.extend(Daria.preloadQueue,Daria.queueCommon),Daria.preloadQueue.CONNECTIONS_MAX=1,Daria.preloadQueue.MODELS_MAX=5,Daria.preloadQueue.TIMEOUT_BETWEEN_REQUESTS=500,Daria.preloadQueue.reset()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4329),i=(n.n(r),n(927)),o=(n.n(i),n(4330)),a=n(4331),s=n(4332),u=n(4333),c=n(4337);!(function(){i.HooksManager.instance().registerHandler(i.Stage.before,r.Action.Mark,o.a),i.HooksManager.instance().registerHandler(i.Stage.before,r.Action.Delete,a.a),i.HooksManager.instance().registerHandler(i.Stage.before,r.Action.Delete,c.a),i.HooksManager.instance().registerHandler(i.Stage.before,r.Action.Remove,a.a),i.HooksManager.instance().registerHandler(i.Stage.before,r.Action.Remove,c.a),i.HooksManager.instance().registerHandler(i.Stage.before,r.Action.ToSpam,s.a),i.HooksManager.instance().registerHandler(i.Stage.before,r.Action.ToSpam,u.a)})()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Action=void 0;!(function(e){e.Delete="delete",e.Mark="mark",e.Move="move",e.Pin="pin",e.Remove="remove",e.ToSpam="tospam",e.UnMark="unmark",e.UnPin="unpin"})(t.Action||(t.Action={}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){function o(e){a(u,r,i,o,s,"next",e)}function s(e){a(u,r,i,o,s,"throw",e)}var u=e.apply(t,n);o(void 0)})}}n.d(t,"a",(function(){return f}));var u=n(804),c=(n.n(u),n(662)),l=n(626),d=n(87),f=(n.n(d),(function(){var e=s(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,s,u,c,f,g=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=g.length,n=new Array(t),r=0;r<t;r++)n[r]=g[r];if(Object(d.hasFeature)(d.Features.WEB_UNSUBSCRIBE_ON_MARK_READ)){e.next=3;break}return e.abrupt("return",{cancelled:!1,args:n});case 3:if(i=l.a.apply(void 0,n),(o=i.subscriptions)&&o.length){e.next=6;break}return e.abrupt("return",{cancelled:!1,args:n});case 6:return e.next=8,Object(l.c)(o);case 8:if(a=e.sent,a.length){e.next=11;break}return e.abrupt("return",{cancelled:!1,args:n});case 11:if(s=window.ReactClientBridge&&window.ReactClientBridge.Exposed,u=s&&s.StatuslineBridge,c=s&&s.Statusline.MarkReadOrUnsubscribe,u&&c){e.next=16;break}return e.abrupt("return",{cancelled:!1,args:n});case 16:return e.next=18,p(o,u,c);case 18:return f=e.sent,e.abrupt("return",{cancelled:f,args:n});case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()),p=function(e,t,n){var r=Object(l.g)(e).length;return new Promise(function(o){t.show({name:u.StatuslineName.MarkReadOrUnsubscribe,renderContent:function(t){return Object(c.b)(n,i({},t,{count:r,onClose:function(){return o(!0)},onAction:(function(){function t(){return n.apply(this,arguments)}var n=s(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.h)(e);case 2:o(!1);case 3:case"end":return t.stop()}}),t)})));return t})(),onCancel:function(){return o(!1)}}))}})})}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){function o(e){a(u,r,i,o,s,"next",e)}function s(e){a(u,r,i,o,s,"throw",e)}var u=e.apply(t,n);o(void 0)})}}n.d(t,"a",(function(){return f}));var u=n(804),c=(n.n(u),n(662)),l=n(626),d=n(87),f=(n.n(d),(function(){var e=s(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,s,u,c,f,g=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=g.length,n=new Array(t),r=0;r<t;r++)n[r]=g[r];if(Object(d.hasFeature)(d.Features.WEB_UNSUBSCRIBE_ON_DELETE)){e.next=3;break}return e.abrupt("return",{cancelled:!1,args:n});case 3:if(i=l.a.apply(void 0,n),(o=i.subscriptions)&&o.length){e.next=6;break}return e.abrupt("return",{cancelled:!1,args:n});case 6:return e.next=8,Object(l.c)(o);case 8:if(a=e.sent,a.length){e.next=11;break}return e.abrupt("return",{cancelled:!1,args:n});case 11:if(s=window.ReactClientBridge&&window.ReactClientBridge.Exposed,u=s&&s.StatuslineBridge,c=s&&s.Statusline.DeleteOrUnsubscribe,u&&c){e.next=16;break}return e.abrupt("return",{cancelled:!1,args:n});case 16:return e.next=18,p(o,u,c);case 18:return f=e.sent,e.abrupt("return",{cancelled:f,args:n});case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()),p=function(e,t,n){var r=Object(l.g)(e).length;return new Promise(function(o){t.show({name:u.StatuslineName.DeleteOrUnsubscribe,renderContent:function(t){return Object(c.b)(n,i({},t,{count:r,onClose:function(){return o(!0)},onAction:(function(){function t(){return n.apply(this,arguments)}var n=s(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.h)(e);case 2:o(!1);case 3:case"end":return t.stop()}}),t)})));return t})(),onCancel:function(){return o(!1)}}))}})})}},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function s(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){function o(e){a(u,r,i,o,s,"next",e)}function s(e){a(u,r,i,o,s,"throw",e)}var u=e.apply(t,n);o(void 0)})}}n.d(t,"a",(function(){return f}));var u=n(804),c=(n.n(u),n(662)),l=n(626),d=n(1879),f=(function(){var e=s(regeneratorRuntime.mark((function e(){var t,n,r,i,o,a,s,u,c,d,f,g,h,m=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=m.length,n=new Array(t),r=0;r<t;r++)n[r]=m[r];if(i=l.a.apply(void 0,n),o=i.subscriptions,a=i.messages,o&&o.length){e.next=4;break}return e.abrupt("return",{cancelled:!1,args:n});case 4:if(s=window.ReactClientBridge&&window.ReactClientBridge.Exposed,u=s&&s.StatuslineBridge,c=s&&s.Statusline.SpamOrUnsubscribe,u&&c){e.next=9;break}return e.abrupt("return",{cancelled:!1,args:n});case 9:return d=a.map((function(e){return e.params.ids})),e.next=12,p(o,u,c,d);case 12:return f=e.sent,g=f.cancelled,h=f.action,h&&(n[0]=h),e.abrupt("return",{cancelled:g,args:n});case 17:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})(),p=function(e,t,n,r){var o=Object(l.g)(e).length,a=new d.a({name:"Check spam logger",type:"unsubscribe-on-spam"});return a.log({event:"show",ids:r}),new Promise(function(d){t.show({name:u.StatuslineName.SpamOrUnsubscribe,renderContent:function(t){return Object(c.b)(n,i({},t,{count:o,onClose:function(){return d({cancelled:!0})},onAction:(function(){function t(){return n.apply(this,arguments)}var n=s(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Object(l.h)(e);case 2:d({cancelled:!1,action:"delete"}),a.log({event:"action",ids:r});case 4:case"end":return t.stop()}}),t)})));return t})(),onCancel:function(){d({cancelled:!1}),a.log({event:"cancel",ids:r})}}))}})})}},function(e,t,n){"use strict";function r(e,t){return a(e)||o(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function a(e){if(Array.isArray(e))return e}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){function o(e){s(u,r,i,o,a,"next",e)}function a(e){s(u,r,i,o,a,"throw",e)}var u=e.apply(t,n);o(void 0)})}}n.d(t,"a",(function(){return p}));var c=n(4334),l=n.n(c),d=n(1878),f=n(1879),p=(function(){var e=u(regeneratorRuntime.mark((function e(){var t,n,i,o,a,s,u,c,f,p,h,m,v,b,_,y=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:for(t=y.length,n=new Array(t),i=0;i<t;i++)n[i]=y[i];if(!Daria.IS_CORP){e.next=3;break}return e.abrupt("return",{cancelled:!1,args:n});case 3:if(o=n[0],a=n[1],s=n[2],u=Object(d.a)(o,a,s),c=l()(u.map((function(e){return e.getFromEmail()}))),f=1!==c.length,p=u.some((function(e){return e.getToEmails().length>1})),!f&&!p){e.next=10;break}return e.abrupt("return",{cancelled:!1,args:n});case 10:if(h=r(c,1),m=h[0],v=u.some((function(e){return e.hasType(76)}))){e.next=14;break}return e.abrupt("return",{cancelled:!1,args:n});case 14:return b=u.map((function(e){return e.params.ids})),e.next=17,g(m,b);case 17:return _=e.sent,_&&(n[0]="delete"),e.abrupt("return",{cancelled:!1,args:n});case 20:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})(),g=function(e,t){var n=new f.a({name:"Check spam logger",type:"delete-on-spam"});return n.log({event:"show",ids:t}),new Promise(function(r){Daria.Statusline.show({name:"confirm_spam_or_delete",size:"m",isCloseButtonVisible:!0,hideOnTimeout:!1,hideOnClick:!1,params:{email:e,onAction:function(){r(!0),n.log({event:"action",ids:t})},onCancel:function(){r(!1),n.log({event:"cancel",ids:t})}}})})}},,,,function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];var r=t[0],i=t[1];return Daria.MOPS.shouldShowConfirmation(r,i.getCount())?new Promise(function(e){ns.Model.get("mops-confirmation").setMops({action:r,count:i.getCount(),callback:function(){return e({cancelled:!1,args:t})},onCancel:function(){return e({cancelled:!0,args:t})}})}):{cancelled:!1,args:t}}},function(e,t,n){"use strict";function r(){var e={container_kind:"unknown",container_type:"",container_id:""},t=ns.page.current.params||{};if(Daria.isSearchPage())e.container_kind="search";else if(Daria.isPriorityTab())e.container_kind="tab",e.container_type=e.container_id="priority";else if(Daria.isAttachmentsTab())e.container_kind="tab",e.container_type=e.container_id="attachments";else if(Daria.isFoldersTabPage())e.container_kind="tab",e.container_type=e.container_id=t.tabId;else if("messages"===ns.page.current.page){var n=t.current_folder;e.container_kind="folder",e.container_id=n,e.container_type=ns.Model.get("folder",{fid:t.current_folder}).get(".symbol")||"user"}Daria.monitoring.journal("search",e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(572);n.n(i);Daria.MessagesSearch={},Daria.MessagesSearch.searchParamsStore=[],Daria.MessagesSearch.invalidateMessagesModel=function(e){for(var t=-1,n=0;n<Daria.MessagesSearch.searchParamsStore.length;n++)if(_.isEqual(Daria.MessagesSearch.searchParamsStore[n],e)){t=n;break}if(-1!==t)return ns.Model.invalidate("messages",(function(t){for(var n=!0,r=Object.keys(e),i=0;i<r.length;i++)if(e[r[i]]!==t.params[r[i]]){n=!1;break}return t.isValid()&&n}));Daria.MessagesSearch.searchParamsStore.unshift(e)},Daria.MessagesSearch.search=function(e,t){Daria.React.generateSearchId();var n;t=t||{},e=_.clone(e),r(),Daria.MessagesSearch._resetSimplifiedParams(),ns.events.off("ns-page-before-load",Daria.MessagesSearch._resetSimplifiedParams),""===e.request&&delete e.request,_.isEmpty(e)?(n=ns.page.HOME_HASH,Jane.watcher.set("search.is-empty-search",!0)):(e.search="search",n=ns.router.generateUrl("messages",e)),Daria.MessagesSearch.invalidateMessagesModel(e);var o,a=e&&e.request&&Object.keys(e).some((function(e){return i.AdvancedSearchParams.includes(e)}));if(!Daria.isSearchWithoutAllResultsFallback()&&a){var s=ns.Model.get("messages",e);o=ns.request([s]).then((function(){return 0===s.get(".message").length&&(n=ns.router.generateUrl("messages",{search:"search",request:e.request}),Daria.React.setSimplifiedParams(e)),ns.page.go(n).then((function(){Daria.React.wasSearchRequestSimplified()&&ns.events.once("ns-page-before-load",Daria.MessagesSearch._resetSimplifiedParams)}))}))}else o=ns.page.go(n);o.then(this._onSuccess.bind(this,t,e),this._onError.bind(this,t)).always((function(){Daria.Autocompleter.getSearch().flushCache(),Jane.watcher.set("search.is-empty-search",!1)}))},Daria.MessagesSearch._resetSimplifiedParams=function(){Daria.React.setSimplifiedParams(null)},Daria.MessagesSearch._onSuccess=function(e,t){if(e.onCorrecting){var n=ns.Model.get("messages",ns.page.current.params).getData(),r=jpath(n,".details.search-options.request")[0];r&&r.trim()!==(t.request||"").trim()&&e.onCorrecting(r)}e.onSuccess&&e.onSuccess()},Daria.MessagesSearch._onError=function(e){e.onError&&e.onError()}},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t,n){var r=n.map((function(e){return ns.Model.get("message",{ids:e})}));ns.Model.traverse("messages",(function(n){n.params.current_label===t&&("label"===e?r.forEach((function(e){return n.insertMessageBySort(e)})):n.remove(r))}))}Object.defineProperty(t,"__esModule",{value:!0});var o=n(678),a=(n.n(o),n(145));n.n(a);Daria.Xiva={};var s=Daria.Xiva.MAX_MESSAGES_IN_MODEL=100;Daria.Xiva.createThreadFromMessage=function(e,t,n,r){var i=_.cloneDeep(e.getData());i.count=n,i.mid=e.getThreadId(),i.last_mid=e.get(".mid"),i.new=r;var o=ns.Model.get("messages",{thread_id:i.mid});return o.isValid()&&(i.lid=_(o.models).map((function(e){return e.get(".lid")})).concat(i.lid).flatten().uniq().value()),t.setData(i)},Daria.Xiva.messageLabel=function(e){var t="mark mails"===e.operation?"label":"unlabel",n=ns.Model.get("labels"),r=!1,s=[];e.tids&&(s=_.uniq(JSON.parse(e.tids)).map((function(e){return"t"+e})));var u=[];if(e.mids&&(u=JSON.parse(e.mids)),"all_labels"in e){var c=JSON.parse(e.all_labels),l=new Daria.MOPS.Opinfo;return u.forEach((function(e,t){var n=ns.Model.get("message",{ids:e});if(n.isValid()){var r=c[t],i=n.get(".lid"),o=[];i.forEach((function(e){var t=r.indexOf(e);-1===t?o.push(e):r.splice(t,1)}));r.forEach((function(e){var t=n.label({lid:e});l.merge(t)})),o.forEach((function(e){var t=n.unlabel({lid:e});l.merge(t)}))}})),l.hasAdjust()?(ns.Model.get("labels").adjustCounters(l.getAdjust()),vow.resolve()):ns.forcedRequest(["labels"])}var d,f,p,g=[],h=n.getLabelBySymbolicName(o.WellKnownLabels.REPLY_LATER_STARTED),m=n.getLabelBySymbolicName(o.WellKnownLabels.REPLY_LATER_FINISHED),v=[h&&h.lid,m&&m.lid];return e.t_lids&&(d=JSON.parse(e.t_lids)[0])&&!n.getLabelById(d)&&(r=!0),e.m_lids&&(p=JSON.parse(e.m_lids),p.find((function(e){return v.includes(e)}))&&g.push({id:"stickers",params:{type:a.StickerType.REPLY_LATER}}),(f=p[0])&&!n.getLabelById(f)&&(r=!0)),r&&g.push({id:"labels"}),(g.length?ns.forcedRequest(g):vow.resolve()).then((function(){if(d&&s.length&&(Daria.MOPS.doActionInMessages(s,t,{lid:d,onlyAdd:!0}),i(t,d,s)),f&&u.length){var e=!1;p.forEach((function(n){var o=Daria.MOPS.doActionInMessages(u,t,{lid:n});i(t,n,u),r||(o.hasAdjust()?ns.Model.get("labels").adjustCounters(o.getAdjust()):e=!0)}));var o=n.getPinnedLabel();if(o&&p.includes(o.lid)){var a=ns.Model.get("messages-checked");u.forEach((function(e){a.check(ns.Model.get("message",{ids:e}),!0)})),Daria.MOPS.updateModelsAfterPin(a,"unlabel"===t?"unpin":"pin",!0)}if(e)return ns.forcedRequest(["labels"])}return vow.resolve()}))},Daria.Xiva.moveMessageToFolder=function(e,t){return Daria.Xiva.messageMove({mids:JSON.stringify([e]),fid:t})},Daria.Xiva.messageMove=function(e){var t=e.fid,n=e.tabId,r=JSON.parse(e.mids);if("-1"===t){r.forEach((function(e){ns.Model.get("message",{ids:e}).remove()}));var i=["folders","labels"];return Daria.areFoldersTabsEnabled()&&i.push("tabs"),ns.forcedRequest(i)}var o=r.filter((function(e){return!ns.Model.get("message",{ids:e}).isValid()})),a=[ns.Model.get("folders"),ns.Model.get("labels")];for(Daria.areFoldersTabsEnabled()&&a.push(ns.Model.get("tabs"));o.length>0;)a.unshift(ns.Model.get("messages",{filter_ids:o.splice(-s)}));return ns.forcedRequest(a).then((function(){var e={current_folder:t};n&&(e.tabId=n),Daria.MOPS.doActionInMessages(r,"doMove",e)}))},Daria.Xiva.messageStatusChange=function(e){var t=e.status,n="";switch(t){case"New":n="unmark";break;case"PL":n="markForwarded";break;case"OQ":n="markAnswered";break;case"RO":n="mark";break;default:return""===t&&"0"===e.is_mixed_add&&"32"===e.is_mixed_del?vow.resolve():vow.reject("xiva message status change: unknown status: ".concat(t,",\n            is_mixed_add: ").concat(e.is_mixed_add,", is_mixed_del: ").concat(e.is_mixed_del))}var r=JSON.parse(e.mids);if("markForwarded"===n||"markAnswered"===n)return Daria.MOPS.doActionInMessages(r,n),vow.resolve();var i=r.filter((function(e){return!ns.Model.get("message",{ids:e}).isValid()}));Daria.MOPS.doActionInMessages(r,n);for(var o=[];i.length>0;)o.unshift(ns.Model.get("messages",{filter_ids:i.splice(-s)}));return ns.request(o).then((function(){var e="mark"===n?-1:1,t={},i={};r.map((function(e){return ns.Model.get("message",{ids:e})})).forEach((function(n){var r=n.getFolderId(),o=t;Daria.areFoldersTabsEnabled()&&n.isInTab()&&(r=n.getTabId(),o=i),r in o?o[r]+=e:o[r]=e})),_.isEmpty(t)||ns.Model.get("folders").adjustUnreadCounters(t),_.isEmpty(i)||ns.Model.get("tabs").adjustUnreadCounters(i)}))},Daria.Xiva.processUnsupported=function(e){switch(e.operation){case"delayed_message":case"reset fresh":return vow.resolve();case"mark mails":case"unmark mails":return Daria.Xiva.messageLabel(e);case"move mails":return ns.events.trigger("xiva.mail.move",e),Daria.Xiva.messageMove(e);case"status change":return Daria.Xiva.messageStatusChange(e);case"transfer":return Daria.Xiva.handlers.transfer();case"update labels":return Daria.Xiva.handlers.updateThreadCounters(e)}return vow.reject("xiva unsupported: unknown operation ".concat(e.operation))},Daria.Xiva._getFoldersCounters=function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.counters,n=void 0===t?[]:t,r=e.countersNew,i=void 0===r?[]:r,o={},a={},s=0;s<n.length;s+=2)o[n[s]]=n[s+1];for(var u=0;u<i.length;u+=2)a[i[u]]=i[u+1];return{countersHash:o,countersNewHash:a}},Daria.Xiva.updateFolderCounters=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=Daria.Xiva._getFoldersCounters(t),r=n.countersHash,i=n.countersNewHash,o=ns.page.current.params.current_folder,a=e.getFolderId(),s=ns.Model.get("folder",{fid:a}),u=s.updateCounts({count:r[a]||0,new:i[a]||0});u&&u.new>0&&a!==o&&s.setRecent()},Daria.Xiva.updateLabelsCounters=function(e){var t=ns.Model.get("labels"),n={},r=e.get(".lid");Array.isArray(r)&&r.forEach((function(e){n[e]=1})),t.adjustCounters(n)},Daria.Xiva.updateTabsCounters=function(e){var t=ns.Model.get("tabs"),n=e.getTabId(),i=r({},n,1);if(t.adjustUnreadCounters(i),n!==ns.page.current.params.tabId){if(!t.getTab(n))return;t.getTab(n).setRecent()}}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4341),i=n(139);n.n(i);Daria.Xiva.handlers={updateThreadCounters:r.a},Daria.Xiva.handlers.commonChecker=function(e){var t=parseInt(e.lcn,10);return!!Daria.Xiva.handlers.processNewLcn(t)&&("insert"===e.operation||Daria.Config.connection_id!==e.session_key)},Daria.Xiva.wentOfflineTime=null,window.addEventListener("offline",(function(){return Daria.Xiva.wentOfflineTime=Date.now()})),Daria.Xiva.handlers.processNewLcn=function(e){var t,n=Daria.lcn,r=Boolean(Daria.Xiva.wentOfflineTime);return Daria.Xiva.wentOfflineTime=null,r&&e!==n?t="xiva.lcn_changed_after_offline":n&&e-n>10&&(t="xiva.invalid_lcn"),t?(Jane.ErrorLog.send({event:t,diff:e-n,newLcn:e,oldLcn:n}),Daria.lcn=e,Daria.invalidateMailHandlers(!1,t),!1):((!n||e>n)&&(Daria.lcn=e),!0)},Daria.Xiva.handlers.insert=function(e){return Daria.Xiva.handlers.commonChecker(e)?(ns.events.trigger("xiva.mail.insert",e),Daria.Xiva.NewMsgQueue.process(e)):vow.reject("xiva: error insert new message")},Daria.Xiva.handlers.transfer=function(){return Daria.goHomePage(),vow.resolve()},Daria.Xiva.handlers.unsupported=function(e){if(!Daria.Xiva.handlers.commonChecker(e))return vow.reject("xiva: unsupported error");Daria.gotNewMail=0,Daria.updateTitle();var t;e.raw_data&&_.contains(["transfer","update labels"],e.raw_data.operation)?t=e.raw_data:e.raw_data&&_.contains(["move mails"],e.raw_data.operation)?(Daria.areFoldersTabsEnabled()&&e.message.fid===ns.Model.get("folders").getFidBySymbol(i.WellKnownFolderSymbol.INBOX)&&(e.message.tabId=_.get(e,"raw_data.envelopes[0].tab"),e.message.tabId||Jane.ErrorLog.send({errorType:"no_tab_in_xiva_push"})),t=e.message):t=e.message;var n=Daria.Xiva.processUnsupported(t);return n.then(null,(function(){Jane.ErrorLog.send({event:"xiva.mail.unsupported.unhandled",data:JSON.stringify(e)})})),n}},function(e,t,n){"use strict";function r(e,t){return a(e)||o(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function a(e){if(Array.isArray(e))return e}function s(){var e=[];return ns.Model.traverse("message",(function(t){return e.push(t.getThreadId())})),e}function u(e){return e.map((function(e){return"t"+e}))}function c(e,t){ns.Model.traverse("message",(function(n){if(n.isThread()){var r=n.getThreadId();if(_.contains(e,r)){var i=_.find(t,{tid:r});i&&n.setIfChanged(".new",i.new)}}}))}t.a=function(e){var t=e.tids;if(t=(t||[]).filter((function(e){return e&&"null"!==e})),!t.length)return vow.resolve();var n=_.intersection(s(),u(t));return n.length?ns.forcedRequest("threads-info",{thread_ids:n.map(Daria.tid2mid).join(",")}).then((function(e){var t=r(e,1),i=t[0].data;c(n,i)}),_.noop):vow.resolve()}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(139);n.n(r);!(function(e,t){t.Xiva.NewMsgQueue={},t.Xiva.NewMsgQueue.process=function(e){return t.Xiva.NewMsgQueue.processData(e).then(t.Xiva.NewMsgQueue.insertMessage)},t.Xiva.NewMsgQueue.processData=function(t){return new vow.Promise(function(n,r){var i=t.message,o=t.raw_data,a=i.mid,s="t"+i.thread_id,u=ns.Model.get("message",{ids:a});if(u.isValid())return void r("KNOWN_MESSAGE");var c=u;if(ns.Model.get("settings").isThreaded()){ns.Model.get("message",{ids:s}).hasRealData()||(c=ns.Model.get("messages",{thread_id:s}))}ns.forcedRequest([c]).then((function(){u.getData()?n({mMessage:u,rawData:o}):(e.ErrorLog.send({mid:a,tid:s},"empty_msg_data_after_request_thread"),r("REQUEST_DATA_ERROR"))}),(function(){r("REQUEST_ERROR")}))})},t.Xiva.NewMsgQueue.insertMessage=function(e){var n=e.mMessage,r=e.rawData;t.areFoldersTabsEnabled()&&n.isInTab()&&t.Xiva.updateTabsCounters(n),t.Xiva.updateFolderCounters(n,r),t.Xiva.updateLabelsCounters(n);var i=t.Xiva.NewMsgQueue.updateLists(n);return t.Xiva.NewMsgQueue.notify(n,i),t.Xiva.NewMsgQueue.clearMessagesCache(),t.updateTitle(),vow.resolve()},t.Xiva.NewMsgQueue.clearMessagesCache=function(){t.messages.clearSearchCache(),ns.Model.invalidateAll(["message-nearest","message-thread-nearest"])},t.Xiva.NewMsgQueue.updateLists=function(e){var n=[],i=e.getFolderId();if(e.inFolderBySymbol(r.ThreadsDisabledFolders))return n.push(t.Xiva.NewMsgQueue._updateList({current_folder:i},e)),n;var o={current_folder:i};t.areFoldersTabsEnabled()&&e.isInTab()&&(o.tabId=e.getTabId());var a=t.Xiva.NewMsgQueue.updateThreadModels(e);return n.push(t.Xiva.NewMsgQueue._updateList(Object.assign({threaded:"yes"},o),a.insert,a.replace)),n.push(t.Xiva.NewMsgQueue._updateList(o,e)),e.get(".lid").forEach((function(r){n.push(t.Xiva.NewMsgQueue._updateList({current_label:r},e))})),e.hasAttachment()&&n.push(t.Xiva.NewMsgQueue._updateList({goto:"all",extra_cond:"only_atta"},e)),e.isNew()&&n.push(t.Xiva.NewMsgQueue._updateList(Object.assign({extra_cond:"only_new"},o),e),t.Xiva.NewMsgQueue._updateList({goto:"all",extra_cond:"only_new",unread:"unread"},e)),n},t.Xiva.NewMsgQueue.updateThreadModels=function(n){var r=n.getThreadId(),i=ns.Model.get("message",{ids:r}),o=ns.Model.get("messages",{thread_id:r});if(i.hasRealData())return i.updateThreadInfo(n),o.insertMessage(n),{insert:i,replace:i};if(ns.Model.get("settings").isThreaded()){o.insertMessage(n);if(t.messages.toCreateThread(n)){var a=o.getCount(),s=o.models.indexOf(n),u=o.models[s+1]||n,c=o.models[s+1];u.getData()||!c||c.getData()||e.ErrorLog.send({tid:r,mid:n.get(".mid")},"empty_msg_data_in_messages_thread_model");var l=o.getUnreadCount();return n.isNew()&&(l-=1),t.Xiva.createThreadFromMessage(u,i,a-1,l),i.updateThreadInfo(n),{insert:i,replace:i}}}return{insert:n,replace:n}},t.Xiva.NewMsgQueue._updateList=function(e,t,n){var r=ns.Model.get("messages",e);return r.insertMessage(t,n),r},t.Xiva.NewMsgQueue.notify=function(e,n){t.Xiva.NewMsgQueue.shouldPreventAnyNotifications(e)||(t.Xiva.NewMsgQueue.updateFaviconCounter(e.getFolderId()),t.Xiva.NewMsgQueue.shouldPreventPopupNotifications()||(t.Xiva.NewMsgQueue.playSound(),t.Xiva.NewMsgQueue.preloadMessage(e.get(".mid")),t.Xiva.NewMsgQueue.toShowNotification(n)&&t.Xiva.NewMsgQueue.showNotification(e)))},t.Xiva.NewMsgQueue.shouldPreventPopupNotifications=function(){return t.isComposePage()},t.Xiva.NewMsgQueue.shouldPreventAnyNotifications=function(e){var t=e.inFolderBySymbol(r.SilentFolders),n=!e.isNew();return t||n},t.Xiva.NewMsgQueue.updateFaviconCounter=function(e){var n=ns.page.current.params,i=ns.page.current.page,o=ns.Model.get("folders");if(t.IS_CORP&&"messages"===i){var a=e===n.current_folder,s=o.isFolder(e,r.WellKnownFolderSymbol.INBOX);t.gotNewMail+=a||s?1:0}else if(t.IS_CORP&&"message"===i){var u=ns.Model.get("message",{ids:n.ids}).getData().fid,c=e===u,l=o.isFolder(e,r.WellKnownFolderSymbol.INBOX);t.gotNewMail+=c||l?1:0}else t.gotNewMail+=1;t.gotNewMail+=ns.Model.get("user-dropdown-data").getFreshForDefault()},t.Xiva.NewMsgQueue.playSound=function(){ns.Model.get("settings").getSetting("sound_message")&&"1"!==t.getCookie("sound_message_playing")&&(t.setCookie("sound_message_playing","1"),ns.action.run("sound.message"),setTimeout((function(){t.delCookie("sound_message_playing")}),1e3))},t.Xiva.NewMsgQueue.preloadMessage=function(e){t.messages.preload([{mid:e}])},t.Xiva.NewMsgQueue.toShowNotification=function(e){if(!ns.Model.get("settings").getSign("notify_message"))return!1;if("messages"!==ns.page.current.page)return!0;var n=t.Xiva.NewMsgQueue._getCurrentMessages();return!_.includes(e,n)},t.Xiva.NewMsgQueue._getCurrentMessages=function(){var e,t=ns.page.current.params;return t.current_folder&&t.thread_id&&(e=_.clone(t),delete t.thread_id),ns.Model.get("messages",e||t)},t.Xiva.NewMsgQueue.showNotification=function(e){t.Xiva.NewMsgQueue.showNotificationMessage(e)},t.Xiva.NewMsgQueue.showNotificationCalendarEvent=function(e){var n=e.get(".mid");return ns.request("message-widget-events",{ids:n}).then((function(e){var t=e[0],n=t.get(".eventInfo"),r={type:"calendar",name:n.name,location:n.location,start:n.start,end:n.end};"event_update"===n.calendarMailType?r.label="updated":n.isCancelled&&(r.label="canceled"),ns.Model.get("notifications").addNotification(r)}),(function(){t.Xiva.NewMsgQueue.showNotificationMessage(e)}))},t.Xiva.NewMsgQueue.showNotificationMessage=function(e){var t=e.get(".mid"),n=e.getFolderId(),r=e.getFromEmail(),i=ns.router.generateUrl("message",{current_folder:n,ids:t,fromNotification:1});ns.Model.get("notifications").addNotification({type:"message",subject:e.getSubject(),email:r,firstline:e.getFirstline(),name:e.getFromName(),ref:e.getEmailRef(r),url:i})}})(Jane,Daria)},function(e,t){!(function(e,t){function n(e,n){if(_.has(e,"message.fresh_count")){var r=Number(e.message.fresh_count||0);n?r&&ns.Model.get("head-user-state").setNewLettersInMA(!0):r&&ns.Model.get("head-user-state").setNewLettersInMA(!1);var i=ns.Model.get("user-dropdown-data");i.setNewCountById(e.uid,r),t.gotNewMail+=i.getFreshForDefault(),t.updateTitle()}}ns.events.on("xiva.mail.multi.insert",(function(e,t){n(t,!0)})),ns.events.on("xiva.mail.multi.update",(function(e,t){n(t)})),t.IS_CORP&&ns.events.on("xiva.calendar.meeting-reminder",(function(e,t){ns.Model.get("settings").isSet("i_can_care_of_myself")||ns.Model.get("notifications").addNotification({type:"calendar",label:"reminder",name:t.message.subject,location:t.message.location,vip:!0})}))})(Jane,Daria)},function(e,t,n){n(4345),n(4346),n(4347),n(4348),n(4349),n(4351),n(4352),n(4353),n(4354),n(4355),n(4356),n(4357),n(4358),n(4359),n(4360),n(4361),n(4362),n(4363),n(4364),n(4365)},function(e,t){ns.action.define("attachments.image-preview",(function(e,t,n,r){r.preventDefault(),r.stopPropagation(),Jane.c("Images viewer","Opening"),ns.request(["module-message"]).then((function(){Daria.ImageViewer.open(t.mode,t.mid,t.hid,t["message-hid"]),ns.events.trigger("daria:vAttachmentsViewer:open")}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(139);n.n(r);!(function(){var e="Статуслайн для фильтров";ns.action.define("message.filter-move.show",(function(t,n){var i=n.mid,o=n.fid,a=ns.Model.get("folders"),s=ns.Model.get("settings"),u=ns.Model.get("message",{ids:i});if(!(s.isSet("disable_move_filter")||Daria.areFoldersTabsEnabled()&&a.getFidBySymbol(r.WellKnownFolderSymbol.INBOX)===o)){var c=a.getFolderById(o).name,l=u.getFromEmail();Daria.Statusline.hide(),Daria.Statusline.show({name:"create_filter",size:"m",onClose:function(){Jane.c(e,"Шаг 1","Крестик")},params:{mid:i,fid:o,message:i18n("%Statusline_create_filter_on_message_move",l,c),moveButtonText:i18n("%Statusline_create_filter_on_message_move_button"),cancelButtonText:i18n("%Statusline_create_filter_on_message_move_cancel")}}),Jane.c(e,"Шаг 1","Показ")}})),ns.action.define("message.filter-move.create",(function(t,n){Jane.Services.runModules(["setup.js"],(function(){var t=ns.Model.get("message",{ids:n.mid}),r=t.getFromEmail();Daria.FilterSimpleCreate({validate:no.True,params:{letter:"all",name:"",logic:1,field1:"from",field2:1,field3:r,clicker:"move",move_folder:n.fid},success:function(t){Daria.Statusline.show({name:"apply_filter",size:"m",params:{filid:t,message:i18n("%Statusline_create_filter_on_message_move_done",r),editButtonText:i18n("%Statusline_create_filter_on_message_move_done_change"),moveButtonText:i18n("%Statusline_create_filter_on_message_move_done_button")},onClose:function(){Jane.c(e,"Шаг 2","Крестик")}}),Jane.c(e,"Шаг 2","Показ")}}).create(),Jane.c(e,"Шаг 1","Перекладывать")})),Jane.c("Нотификации","Функциональные нотификации","create_filter","Клик",'Клик в "Перекладывать"')})),ns.action.define("message.filter-move.apply",(function(t,n){Jane.Services.runModules(["setup.js"],(function(){ns.forcedRequest(["filters-apply"],{id:n.filid}).then((function(t){t[0].error||(Daria.Statusline.show({name:"filter_applied",text:i18n("%Statusline_create_filter_on_message_move_done_applied"),onClose:function(){Jane.c(e,"Шаг 3","Крестик")}}),Jane.c(e,"Шаг 3","Показ"))})),Jane.c(e,"Шаг 2","Переложить")})),Jane.c("Нотификации","Функциональные нотификации","apply_filter","Клик",'Клик в "Переложить"')})),ns.action.define("message.filter-move.edit",(function(t,n){ns.page.go("#setup/filters-create?id="+n.filid),Jane.c(e,"Шаг 2","Изменить правило"),Jane.c("Нотификации","Функциональные нотификации","apply_filter","Клик",'Клик в "Изменить правило"')})),ns.action.define("message.filter-move.disable",(function(){ns.Model.get("settings").setSettingOn("disable_move_filter"),Daria.Statusline.hide("create_filter"),Jane.c(e,"Шаг 1","Не предлагать"),Jane.c("Нотификации","Функциональные нотификации","create_filter","Клик",'Клик в "Больше не предлагать"')}))})()},function(e,t){ns.action.define("folder.remove",(function(e,t){Jane.Services.run("#setup",(function(){Daria.Folder.remove(t.id)}))}))},function(e,t){ns.action.define("folder.edit",(function(e,t){Jane.Services.run("#setup",(function(){var e=Daria.FolderEditPopup({id:t.id});$.extend(e,{success:function(){t["only-edit"]&&ns.page.go()}}),e.init()}))}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4350),i=n(139),o=(n.n(i),n(1881));ns.action.define("folder.clear",(function(e,t,n,o){var a=t.fid;t.onTarget&&o.currentTarget&&(t.targetOffset=$(o.currentTarget).offset().top+$(o.currentTarget).height()/2-$(window).scrollTop()),t.symbol&&Object(r.a)(a,"Clear click"),"extended"!==t.type||ns.Model.get("folders").isFolder(a,[i.WellKnownFolderSymbol.TRASH])?t.template="<p>"+i18n("%Folders_Clear_Text")+"</p>":t.template=$(Jane.tt("setup:js-setup-folders-dialog-folder-exclear")),Jane.Services.runModules(["setup.js"],(function(){var e=Daria.FolderClearPopup(t);_.extend(e,{onsuccess:function(){var e=ns.page.refresh();Daria.is3pane()&&t.fid===ns.page.current.params.current_folder&&(e=e.then((function(){var e=0===ns.Model.get("messages",ns.page.current.params).getCount();ns.events.trigger("mail:splitter:toggleOnePaneMode",e)}))),e.then((function(){ns.events.trigger("folder.cleared",t.fid)}))}}),e.init()})),t.metrika&&ns.action.run("common.clck",t)})),ns.action.define("folder.clear-data",(function(e,t){return Object(o.a)({method:"purge",fid:t.fid})}))},function(e,t,n){"use strict";function r(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];Jane.c.apply(Jane,["Left column",Daria.is2pane()?"2pane":"3pane",ns.Model.get("settings").get(".show_folders_tabs")?"Tabs list":"Folders list"].concat(t))}function i(e,t){var n=ns.Model.get("folder",{fid:e}),i=n.get(".symbol");i?r("system",i,t):r("user folder",t)}t.a=i},function(e,t){ns.action.define("folders.add",(function(e,t,n,r){Jane.Services.run("#setup",(function(){var e=Daria.FolderCreatePopup(t);$.extend(e,{success:function(e){if(t["only-create"])return void ns.page.go();t.mMessagesChecked?(t.fid=e,t.mMessagesChecked.runAction("move",t)):ns.action.run("move",{fid:e,toolbar:t.toolbar},null,r)}}),e.init()}))}))},function(e,t){function n(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function r(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?n(Object(r),!0).forEach((function(t){i(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):n(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e){return u(e)||s(e)||a()}function a(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function s(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function u(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}var c=["height=740","width=500"],l=["height=420","width=440"],d=function(e){var t={"google-oauth2":"https://mail.google.com/","mailru-o2-mail":"mail.imap",microsoft:"wl.imap wl.offline_access","yandex-mail-collector":""}[e.application],n={application:e.application,consumer:"mail",display:"popup",force_prompt:1,place:"query",retpath:location.origin+Daria.api["oauth-token"]+"?"+$.param(e),return_brief_profile:1,scope:t};e.login_hint&&(n.login_hint=e.login_hint);var r=["directories=0","left=100","location=0","menubar=0","resizable=1","scrollbars=yes","status=0","toolbar=0","top=100"].concat(o("yandex-mail-collector"===e.application?c:l)).join(", ");window.open(Daria.Config["social-host"]+"/broker2/start?"+$.param(n),"",r)};ns.action.define("generate-oauth-token",(function(e,t){"yandex-mail-collector"!==t.application||t.login_hint?d(t):Daria.React.yaCollectorEmailInputPopup.openPopup({onOk:function(e){var n=e.email;return d(r({login_hint:n},t))}})}))},function(e,t){ns.action.define("label.remove",(function(e,t){Jane.Services.run("#setup",(function(){Daria.Label.remove(t.id)}))}))},function(e,t){ns.action.define("label.edit",(function(e,t){Jane.Services.run("#setup",(function(){var e=Daria.LabelEditPopup({id:t.id});$.extend(e,{success:function(){t["only-edit"]&&ns.page.go()}}),e.init()}))}))},function(e,t){function n(e,t){Jane.Services.run("#setup",(function(){var e=Daria.LabelCreatePopup(t);$.extend(e,{success:function(e){var n=ns.page.current.page;"setup"!==n&&"done"!==n&&("only-create"in t?ns.events.trigger("daria:vLabels:update"):_.isFunction(t.onLabelCreated)?t.onLabelCreated(e):ns.action.run("label",{current_label:e,"message-id":t["message-id"],contextMenu:t.contextMenu,isNeedDeselect:t.isNeedDeselect}))}}),"promo"in t&&ns.Model.get("settings").setSettingOn("no-labels-promo"),e.init()}))}ns.action.define("labels.add",n)},function(e,t){ns.action.define("label",(function(e,t,n){t.current_label=t.current_label||t.lid,t._viewKey=$(n).closest(".ns-view-message").attr("data-key"),ns.events.trigger("daria:vToolbarButton:"+e,t)})),ns.action.copy("label","unlabel")},function(e,t){ns.action.define("move",(function(e,t){t.refreshImmediately=!0,ns.events.trigger("daria:vToolbarButton:move",t)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(663),i=(n.n(r),n(139)),o=(n.n(i),n(363));!(function(){function e(){return parseInt(ns.Model.get("settings").getSetting("reply-promo-cnt"),10)||0}function t(){["messages","message-nearest","message-thread-nearest","abook-contacts","abook-contact","folders"].forEach((function(e){ns.Model.invalidate(e)}));var e=ns.page.current.params,t=ns.Model.get("folders");ns.Model.isDefined("messages-pager")&&(ns.Model.get("messages-pager",e).invalidate(),ns.Model.get("messages-pager",{current_folder:t.getFidBySymbol(i.WellKnownFolderSymbol.SENT)}).invalidate())}function n(e){if(e.error)return void this.reject(e.error);switch(e.status){case"ok":t(),this.resolve(no.jpath(".storedmid",e));break;case"attachment_too_big":this.reject(31);break;case r.UNDO_MESSAGE_SAVED:case r.UNDO_CANNOT_SAVE:this.reject(e.status);break;default:this.reject("no parse send responce: ".concat(e.status))}}function a(e){var t=Daria.SendMail.getUndoSendTime();t>0&&(e.send_time=t,e.relative=!0)}function s(e){var t={};if(e.undoAvailable){var n=Daria.SendMail.getUndoSendLogger("reply");n.resetStartTime(),n.logShow(),t.onClose=function(){n.logClose()},t.onCancel=function(){n.logCancel(),e.cancelled=!0,Daria.SendMail.showMessageSentCancelling()}}Daria.SendMail.showSendingMessage(t)}function u(e,t,r){var o=$.Deferred(),s=[{id:"folders"},{id:"message",params:{ids:e}},{id:"message",params:{ids:t}},{id:"message-body",params:{ids:e}},{id:"message-body",params:{ids:t}}];return ns.request(s).then((function(s){var u=s[0],c=s[1],l=s[2],d=s[3],f=s[4];if(!c.getData()||!d.getData())return void o.reject(-1);if(!l||!f)return void o.reject("send template: no message or no message body");var p=u.getFidBySymbol(i.WellKnownFolderSymbol.TEMPLATE),g=c.getFolderId();if(!p||!g||g!==p)return void o.reject(-1);var h=l.getFolderId(),m=h?u.getFolderById(h):null;if(!h||!m||!u.isFolder(h,i.WellKnownFolderSymbol.INBOX)&&!m.user)return void o.reject("no fid or not user or inbox folder");var v=ns.Model.get("settings"),b=d.getComposeHTML(),y=f.getSubtype(),S=f.getReplyBody(y),w=f.getRecipients(!0),O=f.getMessageId(),M=f.getInReplyTo(),D=f.getReferences();"plain"===y&&(b=Daria.Html2Text.html2text(b)),S=b+S;var T={mark_ids:t,overwrite:t,ign_overwrite:"yes",mark_as:"replied",references:$.trim((D||M)+" "+O),inreplyto:O,ttype:y,from_mailbox:l.getToEmail()||v.getSetting("default_email"),from_name:v.getSetting("from_name"),to:w.to,cc:w.cc,bcc:"",subj:"Re: "+l.getSubject(!0),send:S};r.undoAvailable&&a(T);var x=d.getAttachments();if(x&&x.length>0){var C=[],E=[];_.filter(x).forEach((function(t){if(t.narod){var n={narodUrl:t.unsafeUrl,previewSrc:t["preview-src"],name:t.name,size:t.size,folder:t.folder};E.push(Daria.utils.getDiskParams(n))}else C.push({mid:e,hid:t.hid})})),T.parts_json=C.length?JSON.stringify(C):"",T.disk_att=E.length?JSON.stringify(E):""}Daria.SendMail.send({params:T,success:function(e){n.call(o,e),o.then((function(){ns.page.go()}))},error:function(){o.reject("error send mail")}})})).fail((function(){var t=ns.Model.get("message",{ids:e}),n=ns.Model.get("message-body",{ids:e});if(!t.getData()||!n.getData())return void o.reject(-1);o.reject()})),o.promise()}function c(e,t,r){var i=$.Deferred();return ns.request(["message","message-body"],{ids:t}).then((function(o){if(2!==o.length)return void i.reject("sendOnEmail: not pass all models in request");var s=o[0],u=o[1],c=ns.Model.get("settings"),l=u.getComposeHTML(),d=u.getSubtype();"plain"===d&&(l=Daria.Html2Text.html2text(l));var f=$.map(u.getAttachments(t),(function(e){return"message"===e.type?e.hid:null})),p={ids:t,ttype:d,overwrite:t,ign_overwrite:"yes",from_mailbox:s.getToEmail(t)||c.getSetting("default_email"),from_name:c.getSetting("from_name"),to:e,cc:"",bcc:"",subj:"Fwd: "+s.getSubject(!0),send:l,inreplyto:u.getMessageId(t),references:"",mark_as:"forwarded",mark_ids:t,parts:f};r.undoAvailable&&a(p),Daria.SendMail.send({params:p,success:function(e){n.call(i,e),i.then((function(){ns.page.go().then((function(){ns.events.trigger("daria:Message:check",t)}))}))},error:function(){i.reject("sendOnMail: error sending mail")}})})),i.promise()}function l(e,t){if(e.cancelled&&t)return void Daria.SendMail.cancelSendMessage(t,"sending_message",!1);var n={};if(e.undoAvailable){var r=Daria.SendMail.getUndoSendLogger(t);n.onClose=function(){r.logClose()},n.onCancel=function(){r.logCancel()}}Daria.SendMail.showMessageSent(t,n)}function d(e,t,n){switch(n){case-1:Daria.Statusline.show({name:"template_not_found",params:{template:e}});break;case 31:Daria.Statusline.show({name:"too_big_attachment",params:{maxCount:Daria.Constants.MAX_MESSAGES_TO_FORWARD,maxSize:Daria.Constants.MAX_TOTAL_SIZE_OF_ATTACHMENTS}});break;case r.UNDO_CANNOT_SAVE:Daria.SendMail.showTryAgainPopup({title:i18n("%Произошла_ошибка"),message:i18n("%Compose_undo_cannot_save_error"),onRetry:t});break;case r.UNDO_MESSAGE_SAVED:Daria.SendMail.showTryAgainPopup({title:i18n("%Произошла_ошибка"),message:i18n("%Compose_undo_message_saved_error"),onRetry:t});break;default:Daria.Statusline.show({name:"message_sending_failed",text:i18n("%Feedback_Error_Msg")})}}function f(e,t){Daria.Statusline.hide("sending_message"),ns.events.trigger("daria:MOPS:action-complete",t),ns.events.trigger("daria:MOPS:"+e,t),ns.events.trigger("message.action.complete",t),ns.events.trigger("daria:vToolbarButton:loader:end")}var p=function(e){Jane.c(["Ответить всем","Паранжа"].concat(e))};ns.action.define("reply",(function(t,n,r,i){var a={undoAvailable:Daria.SendMail.shouldShowUndoSend(),cancelled:!1},p=null;n.sendNoUndo?(delete n.sendNoUndo,a.undoAvailable=!1):p=(function(){var e=Object.assign({sendNoUndo:!0},n);return function(){return ns.action.run(t,e,r,i)}})(),n.action=t;var h,m=ns.Model.get("settings");if(n["message-id"])h={ids:[n["message-id"]],tids:[]};else{var v=n.mMessagesChecked;ns.assert(v,"params.mMessagesChecked","%s not passed to ns.action reply");if(!v.getCount())return;h=v.getIds()}if(0===h.ids.length&&1===h.tids.length){var b=h.tids[0],_=ns.Model.get("message",{ids:b});if(_.isMessageThread())h.tids=[],h.ids=[_.getMessageThreadMid()];else if("forward"!==t){var y=_.getThreadMessages().getLastReplyMessage();y&&(h.tids=[],h.ids=[y.get(".mid")])}}var S=1===h.ids.length&&0===h.tids.length?h.ids[0]:null;if(S){var w=ns.Model.get("message-body",{ids:S});if(w.isCollectorMessage())return;if("reply"===t&&n.toolbar&&w.allowedReplyAll()&&!$("html").hasClass("b-page_reply-promo")&&Daria.is2pane()&&!m.getSetting("force-reply"))return void ns.action.run("reply.confirm",n,r,i)}var O=e();"reply"===t&&!n.toolbar&&O<2&&(O+=1,m.setSettings({"reply-promo-cnt":O})),"reply-all"===t&&!n.toolbar&&O<2&&m.setSettings({"reply-promo-cnt":0});var M;if("sendon"===t&&n.toolbar){if(Object(o.getPddRestrictModel)().isRestricted)return Object(o.getPddRestrictModel)().showPopup();if(!(M=n.email))return void Daria.Statusline.show({name:"message_sendon",speed:"fast",text:i18n("%Message_Sendon_Msg_Error")});if(s(a),S)return void c(M,S,a).done(l.bind(null,a)).fail(d.bind(null,null,p)).always(f.bind(null,t,n));t="forward"}if("reply-tmpl"===t&&n.toolbar){if(Object(o.getPddRestrictModel)().isRestricted)return Object(o.getPddRestrictModel)().showPopup();var D=n.tmpl;return D?S?(s(a),void u(D,S,a).done(l.bind(null,a)).fail(d.bind(null,D,p)).always(f.bind(null,t,n))):void Daria.Statusline.show({name:"only_reply_to_one_email",speed:"fast",text:i18n("%Message_ReplyTmpl_Msg_Error2")}):void Daria.Statusline.show({name:"missing_template",speed:"fast",text:i18n("%Message_ReplyTmpl_Msg_Error")})}var T={oper:t};h.ids.length&&(T.ids=h.ids),h.tids.length&&(T.tids=h.tids),n.translate&&(T.translate=n.translate),M&&ns.Model.get("compose-predefined-data").set(".to",M),Daria.composeGo(T).then((function(){M&&ns.Model.get("compose-state",ns.View.info("compose2").params()).setFocusField("subj")})),f(t,n),g&&(g.close(),g=null)}));var g;ns.action.copy("reply","forward"),ns.action.copy("reply","reply-all"),ns.action.copy("reply","sendon"),ns.action.copy("reply","reply-tmpl"),ns.action.define("reply.confirm",(function(t,n){var r=ns.Model.get("settings"),i=e(),o=n.mMessagesChecked.getIds(),a=n.mMessagesChecked.isOnlyMessageChecked()?o.ids[0]:null;if(a){var s,u,c=function(){this.close()},l={body:Jane.tt("message:reply-confirm-dialog",{mid:a,participants:ns.Model.get("message-body",{ids:a}).participantsCount()+1,prevent:i>=2}),additionalClass:"b-toolbar__popup",onopen:function(e){c=c.bind(e),ns.events.on("ns-page-before-changed",c)},oncancel:function(){r.setSettings({"reply-promo-cnt":i+1})},onclose:function(){ns.events.off("ns-page-before-changed",c),g.$paranja.addClass("g-hidden").removeClass("b-paranja_fadeout"),u&&$("HTML").removeClass("b-page_reply-promo")},width:400,hideOnScroll:!0};if(n.buttonView){u=n.buttonView.$node;var d=u.offset(),f=u.outerWidth();s=Object.assign({},d),s.top+=u.height()-$(window).scrollTop(),s.left+=f/2;s.left=Math.max(s.left,220);var h=d.left+f/2-(s.left-200);$.extend(l,{onTarget:{x:s.left,y:s.top,tailX:h,side:"top",pos:"bottom"}})}g=Daria.Dialog.open(l),r.setSettings({"hk-reply-promo":"on"}),p("Показы"),u&&$("HTML").addClass("b-page_reply-promo"),g.$paranja.removeClass("g-hidden b-paranja_transparent").addClass("b-paranja_fadeout")}})),ns.action.define("reply.not-ask",(function(e,t,n,r){var i={event:r,params:t},o=nb.block(i.event.currentTarget);return window.setTimeout((function(){ns.Model.get("settings").setSettings({"force-reply":o.isChecked()}),p("Проставлено галочек")}),1),!0}))})()},function(e,t){ns.action.define("fix-empty-image",(function(e,t,n){Daria.Page.fixEmptyImage(n,t.type)}))},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){function a(e){r(u,i,o,a,s,"next",e)}function s(e){r(u,i,o,a,s,"throw",e)}var u=e.apply(t,n);a(void 0)})}}Object.defineProperty(t,"__esModule",{value:!0});var o=n(883);ns.action.define("change-theme",(function(){var e=i(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.themeId,Object(o.setTheme)(r),e.next=4,Object(o.runTheme)(r);case 4:return e.next=6,ns.action.run("trigger-theme-redraw",{themeId:r});case 6:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}})()),ns.action.define("trigger-theme-redraw",(function(){function e(e,n){return t.apply(this,arguments)}var t=i(regeneratorRuntime.mark((function e(t,n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.themeId,Daria.themeId=r,ns.events.trigger("daria:vThemesSelector:new-schema"),e.prev=3,e.next=6,ns.page.go();case 6:e.next=12;break;case 8:if(e.prev=8,e.t0=e.catch(3),"expired"===(e.t0&&e.t0.error)){e.next=12;break}throw e.t0;case 12:$(window).trigger("resize");case 13:case"end":return e.stop()}}),e,null,[[3,8]])})));return e})())},function(e,t){ns.action.define("folder.mark-read",(function(e,t){Daria.Folder.markRead(t.fid)})),ns.action.define("tab.mark-read",(function(e,t){Daria.MOPS.markReadTab(t.id)}))},function(e,t){ns.action.define("mops.label",(function(e,t){var n=ns.Model.get("messages-checked",ns.page.current.params);return Daria.MOPS.label(n,t)}))},function(e,t){ns.action.define("journal.log",(function(e,t){Daria.monitoring.journal(t.operation,t.data)}))},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(507);ns.action.define("error.log-simple",(function(e,t){var n=t.errorType,i=t.error;Object(r.logSimpleError)(n,i)}))},function(e,t){ns.action.define("shortcuts.modalOn",(function(e,t){$.Shortcuts.modalListOn(t.list)})),ns.action.define("shortcuts.modalOff",(function(e,t){$.Shortcuts.modalListOff(t.list)}))},function(e,t,n){var r=n(1259),i=n(394);r.scope("file-icon-svg",n(4367)),r.scope("attach-icons-svg",n(1828)),r.scope("file-icon-png",Object.assign({},n(4466),n(4477),n(4527))),r.scope("collector-icon",n(4577)),r.scope("lang-icon",n(4591)),r.scope("social-icon",n(4604)),r.scope("promo-mobile",n(4609)),r.scope("theme-thumb",n(1746)),r.default((function(e,t){return Jane.ErrorLog.send({errorType:"missed-image-link",scope:e,link:t}),i}))},function(e,t,n){e.exports={ai:n(4368),ai_small:n(4369),application:n(4370),application_small:n(4371),archive:n(4372),archive_small:n(4373),audio:n(4374),audio_small:n(4375),avi:n(4376),avi_small:n(4377),bmp:n(4378),bmp_small:n(4379),book:n(4380),book_small:n(4381),cdr:n(4382),cdr_small:n(4383),csv:n(4384),csv_small:n(4385),development:n(4386),development_small:n(4387),djvu:n(4388),djvu_small:n(4389),doc:n(4390),doc_small:n(4391),eml:n(4392),eml_small:n(4393),exe:n(4394),exe_small:n(4395),executable:n(4396),executable_small:n(4397),flash:n(4398),flash_small:n(4399),font:n(4400),font_small:n(4401),general:n(4402),general_small:n(4403),gif:n(4404),gif_small:n(4405),image:n(4406),image_small:n(4407),jpg:n(4408),jpg_small:n(4409),mail:n(4410),mail_small:n(4411),mov:n(4412),mov_small:n(4413),mp3:n(4414),mp3_small:n(4415),mp4:n(4416),mp4_small:n(4417),none:n(4418),none_small:n(4419),odp:n(4420),odp_small:n(4421),ods:n(4422),ods_small:n(4423),odt:n(4424),odt_small:n(4425),pcx:n(4426),pcx_small:n(4427),pdf:n(4428),pdf_small:n(4429),pls:n(4430),pls_small:n(4431),png:n(4432),png_small:n(4433),ppt:n(4434),ppt_small:n(4435),psd:n(4436),psd_small:n(4437),rar:n(4438),rar_small:n(4439),rtf:n(4440),rtf_small:n(4441),script:n(4442),script_small:n(4443),srt:n(4444),srt_small:n(4445),text:n(4446),text_small:n(4447),tiff:n(4448),tiff_small:n(4449),txt:n(4450),txt_small:n(4451),video:n(4452),video_small:n(4453),virus:n(4454),virus_small:n(4455),wav:n(4456),wav_small:n(4457),wma:n(4458),wma_small:n(4459),wmv:n(4460),wmv_small:n(4461),xls:n(4462),xls_small:n(4463),zip:n(4464),zip_small:n(4465)}},function(e,t,n){e.exports=n.p+"_/be0c25fae6f28871ac763354329b95c0-icon_file_ai.svg"},function(e,t,n){e.exports=n.p+"_/f48c196b35090778fcd477e08e7ee7e0-icon_file_ai_small.svg"},function(e,t,n){e.exports=n.p+"_/ea8af15cf8cc7c7e76e095a58a8af7b8-icon_file_application.svg"},function(e,t,n){e.exports=n.p+"_/a3beec2b25e2b6efb3709274013c6298-icon_file_application_small.svg"},function(e,t,n){e.exports=n.p+"_/e1b9a3f82960aa508919fe237a05e938-icon_file_archive.svg"},function(e,t,n){e.exports=n.p+"_/e001ba25ace471c5669771848343c445-icon_file_archive_small.svg"},function(e,t,n){e.exports=n.p+"_/922e8beef7a2805337a98c40dbba7cdf-icon_file_audio.svg"},function(e,t,n){e.exports=n.p+"_/249832d15f708b8d16d1a6aa0c3e9125-icon_file_audio_small.svg"},function(e,t,n){e.exports=n.p+"_/8e514b0d28a91fd04eff9577404451a0-icon_file_avi.svg"},function(e,t,n){e.exports=n.p+"_/ba574cf82ae4b22942f26ccd41982aef-icon_file_avi_small.svg"},function(e,t,n){e.exports=n.p+"_/456a8e721cd77154a6699e7ab5655af5-icon_file_bmp.svg"},function(e,t,n){e.exports=n.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_bmp_small.svg"},function(e,t,n){e.exports=n.p+"_/5d935a130b81cdfcabe3dbadfa48170a-icon_file_book.svg"},function(e,t,n){e.exports=n.p+"_/dd5c671fd26662680451258c237b8235-icon_file_book_small.svg"},function(e,t,n){e.exports=n.p+"_/0291b4bf4b4bed1b3d56ecca41398618-icon_file_cdr.svg"},function(e,t,n){e.exports=n.p+"_/db96f6ba4a8c633573d89f2feb5a73b0-icon_file_cdr_small.svg"},function(e,t,n){e.exports=n.p+"_/0d159a3403cd2f0efe68f73cc07289bf-icon_file_csv.svg"},function(e,t,n){e.exports=n.p+"_/457edf14c8a4f290b46eaf2b8ea632a1-icon_file_csv_small.svg"},function(e,t,n){e.exports=n.p+"_/3cc84b7817c7a861f187149ea20fe77a-icon_file_development.svg"},function(e,t,n){e.exports=n.p+"_/a69a1cc38476a39ee26155da7fa86c3d-icon_file_development_small.svg"},function(e,t,n){e.exports=n.p+"_/09363f31f78d4c871df33d35bb5b0c85-icon_file_djvu.svg"},function(e,t,n){e.exports=n.p+"_/ea531aff61a9f1a23c543b839bac6f6d-icon_file_djvu_small.svg"},function(e,t,n){e.exports=n.p+"_/1a99bbd3e99b024c0cbc135ee0e4dc14-icon_file_doc.svg"},function(e,t,n){e.exports=n.p+"_/8cbf23c524fd0c5f45d57c960c3b6070-icon_file_doc_small.svg"},function(e,t,n){e.exports=n.p+"_/9afffbf2bbe57e8fcac5e1496d7b2a2f-icon_file_eml.svg"},function(e,t,n){e.exports=n.p+"_/e6451f96a48038409f9c27dde454824e-icon_file_eml_small.svg"},function(e,t,n){e.exports=n.p+"_/1654660480f76471a3e8851b40f3635f-icon_file_exe.svg"},function(e,t,n){e.exports=n.p+"_/a3beec2b25e2b6efb3709274013c6298-icon_file_exe_small.svg"},function(e,t,n){e.exports=n.p+"_/ea8af15cf8cc7c7e76e095a58a8af7b8-icon_file_executable.svg"},function(e,t,n){e.exports=n.p+"_/a3beec2b25e2b6efb3709274013c6298-icon_file_executable_small.svg"},function(e,t,n){e.exports=n.p+"_/e84256a31ce119f5270cc29d00ce112f-icon_file_flash.svg"},function(e,t,n){e.exports=n.p+"_/f718f32f7d223a305da6b06c4443f16a-icon_file_flash_small.svg"},function(e,t,n){e.exports=n.p+"_/71c442515253e2426d87d2b36987e58f-icon_file_font.svg"},function(e,t,n){e.exports=n.p+"_/d9124c687ef254b35068cdf927a0378f-icon_file_font_small.svg"},function(e,t,n){e.exports=n.p+"_/6fa94aa8ec8a4b95e4c704142d48ea06-icon_file_general.svg"},function(e,t,n){e.exports=n.p+"_/1a28827c5c9284f36ffe64786a98958d-icon_file_general_small.svg"},function(e,t,n){e.exports=n.p+"_/4c62fa51e072aa2b518fe2a6d9bb7db8-icon_file_gif.svg"},function(e,t,n){e.exports=n.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_gif_small.svg"},function(e,t,n){e.exports=n.p+"_/ae33662f545add06634646f8bfb3e589-icon_file_image.svg"},function(e,t,n){e.exports=n.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_image_small.svg"},function(e,t,n){e.exports=n.p+"_/32ce8c6772ddda003a3a0852e3c94740-icon_file_jpg.svg"},function(e,t,n){e.exports=n.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_jpg_small.svg"},function(e,t,n){e.exports=n.p+"_/4ccfbf5ff7ce7a45c862efb1b4d6b653-icon_file_mail.svg"},function(e,t,n){e.exports=n.p+"_/e6451f96a48038409f9c27dde454824e-icon_file_mail_small.svg"},function(e,t,n){e.exports=n.p+"_/b2f512ff88f79b3294b4efe2d4a8b5b8-icon_file_mov.svg"},function(e,t,n){e.exports=n.p+"_/9b2fab88f730b87482cd0e9e63cf7d09-icon_file_mov_small.svg"},function(e,t,n){e.exports=n.p+"_/d9790f047adc4b433d6e6a158e4a4af9-icon_file_mp3.svg"},function(e,t,n){e.exports=n.p+"_/249832d15f708b8d16d1a6aa0c3e9125-icon_file_mp3_small.svg"},function(e,t,n){e.exports=n.p+"_/651a574e29a9bd70e69a08aa35d465a4-icon_file_mp4.svg"},function(e,t,n){e.exports=n.p+"_/ba574cf82ae4b22942f26ccd41982aef-icon_file_mp4_small.svg"},function(e,t,n){e.exports=n.p+"_/43e6719ba9a6203e8c272a504e310664-icon_file_none.svg"},function(e,t,n){e.exports=n.p+"_/7a3ef1ba2a6c113d7179d418ddf6c734-icon_file_none_small.svg"},function(e,t,n){e.exports=n.p+"_/492af986844dd66c7c9c08faeaa261be-icon_file_odp.svg"},function(e,t,n){e.exports=n.p+"_/85a46315bf57cef959688396f751e0a5-icon_file_odp_small.svg"},function(e,t,n){e.exports=n.p+"_/a01de41907a6b40d2d5e833cff78bb95-icon_file_ods.svg"},function(e,t,n){e.exports=n.p+"_/6b6cb9ca67b2292a46b4887dc271df03-icon_file_ods_small.svg"},function(e,t,n){e.exports=n.p+"_/fe5ea288f8a12b89077a166baa72be67-icon_file_odt.svg"},function(e,t,n){e.exports=n.p+"_/7ce2f9213a303b0377153cff401c0866-icon_file_odt_small.svg"},function(e,t,n){e.exports=n.p+"_/3a56b52fcac35e27a41edc34c5bdf140-icon_file_pcx.svg"},function(e,t,n){e.exports=n.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_pcx_small.svg"},function(e,t,n){e.exports=n.p+"_/63407042e1ac46ce84554920cb97a928-icon_file_pdf.svg"},function(e,t,n){e.exports=n.p+"_/6ace91f4a13ebbf531a5e5069350d460-icon_file_pdf_small.svg"},function(e,t,n){e.exports=n.p+"_/922e8beef7a2805337a98c40dbba7cdf-icon_file_pls.svg"},function(e,t,n){e.exports=n.p+"_/249832d15f708b8d16d1a6aa0c3e9125-icon_file_pls_small.svg"},function(e,t,n){e.exports=n.p+"_/dbe8f2ed099d49557498dc3aeb694704-icon_file_png.svg"},function(e,t,n){e.exports=n.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_png_small.svg"},function(e,t,n){e.exports=n.p+"_/249a420c64848c72217e2a184e43f73f-icon_file_ppt.svg"},function(e,t,n){e.exports=n.p+"_/209a4e8c1eb1d90a0651a98a085c9813-icon_file_ppt_small.svg"},function(e,t,n){e.exports=n.p+"_/1f8f597c9f16a782c31b466838ed961a-icon_file_psd.svg"},function(e,t,n){e.exports=n.p+"_/a1774f9682616e982d234977286a4186-icon_file_psd_small.svg"},function(e,t,n){e.exports=n.p+"_/545a441216bf5ee80228510904eb116e-icon_file_rar.svg"},function(e,t,n){e.exports=n.p+"_/e001ba25ace471c5669771848343c445-icon_file_rar_small.svg"},function(e,t,n){e.exports=n.p+"_/e63b78a5db4059aaee2b0a26c1e3391d-icon_file_rtf.svg"},function(e,t,n){e.exports=n.p+"_/7ce2f9213a303b0377153cff401c0866-icon_file_rtf_small.svg"},function(e,t,n){e.exports=n.p+"_/3cc84b7817c7a861f187149ea20fe77a-icon_file_script.svg"},function(e,t,n){e.exports=n.p+"_/a69a1cc38476a39ee26155da7fa86c3d-icon_file_script_small.svg"},function(e,t,n){e.exports=n.p+"_/18c4518b36edd61c4117de5697e34d9a-icon_file_srt.svg"},function(e,t,n){e.exports=n.p+"_/ba574cf82ae4b22942f26ccd41982aef-icon_file_srt_small.svg"},function(e,t,n){e.exports=n.p+"_/87f98559ca8423415305508060e154df-icon_file_text.svg"},function(e,t,n){e.exports=n.p+"_/7ce2f9213a303b0377153cff401c0866-icon_file_text_small.svg"},function(e,t,n){e.exports=n.p+"_/76f469d93774a8ee072e54a77d1316fb-icon_file_tiff.svg"},function(e,t,n){e.exports=n.p+"_/ac97f92f6b2486daa5ffe2ee834c66a1-icon_file_tiff_small.svg"},function(e,t,n){e.exports=n.p+"_/770496b1f8ba497f7932345b0fa99c51-icon_file_txt.svg"},function(e,t,n){e.exports=n.p+"_/7ce2f9213a303b0377153cff401c0866-icon_file_txt_small.svg"},function(e,t,n){e.exports=n.p+"_/625b0925dfad9ad67792f8713df2c64d-icon_file_video.svg"},function(e,t,n){e.exports=n.p+"_/ba574cf82ae4b22942f26ccd41982aef-icon_file_video_small.svg"},function(e,t,n){e.exports=n.p+"_/6ef89e854963e20536e4f8aa660df196-icon_file_virus.svg"},function(e,t,n){e.exports=n.p+"_/fd66b38f0fc39f598ef72d85a581214e-icon_file_virus_small.svg"},function(e,t,n){e.exports=n.p+"_/1929081a1ef2320eafe37d6b9dd4054f-icon_file_wav.svg"},function(e,t,n){e.exports=n.p+"_/249832d15f708b8d16d1a6aa0c3e9125-icon_file_wav_small.svg"},function(e,t,n){e.exports=n.p+"_/ec94740e3493d44a0c0e871562ead7d8-icon_file_wma.svg"},function(e,t,n){e.exports=n.p+"_/249832d15f708b8d16d1a6aa0c3e9125-icon_file_wma_small.svg"},function(e,t,n){e.exports=n.p+"_/7ff1c6877301e0d2ee8cbb522fbfabad-icon_file_wmv.svg"},function(e,t,n){e.exports=n.p+"_/ba574cf82ae4b22942f26ccd41982aef-icon_file_wmv_small.svg"},function(e,t,n){e.exports=n.p+"_/1cbe1eb3da20a035610f7ae750e50507-icon_file_xls.svg"},function(e,t,n){e.exports=n.p+"_/beeb326ca3093a4cdf78631cf84d9777-icon_file_xls_small.svg"},function(e,t,n){e.exports=n.p+"_/7f653b60b459526c425e4e0a9d8ab1f4-icon_file_zip.svg"},function(e,t,n){e.exports=n.p+"_/e001ba25ace471c5669771848343c445-icon_file_zip_small.svg"},function(e,t,n){e.exports={"bigmail-48":n(4467),"blue-48":n(4468),"blue-al-48":n(4469),"blue-ar-48":n(4470),"camera-48":n(4471),"grey-48":n(4472),"narod-48":n(4473),"shared-foreign-48":n(4474),"shared-own-48":n(4475),"trash-48":n(4476)}},function(e,t,n){e.exports=n.p+"_/f091745b85a1b5a234262d98639f7977-b-mail-icon_bigmail-48.png"},function(e,t,n){e.exports=n.p+"_/fc6dedd3b3a5a8293ed040b648e45336-b-mail-icon_blue-48.png"},function(e,t,n){e.exports=n.p+"_/6d7e2b20aade0b9c2125ffdaba2f3879-b-mail-icon_blue-al-48.png"},function(e,t,n){e.exports=n.p+"_/85778cc2db9a7ac21ec2088b0e7576b3-b-mail-icon_blue-ar-48.png"},function(e,t,n){e.exports=n.p+"_/e3f41f309ccedf920fcf875c6859dc3f-b-mail-icon_camera-48.png"},function(e,t,n){e.exports=n.p+"_/9187087411a527777d76816620717fd3-b-mail-icon_grey-48.png"},function(e,t,n){e.exports=n.p+"_/0d93c6d7721c7992e63eb3d752498f8d-b-mail-icon_narod-48.png"},function(e,t,n){e.exports=n.p+"_/fa673c965dd4d8ea80f45948995212e5-b-mail-icon_shared-foreign-48.png"},function(e,t,n){e.exports=n.p+"_/dcdad2da9e9da84ebd34d544dd9713e8-b-mail-icon_shared-own-48.png"},function(e,t,n){e.exports=n.p+"_/f14d7be3bf0618dc524c5130570edfba-b-mail-icon_trash-48.png"},function(e,t,n){e.exports={"ai-48":n(4478),"application-48":n(4479),"archive-48":n(4480),"audio-48":n(4481),"avi-48":n(4482),"bmp-48":n(4483),"book-48":n(4484),"cdr-48":n(4485),"csv-48":n(4486),"development-48":n(4487),"djvu-48":n(4488),"doc-48":n(4489),"eml-48":n(4490),"exe-48":n(4491),"executable-48":n(4492),"flash-48":n(4493),"font-48":n(4494),"general-48":n(4495),"gif-48":n(4496),"image-48":n(4497),"jpg-48":n(4498),"mail-48":n(4499),"mov-48":n(4500),"mp3-48":n(4501),"mp4-48":n(4502),"none-48":n(4503),"odp-48":n(4504),"ods-48":n(4505),"odt-48":n(4506),"pcx-48":n(4507),"pdf-48":n(4508),"pls-48":n(4509),"png-48":n(4510),"ppt-48":n(4511),"psd-48":n(4512),"rar-48":n(4513),"rtf-48":n(4514),"script-48":n(4515),"srt-48":n(4516),"text-48":n(4517),"tiff-48":n(4518),"txt-48":n(4519),"video-48":n(4520),"virus-48":n(4521),"wav-48":n(4522),"wma-48":n(4523),"wmv-48":n(4524),"xls-48":n(4525),"zip-48":n(4526)}},function(e,t,n){e.exports=n.p+"_/4e385ef712d228d9bd5fbe4e830f697a-b-mail-icon_ai-48.png"},function(e,t,n){e.exports=n.p+"_/6bb25ffd9b943edee508ad9fbf206dde-b-mail-icon_application-48.png"},function(e,t,n){e.exports=n.p+"_/44c2a8cbb02c8be528236ad80e1c3749-b-mail-icon_archive-48.png"},function(e,t,n){e.exports=n.p+"_/5546dd99a85e195918ed35d203f00bd1-b-mail-icon_audio-48.png"},function(e,t,n){e.exports=n.p+"_/531db7f7386660dc96ed2480eea5e98d-b-mail-icon_avi-48.png"},function(e,t,n){e.exports=n.p+"_/e7828e1b92baaa31c9905542822c79d6-b-mail-icon_bmp-48.png"},function(e,t,n){e.exports=n.p+"_/8ed95b3dece205227bb9354a232d4e4e-b-mail-icon_book-48.png"},function(e,t,n){e.exports=n.p+"_/a125276886063d2dd348dbfa5d4ef608-b-mail-icon_cdr-48.png"},function(e,t,n){e.exports=n.p+"_/8a101e1a660d145ef0542dfeac76da22-b-mail-icon_csv-48.png"},function(e,t,n){e.exports=n.p+"_/5893a07f075b0984d0c5a8287265054e-b-mail-icon_development-48.png"},function(e,t,n){e.exports=n.p+"_/f1610434d25a0845ef89e10af2ca09e9-b-mail-icon_djvu-48.png"},function(e,t,n){e.exports=n.p+"_/50b19213ee10e722bd0f0dfe6b45abfb-b-mail-icon_doc-48.png"},function(e,t,n){e.exports=n.p+"_/f3093a6d0374ed1eb1aac797961641b0-b-mail-icon_eml-48.png"},function(e,t,n){e.exports=n.p+"_/deda913cb7b171cd185ee662287e3a99-b-mail-icon_exe-48.png"},function(e,t,n){e.exports=n.p+"_/6bb25ffd9b943edee508ad9fbf206dde-b-mail-icon_executable-48.png"},function(e,t,n){e.exports=n.p+"_/f56d2249fc66d6e045d9e47209b0d74c-b-mail-icon_flash-48.png"},function(e,t,n){e.exports=n.p+"_/75702f8ffcf90cb4a8c265f912bb2fb3-b-mail-icon_font-48.png"},function(e,t,n){e.exports=n.p+"_/83abfae7075037224e16a9856f1515d4-b-mail-icon_general-48.png"},function(e,t,n){e.exports=n.p+"_/7d3a81c7159dc88073d2c8b68869454c-b-mail-icon_gif-48.png"},function(e,t,n){e.exports=n.p+"_/b30d721e5ec76d5df6e9f5a15f2a8b84-b-mail-icon_image-48.png"},function(e,t,n){e.exports=n.p+"_/70c29e00d2a9726e144663682092d3f2-b-mail-icon_jpg-48.png"},function(e,t,n){e.exports=n.p+"_/f3093a6d0374ed1eb1aac797961641b0-b-mail-icon_mail-48.png"},function(e,t,n){e.exports=n.p+"_/fa85671858f6608a793c6b096013063d-b-mail-icon_mov-48.png"},function(e,t,n){e.exports=n.p+"_/eea5f29ba3d27dcc00790eea34ccbc4a-b-mail-icon_mp3-48.png"},function(e,t,n){e.exports=n.p+"_/7863254ebbc5c8c78d6684036dd56e54-b-mail-icon_mp4-48.png"},function(e,t,n){e.exports=n.p+"_/865da2b10d5c239280d12a6a2d1cfc56-b-mail-icon_none-48.png"},function(e,t,n){e.exports=n.p+"_/bb78c17d4956f3c27fb093d4cc9f2165-b-mail-icon_odp-48.png"},function(e,t,n){e.exports=n.p+"_/d2be1f2f1b208b727ab25d975a6aa242-b-mail-icon_ods-48.png"},function(e,t,n){e.exports=n.p+"_/3a6fa3be2bc661254803e1cec44d6a74-b-mail-icon_odt-48.png"},function(e,t,n){e.exports=n.p+"_/6f15de29744870eea9bbc45b4d169b8e-b-mail-icon_pcx-48.png"},function(e,t,n){e.exports=n.p+"_/fdec035fb674765bb14a832dfa0b7d71-b-mail-icon_pdf-48.png"},function(e,t,n){e.exports=n.p+"_/71e12247108f4576db7fe671dc7d6fa8-b-mail-icon_pls-48.png"},function(e,t,n){e.exports=n.p+"_/7bb7cd24c9c082144c869461098b942d-b-mail-icon_png-48.png"},function(e,t,n){e.exports=n.p+"_/90b3b830b932584838d1ac60e17410dc-b-mail-icon_ppt-48.png"},function(e,t,n){e.exports=n.p+"_/4f46be9bd8f9a9514aa95e1067d45bc3-b-mail-icon_psd-48.png"},function(e,t,n){e.exports=n.p+"_/f3fb7200d501406775330789bd1c5572-b-mail-icon_rar-48.png"},function(e,t,n){e.exports=n.p+"_/d1d14ac25b7f79969dcb8a6d144746bc-b-mail-icon_rtf-48.png"},function(e,t,n){e.exports=n.p+"_/5893a07f075b0984d0c5a8287265054e-b-mail-icon_script-48.png"},function(e,t,n){e.exports=n.p+"_/9df67b0fb763e21eeb5c41fd90030d9a-b-mail-icon_srt-48.png"},function(e,t,n){e.exports=n.p+"_/66b914b832fe6c8fa067a5b0089b757d-b-mail-icon_text-48.png"},function(e,t,n){e.exports=n.p+"_/d89d636f51a2933563e5da67186214e3-b-mail-icon_tiff-48.png"},function(e,t,n){e.exports=n.p+"_/7220ce68b5ee138e632cafa81f524cf3-b-mail-icon_txt-48.png"},function(e,t,n){e.exports=n.p+"_/a613c67aa33b5fd98cbd92b34e68cd49-b-mail-icon_video-48.png"},function(e,t,n){e.exports=n.p+"_/64196e074946510cd6a0a972ca941cc9-b-mail-icon_virus-48.png"},function(e,t,n){e.exports=n.p+"_/2384c49baee44858d49e5ba8d3ae7deb-b-mail-icon_wav-48.png"},function(e,t,n){e.exports=n.p+"_/aadc497975dd4d130a89b5a2d7ec65db-b-mail-icon_wma-48.png"},function(e,t,n){e.exports=n.p+"_/82f77cdc49c93261ae20418b44bb07cd-b-mail-icon_wmv-48.png"},function(e,t,n){e.exports=n.p+"_/675e5e02afcbe8d1b60862d4bffbb326-b-mail-icon_xls-48.png"},function(e,t,n){e.exports=n.p+"_/ee0403d4a88e96ecc0c3d604bcbfa2c6-b-mail-icon_zip-48.png"},function(e,t,n){e.exports={"ai-96":n(4528),"application-96":n(4529),"archive-96":n(4530),"audio-96":n(4531),"avi-96":n(4532),"bmp-96":n(4533),"book-96":n(4534),"cdr-96":n(4535),"csv-96":n(4536),"development-96":n(4537),"djvu-96":n(4538),"doc-96":n(4539),"eml-96":n(4540),"exe-96":n(4541),"executable-96":n(4542),"flash-96":n(4543),"font-96":n(4544),"general-96":n(4545),"gif-96":n(4546),"image-96":n(4547),"jpg-96":n(4548),"mail-96":n(4549),"mov-96":n(4550),"mp3-96":n(4551),"mp4-96":n(4552),"none-96":n(4553),"odp-96":n(4554),"ods-96":n(4555),"odt-96":n(4556),"pcx-96":n(4557),"pdf-96":n(4558),"pls-96":n(4559),"png-96":n(4560),"ppt-96":n(4561),"psd-96":n(4562),"rar-96":n(4563),"rtf-96":n(4564),"script-96":n(4565),"srt-96":n(4566),"text-96":n(4567),"tiff-96":n(4568),"txt-96":n(4569),"video-96":n(4570),"virus-96":n(4571),"wav-96":n(4572),"wma-96":n(4573),"wmv-96":n(4574),"xls-96":n(4575),"zip-96":n(4576)}},function(e,t,n){e.exports=n.p+"_/48bfa0dee7eef7cf87c66a11b7d73eff-b-mail-icon_ai-96.png"},function(e,t,n){e.exports=n.p+"_/25ebb597705718a91f075aa39b566355-b-mail-icon_application-96.png"},function(e,t,n){e.exports=n.p+"_/ca4a0528e4aa9ebae001edc512a3a670-b-mail-icon_archive-96.png"},function(e,t,n){e.exports=n.p+"_/bcac10759c4be79410c3d4de3d100268-b-mail-icon_audio-96.png"},function(e,t,n){e.exports=n.p+"_/2cd7518aee9e4446bc106dac12f65a99-b-mail-icon_avi-96.png"},function(e,t,n){e.exports=n.p+"_/cf2a0fd2dc42a46e0fef99c417039e59-b-mail-icon_bmp-96.png"},function(e,t,n){e.exports=n.p+"_/c399ce3cb6e0b3c01605692ba4440f8c-b-mail-icon_book-96.png"},function(e,t,n){e.exports=n.p+"_/a82045b44b9e51d865a8fa19ee80dab3-b-mail-icon_cdr-96.png"},function(e,t,n){e.exports=n.p+"_/ef1baf8e2912e51ae577820c5d29a6b8-b-mail-icon_csv-96.png"},function(e,t,n){e.exports=n.p+"_/8a7a31c57dc9e61f6904f7302ffea897-b-mail-icon_development-96.png"},function(e,t,n){e.exports=n.p+"_/7680f293494ce5833276c8dbd507ac57-b-mail-icon_djvu-96.png"},function(e,t,n){e.exports=n.p+"_/1426d27c6297d6b9ce5e84118c105a49-b-mail-icon_doc-96.png"},function(e,t,n){e.exports=n.p+"_/f70acfbda902eaf4c559becc47d13e2b-b-mail-icon_eml-96.png"},function(e,t,n){e.exports=n.p+"_/1cbd4434134e53cb0f16e46d31584d9f-b-mail-icon_exe-96.png"},function(e,t,n){e.exports=n.p+"_/25ebb597705718a91f075aa39b566355-b-mail-icon_executable-96.png"},function(e,t,n){e.exports=n.p+"_/33acc5a1a4f3812a0bc917ece06d94a0-b-mail-icon_flash-96.png"},function(e,t,n){e.exports=n.p+"_/659737cfafab5eff1b0a025a5343daa9-b-mail-icon_font-96.png"},function(e,t,n){e.exports=n.p+"_/ef432d2df3fd2d4818d65b3bd9de5047-b-mail-icon_general-96.png"},function(e,t,n){e.exports=n.p+"_/c0784b06bc7bc8a0f8d8eeb4e8f17329-b-mail-icon_gif-96.png"},function(e,t,n){e.exports=n.p+"_/51504742ad5fb671fc3083e3cac264ab-b-mail-icon_image-96.png"},function(e,t,n){e.exports=n.p+"_/8c3fb57b09910dcc21bf0f4a014e5676-b-mail-icon_jpg-96.png"},function(e,t,n){e.exports=n.p+"_/f70acfbda902eaf4c559becc47d13e2b-b-mail-icon_mail-96.png"},function(e,t,n){e.exports=n.p+"_/4c831411ff9fa41d5e9ba39931488ba8-b-mail-icon_mov-96.png"},function(e,t,n){e.exports=n.p+"_/62a2a35587d6b61dcc18d0733083ef1f-b-mail-icon_mp3-96.png"},function(e,t,n){e.exports=n.p+"_/7a9838ac557c84c1e0c8097c3f286315-b-mail-icon_mp4-96.png"},function(e,t,n){e.exports=n.p+"_/f88a6bf72ea39effa43046d3aec327e4-b-mail-icon_none-96.png"},function(e,t,n){e.exports=n.p+"_/2b450534ed8d41646bf981ca1615e5af-b-mail-icon_odp-96.png"},function(e,t,n){e.exports=n.p+"_/f36f9954b74e58239dbc52ab944e533f-b-mail-icon_ods-96.png"},function(e,t,n){e.exports=n.p+"_/f513a1349b439dc39c88fcdf5e6aaa1c-b-mail-icon_odt-96.png"},function(e,t,n){e.exports=n.p+"_/320170650145c57245743df641921ede-b-mail-icon_pcx-96.png"},function(e,t,n){e.exports=n.p+"_/aad3d55899b7c5f38bfce9cfea1b3f5e-b-mail-icon_pdf-96.png"},function(e,t,n){e.exports=n.p+"_/0ee560e23f001c260f3414d8a190290e-b-mail-icon_pls-96.png"},function(e,t,n){e.exports=n.p+"_/83fe16725c9809514f618229a825f4f5-b-mail-icon_png-96.png"},function(e,t,n){e.exports=n.p+"_/9f0d56fad062a48591970a2f8e73f714-b-mail-icon_ppt-96.png"},function(e,t,n){e.exports=n.p+"_/9868804d06ad80df80953fb72c1e8f47-b-mail-icon_psd-96.png"},function(e,t,n){e.exports=n.p+"_/d0acba6652cc3e79c621ad290db87cde-b-mail-icon_rar-96.png"},function(e,t,n){e.exports=n.p+"_/e9084c3b7a3c76fcf1604bb6b0bd9d17-b-mail-icon_rtf-96.png"},function(e,t,n){e.exports=n.p+"_/8a7a31c57dc9e61f6904f7302ffea897-b-mail-icon_script-96.png"},function(e,t,n){e.exports=n.p+"_/76d3d42609d0e658bf4978f389fca70d-b-mail-icon_srt-96.png"},function(e,t,n){e.exports=n.p+"_/9c91697c9290a77141a8d69bac54912e-b-mail-icon_text-96.png"},function(e,t,n){e.exports=n.p+"_/7c389b93c4b813e2cfc931d5864c4215-b-mail-icon_tiff-96.png"},function(e,t,n){e.exports=n.p+"_/260dbdda0f9ca156edd19432b504d472-b-mail-icon_txt-96.png"},function(e,t,n){e.exports=n.p+"_/6c0386fa3508c7814aa5bcb902c753f0-b-mail-icon_video-96.png"},function(e,t,n){e.exports=n.p+"_/cb70ba9f5428704c6cf851b642c01b3e-b-mail-icon_virus-96.png"},function(e,t,n){e.exports=n.p+"_/31d309bd02cb7decb1149e63c5214d31-b-mail-icon_wav-96.png"},function(e,t,n){e.exports=n.p+"_/b142e97afd9db49149a06b14eac16267-b-mail-icon_wma-96.png"},function(e,t,n){e.exports=n.p+"_/0e622d34993b49b3222195f53cf1741a-b-mail-icon_wmv-96.png"},function(e,t,n){e.exports=n.p+"_/5049f31b6ad918d5977d03879f664ad7-b-mail-icon_xls-96.png"},function(e,t,n){e.exports=n.p+"_/1057b6af9481d314a64e8756ee872f46-b-mail-icon_zip-96.png"},function(e,t,n){e.exports={aol:n(4578),gmail:n(4579),hotmail:n(4580),mail:n(4581),mynet:n(4582),"narod-disk":n(4583),outlook:n(4584),qip:n(4585),rambler:n(4586),tutby:n(4587),yahoo:n(4588),yandex:n(4589),yandex_en:n(4590)}},function(e,t,n){e.exports=n.p+"_/a05626800a96abe8faaac1392a2ad337-aol.png"},function(e,t,n){e.exports=n.p+"_/9b1f923e766689d2be2243dbb486e189-gmail.png"},function(e,t,n){e.exports=n.p+"_/cbaa76e2094ee925756334cac36448cf-hotmail.png"},function(e,t,n){e.exports=n.p+"_/75c6df658cb90713f21ba17d08dddda9-mail.png"},function(e,t,n){e.exports=n.p+"_/3df72c8dfea553b3ce4fca279fd40c26-mynet.png"},function(e,t,n){e.exports=n.p+"_/bea3e69fc0e43f47278237c797c347d0-narod-disk.png"},function(e,t,n){e.exports=n.p+"_/e32fdbcbfcd12488359854854b05bd2a-outlook.png"},function(e,t,n){e.exports=n.p+"_/3ae9fc94cfc81852fbc0632d62db118e-qip.png"},function(e,t,n){e.exports=n.p+"_/1e98a3ac9550b9a9be26d946474907f4-rambler.png"},function(e,t,n){e.exports=n.p+"_/d9acaaef2a8b6ebe2de55e0958e26cd7-tutby.png"},function(e,t,n){e.exports=n.p+"_/16798af393b000d6660dcf9d40471f14-yahoo.png"},function(e,t,n){e.exports=n.p+"_/a59909a455d3f5fc2b7248f2a5efc17f-yandex.png"},function(e,t,n){e.exports=n.p+"_/4c43487a92bc3ccee98543a4c819701c-yandex_en.png"},function(e,t,n){e.exports={az:n(4592),be:n(4593),en:n(4594),hy:n(4595),ka:n(4596),kk:n(4597),ro:n(4598),ru:n(4599),tr:n(4600),tt:n(4601),uk:n(4602),uz:n(4603)}},function(e,t,n){e.exports=n.p+"_/6dd6e15c8551deb21373d19aea1d067c-b-mail-icon_lang-az.gif"},function(e,t,n){e.exports=n.p+"_/8677dfed64c931dd3b426727b005ce4e-b-mail-icon_lang-be.gif"},function(e,t,n){e.exports=n.p+"_/9287de8c1f93ef82114c0d52a5ecdd2c-b-mail-icon_lang-en.gif"},function(e,t,n){e.exports=n.p+"_/763ede66e8fd2ad17951261cfc18a737-b-mail-icon_lang-hy.gif"},function(e,t,n){e.exports=n.p+"_/541d340c43dffd331ea19453c505c151-b-mail-icon_lang-ka.gif"},function(e,t,n){e.exports=n.p+"_/48848f048d84b60111b5fe6e5f3ad29f-b-mail-icon_lang-kk.gif"},function(e,t,n){e.exports=n.p+"_/ffba23df3618cdb57029a2fdf372c043-b-mail-icon_lang-ro.gif"},function(e,t,n){e.exports=n.p+"_/1624dbd739e623729b99da358ec8d9de-b-mail-icon_lang-ru.gif"},function(e,t,n){e.exports=n.p+"_/9d864c518442b77e5f7460f1124fc91a-b-mail-icon_lang-tr.gif"},function(e,t,n){e.exports=n.p+"_/13ea19e44b02151cd968a9329361e33d-b-mail-icon_lang-tt.gif"},function(e,t,n){e.exports=n.p+"_/d022e48f407b2410e7fe528f79a8f2ff-b-mail-icon_lang-uk.gif"},function(e,t,n){e.exports=n.p+"_/7b924141e38e5f89b0c8335e296d3ace-b-mail-icon_lang-uz.gif"},function(e,t,n){e.exports={"facebook.com":n(4605),"moikrug.ru":n(4606),"my.mail.ru":n(4607),"odnoklassniki.ru":n(4608)}},function(e,t,n){e.exports=n.p+"_/967824736368482c7687caab03715e9d-b-site-icon_facebook.com-14.png"},function(e,t,n){e.exports=n.p+"_/82bf97fe3902f37dae35866fb89b4b84-b-site-icon_moikrug.ru-14.png"},function(e,t,n){e.exports=n.p+"_/482f2cfb194e122f2ea9ba9cbd892630-b-site-icon_my.mail.ru-14.png"},function(e,t,n){e.exports=n.p+"_/ba34f63cb7305df1f6c9969065eeb7f2-b-site-icon_odnoklassniki.ru-14.png"},function(e,t,n){e.exports={"MailAppLink-ru.png":n(4610),"MailAppLink-ru@2x.png":n(4611),"MailAppLink-en.png":n(4612),"MailAppLink-en@2x.png":n(4613),"MailAppLink-uk.png":n(4614),"MailAppLink-uk@2x.png":n(4615),"MailAppLink-tr.png":n(4616),"MailAppLink-tr@2x.png":n(4617),"MailAppLink2-ru.png":n(4618),"MailAppLink2-ru@2x.png":n(4619),"MailAppLink2-en.png":n(4620),"MailAppLink2-en@2x.png":n(4621),"MailAppLink2-uk.png":n(4622),"MailAppLink2-uk@2x.png":n(4623),"MailAppLink2-tr.png":n(4624),"MailAppLink2-tr@2x.png":n(4625),"MailAppLink3-ru.png":n(4626),"MailAppLink3-ru@2x.png":n(4627),"MailAppLink3-en.png":n(4628),"MailAppLink3-en@2x.png":n(4629),"MailAppLink3-uk.png":n(4630),"MailAppLink3-uk@2x.png":n(4631),"MailAppLink3-tr.png":n(4632),"MailAppLink3-tr@2x.png":n(4633)}},function(e,t,n){e.exports=n.p+"_/80e0e2a71f3c5a3e71578ec4b68d1de9-Devices_ru.png"},function(e,t,n){e.exports=n.p+"_/efb907fc047ee920cd91223b1c6fef0e-Devices_ru@2x.png"},function(e,t,n){e.exports=n.p+"_/580cf7493354657f2d5517397977b9fd-Devices_en.png"},function(e,t,n){e.exports=n.p+"_/becf8b3cc644139ac1ec219d95f68288-Devices_en@2x.png"},function(e,t,n){e.exports=n.p+"_/5d097f13a1a63c488cddb98cda8d71db-Devices_uk.png"},function(e,t,n){e.exports=n.p+"_/faeed2756a72fc30cb2296205fe190cd-Devices_uk@2x.png"},function(e,t,n){e.exports=n.p+"_/13cb0f59af2b71261987ca4db82c334d-Devices_tr.png"},function(e,t,n){e.exports=n.p+"_/d6e8f0b205c356e49fc9e592c98f5138-Devices_tr@2x.png"},function(e,t,n){e.exports=n.p+"_/8d25ff7a47c72371aa448c1f644831e0-Devices2_ru.png"},function(e,t,n){e.exports=n.p+"_/8e0959c71d69f85e356b138d9576a5db-Devices2_ru@2x.png"},function(e,t,n){e.exports=n.p+"_/8d25ff7a47c72371aa448c1f644831e0-Devices2_en.png"},function(e,t,n){e.exports=n.p+"_/8e0959c71d69f85e356b138d9576a5db-Devices2_en@2x.png"},function(e,t,n){e.exports=n.p+"_/8d25ff7a47c72371aa448c1f644831e0-Devices2_uk.png"},function(e,t,n){e.exports=n.p+"_/8e0959c71d69f85e356b138d9576a5db-Devices2_uk@2x.png"},function(e,t,n){e.exports=n.p+"_/8d25ff7a47c72371aa448c1f644831e0-Devices2_tr.png"},function(e,t,n){e.exports=n.p+"_/8e0959c71d69f85e356b138d9576a5db-Devices2_tr@2x.png"},function(e,t,n){e.exports=n.p+"_/cfe9edc363b9c3bae5b459e8fc86d561-Devices3_ru.png"},function(e,t,n){e.exports=n.p+"_/59280953766869356019e8a69c5218c5-Devices3_ru@2x.png"},function(e,t,n){e.exports=n.p+"_/cfe9edc363b9c3bae5b459e8fc86d561-Devices3_en.png"},function(e,t,n){e.exports=n.p+"_/59280953766869356019e8a69c5218c5-Devices3_en@2x.png"},function(e,t,n){e.exports=n.p+"_/cfe9edc363b9c3bae5b459e8fc86d561-Devices3_uk.png"},function(e,t,n){e.exports=n.p+"_/59280953766869356019e8a69c5218c5-Devices3_uk@2x.png"},function(e,t,n){e.exports=n.p+"_/cfe9edc363b9c3bae5b459e8fc86d561-Devices3_tr.png"},function(e,t,n){e.exports=n.p+"_/59280953766869356019e8a69c5218c5-Devices3_tr@2x.png"},function(e,t,n){n(4635),n(4636),n(4637),n(4638),n(4639),n(4640),n(4641),n(4643),n(4644),n(4645),n(4646),n(4647),n(4648),n(4649),n(4650),n(4651),n(4652),n(4653),n(4654),n(4655),n(4656),n(4657),n(4658),n(4659),n(4660),n(4661),n(4662),n(4663),n(4664),n(4665),n(4666),n(4667),n(4668),n(4669),n(4670),n(4671),n(4672),n(4673),n(4674),n(4675),n(4676),n(4677),n(4678),n(4679),n(4680),n(4681),n(4683),n(4684),n(4685),n(4686),n(4687),n(4688),n(4689),n(4690),n(4691),n(4692),n(4693),n(4694),n(4695),n(4696),n(4697),n(4698),n(4699),n(4700),n(4701),n(4702),n(4703),n(4704),n(4705),n(4706),n(4707),n(4708),n(4710),n(4711),n(4712),n(4713),n(4714),n(4715),n(4716),n(4717),n(4718),n(4719),n(4720),n(4721),n(4722),n(4723),n(4724),n(4725),n(4726),n(4727),n(4728),n(4729),n(4730),n(4731),n(4732),n(4733),n(4734),n(4735),n(4736),n(4737),n(4738),n(4739),n(4740),n(4741),n(4742),n(4743),n(4744),n(4745),n(4746),n(4747),n(4748),n(4749),n(4750),n(4751),n(4752),n(4753),n(4754),n(4755),n(4756),n(4757),n(4758),n(4759),n(4760),n(4761),n(4762),n(4763),n(4764),n(4765),n(4766),n(4767),n(4768)},function(e,t,n){"use strict";function r(e){return a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){function o(e){s(u,r,i,o,a,"next",e)}function a(e){s(u,r,i,o,a,"throw",e)}var u=e.apply(t,n);o(void 0)})}}Object.defineProperty(t,"__esModule",{value:!0});var c=n(138),l=(n.n(c),n(139)),d=(n.n(l),function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return e.reduce((function(e,t){return Object(c.set)(e,t,!0)}),t)});ns.Model.define("checkbox-tree-state",{events:{"ns-model-init":"onInit"},methods:{onInit:function(){this.setData({subscribedFolders:ns.Model.get("settings").getSign("subscribed_folders"),subscribedTabs:ns.Model.get("settings").getSign("subscribed_tabs"),hashOfFoldedFids:{}})},getFolderTree:function(){return Object(c.cloneDeep)(ns.Model.get("folders").getHierarchyStructure(this.filterFolder)[0])},getOnlyUserFoldersTree:function(){return{items:Object(c.cloneDeep)(ns.Model.get("folders").getHierarchyStructure(this.filterFolder,!0,!0)).map((function(e){return e.level-=1,e}))}},getFoldersTabsList:function(){return ns.Model.get("tabs").getFoldersTabsList()},filterFolder:function(e){return!e.shared},getSelectedFids:function(){return this.get(".subscribedFolders")},getSelectedTabIds:function(){return this.get(".subscribedTabs")},setSelectedFids:function(e,t){t=t||{},this.set(".subscribedFolders",e.sort(),t)},setSelectedTabIds:function(e,t){t=t||{},this.set(".subscribedTabs",e.sort(),t)},isSelectionEmpty:function(){return 0===this.getSelectedFids().length},isSelectionTabsEmpty:function(){return 0===this.getSelectedTabIds().length},isAllSelectionEmpty:function(){return Daria.areFoldersTabsEnabled()?this.isSelectionEmpty()&&this.isSelectionTabsEmpty():this.isSelectionEmpty()},isSelected:function(e){return-1!==this.getSelectedFids().indexOf(e)},isTabSelected:function(e){return-1!==this.getSelectedTabIds().indexOf(e)},areAllFoldersSelected:function(){return this.getSelectedFids().length===this.getFidsOfInboxWithSubfolders().length},areAllTabsSelected:function(){return this.getSelectedTabIds().length===ns.Model.get("tabs").getFoldersTabsIds().length},areAllSelected:function(){return Daria.areFoldersTabsEnabled()?this.areAllFoldersSelected()&&this.areAllTabsSelected():this.areAllFoldersSelected()},getFidsOfInboxWithSubfolders:function(){return this.getFidsOfFolderAndSubfolders(this.getFolderTree())},calcSelectedFids:function(e,t,n){var r=e.fid;if(r===t)return n?this.getFidsOfFolderAndSubfolders(e):[];var i=e.items||[],o=i.reduce(function(e,r){return e.concat(this.calcSelectedFids(r,t,n))}.bind(this),[]);return this.isSelected(r)?o.concat(r):o},calcSelectedTabIds:function(e,t){var n=this,r=ns.Model.get("tabs").getFoldersTabsIds();return Object(c.filter)(r,(function(r){var i=r===e&&t,o=r!==e&&n.getSelectedTabIds().indexOf(r)>=0;return i||o}))},getFidsOfFolderAndSubfolders:function(e){var t=(e.items||[]).reduce(function(e,t){return e.concat(this.getFidsOfFolderAndSubfolders(t))}.bind(this),[]);return[e.fid].concat(t)},getHashOfSelectedFids:function(){return d(this.getSelectedFids())},getHashOfSelectedTabIds:function(){return d(this.getSelectedTabIds())},getHashOfHighlightedFids:function(){var e=this.setParentFids(this.getFolderTree()),t=this.getHashOfFolders(e);return this.getSelectedFids().reduce((function(e,n){return t[n]?d(t[n].parentFids):e}),{})},getHashOfHighlightedTabIds:function(){return d(this.getSelectedTabIds())},_isInboxFolderWasSubscribed:function(){var e=ns.Model.get("folders").getFidBySymbol(l.WellKnownFolderSymbol.INBOX);return this.isSelected(e)},_isInboxTabWasSubscribed:function(){return this.isTabSelected("relevant")},setParentFids:function(e,t){return e.parentFids=t||[],(e.items||[]).forEach((function(t){this.setParentFids(t,e.parentFids.concat(e.fid))}),this),e},getHashOfFolders:function(e,t){return t=t||{},e.fid&&(t[e.fid]=e),(e.items||[]).forEach((function(n){t[n.fid]=e,this.getHashOfFolders(n,t)}),this),t},serializeSelectedFids:function(){return JSON.stringify(this.getSelectedFids())},serializeSelectedTabsIds:function(){return JSON.stringify(this.getSelectedTabIds())},resetSelectedFids:function(){this.set(".subscribedFolders",ns.Model.get("settings").getSign("subscribed_folders"))},resetSelectedTabIds:function(){this.set(".subscribedTabs",ns.Model.get("settings").getSign("subscribed_tabs"))},reset:function(){this.resetSelectedFids(),Daria.areFoldersTabsEnabled()&&this.resetSelectedTabIds()},_resubscribe:function(){return Daria.PushManager.subscribe(this.getSelectedFids(),this.getSelectedTabIds(),!0)},resubscribeOnFoldersTabsNotifications:(function(){function e(e){return t.apply(this,arguments)}var t=u(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=ns.Model.get("settings").getSetting("browser_notify_message")){e.next=3;break}return e.abrupt("return");case 3:return e.next=5,this._updateSettings(t);case 5:return e.next=7,this._resubscribe();case 7:case"end":return e.stop()}}),e,this)})));return e})(),shouldSyncronizeInbox:function(e){return Boolean(Object.keys(e).length)},syncronizeInboxBetween:function(e){var t={};return e?this._isInboxFolderWasSubscribed()&&Object.assign(t,this._unsubscribeInboxFolder(),this._subscribeOnlyInboxTab()):this._isInboxTabWasSubscribed()?Object.assign(t,this._unsubscribeAllTabs(),this._subscribeInboxFolder()):this.getSelectedTabIds().length&&Object.assign(t,this._unsubscribeAllTabs()),t},_updateSettings:function(e){return ns.Model.get("settings").setSettings(e,{silent:!0})},_subscribeInboxFolder:function(){var e=ns.Model.get("folders").getFidBySymbol(l.WellKnownFolderSymbol.INBOX),t=this.getSelectedFids();return this.setSelectedFids([].concat(r(t),[e]),{silent:!0}),{subscribed_folders:this.serializeSelectedFids()}},_unsubscribeInboxFolder:function(){var e=ns.Model.get("folders").getFidBySymbol(l.WellKnownFolderSymbol.INBOX),t=this.getSelectedFids(),n=Object(c.filter)(t,(function(t){return t!==e}));return this.setSelectedFids(n,{silent:!0}),{subscribed_folders:this.serializeSelectedFids()}},_subscribeOnlyInboxTab:function(){return this.setSelectedTabIds(["relevant"],{silent:!0}),{subscribed_tabs:this.serializeSelectedTabsIds()}},_unsubscribeAllTabs:function(){return this.setSelectedTabIds([],{silent:!0}),{subscribed_tabs:this.serializeSelectedTabsIds()}}}},ns.ModelStatic)},function(e,t){ns.Model.define("captcha",{params:{type:null},methods:{preprocessData:function(e){return e.url&&(e.url=e.url.replace(/^https?:/,"")),e}}})},function(e,t){ns.Model.define("captcha-check",{params:{type:null,captcha_key:null,captcha_entered:null}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(425);ns.Model.define("model-with-scenario-manager-mixin",{methods:{scenarioManager:r.a}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(425);ns.Model.define("model-collection-with-scenario-manager-mixin",{methods:{scenarioManager:r.a}},ns.ModelCollection)},function(e,t){ns.Model.define("app-state",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({asideSizeKind:"",pageClasses:{},timelineHeight:0,mailLayoutClientRect:null})},updatePageClasses:function(e){var t=this.get(".pageClasses"),n=Object.keys(e).filter((function(n){return t[n]!==e[n]}));n.length&&this.set(".pageClasses",Object.assign({},t,_.pick(e,n)))},updateAsideKind:function(e){this.setIfChanged(".asideSizeKind",e)}}},ns.ModelStatic)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4642),i="app_badge_up_to_date_"+Daria.uid,o="function"==typeof navigator.setAppBadge&&"function"==typeof navigator.clearAppBadge,a=new r.a(i,1e4);ns.Model.define("app-badge-counter",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){o&&(this.update=a.debounced(this.update.bind(this),Vow.resolve()),ns.events.on("xiva.mail.update",this.update),ns.events.on("xiva.mail.insert",this.update))},_request:function(){var e=this;return ns.request.fetchModels([this],{_uid:void 0}).then((function(t){return ns.request.extractModel(e,t.models[0]),e}))},_setBadge:function(){this.data.counters&&o&&navigator.clearAppBadge()},update:function(){var e=this;return o?this._request().then((function(){return e._setBadge(),e})):Vow.resolve()},getRequestParams:function(){return{uid:Daria.uid}},request:function(){return this.update()}}})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return a}));var a=(function(){function e(t,n){var i=this;r(this,e),this._getCookieValue=_.memoize((function(){return Daria.getCookie(i.cookieName)}),(function(){return document.cookie})),this._markAsActive=function(){return Daria.setCookie(i.cookieName,1,{expires:new Date(Date.now()+i.timeout).toGMTString(),path:"/"})},this._canExecuteNow=function(){return!i._getCookieValue()},this._postponeExecution=function(e){var t=function(){i._canExecuteNow()&&i._exec(e)};setTimeout(t,i.timeout+50)},this._exec=function(e){return i._markAsActive(),e()},this.cookieName=t,this.timeout=n}return o(e,[{key:"debounced",value:function(e,t){var n=this;return function(){return n._canExecuteNow()?n._exec(e):(n._postponeExecution(e),t)}}}]),e})()},function(e,t){!(function(){function e(e){var t=[{id:"calendar",content:i18n("%Tab_calendar"),href:Daria.Config["calendar-url"]},{id:"invite",content:i18n("%Tab_invite"),href:Daria.Config["calendar-url"]+"/invite/"}];return"abook"===e?t.push({id:"mail",content:i18n("%Tab_mail"),href:"#inbox"}):t.push({id:"contacts",content:i18n("%Tab_contacts"),href:"#contacts"}),t}var t={inbox:"Messages",mail:"Mail",search:"Search",contacts:"Contacts",disk:"Disc",money:"Money",portal:"Connect",q:"Q",calendar:"Calendar",wiki:"Wiki",staff:"Staff",invite:"Invite"};ns.Model.define("user-dropdown-data",{methods:{getData:function(){var n=this.data||{};if(n.services=[],!Daria.CompactMode.isCompactHeader())return n;var r=Daria.IS_CORP?e(ns.page.current.page):ns.Model.get("index-data").get(".tabs.head");return n.services=r.map((function(e){return{url:e.href,title:e.content,metrikaTitle:t[e.id]}})),n},getFreshCountByUid:function(e){var t=this.get(".accounts"),n=0;return t&&t.some((function(t){return Number(t.uid)===Number(e)&&(n=Number(t["fresh-count"]||0),!0)})),n},setNewCountById:function(e,t){var n=this.getData();n&&Array.isArray(n.accounts)&&n.accounts.length&&(n.accounts.forEach((function(r,i){Number(r.uid)===Number(e)&&(n.accounts[i]["fresh-count"]=t)})),this.data=n)},getSumOfFresh:function(){var e=this.getData(),t=0;return e&&Array.isArray(e.accounts)&&e.accounts.length&&e.accounts.forEach((function(e){t+=Number(e["fresh-count"]||0)})),t},getFreshForDefault:function(){return this.getFreshCountByUid(Daria.uid)}}})})()},function(e,t){ns.Model.define("abook-groups",{events:{"ns-model-changed":function(){var e=this.getData(),t=jpath(e,'.tag[.type == "system" && .title == "Phone"]')[0];t&&(t.type="phone",t.title=i18n("%AK_Phone_Contacts")),this.data=e}},methods:{RETRY_LIMIT:1,getGroupByTitle:function(e){return jpath(this.data,'.tag[.title == "'+e+'"]')[0]},getGroupByTid:function(e){return jpath(this.data,'.tag[.tid == "'+e+'"]')[0]},getContactsCount:function(e){var t=e.mcids.map(this._getCid);return _.uniq(t).length},isPhoneGroup:function(e){return"phone"===this.getGroupByTid(e).type},getPhoneGroupTid:function(){var e=this.getData(),t=jpath(e,'.tag[.type == "phone"]')[0];return t&&t.tid},addToGroup:function(e){var t=this,n={tids:[e.tid],mcids:e.mcids,action:"add"};return this.isPhoneGroup(e.tid)&&(n.mcids=_.uniq(n.mcids.map(this._getCid))),this._doGroupAction(n).then((function(){var r=t.getGroupByTid(e.tid).title;Daria.Statusline.show({name:"abook_contacts_added_to_group",text:i18n("%AK_contacts_added_to_group",t.getContactsCount(n),r)})}))},removeFromGroup:function(e){return this._doGroupAction({tids:e.tids,mcids:e.mcids,action:"rm"})},_getCid:function(e){return String(e).split(".")[0]},_doGroupAction:function(e){var t=$.Deferred(),n=e.tids,r=e.mcids;if(n.length&&r.length){var i={tid:n,mcid:this._getSimpleMcids(r),action:e.action};return ns.forcedRequest("do-abook-group-edit-contacts",i).then((function(){Daria.Autocompleter.getContact().flushCache(),Daria.Dropdown.closeAll(),["abook-groups","abook-contact","abook-contacts"].forEach((function(e){ns.Model.invalidate(e)})),t.resolve()})),t.promise()}},_getSimpleMcids:function(e){var t=this;return e.map((function(e){return Array.isArray(e)?e.map(t._simplifyMcid):t._simplifyMcid(e)}))},_simplifyMcid:function(e){return String(e).split(".").slice(0,2).join(".")}}})},function(e,t){ns.Model.define("do-abook-group-add",{params:{title:null,mcid:null}})},function(e,t){ns.Model.define("abook-contact",{params:{email:null,cid:null,shared:null},paramsRewrite:function(e){return null!=e.cid?{cid:e.cid,shared:Daria.toIntFlag(e.shared)}:e},methods:{RETRY_LIMIT:1,getContactInfo:function(e,t){e=e||{};var n=this.getData();return n?Daria.Abook.formatContactInfo(n,e,t):{}},getPhone:function(){return this.select(".phone.value")[0]||null},getMcids:function(e){var t=this,n=this.getData(),r=[];return this.eachEmailsByTid(e,(function(e){r.push(t.getMcidByEmailId(e.id))})),r.length||(r=[String(n.cid)]),r},getMcidByEmailId:function(e){return"".concat(this.get(".cid"),".").concat(e,".").concat(this.isShared()?1:0)},eachEmailsByTid:function(e,t){var n=this.get(".email");if(_.isFunction(e)&&(t=e),e=Number(e),_.isFunction(t)){var r=ns.Model.get("abook-groups");_.each(n,(function(n){if(!e||r.isPhoneGroup(e)||_(n.tags).contains(e))return t(n)}))}},filterEmailsByTid:function(e){var t=this.get(".email");e=Number(e);var n=ns.Model.get("abook-groups");return!e||n.isPhoneGroup(e)?t:_(t).filter((function(t){if(_(t.tags).contains(e))return t})).value()},yateFilterEmailsByTid:function(e){return e=yr.nodeset2scalar(e),this.filterEmailsByTid(e)},yateGetMcidContacts:function(e){var t=this.yateFilterEmailsByTid(e),n=this.getData();return _.map(t,(function(e){var t=_.clone(n);return t.email=[e],t}))},getRefByEmail:function(e){var t=_.find(this.get(".email"),{value:e});return t?t.ref:void 0},getEmailByMcid:function(e){e=String(e);var t=Number(e.split(".")[1]),n=_.find(this.getData().email,{id:t});return n?n.value:null},getHeadEmail:function(){return this.select(".email.value")[0]||null},getName:function(){return this.get(".name.full")||(this.getHeadEmail()||"").split("@")[0]},isShared:function(){return this.get(".isShared")},isSharedLocal:function(){return this.get(".isSharedLocal")},isLocal:function(){return this.get(".isLocal")},findContactByPhone:function(e){var t=null;return ns.Model.traverse(this.id,(function(n){t||n.getPhone()!==e||(t=n)})),t}}})},function(e,t){ns.Model.define("abook-contacts",{params:{q:null,extended:null,tid:null,emails:null,skip:null,pagesize:30,shared:null,type:null,mode:null},paramsRewrite:function(e){var t=_.extend({},e);return t.shared=Daria.toIntFlag(e.shared)||0,t.shared||delete t.shared,t},split:{items:".contact",params:{cid:".cid",shared:".isShared"},model_id:"abook-contact"},methods:{RETRY_LIMIT:1,_findContactData:function(e){var t=null;return ns.Model.traverse(this.id,(function(n){t||n.models.some((function(n){return t=e(n)&&n.getData()}))})),t},getContactDataByEmail:function(e){return this._findContactData((function(t){return _.some(t.get(".email"),{value:e})}))},getContactDataByPhone:function(e){return this._findContactData((function(t){return _.some(t.get(".phone"),{value:e})}))},getContactsInfoByEmails:function(e,t){var n=[],r=this;return t=t||{},_.each(e,(function(e){var i=_.find(r.models,(function(t){return _.find(t.get(".email"),{value:e})}));i&&n.push(i.getContactInfo(t,{email:e}))})),n},_removeContact:function(e){var t=ns.Model.get("abook-contacts",ns.page.current.params),n=ns.Model.get("abook-contact",{cid:e,shared:!1});t.remove(n)},removeContacts:function(e){var t=Vow.promise();return e.forEach((function(e){var t=ns.Model.get("abook-contact",{cid:e,shared:!1});t.get(".email").forEach((function(e){ns.Model.get("abook-contact",{email:e.value}).invalidate()})),t.invalidate()})),e.forEach(this._removeContact),ns.forcedRequest(["do-abook-person-delete","abook-groups"],{cid:e}).then((function(e){var n=e[0],r=n.getError(),i=n.get(".deleted-items").length;r?(Daria.Statusline.show({name:"abook_failed",text:i18n("%АК_фэйл")}),t.reject(r)):(Daria.Statusline.show({name:"abook_contact_removed",text:i18n("%АК_Контактов_Удалено",i)}),t.fulfill(e))})),t},loadMore:function(e){var t=this.models.length,n=_.extend({},this.params,{skip:t});if(e){var r=this.get(".pager.items-count");n.pagesize=r-t}return ns.request("abook-contacts",n).then(this._addModels,this)},_addModels:function(e){var t=e[0];this.data&&this.isValid()||(this.data={},this.status=this.STATUS.OK);var n=t.get(".pager"),r=this.get(".pager");this.set(".pager",_.extend({},r,n),{silent:!0});var i=t.models;return this.insert(i),ns.Model.destroy(t),i},getCount:function(){return this.models.length},isEmptyList:function(){return this.isValid()&&0===this.getCount()}}})},function(e,t){ns.Model.define("abook-suggest",{params:{to:null,popup:null,domain:null,all:null,q:null,mcid:null,climit:null,glimit:null,useAbook:null,phone:null,popular:null},type:"js",ckey:!0,methods:{RETRY_LIMIT:1,getRequestParams:function(){var e=this.super_.getRequestParams.apply(this,arguments);return e.reqid=Daria.React.getSearchSessionId(),e}}})},function(e,t){ns.Model.define("abook-suggest-report",{params:{uid:null,q:null,section:null,title:null,id:null},methods:{RETRY_LIMIT:1}})},function(e,t){ns.Model.define("abook-selected",{isCollection:!0,params:function(e){if("normal"!==e.type)return{};var t=ns.Model.getKeyAndParams("abook-contacts",e).params;return delete t.pagesize,t},events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({})},isFolderSelected:no.False,runOps:function(e,t){return Daria.COPS[e](this,t)},getCids:function(){return _.map(this.models,(function(e){return Number(e.get(".cid"))}))},containsEmail:function(){return _.some(this.models,(function(e){var t=e.get(".email");return Array.isArray(t)&&t.length}))},containsShared:function(){return _.some(this.models,(function(e){return e.isShared()}))},getContactsMcids:function(e){var t={};return _.each(this.models,(function(n){t[n.get(".cid")]=n.getMcids(e)})),t},emailsToString:function(e){e=Number(e||0);var t=Daria.Constants.CONTACTS.DELIMITER;return _(this.models).filter((function(e){return Array.isArray(e.get(".email"))})).map((function(t){var n={},r=function(e){return n=e,!1};return e?t.eachEmailsByTid(e,r):t.eachEmailsByTid(r),Jane.FormValidation.obj2contact({email:n.value,name:t.get(".name.full")})})).join(t)},abookContactsToAbookMcidContacts:function(e,t,n,r){return _(e).map((function(e){var i=e.getMcids(t);return"number"==typeof n&&(i=[i[n]]),r?[this.abookContactToAbookMcidContact(e,i[0])]:_.map(i,(function(t){return this.abookContactToAbookMcidContact(e,t)}),this)}),this).flatten().value()},abookContactToAbookMcidContact:function(e,t){var n=ns.Model.get("abook-mcid-contact",{mcid:t});return n.getData()||n.setData({cid:e.get(".cid"),mcid:t,name:e.getName(),email:e.getEmailByMcid(t),isShared:e.get(".isShared")}),n},isEmptyContactsList:function(){return ns.Model.get("abook-contacts",ns.page.current.params).isEmptyList()},isMcidSelected:function(e,t){return _.some(this.models,(function(n){return n.get(".cid")===e&&n.get(".isShared")===t}))},yateIsMcidSelected:function(e,t){return this.isMcidSelected(e,yr.nodeset2scalar(t))},isSelected:function(e){return _.some(this.models,(function(t){return t===e}))},selectAll:function(){this.clear();var e=ns.Model.get("abook-contacts",this.params);this.insert(e.models)},unselectAll:function(){this.clear()},getSelectedMcids:function(){return _.map(this.models,(function(e){return e.get(".mcid")}))}}},ns.ModelCollectionStatic)},function(e,t){ns.Model.define("history-suggest",{params:{text:null},ckey:!0})},function(e,t){function n(e){return o(e)||i(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function o(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function a(e){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!(function(){ns.Model.define("account-information",{methods:{MAXAGE:72e5,preprocessData:function(e){return delete this._emails,Daria.ckey=e.ckey,this.refreshData(.8*this.MAXAGE),e},setError:function(){this.refreshData(30*Jane.Date.SECOND)},refreshData:function(e){window.clearTimeout(this._timer),this._timer=setTimeout((function(){ns.forcedRequest(["account-information"])}),e)},getDataKey:function(e){return this.get("."+e)},getFromEmails:function(){return this.getAllUserEmails().filter((function(e){return"narod.ru"!==e.split("@")[1]}))},getBeautifulEmail:function(){if(!Daria.Config.pddDomain){var e=this.get(".aliases");return e&&e[7]}},getFromDefaultEmail:function(){var e=this.getFromEmails(),t=this.get(".yandex_account")+"@"+Daria.Config["yandex-domain"];return t&&_.contains(e,t)||(t=e[0]||""),t},getAllUserEmails:function(){var e;try{e=this.getEmails().concat(ns.Model.get("settings").getValidatedEmails())}catch(e){Jane.ErrorLog.sendException("User doesn't have email",e,{modelData:a(this.data),modelEmail:this.getDataKey("email"),modelKey:this.key,modelStatus:this.status})}return e=this.sortEmails(_.uniq(e))},sortEmails:function(e){var t=/@/,n=new RegExp("(yandex|ya)\\.("+Daria.Config.domainZonesForReg+"|com\\.ua|рф|xn--p1ai)"),r={RUS:{1:/^ya\.ru$/,2:/^yandex\.ru$/},INT:{1:/^yandex\.com$/},TUR:{1:/^yandex\.com\.tr$/}},i=function(e){var t=r[Daria.Config.product];for(var i in t)if(t.hasOwnProperty(i)&&t[i].test(e))return Number(i);return n.test(e)?10:5},o=ns.Model.get("settings").getSetting("default_email"),a=function(e,n){if(e===o)return-1;if(n===o)return 1;var r=e.split(t).pop(),a=n.split(t).pop(),s=i(r),u=i(a);return s!==u?s-u:e<n?-1:1};return e.sort(a),e},getEmails:function(){var e=this;return this._emails||(function(){for(var t=e.getDataKey("email"),n=[],r=e.getBeautifulEmail(),i=ns.Model.get("settings").getSetting("default_email"),o=i&&i.split("@")[0]||null,a=r&&i&&r.toLowerCase()===i.toLowerCase(),s=0,u=t.length;s<u;s++)!(function(r,i){var s=t[r],u=s.login,c=u+"@"+s.domain,l=[];o&&u.toLowerCase()===o.toLowerCase()&&!a&&(u=o),n.push(c),Daria.Config.pddDomain||(l=e.getAlternateLogins([u])),l.length&&l.forEach((function(e){n.push(e+"@"+s.domain)}))})(s);e._emails=n})(),this._emails},getAlternateLogins:function(e){return e.reduce((function(e,t){var n=t.indexOf(".")>-1,r=t.indexOf("-")>-1;return n&&e.push(t.replace(/\./g,"-")),r&&e.push(t.replace(/-/g,".")),e}),[])},getDefaultLogins:function(){var e=this,t=this.getDataKey("email").filter((function(t){return"".concat(t.login,"@").concat(t.domain)!==e.getBeautifulEmail()})).map((function(e){return e.login}));return n(new Set(t))},_isSameLogin:function(e,t){var r=[t].concat(n(this.getAlternateLogins(t)));return e=e.toLowerCase(),r.some((function(t){return e===t.toLowerCase()}))},isMyEmail:function(e){return e=e.toLowerCase(),this.getAllUserEmails().some((function(t){return e===t.toLowerCase()}))},getDigitalAlias:function(){return this.getDataKey("digital_login")},getTimezoneInHours:function(){return-this.getDataKey("tz_offset")*Jane.Date.MINUTE/Jane.Date.HOUR},getMA:function(){return this.get(".users")||[]},hasMA:function(){return this.getMA().length>0},isPG:function(){return"pg"===this.get(".db")},isSSO:function(){var e=this.get(".aliases");return Boolean(e&&e[24])},hasAppPasswordsEnabled:function(){return this.get(".hasAppPasswordsEnabled")}}})})()},function(e,t){ns.Model.define("do-admsubscribe-calendar")},function(e,t){ns.Model.define("base-calendar-event",{methods:{getError:function(e){e.error&&(e.data={error:e.error},delete e.error)},preprocessData:function(e){var t=no.jpath(".eventInfo.attendees",e);if(t&&t.length){var n=[],r=[],i=jpath(e,".eventInfo.organizer.email")[0];_.forEach(t,(function(e){"yandexUser"===e.type||"externalUser"===e.type?e.email!==i&&(!e.name&&e.email&&(e.name=e.email.split("@")[0]),n.push(e)):"resource"===e.type&&r.push(e)})),e.eventInfo.organizer&&(e.eventInfo.organizer.isOrganizer=!0,n.unshift(e.eventInfo.organizer)),e.rooms=r,e.eventInfo.attendees=n,e.eventInfo.calendarUrl+="&uid=".concat(Daria.uid),e.isNotPast=!e.eventInfo.isPast,e.toCollapsedMessage="declined"!==e.eventInfo.decision&&!e.refusal,e.isNotOperate="undecided"===e.eventInfo.decision&&!e.eventInfo.isNoRsvp,e.showWidgetInMessageHead=!e.refusal&&Daria.IS_CORP&&!e.eventInfo.isPast,e.showRightPartOfWidget=!e.eventInfo.isCancelled||e.eventInfo.isCancelled&&e.eventInfo.repetitionDescription&&e.eventInfo.isPast;var o=e.eventInfo.repetitionDescription,a=e.eventInfo.start+Daria.getPassportTzOffset(),s=e.eventInfo.end+Daria.getPassportTzOffset();return e.eventInfo.eventTime=o?this.getTimeForRepeatEvents({start:a,end:s,repetitionDescription:o}):this.convertEventDates(a,s),e}},convertEventDates:function(e,t){if((t-e)/36e5<=24){var n=i18n("%Week_Full_Day",new Date(e).getDay()),r=Jane.Date.format("%Date_HM__colon",e),i=Jane.Date.format("%Date_HM__colon",t),o=i18n("%Message_Item_Event_Dates",r,i);return Jane.Date.format("%Date_dB",e)+", "+n+", "+o}var a=Jane.Date.format("%Date_dBY_year",e),s=Jane.Date.format("%Date_dBY_year",t),u=Jane.Date.format("%Date_HM__colon",e),c=Jane.Date.format("%Date_HM__colon",t);return i18n("%Message_Item_Event_Dates",a+" "+u,s+" "+c)},getTimeForRepeatEvents:function(e){var t=e.start,n=e.end,r=e.repetitionDescription,i=Jane.Date.format("%Date_HM__colon",t),o=Jane.Date.format("%Date_HM__colon",n);return i18n("%Message_Item_Event_Dates",i,o)+" "+r},getEventInfo:function(){return this.get(".eventInfo")}}})},function(e,t){ns.Model.define("dimensions",{events:{"ns-model-init":"_onInit"},methods:{DOC_HEIGHT_KEY:".document-height",DOC_WIDTH_KEY:".document-width",WIN_HEIGHT_KEY:".window-height",WIN_WIDTH_KEY:".window-width",_$document:null,_$window:null,_onInit:function(){this._$document=$(document),this._$window=$(window),this._$window.on("resize",_.throttle(this._onResize.bind(this),20)),this.clean()},getWindowScrollTop:function(){return this._$window.prop("pageYOffset")},getDocumentHeight:function(){var e=this.get(this.DOC_HEIGHT_KEY);return e||(e=this._$document.height(),this._setDimension(this.DOC_HEIGHT_KEY,e)),e},getDocumentWidth:function(){var e=this.get(this.DOC_WIDTH_KEY);return e||(e=this._$document.width(),this._setDimension(this.DOC_WIDTH_KEY,e)),e},getWindowHeight:function(){var e=this.get(this.WIN_HEIGHT_KEY);return e||(e=this._$window.height(),this._setDimension(this.WIN_HEIGHT_KEY,e)),e},getWindowWidth:function(){var e=this.get(this.WIN_WIDTH_KEY);return e||(e=this._$window.width(),this._setDimension(this.WIN_WIDTH_KEY,e)),e},clean:function(){this.setData({},{silent:!0})},_onResize:function(e){e.originalEvent&&e.originalEvent.data&&e.originalEvent.data.custom||(this.clean(),this.trigger("resize",e))},_setDimension:function(e,t){this.set(e,t,{silent:!0})}}})},function(e,t,n){ns.Model.define("do-client-log",{params:{messages:null},methods:n(1882)})},function(e,t,n){ns.Model.define("do-journal-log",{params:{messages:null},methods:n(1882)})},function(e,t){ns.Model.define("do-init-compose",{})},function(e,t){ns.Model.define("do-service-worker-log",{params:{params:null}})},function(e,t){ns.Model.define("do-mail-reset-recent-counter")},function(e,t){ns.Model.define("do-messages",{params:{ids:null,tids:null,movefile:null,action:null,with_sent:null,fid:null,tabId:null,tab:null},methods:{preprocessData:function(e){if("notspam"===this.params.action&&Array.isArray(this.params.ids)){var t=this.params.ids.map((function(e){return ns.Model.get("message",{ids:e})}));ns.forcedRequest(t)}return e}}})},function(e,t){ns.Model.define("do-sanitize",{params:{content:null}})},function(e,t){ns.Model.define("do-settings",{params:{params:null}})},function(e,t){ns.Model.define("do-signs",{params:{signs:null}})},function(e,t){ns.Model.define("do-clean-suggest-history",{params:{all:null,request:null}})},function(e,t){ns.Model.define("do-staff-settings",{params:{lang_ui:null}})},function(e,t){ns.Model.define("do-enable-mail-pro-bonus",{})},function(e,t){ns.Model.define("do-disable-mail-pro-bonus",{})},function(e,t){ns.Model.define("index-data",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this._state="inbox"},_getTabsIds:function(e){return Array.isArray(e)?e.map((function(e){return e.id})).filter((function(e){return e})):[]},getAllTabsIds:function(){return{head:this._getTabsIds(this.get(".tabs.head")),more:this._getTabsIds(this.get(".tabs.more"))}}}})},function(e,t){ns.Model.define("filters",{params:{master:null},methods:{getMasterRequest:function(){var e=this,t=ns.Model.get(this.id,_.assign({},this.params,{master:1}));return t.destroy(),t.once("ns-model-changed",(function(){e.setData(this.getData())})),t},getFilters:function(){return this.get(".action")||[]},getById:function(e){return jpath(this.getFilters(),'.[.filid == "'+e+'"]')[0]},getForLabel:function(e){return jpath(this.getFilters(),'.[.actions.type == "movel" && .actions.parameter == "'+e+'"]')},getForFolder:function(e){return jpath(this.getFilters(),'.[.actions.type == "move" && .actions.parameter == "'+e+'"]')},getForCollector:function(e){return jpath(this.getFilters(),'.[.condition.div == "X-yandex-rpop-id" && .condition.pattern == "'+e+'"]')},getCountEnableFilters:function(){return jpath(this.getFilters(),'.action[.enable == "yes"]').length}}})},function(e,t){!(function(){ns.Model.define("focus",{events:{"ns-model-init":"_onInit"},methods:{DEFAULT_COLUMN:1,DEFAULT_ITEM:0,indexColumns:{LEFT:0,MESSAGES:1,MESSAGE:2},preventOpenOnFocus:!1,isInitialized:!1,_onInit:function(){this._rebuild=this._rebuild.bind(this),this.setData({tree:[[],[],[]],itemIndex:null,columnIndex:null,currentFocus:null,lastFocus:[],lastActionFocus:{},pageParams:JSON.stringify(ns.Model.getKeyAndParams("messages",ns.page.current.params).params)}),this._buildTree(),this._setDefaultCoordinates(),ns.events.on("ns-page-after-load",this._rebuild),ns.events.on("daria:mFocus:buildTree",this._rebuild)},_rebuild:function(){this._buildTree(),this._updateFocus(),this.isInitialized||(this._setDefaultCoordinates(),this.isInitialized=!0)},_updateFocus:function(){var e=JSON.stringify(ns.Model.getKeyAndParams("messages",ns.page.current.params).params),t=this.get(".pageParams"),n=this.get(".columnIndex");this.set(".pageParams",e),n!==this.indexColumns.LEFT&&e!==t?this.resetFocus():this._recalculateFocus()},_buildTree:function(){Daria.DEBUG&&console.time("mFocus buildTree");var e=Daria.nsTreeWalker.getTreeForFocus();this.set(".tree",e);var t=this.get(".lastFocus").map((function(t,n){return t&&{focusView:t.focusView,itemIndex:e[n].indexOf(t.focusView)}}));this.set(".lastFocus",t),Daria.DEBUG&&(console.timeEnd("mFocus buildTree"),console.log("mFocus tree",e))},_recalculateFocus:function(){if(this.hasFocus()){var e=this.get(".columnIndex"),t=this.get(".itemIndex"),n=this.get(".tree")[e],r=this.getFocus();if(-1===n.indexOf(r)){var i,o,a;if(Daria.is3pane()&&e===this.indexColumns.MESSAGE&&0===n.length&&this.get(".tree")[this.indexColumns.MESSAGES].length>0)n=this.get(".tree")[this.indexColumns.MESSAGES],i=this._getLastFocusedItemIndex(this.indexColumns.MESSAGES,!0),o=this.indexColumns.MESSAGES;else if(i=t,o=e,a=_.method("getParentReferenceParams")(r)){var s=_.findIndex(n,a);-1!==s&&(i=s)}i=Math.min(n.length-1,i),i=Math.max(i,0),this.set(".itemIndex",i),this.set(".columnIndex",o),this._setCurrentFocus(o,i)}}},_setDefaultCoordinates:function(){this.set(".itemIndex",this.DEFAULT_ITEM);var e=this.get(".tree"),t=this.DEFAULT_COLUMN;0===e[t].length&&(t=this.indexColumns.LEFT),this.set(".columnIndex",t)},setLastActionFocus:function(){var e=_.clone(this.get(".lastActionFocus"));_.isEmpty(e)||e.focusView&&e.focusView.isVisible()&&(this.pubEvent("blur"),this.set(".columnIndex",e.columnIndex),this.set(".itemIndex",e.itemIndex),this.set(".currentFocus",e.focusView),this._updateFocus(),this.pubEvent("focus"))},setPreventOpenOnFocus:function(e){void 0===e&&(e=!0),this.set(".preventOpenOnFocus",e)},getPreventOpenOnFocus:function(){return this.get(".preventOpenOnFocus")},resetFocus:function(e){this.pubEvent("blur"),this.set(".currentFocus",null),this.set(".itemIndex",this.DEFAULT_ITEM),e&&this.set(".columnIndex",this.DEFAULT_COLUMN);var t=_.clone(this.get(".lastFocus"));t[this.indexColumns.MESSAGES]=null,t[this.indexColumns.MESSAGE]=null,this.set(".lastFocus",t),this.set(".lastActionFocus",{}),this.set(".preventOpenOnFocus",!1)},clearFocus:function(){this.hasFocus()&&(this.pubEvent("blur"),this.set(".currentFocus",null)),this.set(".preventOpenOnFocus",!1)},changeItem:function(e,t){var n=this.get(".columnIndex"),r=this.get(".itemIndex"),i=this.get(".tree")[n];if(!this.hasFocus()){if(n===this.indexColumns.MESSAGES&&!i[r]){var o=this._getFirstIndexForViews(i);o>=0&&(r=o)}return void this._changeFocus(n,r,{select:t})}var a=this.get(".currentFocus");if(Daria.Focus.needLazyScroll(a,e))return void Daria.Focus.lazyScroll(e);var s=i.length,u=i.indexOf(a);if(e?u++:u--,n===this.indexColumns.MESSAGES&&u===s)return void this._loadMoreMessages();u>=0&&u<s&&this._changeFocus(n,u,{select:t})},_loadMoreMessages:function(){ns.events.trigger("daria:vMessagesPager:messages-load")},changeColumn:function(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=e?this._getNextColumnIndex():this._getPrevColumnIndex(),this.setColumn(t,n)},setColumn:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=this.get(".columnIndex"),r=this.get(".tree").length;if((n!==e||!this.hasFocus())&&e>=0&&e<r){var i=this._getLastFocusedItemIndex(e);this._changeFocus(e,i,{scroll:!("scroll"in t)||t.scroll})}},_getNextColumnIndex:function(){for(var e=this.get(".columnIndex"),t=this.get(".tree"),n=t.length,r=e,i=e+1;i<n;i++){if(t[i].length>0){r=i;break}}return r},_getPrevColumnIndex:function(){for(var e=this.get(".columnIndex"),t=this.get(".tree"),n=e,r=e-1;r>=0;r--){if(t[r].length>0){n=r;break}}return n},_getLastFocusedItemIndex:function(e,t){var n=this.get(".tree")[e],r=this.get(".lastFocus")[e],i=null;if(r&&(i=n.indexOf(r.focusView),-1!==i||t?t&&(i=r.itemIndex):i=null),null===i&&e===this.indexColumns.MESSAGE){var o=n[0];if(o&&"message-thread-item-wrap"===o.id)return this._getFirstVisibleMessageInThread(n)}if(null===i&&e===this.indexColumns.MESSAGES){var a=this._getFirstIndexForViews(n);if(a>=0)return a}return i||0},_getFirstIndexForViews:function(e){var t=this._getOpenMessageIndex(e);if(t>=0)return t;var n=this._getFirstUnpinnedMessage(e);return n>=0?n:-1},_getFirstVisibleMessageInThread:function(e){for(var t=ns.Model.get("scroller-message").getVDimensions(),n=e.length,r={},i=0;i<n;i++){var o=e[i];if(o.isOpen()){var a=o.isVisibleInScroller(t,!1);if(a)return i;r[o.key]=a}}for(var s=0;s<n;s++){var u=e[s],c=r[u.key];if(_.isBoolean(c)){if(c)return s}else if(c=u.isVisibleInScroller(t,!1))return s}return 0},_getOpenMessageIndex:function(e){if(Daria.is3pane())return-1;for(var t=ns.page.current.params,n=t.ids||t.thread_id,r=0,i=e.length;r<i;r++){var o=e[r],a=o.getModel("message");if(a&&a.params.ids===n)return r}return-1},_getFirstUnpinnedMessage:function(e){for(var t=0,n=e.length;t<n;t++){var r=e[t],i=r.getModel("message");if(i&&!i.isPinned())return t}return-1},saveViewAsLastFocused:function(e,t){var n=this.get(".tree")[t].indexOf(e);this._saveLastFocusView(e,t,n)},_saveFocus:function(e,t){var n=this.get(".currentFocus");n&&this._saveLastFocusView(n,e,t)},_saveLastFocusView:function(e,t,n){var r=_.clone(this.get(".lastFocus"));r[t]={focusView:e,itemIndex:n},this.set(".lastFocus",r)},isFocusedInColumn:function(e,t){if(this.get(".columnIndex")===e)return this.getFocus()===t;var n=this.get(".lastFocus");return!!n&&(n[e]||{}).focusView===t},_saveLastActionFocus:function(e,t){var n=_.clone(this.get(".lastActionFocus")),r=this.get(".currentFocus");r&&(n={columnIndex:e,focusView:r,itemIndex:t},this.set(".lastActionFocus",n))},_changeFocus:function(e,t,n){var r={scroll:!0,select:!1,show:!0},i=_.extend(r,n),o=this.get(".columnIndex"),a=this.get(".itemIndex");if(o!==e&&this._saveFocus(o,a),this._saveLastActionFocus(o,a),this.set(".itemIndex",t),this.set(".columnIndex",e),this.set(".preventOpenOnFocus",!1),!i.show)return void this.clearFocus();var s=this._setCurrentFocus(e,t);s&&(i.scroll&&s.node&&(Daria.Focus.needLazyScroll(s,!1)?Daria.Focus.lazyScroll(!1):Daria.Focus.scrollIntoView(s.$node,e)),i.select&&this.keyboardSelection(s.params.ids))},_setCurrentFocus:function(e,t){var n=_.get(this.get(".currentFocus"),".key"),r=this.get(".tree")[e][t];if(n!==_.get(r,".key"))return this.pubEvent("blur"),this.set(".currentFocus",r),this.pubEvent("focus"),r},pubEvent:function(e,t){var n=this.getFocus();if(!n)return!0;ns.assert(n.onFocusEvent,"View: "+n.id,"Не реализован метод #onFocusEvent()"),Daria.DEBUG&&console.log("mFocus","pubEvent",e,n),n.isValid()?(t=Object.assign({},t,{type:e}),"focus"===e&&this.get(".preventOpenOnFocus")&&(t.preventOpenOnFocus=!0),n.onFocusEvent(t)):Daria.DEBUG&&console.warn("mFocus",n.id+" невалиден","Событие "+e+" проигнорировано",n)},hasFocus:function(){return Boolean(this.get(".currentFocus"))},getFocus:function(){return this.get(".currentFocus")},getFocusOrDefault:function(){var e=this.getFocus();if(e)return e;var t=this.get(".itemIndex"),n=this.get(".columnIndex");return this.get(".tree")[n][t]},goInbox:function(){var e=this;ns.page.go("#inbox").then((function(){e._changeFocus(e.indexColumns.LEFT,e.DEFAULT_ITEM)}))},_focusToMessage:function(e,t){this.get(".tree")[this.indexColumns.MESSAGES].length>0&&this._changeFocus(this.indexColumns.MESSAGES,e,{select:t})},focusToFirstMessage:function(e){this._focusToMessage(0,e)},focusToLastMessage:function(e){var t=this.get(".tree")[this.indexColumns.MESSAGES].length;this._focusToMessage(t-1,e)},setFocusByMid:function(e,t){var n=this.get(".tree")[this.indexColumns.MESSAGES],r=_.findIndex(n,"params.ids",e);if(r>-1){var i={scroll:t,show:Daria.is3pane()};this._changeFocus(this.indexColumns.MESSAGES,r,i)}},keyboardSelection:function(e){var t=this.get(".keyboardSelection");t&&t.select(e)},startKeyboardSelect:function(){var e=this.getFocusOrDefault();if(e){var t=e.getModel("message");if(t){var n=new Daria.CBS;n.start(t.params.ids),this.set(".keyboardSelection",n)}}},getRange:function(e,t){for(var n=ns.Model.get("message",{ids:e}),r=ns.Model.get("message",{ids:t}),i=this.get(".tree")[this.indexColumns.MESSAGES],o=-1,a=-1,s=0,u=i.length;s<u;s++){var c=i[s],l=c.getModel("message");if(!l)throw new Error("Something goes wrong");if(-1===o&&l===n&&(o=s),-1===a&&l===r&&(a=s),-1!==a&&-1!==o)break}return o<=a?i.slice(o,a+1):i.slice(a,o+1).reverse()},getIndexCurrentColumn:function(){return this.get(".columnIndex")},isCurrentFocusOnMessage:function(){if(!this.hasFocus())return!1;var e=this.getFocus();return e.isValid()&&Boolean(e.getModel("message")&&e.getModel("messages-checked"))},findIndex:function(e){var t=-1;return _.forEach(this.get(".tree"),(function(n){if((t=n.indexOf(e))>-1)return!1})),t},setFocusAfterPageLoaded:function(){this.__setFocusAfterPageLoaded=!0},cancelSetFocusAfterPageLoaded:function(){this.__setFocusAfterPageLoaded=!1},shouldSetFocusAfterPageLoaded:function(){return Boolean(this.__setFocusAfterPageLoaded)}}},ns.ModelStatic),ns.events.on("pageinit",(function(){_.defer((function(){var e=ns.Model.get("focus");"message"===ns.page.current.page&&e.setColumn(e.DEFAULT_COLUMN);var t=ns.page.current.params,n=t.ids||t.thread_id;n&&ns.Model.get("focus").setFocusByMid(n,!0)}))}))})()},function(e,t){ns.Model.define("footer-data",{events:{"ns-model-init":function(){var e=Daria.Config;this.setData({"full-year":new Date(Daria.now()).getFullYear(),"link-advert":this._linkAdvert(),"link-lite":"/u2709/go2lite","link-mobile-apps":this._linkMobileApps(),"link-nda":"".concat(e["wiki-url"],"/nda"),"link-yandex":Daria.IS_CORP?e["company-url"]:e["morda-url"],"link-hiring":"".concat(e["hiring-url"],"?from=mail_footer")})}},methods:{_linkAdvert:function(){return Daria.Config["adv-url"]},_linkMobileApps:function(){var e=Daria.Config,t=!1;return"RUS"===e.product&&(t=e["mobile-mail-url"]),t}}},ns.ModelStatic)},function(e,t){!(function(){ns.Model.define("get_user_activity",{events:{"ns-model-changed":"_onModelChanged"},methods:{_onModelChanged:function(){this._lastLcnCheck=!0;var e=this.get(".lcn");e&&(this._lastLcnCheck=Daria.Xiva.handlers.processNewLcn(e))},syncLcn:function(){return ns.forcedRequest([this]).then((function(){return vow.resolve(this._lastLcnCheck)}),this)}}},ns.ModelArmour)})()},function(e,t){ns.Model.define("get-group-user-events",{ctor:function(){this._lazyRequestDebounce=_.debounce(this._lazyRequest.bind(this),50),this._models={},this._promise=null},methods:{request:function(){return this.isValid()||(this._promise=Vow.promise()),this._lazyRequestDebounce(),this._promise},addModel:function(e){this._models[e.key]=e},isValid:function(){return _.isEmpty(this._models)},canRequest:function(){return!_.isEmpty(this._models)},_lazyRequest:function(){if(!this.canRequest())return void this._promise.fulfill();var e,t,n,r,i=_.assign({},this._models);_.forEach(i,(function(i){(!e||e.getTime()>i.dateFrom.getTime())&&(e=i.dateFrom,n=i.params.from),(!t||t.getTime()<i.dateTo.getTime())&&(t=i.dateTo,r=i.params.to)}));var o=ns.Model.get("get-user-events",{from:n,to:r,group:!0});o.destroy();var a=this;ns.request.models([o]).then((function(){_.forEach(i,(function(e){e.setDataFromEvents(o)}))})).always((function(){_.forEach(i,(function(e){delete a._models[e.key]})),a._promise.fulfill(),o.destroy()}))}}})},function(e,t){ns.Model.define("get-user-events",{events:{"ns-model-init":"_onInit","ns-model-touched":"_setUpdateTimer"},params:{from:"",to:"",group:!1},maxAge:24*Jane.Date.HOUR,maxStaleAge:Number(Jane.Date.MINUTE),ctor:function(){this._updateTimer=null,this._minimalViewTime=15,this._minimalViewInterval=Daria.timify({minutes:15},"hours"),this._mapEventsIterator=this._mapEventsIterator.bind(this),this._sortEvents=this._sortEvents.bind(this),this._reduceGroupsIterator=this._reduceGroupsIterator.bind(this)},methods:{_onInit:function(){this.params.from&&(this.dateFrom=Jane.Date.LocalDate.parseDate(this.params.from)),this.params.to&&(this.dateTo=Jane.Date.LocalDate.parseDate(this.params.to),this.dateTo.setHours(23,59,59))},getRequest:function(){if(this.isValid())return this;if(this.params.group)return this;if(!this.dateFrom||!this.dateTo)return this;var e=ns.Model.get("get-group-user-events");return e.addModel(this),e},extractData:function(e){var t=this._extractData(e);return!t&&this.data&&(t=this.data,t._lastData=!0),t||{events:[]}},hasDataChanged:function(e){return(!e||!e._lastData)&&Boolean(e)},preprocessData:function(e){return e._lastData?e:this.params.group?(e.events=_.map(e.events,this._mapEventsCommonIterator),e):(Array.isArray(e.events)?e.ranges=this.createGroupsOfEvents(e.events):Jane.ErrorLog.send({errorType:"HandlerError",name:"get-user-events",reason:"calendar_get-user-events_failed"}),e)},_setUpdateTimer:function(){var e=this;this.params.group||(this._updateTimer&&(clearTimeout(this._updateTimer),this._updateTimer=null),this._updateTimer=setTimeout((function(){e._updateTimer=null,e.isValid()&&(e.invalidate(),e.atrigger("daria:mGetUserEvents:update"))}),this.info[this.isLastData()?"maxStaleAge":"maxAge"]))},getEventsFromRange:function(e,t){var n=e.getTime(),r=t.getTime();return _.filter(this.get(".events"),(function(e){var t=e.startDate.getTime(),i=e.endDate.getTime();return!(n>i||r<t)}))},setDataFromEvents:function(e){var t=e.getEventsFromRange(this.dateFrom,this.dateTo);return this.setData({events:t})},isLastData:function(){return Boolean(this.get("._lastData"))},createGroupsOfEvents:function(e){return _(e).chain().map(this._mapEventsCommonIterator).map(this._mapEventsIterator).sortBy(this._sortEvents).reduce(this._reduceGroupsIterator,[]).value()},_getSizeOfRange:function(e,t){var n=(t.getTime()-e.getTime())/Jane.Date.HOUR;return Number(n.toFixed(2))},_sortEvents:function(e){return e.startDate.getTime()},_findGroupIndex:function(e,t){var n=e.startDate.getTime(),r=e.viewEndDate.getTime(),i=t.startDate.getTime(),o=t.viewEndDate.getTime();return!(r<=i||n>=o)},_reduceGroupsIterator:function(e,t){var n=_.findIndex(e,this._findGroupIndex.bind(this,t)),r=e[n];return r||(r={events:[]},e.push(r)),r.events.push(t),r.startDate=r.startDate?r.startDate.getTime()>t.startDate.getTime()?t.startDate:r.startDate:t.startDate,r.endDate=r.endDate&&r.endDate.getTime()>t.endDate.getTime()?r.endDate:t.endDate,_.assign(r,this._createIntervalOptions(r.startDate,r.endDate)),e},_mapEventsCommonIterator:function(e){var t=Jane.Date.LocalDate.parseISOTime(e.startTs),n=Jane.Date.LocalDate.parseISOTime(e.endTs);return _.assign({},e,{startDate:t,endDate:n})},_mapEventsIterator:function(e){return _.assign({},e,this._createIntervalOptions(e.startDate,e.endDate))},_createIntervalOptions:function(e,t){var n,r,i=this._getSizeOfRange(e,t);i<this._minimalViewInterval?(r=this._minimalViewInterval,n=Jane.Date.clone(e),n.setMinutes(e.getMinutes()+this._minimalViewTime)):(r=i,n=Jane.Date.clone(t));var o=Jane.Date.getHours(e),a=o,s=Jane.Date.clone(e),u=Jane.Date.clone(n),c=!0,l=!0;return this.dateTo&&this.dateTo.getTime()<n.getTime()&&(u=Jane.Date.clone(this.dateTo),c=!1),this.dateFrom&&this.dateFrom.getTime()>e.getTime()&&(s=Jane.Date.clone(this.dateFrom),l=!1,a=0),{intervalInHours:i,viewEndDate:n,viewIntervalInHours:r,startInHours:o,startInRange:a,viewIntervalInRange:this._getSizeOfRange(s,u),isFinishedInRange:c,isStartedInRange:l,stringDate:Jane.Date.getDaysInterval(e,t),startStringHour:Jane.Date.format("%Date_HM__colon",e),endStringHour:Jane.Date.format("%Date_HM__colon",t),startDay:Jane.Date.format("%F",e)}}}},ns.ModelArmour)},function(e,t){ns.Model.define("head-user-state",{events:{"ns-model-init":"_onInit"},methods:{LS_ITEM_NAME:"newLettersInMA",_onInit:function(){this.setData({newLettersInMA:Boolean(Daria.LS.getItem("newLettersInMA"))}),window.addEventListener("storage",function(e){if(e&&"newLettersInMA"===e.key){var t=Daria.LS.getItem(this.LS_ITEM_NAME);this.setNewLettersInMA(t)}}.bind(this),!1)},hasNewLettersInMA:function(){return this.get(".newLettersInMA")},setNewLettersInMA:function(e){this.setIfChanged(".newLettersInMA",e),e?Daria.LS.setItem(this.LS_ITEM_NAME,"true"):Daria.LS.removeItem(this.LS_ITEM_NAME)}}},ns.ModelStatic)},function(e,t){ns.Model.define("is-yandex-user",{params:{email:null}})},function(e,t){!(function(e){for(var t={ru:{abbr:"ru",short:"Ru",name:"Русский","date-format":"%d %h. %Y в %H:%M",locale:"ru_RU.UTF-8",locale_short:"ru_RU"},uk:{abbr:"uk",short:"Ua",name:"Українська","date-format":"%d %h. %Y о %H:%M",locale:"uk_UA.UTF-8",locale_short:"uk_UA"},en:{abbr:"en",short:"En",name:"English","date-format":"%h %d, %Y at %H:%M",locale:"en_US.UTF-8",locale_short:"en_US"},tr:{abbr:"tr",short:"Tr",name:"Türkçe","date-format":"%d %h. %Y о %H:%M",locale:"tr_TR.UTF-8",locale_short:"tr_TR"},be:{abbr:"be",short:"By",name:"Беларуская","date-format":"%d %h. %Y о %H:%M",locale:"be_BE.UTF-8",locale_short:"be_BE"},kk:{abbr:"kk",short:"Kz",name:"Қазақша","date-format":"%d %h. %Y о %H:%M",locale:"kk_KK.UTF-8",locale_short:"kk_KK"},uz:{abbr:"uz",short:"Uzb",name:"Oʻzbekcha","date-format":"%d %h. %Y о %H:%M",locale:"uz_UZ.UTF-8",locale_short:"uz_UZ"}},n=[],r=0,i=0;r<e.length;r++){var o=t[e[r]];o&&(n[i++]=o)}ns.Model.define("languages",{events:{"ns-model-init":function(){this.setData({languages:{lang:n}})}}},ns.ModelStatic)})(Daria.locales)},function(e,t){ns.Model.define("message-failed",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({})},hasMid:function(e){return this.data.hasOwnProperty(e)},setMid:function(e){e&&(this.data[e]=!0)},removeMid:function(e){delete this.data[e]}}},ns.ModelStatic)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(87),i=(n.n(r),n(384)),o=n(610),a=n(1883);!(function(){ns.Model.define("message-body",{params:{ids:null,is_spam:!1,hid:null,raw:!1,frequency:(function(){return"ru"===Daria.Config.locale&&Object(r.hasFeature)(r.Features.WEB_EMAIL_CLASSIFICATION)?_.get(Object(r.getFeatureParams)(r.Features.WEB_EMAIL_CLASSIFICATION)||{},"frequency",.1):0})(),draft:!1,force:null},calculateParamsForMessageBody:function(e){var t=Array.isArray(e.ids)&&e.ids.length>1&&"forward"===e.oper;return!e.ids||t?null:_.extend({},e,{draft:Boolean(!e.oper&&e.ids)})},methods:{_bodyNodesCache:{},_bodyNodesCacheLifetime:3e5,_destroyNodesCacheTimer:null,exists:function(){if(this.status===this.STATUS.ERROR){var e=this.getError();return!(e&&String(e.code)===Daria.WMI.ERROR_CODES.NO_SUCH_MESSAGE)}return!0},extractError:function(e){if(e){var t=no.jpath(".error.code",e);return String(t)===Daria.WMI.ERROR_CODES.NO_SUCH_MESSAGE&&(this.canRequest=no.False),e.error}},canRequest:function(){return!ns.Model.get("message-failed").hasMid(this.params.ids)},preprocessData:function(e){var t=this.params;this._cancelDestroyNodesCacheTimer(),this._destroyNodesCache(),this.setIconInfo(e);var n=ns.Model.get("message",{ids:t.ids});e["is-spam"]=n.isSpam(),e["is-support"]=n.isYaSupport(),e["is-noreply-notification"]=n.isNoreplyNotification(),(e["is-spam"]||e.phishing)&&(e["hide-imgs"]=!0);var r=e.attachment;return r&&r.forEach((function(e){var t=e.name,n=Daria.splitName(t);e.narod?(e.filename=n[0],e.fileext=n[1]?"."+n[1]:"",e["name-uri-encoded"]=encodeURIComponent(t),e["preview-src"]=e.preview):".wdp"===e.fileext&&delete e["preview-supported"];var r=Daria.splitAttachmentName(t);e.nameprefix=r.prefix,e.namesuffix=r.suffix,e.nameext=(n[1]||"").toLowerCase()})),e.info&&e.info.date&&(e.info.date.view=Daria.MessageTime.getFormattedTime(e.info.date.timestamp)),e},hasRelativeTime:function(){return this.get(".info.date.view.isRelative")},updateTime:function(){var e=Daria.MessageTime.getFormattedTime(this.get(".info.date.timestamp"));this.set(".info.date.view",e)},setIconInfo:function(e){(jpath(e,".attachment")[0]||[]).forEach((function(e){var t=Daria.getExtensionInfo(e.name);t.icon&&(e.icon=t.icon)}))},getEmailInfoParams:function(){var e=this.select('.info.field[.type=="from"]')[0],t=e&&e.email&&e.email.toLowerCase();return t&&Jane.FormValidation.checkEmail(t)?{ref:e.ref,email:t}:null},getEmailRef:function(e){return this.select('.info.field[.email=="'+e+'"].ref')[0]},parseDate:function(e){var t=String(e).match(/^(\d+)-(\d+)-(\d+) (\d+):(\d+):(\d+)$/);return t?new Date(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),parseInt(t[6],10)).getTime():null},getSubtype:function(){var e=this.get(".body.subtype");return e&&e[0]},getAddressField:function(e,t){return Daria.formatContacts(this.select('.info.field[.type == "'+e+'"]'),t)},filterRecipients:function(e){var t=ns.Model.get("account-information").getAllUserEmails().map((function(e){return e.replace(/-/g,".").toLowerCase()})),n=function(e){var n=Daria.Recipients.getRecipientFromCache(e.name,e.email);return(!n||!n.isSelf)&&_.indexOf(t,e.email.replace(/-/g,".").toLowerCase())<0};return _.filter(this.getFieldsByType(e),n)},getRecipients:function(e,t){var n;n=t?function(e){return e}:function(e){return Daria.formatContacts(e,!1)};var r=this.filterRecipients("reply-to");r.length||(r=this.filterRecipients("from")),r.length&&!e||(r=r.concat(this.filterRecipients("to"))),r.length||(r=this.getFieldsByType("from")),r=_.uniq(r,"email");var i=e?this.filterRecipients("cc"):[];return{to:n(r),cc:n(i)}},allowedReplyAll:function(){var e=this.getRecipients(!0,!0),t=_(e).chain().values().flatten().filter("email").uniq("email").value(),n=this.getFieldsByType("to").pop();return n&&Daria.email.isCA(n.email)&&_.remove(t,(function(e){return e.email===n.email})),t.length>1},participantsCount:function(){return this.filterRecipients("to").length+this.filterRecipients("cc").length},getFieldsByType:function(e){return this.select('.info.field[.type == "'+e+'"]')},recipientsCount:function(){return this.getFieldsByType("to").length+this.getFieldsByType("cc").length+this.getFieldsByType("bcc").length},hasTooManyRecipients:function(){return this.recipientsCount()>=10},getInfo:function(e){return this.select(".info."+e)},getMessageId:function(){return this.get(".info.message-id")||null},getInReplyTo:function(){return this.get(".info.in-reply-to")||null},getReferences:function(){return this.get(".info.references")||null},getAttachments:function(){return this.get(".attachment")||[]},getOnlyNotInlineAttachments:function(){return this.get(".attachment[.narod || !.inline]")||[]},hasInlineAttachments:function(){var e=this.getData();return!!e&&jpath(e,".attachment[!.narod]")>0},_COLLECTOR_MSG_STIDS:["102.66466005.241046198820547232969001058","102.66466005.157526963565013225811429732","102.66466005.134090406637961488505874094","102.66466005.776572722362711757375188712","102.66466005.856799731918248093078980991"],getComposeHTML:function(){var e=this.get(".body"),t=[];if(Array.isArray(e))for(var n=0,r=e.length;n<r;n++)t.push(e[n].content);return t},getHTML:function(e){e=e||{},e.ids=this.params.ids;var t=this.getData();if(!t||t.error)return Jane.ErrorLog.send({errorType:"message-body.error",params:JSON.stringify(e),msgBodyError:t&&t.error}),Jane.tt("message:message-body-error");if(this.isCollectorMessage())return Jane.tt("message:message-body-collector-msg",{lang:this.getDefaultLangId()});this._resetDestroyNodesCacheTimer();var n=Daria.getParamsHash(e);if(this._bodyNodesCache[n])return this._bodyNodesCache[n].cloneNode(!0);var r=document.createElement("div"),i=["js-message-body-content","mail-Message-Body-Content"],o=t.body||[],a=o[0];a&&"plain"===a.subtype&&i.push("mail-Message-Body-Content_plain"),r.className=i.join(" ");for(var s,u,c,l=0,d=o.length;l<d;l++)for(s=this._processBody(o[l],e),u=0,c=s.length;u<c;u++)r.appendChild(s[u]);return this._bodyNodesCache[n]=r,this._bodyNodesCache[n].cloneNode(!0)},_destroyNodesCache:function(){this._bodyNodesCache={}},_cancelDestroyNodesCacheTimer:function(){clearTimeout(this._destroyNodesCacheTimer)},_resetDestroyNodesCacheTimer:function(){this._cancelDestroyNodesCacheTimer(),this._destroyNodesCacheTimer=setTimeout(this._destroyNodesCache.bind(this),this._bodyNodesCacheLifetime)},getDefaultLangId:function(){switch(Daria.Config.locale){case"ru":case"be":return 1;case"en":return 2;case"uk":return 5;case"tr":return 44;default:return 0}},_processBody:function(e,t){var n=Daria.MessageProcess.processBody(e.content,t),r=$(n).contents().get(),i="";return"message"===e.type&&"delivery-status"===e.subtype&&(i="<p>"+i18n("%Message_Delivery_Status")+"</p>"),$(i).get().concat(r)},isCollectorMessage:function(){var e=this.getSTID();return!!e&&this._COLLECTOR_MSG_STIDS.indexOf(e)>-1},getSTID:function(){return this.get(".info.stid")},getRawFirstBody:function(){return this.get(".body[0].content")||""},getReplyBody:function(e,t,n){var r=ns.Model.get("settings"),i="";if(r.isSet("enable_quoting")&&(i=this.getQuoteContent(e)),!n){var o=Daria.Translate.getLangByMid(this.params.ids);o||(o=Daria.Translate.defineLanguage(this.getComposeHTML())),i=Daria.signs.appendToBody(i,e,null,t,o)}return i},getQuoteContent:function(e){var t=ns.Model.get("message",{ids:this.params.ids}),n=t.getDateTime(),r=t.getAddressField("from").replace(/\\"/g,'"'),i=this.getComposeHTML();return"html"===e?(i=Daria.Html2Text.quoteHtml(i),"<div><br/></div><div><br/></div><div>"+n+", "+_.escape(r)+":</div>"+i):(i=Daria.Html2Text.html2text(i),i=Daria.Html2Text.quoteText(i),"\n\n"+n+", "+r+":\n"+i)},getForwardBody:function(e,t){var n=ns.Model.get("message",{ids:this.params.ids}),r="",i=n.getDateTime(),o=n.getAddressField("from").replace(/\\"/g,'"'),a=this.getComposeHTML(),s=Daria.Translate.getLangByMid(this.params.ids)||Daria.Translate.defineLanguage(a);return a='<div class="normalize">'+a+"</div>","html"===e?(r+="<div><br/></div><div><br/></div><div>-------- "+i18n("%Compose_Forward_Start")+" --------</div>",r+="<div>"+i+", "+_.escape(o)+":</div><div><br/></div>",r+=a,r+="<div><br/></div><div>-------- "+i18n("%Compose_Forward_End")+" --------</div>"):(r+="\n\n-------- "+i18n("%Compose_Forward_Start")+" --------",r+="\n"+i+", "+o+":\n\n",r+=Daria.Html2Text.html2text(a),r+="\n-------- "+i18n("%Compose_Forward_End")+" --------"),Daria.signs.appendToBody(r,e,!0,t,s)},getDraftBody:function(e){var t;if(e&&(t=$.makeArray(this.get('.body[.subtype == "'+e+'" && .name == ""]')||[])[0]),t||(t=this.getFirstBody()),!t)return"";var n=t.content,r=t.subtype;return"plain"===e&&"html"===r?n=Daria.Html2Text.html2text(n):"html"===e&&"plain"===r&&(n=n.replace(/\u0020\u0020/g,"  "),n=_.unescape(n),n=Daria.Html2Text.text2html(n)),"plain"===e&&(n=_.unescape(n)),n},_getLocationsData:function(){var e=this.get(".facts.addr");return _.flatten(e).filter((function(e){return Boolean(e)}))},getInvalidLocations:function(){return _.difference(this._getLocationsData(),this.getLocations())},getLocations:function(){return _(this._getLocationsData()).filter((function(e){return e.weight>=40&&"string"==typeof e.geo_addr})).valueOf()},hasPGP:function(){if(!this.isValid())return!1;var e=this.getFirstNonEmptyBodyContent()||"";return e.indexOf("wmi-pgp")>-1||e.indexOf("-----BEGIN PGP MESSAGE-----")>-1},getPGP:function(){var e={ids:this.params.ids,raw:!0},t=$.Deferred();return ns.request("message-body",e).then((function(e){var n=e[0],r=n.getFirstNonEmptyBodyContent()||"",i=n.getFieldsByType("from")[0],o=n.getFieldsByType("to")[0];t.resolve({from:{email:i.email,name:i.name},message:r.trim(),to:{email:o.email,name:o.name}})}),(function(){t.reject()})),t},getCalendarEvent:function(){return this.select(".facts.events.CalendarEvent")[0]},getCalendarICS:function(){return this.select(".calendars.calendar.hid")[0]},fetch:function(e){return e=no.extend(this.params,e||{}),ns.forcedRequest(this.id,e)},isLoaded:function(){return Boolean(this.get(".body"))},getUnsubscribeOptions:function(){function e(e,t){if(e){var n=$.url(e);n.Proto.match(/^https?$/gi)&&n.host&&(o[n.Proto+(t?"-"+t:"")]=e)}}var t,n=this.getInfo("list-unsubscribe")[0],r=this.get(".body.facts.unsubscribe"),i="<((mailto|https?):[^>]+)>",o={},a=n.match(new RegExp(i,"gi"));if(a)for(var s=0;s<a.length;s++){t=new RegExp(i,"i").exec(a[s]);var u=t[2]+"-header";o[u]||(o[u]=t[1])}else Jane.FormValidation.reEmail.test(n)?o["mailto-header"]="mailto:"+n:e(n,"header");if(r&&r.length){var c=jpath(r[0],".url");c.length&&e(c[0],"body")}return o},fromComposeMessage:function(e,t){if(this.isValid())return this;var n=ns.Model.get("message",{ids:t}),r=ns.Model.get("message-body",{ids:t}),i=e.get(".sentMessageId"),o=e.get(".from_mailbox"),a=[{email:o,name:e.get(".from_name"),ref:r.getEmailRef(o),type:"from"}];a=a.concat(e.formatContacts("to",r),e.formatContacts("cc",r),e.formatContacts("bcc",r));var s=e.getSendMessage();return e.isHtmlType()||(s=Daria.Html2Text.text2html(s)),this.setData({fake:!0,body:[{type:"text",subtype:e.get(".ttype"),content:s}],info:{date:n.createMessageCurrentDate(),field:a,"message-id":i}})},isRecipient:function(){var e=ns.Model.get("account-information"),t=this.getFieldsByType("to").concat(this.getFieldsByType("cc"),this.getFieldsByType("bcc"));return _.some(t,(function(t){return e.isMyEmail(t.email)}))},hasPhishingBody:function(){return(this.get(".body")||[]).some((function(e){return Boolean(e.phishing)}))},getFirstBody:function(){return(this.get(".body")||[])[0]},getFirstNonEmptyBodyContent:function(){return(this.get(".body.content")||[])[0]},setError:function(){this.scenarioManager.hasActiveScenario(i.d)&&this.scenarioManager.getActiveScenario(i.d).logError(o.c),this.scenarioManager.hasActiveScenario(i.e)&&this.scenarioManager.getActiveScenario(i.e).logError(a.a),ns.Model.prototype.setError.apply(this,arguments)}}},"model-with-scenario-manager-mixin")})()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4682),i=n(139),o=(n.n(i),n(87)),a=(n.n(o),n(145));n.n(a);ns.Model.define("message",{events:{"ns-model-init":"_onInit"},params:{ids:null,hid:null,force:null},methods:{_threadKeyPrefix:"t",_readInfo:{},_countInfo:{},INVALID_FOLDERS_SYMBOLS_FOR_PIN:i.PinDisabledFolders,_onInit:function(){this._checkIds(),this.params.ids&&this.params.ids[0]===this._threadKeyPrefix&&this.setData({FAKE_THREAD_DATA:!0})},_checkIds:function(){if(!this.params.ids)throw new Error("Can't create Daria.mMessage without ids")},preprocessData:function(e){if(e.date&&e.date.chunks){var t=e.date.chunks;e.date.ts=new Date(t.year,t.month,t.date,t.hours,t.minutes).getTime(),e.date.view=Daria.MessageTime.getFormattedTime(e.date.timestamp)}var n=e.subject;n&&"No subject"!==n||(e.subject=i18n("%Без_темы"));var r=e.recipients;if(r){for(var i in r)Daria.Recipients.cacheRecipient(r[i]);delete e.recipients}return this._preprocessWidgets(e),e},_preprocessWidgets:function(e){var t=this;if(!Array.isArray(e.widgets))return void delete e.widgets;e.widgets=e.widgets.reduce((function(n,r){var i=_.get(r,"info.showType");return i?t._skipWidget(i,e,r)?n:(Array.isArray(n[i])||(n[i]=[]),n[i].push(r),n):n}),{})},_skipWidget:function(e,t,n){switch(n.info.type){case"bigimage":if(!ns.Model.get("settings").getSign("show_widgets_buttons"))return!0;if(this.getTrustLevel(t.type)<5||!n.info.valid)return!0;var r=Object(o.getFeatureParams)(o.Features.WEB_WIDGET_BIGIMAGE)||{},i=r.blacklist,a=r.whitelist;if(Array.isArray(a))return!a.includes(n.info.id);if(Array.isArray(i))return i.includes(n.info.id)}return!1},hasRelativeTime:function(){return this.get(".date.view.isRelative")},updateTime:function(){var e=Daria.MessageTime.getFormattedTime(this.get(".date.timestamp"));this.set(".date.view",e)},hasDataChanged:function(e){var t=this.data;if(!t||!this.hasRealData())return!0;if(e.__prevent_update)return!1;var n=[];return t.count!==e.count&&n.push({jpath:".count",value:e.count}),t.fid!==e.fid&&n.push({jpath:".fid",value:e.fid}),t.tabId!==e.tabId&&n.push({jpath:".tabId",value:e.tabId}),t.tid!==e.tid&&n.push({jpath:".tid",value:e.tid}),t.firstline!==e.firstline&&n.push({jpath:".firstline",value:e.firstline}),t.new!==e.new&&n.push({jpath:".new",value:e.new}),_.isEqual(t.flags,e.flags)||n.push({jpath:".flags",value:e.flags}),_.isEqual(t.lid,e.lid)||n.push({jpath:".lid",value:e.lid}),_.isEqual(t.field,e.field)||n.push({jpath:".field",value:e.field}),_.isEqual(t.last_mid,e.last_mid)||n.push({jpath:".last_mid",value:e.last_mid}),e.date&&!_.isEqual(t.date,e.date)&&n.push({jpath:".date",value:_.extend({},e.date,{view:Daria.MessageTime.getFormattedTime(e.date.timestamp)})}),n.forEach((function(e){this.set(e.jpath,e.value)}),this),this.isThread()&&(n.length||t.thread_scn!==e.thread_scn)&&ns.forcedRequest([{id:"messages",params:{thread_id:t.tid}}]),!1},exists:function(){if(this.status===this.STATUS.ERROR){var e=this.getError();return!(e&&String(e.code)===Daria.WMI.ERROR_CODES.NO_SUCH_MESSAGE)}return!0},extractError:function(e){if(e){var t=no.jpath(".error.code",e);return String(t)===Daria.WMI.ERROR_CODES.NO_SUCH_MESSAGE&&(this.canRequest=no.False),e.error}},canRequest:function(){return!ns.Model.get("message-failed").hasMid(this.params.ids)},isDraftLike:function(){return!this.isThread()&&this.inFolderBySymbol(i.DraftLikeFolders)},isExternalLike:function(){return!this.inFolderBySymbol(i.InternalFolders)},isOutcomeMessage:function(){return this.inFolderBySymbol(i.OutcomingFolders)},canReply:function(){return!this.inFolderBySymbol(i.ReplyDisabledFolders)},canReplyQR:function(){return!this.inFolderBySymbol(i.QuickReplyDisabledFolders)},isTemplate:function(){return!this.isThread()&&this.inFolderBySymbol(i.WellKnownFolderSymbol.TEMPLATE)},isThread:function(){return this.isThreadModel()},isMessageThread:function(){return this.isThreadModel()&&1===this.getThreadCount()},getMessageThreadMid:function(){if(!this.isMessageThread())return this.params.ids;var e=this.getThreadMessages(),t=e.models[0];return t?t.params.ids:this.params.ids.slice(1)},isThreadModel:function(){return this.params.ids&&this.params.ids[0]===this._threadKeyPrefix},getSocialLabel:function(){var e=this.get(".dlid");return e||(e=this.get(".dtype.name")),e},getFolderId:function(){return this.get(".fid")||null},getTabId:function(){return this.get(".tabId")||null},getLastMid:function(){return this.get(".last_mid")||this.get(".mid")||null},getMessageFieldName:function(){var e="from",t=ns.Model.get("folders"),n=i.InternalFolders;return t.isFolder(ns.page.current.params.current_folder,n)&&(e="to"),ns.page.current.params.search&&t.isFolder(ns.page.current.params.fid,[i.WellKnownFolderSymbol.SENT])&&(e="to"),e},isNew:function(){return Boolean(this.get(".new"))},isSpam:function(){var e=this.getFolderId();return ns.Model.get("folders").isFolder(e,i.WellKnownFolderSymbol.SPAM)},isTrash:function(){return this.inFolderBySymbol(i.WellKnownFolderSymbol.TRASH)},isNoreplyNotification:function(){var e=ns.Model.get("labels").getLabelByName("SystMetkaWJDT:NOTIFY");return e&&this.hasLabel(e.lid)},hasAttachment:function(){return Boolean(this.get(".flags.attachment"))},hasLabel:function(e){var t=this.getData();return Boolean(t&&Array.isArray(t.lid)&&t.lid.indexOf(e)>-1)},hasLabelWithSymbolicName:function(e){var t=ns.Model.get("labels").getLabelBySymbolicName(e);return Boolean(t&&this.hasLabel(t.lid))},inFolder:function(e){var t=this.get(".fid");return!(!e||!t||t!==e)},inFolderBySymbol:function(e){var t=this.getFolderId();return ns.Model.get("folders").isFolder(t,e)},isIntoThread:function(){return this.getThreadMessage().hasRealData()},getThreadId:function(){return this.get(".tid")},getUrl:function(){var e=this.inFolder(ns.Model.get("folders").getFidBySymbol(i.WellKnownFolderSymbol.DRAFT));return Daria.isMessagePage()&&Daria.is2pane()&&(e=!1),ns.router.generateUrl(e?"compose2":"message",{ids:this.get(".mid")})},getSOLabels:function(){return this.get(".type")},toMove:function(e){var t=e.tabId&&(this.getTabId()!==e.tabId||this.getFolderId()!==e.current_folder);return this.isThread()||t||this.getFolderId()!==e.current_folder},toDelete:function(e){return this.inFolderBySymbol(i.WellKnownFolderSymbol.TRASH)||this.toMove(e)},toSpam:function(e){return this.toMove(e)},toNotspam:function(e){return this.toMove(e)},_grep:function(e,t,n,r){var i=[];if($.isArray(e))for(var o=0,a=e.length;o<a;o++)this[r](t+e[o],n)&&i.push(e[o]);return i},grep:function(e,t,n){var r=this._grep(e.mids,"",t,n),i=this._grep(e.tids,this._threadKeyPrefix,t,n);return!(!r[0]&&!i[0])&&{mids:r,tids:i}},label:function(e){var t=new Daria.MOPS.Opinfo,n=e.lid;if(!this._canLabel(n))return t;this._addLid(n);var r=this.get(".new");if(this._adjustLabelsUnreadCounterByLid(t,n,r),this.isThreadModel()){if(!e.onlyAdd)return this._correctThreadListLabel("label",e)}else{this._shouldAdjustLabelCount(n)&&t.addAdjust(n,1),t.addMid(this.get(".mid"));var i=this.getThreadId(),o=ns.Model.get("message",{ids:i});o._addLid(n),o._correctThreadLidCount(n,1)}return t},unlabel:function(e){var t=new Daria.MOPS.Opinfo,n=e.lid;if(!this._canUnlabel(n))return t;this._removeLid(n);var r=this.get(".new");if(this._adjustLabelsUnreadCounterByLid(t,n,-r),this.isThread())return this._correctThreadListLabel("unlabel",e);this._shouldAdjustLabelCount(n)&&t.addAdjust(n,-1),t.addMid(this.get(".mid"));var i=this.getThreadId(),o=ns.Model.get("message",{ids:i});return 0===o._correctThreadLidCount(n,-1)&&o._removeLid(n),t},isPhishing:function(){var e=ns.Model.get("labels").getPhishingLabel();return Boolean(e)&&this._hasLid(e.lid)},_shouldAdjustLabelCount:function(){return!this.isTrash()&&!this.isSpam()},_hasLid:function(e){var t=_.clone(this.get(".lid"));return!(!e||!t)&&-1!==t.indexOf(e)},_canLabel:function(e){return!this._hasLid(e)||!!this.isThreadModel()&&((this.get(".lid_cnt")||{})[e]||0)!==this.getThreadCount()},_addLid:function(e){if(!this._hasLid(e)){var t=_.clone(this.get(".lid"))||[];t.push(e),this.set(".lid",t)}},_canUnlabel:function(e){return this._hasLid(e)},_removeLid:function(e){if(this._hasLid(e)){var t=_.clone(this.get(".lid"));Jane.Array.remove(t,e),this.set(".lid",t)}},toTemplate:function(){var e=ns.Model.get("folders"),t=this.getFolderId(),n=e.getFolderById(t);return!(!n||!n.user&&!e.isFolder(t,[i.WellKnownFolderSymbol.INBOX]))},mark:function(){var e=new Daria.MOPS.Opinfo,t=this.get(".new");if(t>0){if(this.set(".new",0),this.isThread())return this._correctThreadListMark("mark",-t);this._correctThreadMark("mark"),Daria.areFoldersTabsEnabled()&&this.isInTab()?e.addTabsAdjust(this.getTabId(),-t):e.addAdjust(this.getFolderId(),-t),this._adjustLabelsUnreadCounter(e,-t),e.addMid(this.get(".mid")),e.saveMid(this.get(".mid"))}return e},unmark:function(){var e=new Daria.MOPS.Opinfo,t=this.getThreadCount(),n=t-this.get(".new");if(n>0){if(this.set(".new",t),this.isThread())return this._correctThreadListMark("unmark",n);this._correctThreadMark("unmark"),Daria.areFoldersTabsEnabled()&&this.isInTab()?e.addTabsAdjust(this.getTabId(),n):e.addAdjust(this.getFolderId(),n),this._adjustLabelsUnreadCounter(e,n),e.addMid(this.get(".mid")),e.saveMid(this.get(".mid"))}return e},toggleMark:function(){var e,t=this.isNew()?"mark":"unmark";return e=this.isThread()?this.getThreadMessagesCheckedModel(!0):this.getMessagesCheckedModel(!0),Daria.MOPS[t](e)},toggleMute:function(){var e=this.isMuted()?"unignore":"ignore";return Daria.MOPS[e]({tids:this.getThreadId()})},_correctThreadMark:function(e){var t=this.getThreadId(),n=ns.Model.get("message",{ids:t});if(n.data){var r=n.get(".new")||0,i=n.getThreadCount();"mark"===e?r--:r++,r=Math.max(r,0),r=Math.min(r,i),n.setIfChanged(".new",r)}},getThreadMessages:function(e){return _.isUndefined(e)&&(e=this.getThreadId()),ns.Model.get("messages",{thread_id:e})},getThreadMessage:function(e){if(_.isUndefined(e)&&(e=this.getThreadId()),e)return ns.Model.get("message",{ids:e})},_correctThreadListMark:function(e,t){var n=this.getThreadId(),r=this.getThreadMessages(n)[e]();return r.saveUnreadCounter(n,Math.abs(t)),r.saveAffectedMids(),r.checkTidAdjust(t,n),r},_correctThreadListLabel:function(e,t){var n=this.getThreadId(),r=this.getThreadMessages(n)[e](t),i=this.getThreadCount();return this._correctThreadLidCount(t.lid,"label"===e?i:-i),r.getModelsCount()!==i&&r.checkTidAdjust(NaN,n),r},_correctThreadLidCount:function(e,t){var n=this.getThreadCount(),r=this.get(".lid_cnt")||{};if(e){var i=r[e]||0,o=Daria.clamp(i+t,0,n);return r[e]=o,this.set(".lid_cnt",r),o}},_adjustLabelsUnreadCounter:function(e,t){var n=this;t&&ns.Model.get("labels").getLidsWithUnreadCounter().map((function(r){n._hasLid(r)&&e.addLabelsUnreadAdjust(r,t)}))},_adjustLabelsUnreadCounterByLid:function(e,t,n){n&&ns.Model.get("labels").getLidsWithUnreadCounter().includes(t)&&e.addLabelsUnreadAdjust(t,n)},getAddressField:function(e,t){var n=this.getFieldsByType(e);return Daria.formatContacts(n,t)},getToEmail:function(){if(!this.getData())return"";var e="",t=this.getFieldsByType("to"),n=ns.Model.get("account-information").getAllUserEmails();return $.each(t,(function(r){var i=t[r].email;if(!i)return!0;for(var o=0;o<n.length;o++)if(n[o].toLowerCase()===i.toLowerCase())return e=n[o],!1})),e},getReplyToEmail:function(){return _.get(this.getFieldsByType("reply-to"),"0.email")||""},getReplyToName:function(){return this.getFieldsByType("reply-to")[0].name||""},isReply:function(){return Boolean(this.getReplyToEmail())},getToEmails:function(){var e=this.getFieldsByType("to");return $.map(e,(function(e){return e.email||null}))},getToNames:function(){var e=this.getFieldsByType("to");return $.map(e,(function(e){return e.name||null}))},getFromName:function(){var e=this.getFieldsByType("from")[0];return e&&e.name?e.name:""},getFromEmail:function(){var e=this.getFieldsByType("from")[0];return e&&e.email?e.email:""},getSubject:function(e){var t=this.getData();if(!t)return"";var n="";return!e&&t.subject_prefix&&(n=t.subject_prefix+" "),n+t.subject},getDate:function(){var e=this.get(".date.iso");return e?e.replace(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})$/,"$3.$2.$1"):""},getTime:function(){var e=this.get(".date.iso");return e?e.replace(/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})$/,"$4:$5"):""},getDateTime:function(){return this.getDate()+", "+this.getTime()},getEmailRef:function(e){return this.select('.field[.email=="'+e+'"].ref')[0]},getSelectedInfo:function(e){var t,n,r,i,o=this._readInfo,a=this._countInfo,s=0,u=0;if(e.mids)for(t=0,n=e.mids.length;t<n;t++)r=e.mids[t],i=a[r],o[r]&&(s+=i),u+=i;if(e.tids)for(t=0,n=e.tids.length;t<n;t++)r=this._threadKeyPrefix+e.tids[t],i=a[r],o[r]&&(s+=i),u+=i;return{read:s,all:u}},isForward:function(){return/^Fwd:/.test(this.getSubject())},hasSocialLabels:function(){return Boolean(this.getSocialLID())},getSocialLID:function(){var e=_.flatten($.makeArray(this.select(".lid"))),t=e.length;if(t)for(var n=ns.Model.get("labels"),r=0;r<t;r++)if(n.isSocial(e[r]))return e[r];return null},COUPON_SERVICE_TYPES:[13,14],isCouponService:function(){var e=this.COUPON_SERVICE_TYPES;return _.intersection(e,this.get(".type")).length===e.length},CALENDAR_SERVICE_TYPE:42,isCalendarService:function(){return this.hasType(this.CALENDAR_SERVICE_TYPE)},isHuman:function(){return this.hasType(4)},hasType:function(e,t){var n=this.get(".type");_.isArray(e)||(e=[e]);var r="all";return t&&(r="any"),n&&_[r](e,(function(e){return _.contains(n,e)}))},updateThreadsUnreadCount:function(e,t){var n=[];for(var r in t){var i=this._threadKeyPrefix+r,o=this.getCache(i);if(o){var a,s=o.new||0;a="mark"===e?s-t[r].length:s+t[r].length,a=Math.max(0,a),this._readInfo[i]=0===a,a?o.new=a:delete o.new,("mark"===e&&0===a||"unmark"===e&&a>0)&&n.push(r)}}return n},getThreadCount:function(){return this.get(".count")},updateThreadCount:function(e){var t=this.getThreadCount();this.set(".count",t+e)},updateThreadInfo:function(e){if(!this.hasRealData())return!1;if(e.isNew()){var t=this.get(".new");this.set(".new",t+1)}e.isExternalLike()&&this.updateThreadContextInfo(e),this.updateThreadCount(1);var n=e.get(".lid"),r=this.get(".lid");r=_.uniq(r.concat(n)),this.set(".lid",r),!this.isAnswered()||e.isReply()&&e.isOutcomeMessage()||this.unsetAnswered(),this.isForwarded()&&!e.isOutcomeMessage()&&this.unsetForwarded();var i=_.extend({},this.params,{fid:e.get(".fid")}),o=ns.Model.get("message-presentation",i);return o.fill(e),o.ensureOnDestroyBinded(this),!0},updateThreadContextInfo:function(e){this.set(".date",e.get(".date")),Daria.areFoldersTabsEnabled()&&e.getTabId()&&this.set(".tabId",e.getTabId()),this.set(".fid",e.get(".fid")),this.set(".field",e.get(".field")),this.set(".firstline",e.getFirstline()),this.set(".last_mid",e.get(".mid")),this.set(".subject",e.getSubject(!0)),this.set(".subject_prefix",e.get(".subject_prefix")),this.set(".flags.attachment",e.hasAttachment())},uncheckThreadMessages:function(e){if(e=e||ns.Model.get("messages-checked"),this.isThread()){var t=this.getThreadMessages();_.forEach(t.models,(function(t){e.isChecked(t)&&e.check(t,!1)}))}},getEmails:function(){var e={},t=this.getData();if(t){var n=t.field;$.each(n,(function(t,n){var r=e[n.type]={},i=n.name,o=n.email;o&&(r.ref=n.ref,r.email=o),i&&(r.name=i)}))}return e},isYaSupport:function(){var e=ns.Model.get("labels").getLabelByName("yasupport");return!!e&&this.hasLabel(e.lid)},isBodyAutoExpand:function(){var e=this.getData();if(!e)return!1;var t=e.lid;if(!t||!t.length)return!1;for(var n,r=ns.Model.get("labels"),i=0,o=t.length,a=/^(vtnrf0roemru|vtnrf0habrahabr|vtnrf0livejournal)$/;i<o;i++)if((n=r.getLabelById(t[i]))&&a.test(n.name))return!0;return!1},getFieldsByType:function(e){return this.select('.field[.type == "'+e+'"]')},getFirstline:function(){return this.get(".firstline")||""},getMessageLink:function(){return ns.router.generateUrl("message",{ids:this.get(".mid")})},getMessagesCheckedModel:function(){var e=ns.Model.get("messages-checked",{mid:this.get(".mid")});return e.check(this,!0,{silent:!0}),e},getThreadMessagesCheckedModel:function(){if(this.isThread()){var e="all_"+this.get(".mid"),t=ns.Model.get("messages-checked",{mid:e}),n=this.getThreadMessages();return t.check(this,!0),_.each(n.models,(function(e){t.check(e,!0)})),t}return ns.Model.get("messages-checked")},isImportant:function(){var e=ns.Model.get("labels").getImportantLID();return this.hasLabel(e)},isPriority:function(){var e=ns.Model.get("labels").getPriorityLID();return Boolean(e&&this.hasLabel(e))},isPinned:function(){var e=ns.Model.get("labels").getPinnedLabel();return!!e&&this.hasLabel(e.lid)},isReplyLater:function(){return(this.isPinned()||this.inFolderBySymbol(i.WellKnownFolderSymbol.REPLY_LATER))&&Boolean(this.getReplyLaterDate())},isReplyLaterFinished:function(){return this.isPinned()&&this.isReplyLater()},isReplyLaterStarted:function(){return this.inFolderBySymbol(i.WellKnownFolderSymbol.REPLY_LATER)&&this.isReplyLater()},getReplyLaterDate:function(){var e=ns.Model.get("stickers",{type:a.StickerType.REPLY_LATER});return this.isThread()&&this.get(".count")>1?e.getRemindDateByTid(this.getThreadId()):e.getRemindDateByMid(this.getLastMid())},isDelayed:function(){if(!this.inFolderBySymbol(i.WellKnownFolderSymbol.OUTBOX))return!1;var e=ns.Model.get("labels").getDelayedMessageLabel();return!!e&&(!!this.hasLabel(e.lid)&&!((this.get(".date.ts")||this.get(".date.timestamp"))<Daria.now()))},getDelayedTime:function(){if(this.isDelayed())return this.get(".date.ts")||this.get(".date.timestamp")},move:function(e){var t=e.fid,n=e.tabId,r={current_folder:t,tabId:n};Daria.isAttachmentsTab()&&this.toSpam(r)?this.remove():this.toMove(r)?this.doMove(r):this.toDelete(r)&&this.remove();var i=new Daria.MOPS.Opinfo;return i.resetAdjust(),i.resetTabsAdjust(),i},moveToDrafts:function(){var e=this.params.ids,t=ns.Model.get("folders").getFidBySymbol(i.WellKnownFolderSymbol.DRAFT);return Daria.Xiva.moveMessageToFolder(e,t)},doMove:function(e){var t,n=e.current_folder,r=e.tabId,o=this,a=this.getThreadId(),s=this.get(".fid"),u=this.inFolderBySymbol([i.WellKnownFolderSymbol.TRASH]),c=new Daria.MOPS.Opinfo,l=this.get(".lid"),d=this.getTabId(),f=this.isInTab();r?(this.set(".tabId",r),s!==n&&this.set(".fid",n)):s===n?s="":this.set(".fid",n);var p=this.inFolderBySymbol([i.WellKnownFolderSymbol.TRASH]),g=this.inFolderBySymbol([i.WellKnownFolderSymbol.SPAM]),h=this.getThreadMessages(),m=this.isThread();if(m?t=this:(t=ns.Model.get("message",{ids:a}),t.hasRealData()||(t=this)),p&&this.isNew()&&!m&&this.isIntoThread()&&t._correctThreadMark("mark"),h.isValid())if(m)h.models.forEach((function(e){r&&e.set(".tabId",r),e.inFolderBySymbol(i.WellKnownFolderSymbol.SENT)||e.set(".fid",n)}));else{var v=f&&s&&d&&!h.hasMessagesFromTab(s,d);if(v){var b=ns.Model.get("messages",{current_folder:s,tabId:d,threaded:"yes"});b.isValid()&&b.remove(t)}var _=s&&s!==n&&!h.hasMessagesFromFolder(s);if(_){var y=ns.Model.get("messages",{current_folder:s,threaded:"yes"});y.isValid()&&y.remove(t)}var S=(_||v)&&(g||p)&&t.isPinned();S&&ns.Model.traverse("messages",(function(e){"yes"===e.params.with_pins&&e.remove(t)}))}var w,O=ns.page.current.params.current_folder,M=ns.page.current.params.tabId,D=ns.Model.get("messages",ns.page.current.params).isUnreadMessagesCollection(),T=this.isNew();(p||g)&&l&&(w={},l.forEach((function(e){w[e]=!0})));var x={};return ns.Model.traverse("messages",(function(e){if(e.isValid()){if(e.isSearchNotFilter()&&e.params.fid!==n&&e.remove(o),o.isPinned())(g||p)&&e.remove(o);else{var i=e.params.tabId;f&&(i===d||M&&i===M&&d===M&&r!==M)?e.remove(o):r&&i===r?e.insertMessageBySort("yes"===e.params.threaded?t:o):e.params.current_folder===s||O&&e.params.current_folder===O&&n!==O?e.remove(o):e.params.current_folder===n&&("yes"===e.params.threaded?e.insertMessageBySort(t):e.insertMessageBySort(o))}var c=e.params.thread_id;if(p&&!m&&c===a){if(e.remove(o)){var h=ns.Model.get("message",{ids:c});h.hasRealData()&&!x[c]&&(h.updateThreadCount(-1),x[c]=!0)}}(p||D&&!T)&&(e.isUnreadMessagesCollection()||e.isWithAttachmentMessagesCollection()||e.isImportantMessagesCollection())&&e.remove(o),(p||g)&&l&&e.params.current_label&&w[e.params.current_label]&&e.remove(o),!u||p||m||c!==a||("yes"===e.params.threaded?e.insertMessageBySort(t):e.insertMessageBySort(o))}})),ns.Model.invalidateAll("messages-from"),c.resetAdjust(),c.resetTabsAdjust(),c},remove:function(){var e=this;ns.Model.traverse("messages",(function(t){t.remove(e)})),this._cleaningModelsAfterAction(),ns.Model.get("message-body",{ids:this.params.ids}).destroy(),this.destroy()},getEmailInfoParams:function(){var e=this.getEmails().from,t=e&&e.email&&e.email.toLowerCase();return t&&Jane.FormValidation.checkEmail(t)?{ref:e.ref,email:t}:null},createMessageCurrentDate:function(){var e=Daria.now(),t=new Date(e),n=Jane.Date.format("%Date_db",e),r=Jane.Date.format("%Date_db_in_HM",e);return{chunks:{date:t.getDate(),hours:t.getHours(),minutes:t.getMinutes(),month:t.getMonth(),year:t.getFullYear()},timestamp:e,user_timestamp:e,view:{attach:n,list:n,message:r,title:r}}},fromComposeMessage:function(e,t){if(this.isValid())return this;var n=ns.Model.get("message",{ids:t}),r=ns.Model.get("message-body",{ids:t}),i=e.get(".from_mailbox"),o=[{email:i,name:e.get(".from_name"),ref:r.getEmailRef(i),type:"from"}];return o=o.concat(e.formatContacts("to",r),e.formatContacts("cc",r),e.formatContacts("bcc",r)),this.setData({fake:!0,mid:this.params.ids,tid:n.getThreadId()||"t"+this.params.ids,lid:e.get(".lids"),field:o,subject:e.get(".subj"),date:n.createMessageCurrentDate(),types:"4",type:[4],flags:{human:!0},count:1,new:0})},hasRealData:function(){return this.isValid()&&!this.get(".FAKE_THREAD_DATA")},isCheckedInList:function(){return ns.Model.get("messages-checked").isChecked(this)},isInSharedFolder:function(){return ns.Model.get("folders").isShared(this.getFolderId())},isInTab:function(){return this.getTabId()&&this.getFolderId()===ns.Model.get("folders").getFidBySymbol(i.WellKnownFolderSymbol.INBOX)},isMuted:function(){if(!this.isThread())return!1;var e=jpath(ns.Model.get("labels").getMuteThreadLabel(),".lid")[0];return this.hasLabel(e)},isMutable:function(){return this.isThread()&&!this.isMuted()&&!this.isInSharedFolder()},isValidForPin:function(){var e=ns.Model.get("folders"),t=this.getFolderId();return!e.isFolder(t,this.INVALID_FOLDERS_SYMBOLS_FOR_PIN)},isReplyLaterAllowed:function(){var e=this.get(".fid");return ns.Model.get("folders").isReplyLaterAllowed(e)},isDraggable:function(){var e=this.get(".fid");return!ns.Model.get("folders").isFolder(e,[i.WellKnownFolderSymbol.REPLY_LATER])},hasUserLabel:function(){var e=this.get(".lid");if(!Array.isArray(e)||!e.length)return!1;for(var t=ns.Model.get("labels"),n=0,r=e.length;n<r;n++){var i=t.getLabelById(e[n]);if(i&&i.user)return!0}return!1},hasLabelInDiff:function(e,t){var n=this.get(".lid");return _().xor(n,t).contains(e)},isAnswered:function(){return Boolean(this.get(".flags.replied"))},setAnswered:function(){this.set(".flags.replied",!0)},unsetAnswered:function(){this.set(".flags.replied",!1)},markAnswered:function(){this.setAnswered();var e=this.getThreadMessage();return!this.isThread()&&e&&e.isValid()&&e.getLastMid()===this.get(".mid")&&e.setAnswered(),new Daria.MOPS.Opinfo},isForwarded:function(){return Boolean(this.get(".flags.forwarded"))},setForwarded:function(){this.set(".flags.forwarded",!0)},unsetForwarded:function(){this.set(".flags.forwarded",!1)},markForwarded:function(){this.setForwarded();var e=this.getThreadMessage();return!this.isThread()&&e&&e.isValid()&&e.getLastMid()===this.get(".mid")&&e.setForwarded(),new Daria.MOPS.Opinfo},isRecipient:function(){var e=ns.Model.get("account-information"),t=this.getFieldsByType("to").concat(this.getFieldsByType("cc"),this.getFieldsByType("bcc"));return _.some(t,(function(t){return e.isMyEmail(t.email)}))},_cleaningModelsAfterAction:function(){var e=ns.Model.get("messages-from-item",this.params);e.isValid()&&ns.Model.traverse("messages-from",(function(t){t.remove(e)}))},getTrustLevel:function(e){e=e||this.get(".type")||[];var t=!0,n=!1,r=void 0;try{for(var i,o=e[Symbol.iterator]();!(t=(i=o.next()).done);t=!0){var a=i.value;if(a>=51&&a<=56)return a-50}}catch(e){n=!0,r=e}finally{try{t||null==o.return||o.return()}finally{if(n)throw r}}return null},getMessagesListWidget:function(){var e=Daria.Config.constants.WIDGET_SHOW_TYPES.LIST_TYPE;return this.select(".widgets.".concat(e,"[0]"))[0]||null},getMessageLinksInfo:function(){var e=Daria.Config.constants.WIDGET_SHOW_TYPES.BODY_TYPE;return this.select(".widgets.".concat(e,'[.info.type == "url_info"].controls[.type == "rich_preview_link"].attributes'))||[]},isSubscriptionMessage:function(){return(this.get(".type")||[]).some((function(e){return-1!==r.a.indexOf(e)}))},getSubscriptionType:function(){return(this.get(".type")||[]).find((function(e){return-1!==r.a.indexOf(e)}))},getSubscriptionData:function(){return{email:this.getFromEmail(),displayName:this.getFromName(),messageType:this.getSubscriptionType()}},getSender:function(){var e=this.getFieldsByType(this.getMessageFieldName());if(e.length)return e[0]}}})},function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=[13]},function(e,t){ns.Model.define("message-presentation",{params:{ids:null,hid:null,fid:null},methods:{fill:function(e){this.setData({flags:e.get(".flags"),field:e.get(".field"),firstline:e.get(".firstline")})},ensureOnDestroyBinded:function(e){if(this._isBindedOnDestroy){if(e.key!==this._bindedOnDestroyMessageKey){var t="ensureOnDestroyBinded called more then once: was binded to "+this._bindedOnDestroyMessageKey+", now binding to "+e.key;Jane.ErrorLog.send({errorType:"message-presentation.error",params:JSON.stringify(this.params),errorMessage:t})}}else this._isBindedOnDestroy=!0,this._bindedOnDestroyMessageKey=e.key,this.destroyWith([e])}}},ns.ModelStatic)},function(e,t){ns.Model.define("message-widget-events",{params:{ids:null},methods:{request:function(){return ns.request("message-body",this.params).then(this._onRequestSuccess,this._onRequestError,this)},_onRequestSuccess:function(){var e=ns.Model.get("message-body",this.params);return this.params.inc_hid=e.getCalendarICS(),this.params.stid=e.getSTID(),ns.request("get-event-ics",this.params).then(this._onRequestSuccessEventData,(function(e){return this.setData({error:e}),Vow.reject(e)}),this)},_onRequestSuccessEventData:function(e){var t=e&&e[0]&&e[0].data;t=t||{},this.setData(t),this.updateEventsData()},updateEventsData:function(){this.getEventKey()&&(this.hasOutdatedLabelOnMessage()&&this.markOutdated(),ns.Model.traverse("message-widget-events",this._onUpdateEventData.bind(this)))},_onUpdateEventData:function(e){if(e.isValid()){var t=this.getEventKey(),n=ns.Model.get("message-body",this.params),r=n.get(".info.date.timestamp"),i=ns.Model.get("message-body",e.params),o=i.get(".info.date.timestamp");this!==e&&t===e.getEventKey()&&(o<=r||e.hasOutdatedLabelOnMessage()?e.markOutdated():this.markOutdated())}},getEventKey:function(){var e=this.get(".eventInfo.instanceKey");return e&&e[0]},markOutdated:function(){this.getOutdatedLID()&&!this.hasOutdatedLabelOnMessage()&&this.setOutdatedLabel(),this.set(".isOutdated",!0)},hasOutdatedLabelOnMessage:function(){var e=this.getOutdatedLID();return!!e&&ns.Model.get("message",this.params).hasLabel(e)},getOutdatedLID:function(){return ns.Model.get("labels").getLIDByName("not_show_widget_event")},setOutdatedLabel:function(){Daria.MOPS.doActionWithMessages([this.params.ids],"label",{lid:this.getOutdatedLID()})},setEventInfo:function(e){this.set(".eventInfo",e),this.set(".isNotOperate",!1)},_onRequestError:function(e){return this.setData({error:e}),Vow.reject(e)}}})},function(e,t){function n(e){return o(e)||i(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function o(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}ns.Model.define("messages-checked",{params:Daria.params.messagesChecked,ctor:function(){this.touch=_.throttle(this.touch,100),this.bTouch=this.touch.bind(this),this.bOnMessagesInserted=this.onMessageInserted.bind(this),this.bOnMessagesRemoved=this.onMessageRemoved.bind(this)},events:{"ns-model-init":"_onInit","ns-model-destroyed":"_onDestroy"},methods:{INFOLINE_MESSAGES_COUNT:2,_mMessages:null,_onDestroy:function(){this._resetChecked(),this._mMessages.off("ns-model-insert",this.bOnMessagesInserted).off("ns-model-remove",this.bOnMessagesRemoved)},_onInit:function(){this._resetChecked(),this._mMessages=ns.Model.get("messages",this.params),this._mMessages.on("ns-model-insert",this.bOnMessagesInserted).on("ns-model-remove",this.bOnMessagesRemoved)},_resetChecked:function(){var e=this;_.forIn(this._checked,(function(t){t.off("ns-model-touched",e.bTouch)})),this._checked={},this._folderSelected=!1,this._listSelected=!1,this._tabSelected=!1,this._lastCheckedMessage=null,this.trigger("ns-model-reset-checked"),this.resetMemoizeAndTouch()},_resetMemoize:function(){Daria.memoizeClearCache(this.getCount)||(this.getCount=_.memoize(this.getCount)),Daria.memoizeClearCache(this.getData)||(this.getData=_.memoize(this.getData))},resetMemoizeAndTouch:function(){this._resetMemoize(),this.touch()},isValid:no.True,onMessageInserted:function(e,t){this.isListSelected()&&_.forEach(t,function(e){this.check(e,!0,{silent:!0})}.bind(this)),this.touch()},onMessageRemoved:function(e,t){_.forEach(t,function(e){this.check(e,!1,{silent:!0})}.bind(this)),this.touch()},resetChecked:function(){this._resetChecked()},getData:function(){return Object.keys(this.getCheckedMessagesHash())},isChecked:function(e){return Boolean(this._checked[e.get(".mid")])},isCheckedByMid:function(e){return Boolean(this._checked[e])},isSearchTopResultByMid:function(e){return this._mMessages.isSearchTopResult(e)},isCheckedByMidFromYate:function(e){var t=yr.nodeset2scalar(e);return this.isCheckedByMid(t)},toggleCheck:function(e){this.check(e,!this.isChecked(e)),this.setLastChecked(e)},check:function(e,t,n){var r=e.get(".mid"),i=!1;n=_.extend({silent:!1},n),t?this._checked.hasOwnProperty(r)||(this._checked[r]=e,e.on("ns-model-touched",this.bTouch),i=!0):(this._checked.hasOwnProperty(r)&&(delete this._checked[r],e.off("ns-model-touched",this.bTouch),i=!0),this._listSelected=!1,this._folderSelected=!1,this._tabSelected=!1),i&&(this._resetMemoize(),n.silent||(this.touch(),this.triggerToggleCheckedOnMessage(e,n)))},triggerToggleCheckedOnMessage:function(e,t){e.trigger("ns-model-checked-toggle",t,this.key)},checkByMidInParams:function(){if(this.params.mid){var e=ns.Model.get("message",{ids:this.params.mid});this.check(e,!0)}return this},isOnlyMessageChecked:function(){var e=this.getIds();return 1===e.ids.length&&0===e.tids.length},isEmptyMessagesList:function(){return this._mMessages.isEmptyList()},isPinnedMessagesList:function(){return this._mMessages.hasOnlyPinnedMessages()},isOnlyMessageOrThreadChecked:function(){var e=this.getIds();return 1===e.ids.length&&0===e.tids.length||0===e.ids.length&&1===e.tids.length},getOnlyMessageCheckedMid:function(){var e=this.getIds();return 1===e.ids.length&&0===e.tids.length?e.ids[0]:null},getOnlyCheckedMidOrTid:function(e){return e=e||this.getIds(),_.isEmpty(e.tids)?_.isEmpty(e.ids)?null:_.first(e.ids):_.first(e.tids)},getOnlyNotPinnedMessages:function(){return this._mMessages.models.filter((function(e){return!e.isPinned()}))},getLabels:function(){var e=ns.Model.get("labels").getLabelsHash();return _(this.getCheckedMessages()).forEach((function(t){var n=t.get(".count"),r=t.get(".lid"),i=t.get(".lid_cnt");_(r).forEach((function(t){e[t]+=n>1?i[t]||0:n})).value()})).value(),e},getFolders:function(){var e=this,t=ns.Model.get("folders").getFoldersHash();if(this.isFolderSelected()){var n=this.getSelectedFolder();n&&(t[n]=ns.Model.get("folders").getCount(n))}else{var r=this.getIds();r.ids.concat(r.tids).forEach((function(n){var r=e.getCheckedMessagesHash()[n];t[r.getFolderId()]+=r.get(".count")}))}return t},getTabs:function(){var e=ns.Model.get("tabs").get(".tabs").reduce((function(e,t){return e[t.id]=0,e}),{});if(this.isTabSelected()){var t=this.getSelectedTab();if(t){var r=ns.Model.get("tab",{id:t}).getCount();return e[t]=r,e}}var i=this.getIds(),o=this.getCheckedMessagesHash();return[].concat(n(i.ids),n(i.tids)).reduce((function(e,t){var n=o[t];return n.getTabId()&&(e[n.getTabId()]+=n.get(".count")),e}),e)},_getTotalCount:function(e){var t,n=e.tabId,r=e.fid;return n?t=ns.Model.get("tab",{id:n}).getCount():r&&(t=ns.Model.get("folders").getCount(r)),t},getCount:function(){var e=this,t=0;if(this.isFolderOrTabSelected())t=this._getTotalCount({fid:this.params.current_folder,tabId:ns.page.current.params.tabId});else{var n=this.getIds();t=n.ids.length,n.tids.forEach((function(n){t+=e.getCheckedMessagesHash()[n].get(".count")}))}return t},getPinnedCount:function(){var e=this.getData(),t=0;return e.forEach((function(e){ns.Model.get("message",{ids:e}).isPinned()&&(t+=1)})),t},getCheckedMessages:function(){var e=this.getIds();return _.map(e.tids.concat(e.ids),(function(e){return ns.Model.get("message",{ids:e})}))},getCheckedMessagesHash:function(){if(_.isEmpty(this._checked)){var e=ns.page.current.params.thread_id||ns.page.current.params.ids;if(Daria.is3pane()&&e){var t=ns.Model.get("message",{ids:e});if(t.hasRealData())return _.set({},e,t)}}return this._checked},isFolderSelected:function(){return this._folderSelected},isTabSelected:function(){return this._tabSelected},isFolderOrTabSelected:function(){return this.isTabSelected()||this.isFolderSelected()},selectFolder:function(){this._folderSelected||!Boolean(this.params.current_folder)||this.params.tabId||(this._folderSelected=!0,this._checkAllFromCollection(),this.resetMemoizeAndTouch())},selectTab:function(){!this._tabSelected&&Boolean(this.params.current_folder)&&Boolean(this.params.tabId)&&(this._tabSelected=!0,this._checkAllFromCollection(),this.resetMemoizeAndTouch())},getSelectedFolder:function(){return this._folderSelected?this.params.current_folder:null},getSelectedTab:function(){return this._tabSelected?this.params.tabId:null},selectList:function(){this._listSelected=!0,this._checkAllFromCollection(),this.resetMemoizeAndTouch()},isListSelected:function(){return this._listSelected},canShowInfoline:function(){return(this.getCheckedMessages()||[]).length>=this.INFOLINE_MESSAGES_COUNT},shouldSelectAll:function(){return!this.isListSelected()&&!this.isFolderSelected()&&!this.isTabSelected()},toggleSelectAll:function(){this.shouldSelectAll()?this.selectList():this.resetChecked()},_checkAllFromCollection:function(){var e=this._mMessages.isSearch(),t=this._mMessages.isLabeledCollection();this._mMessages.models.forEach((function(n){(!n.isPinned()||e||t)&&this.check(n,!0)}),this)},areAllCheckedInFolderOrTab:function(){var e=this._getTotalCount({fid:ns.page.current.params.current_folder,tabId:ns.page.current.params.tabId}),t=this.getCount();return this.isFolderOrTabSelected()||t>0&&t>=e},_areAllCheckedRead:function(e){var t;if(this.isTabSelected())return t=ns.Model.get("tabs").getUnreadCount(this.getSelectedTab()),e?!t:t;if(this.isFolderSelected())return t=ns.Model.get("folders").getUnreadCount(this.getSelectedFolder()),e?!t:t;var n=this.getCheckedMessagesHash();return!_.isEmpty(n)&&_.every(n,(function(t){var n=t.isNew();return e?!n:n}))},areAllCheckedRead:function(){return this._areAllCheckedRead(!0)},areAllCheckedPinned:function(){var e=this._mMessages.getPinned();if(0===e.length)return!1;var t=this.getCheckedMessages().filter((function(e){return e.isPinned()}));return!_.difference(e,t).length},hasPinnedCheckedMessage:function(){return this.getCheckedMessages().some((function(e){return e.isPinned()}))},hasImportantCheckedMessage:function(){return this.getCheckedMessages().some((function(e){return e.isImportant()}))},areAllCheckedNotPinned:function(){var e=this._mMessages.getPinned();if(0===e.length)return!1;var t=this._mMessages.models;if(e.length===t.length)return!1;var n=this.getCheckedMessages(),r=_.difference(t,n);return 0===_.difference(r,e).length},getIds:function(e,t){var n={threads:[],messages:[]},r=this.getCheckedMessagesHash();for(var i in r){var o=r[i];if(e){var a="to"+Daria.capitalize(e);if(o[a]&&!o[a](t))continue}n[o.isThreadModel()?"threads":"messages"].push(o)}var s={ids:[],tids:[]};return n.threads.forEach((function(e){var t=e.get(".mid");n.messages=n.messages.filter((function(e){return e.get(".tid")!==t})),s.tids.push(t)})),n.messages.length&&(s.ids=s.ids.concat(n.messages.map((function(e){return e.params.ids})))),s},runAction:function(e,t){var n={action:e,params:t};this.trigger("run-action",n)},runOps:function(e,t){return Daria.MOPS[e](this,t)},runLabelAction:function(e){return this.runAction("label",{lid:e})},getLastChecked:function(){if(Daria.is2pane())return this._lastCheckedMessage||this._mMessages.models[0];var e=ns.page.current.params.thread_id||ns.page.current.params.ids;return this._lastCheckedMessage||this._mMessages.getMessageByMid(e)||this._mMessages.models[0]},setLastChecked:function(e){var t=this.isChecked(e);if(t)return void(this._lastCheckedMessage=e);if(t||this._lastCheckedMessage!==e||(this._lastCheckedMessage=null),!this._lastCheckedMessage){var n=this._mMessages.models,r=n.indexOf(e);if(-1===r)return void(this._lastCheckedMessage=null);var i,o,a=null,s=1;do{if(i=n[r+s],o=n[r-s],i&&this.isChecked(i)){a=i;break}if(o&&this.isChecked(o)){a=o;break}s++}while(i||o);this._lastCheckedMessage=a}},getLidsSet:function(){var e=this.getIds(),t=[].concat(n(e.ids),n(e.tids)),r=new Set;return t.forEach((function(e){ns.Model.get("message",{ids:e}).get(".lid").forEach((function(e){return r.add(e)}))})),r}}},ns.ModelStatic)},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(384),s=n(610),u=n(1883),c=n(139),l=(n.n(c),n(572));n.n(l);!(function(){function e(e,n,r){r=r||Number.POSITIVE_INFINITY;for(var i=[],o=ns.Model.get("folders"),a=0,s=e.length;a<s;a++){var u=e[a].getData(),c=e[a].isThread();if((c||o.isIncoming(u.fid)&&t(u,n))&&(c?i.push({tid:u.tid}):i.push({mid:u.mid}),i.length>=r))break}return i}function t(e,t){return parseInt(e.size,10)<t}ns.Model.define("messages",{events:{"ns-model-before-destroyed":"_setRefreshCount","ns-model-insert":"_arrangeTopResultsFirst","ns-model-remove":"_onModelRemove"},params:i({threaded:null,goto:null,filter_ids:null,current_folder:null,current_label:null,thread_id:null,extra_cond:null,page_number:null,sort_type:"date",request:null,datePager:null,mrange:null,excluded:null,search:null,force:null},l.AdvancedSearchParams.reduce((function(e,t){return e[t]=null,e}),{}),{tabId:null,first:null,count:null,with_pins:"yes",allow_empty:null,prevent_update:null}),split:{items:".message",model_id:function(){return"message"},params:{ids:".mid"}},paramsRewrite:function(e){return e.thread_id&&e.current_folder&&delete e.thread_id,Daria.messages.checkUsePinsByParams(e)?e.with_pins="yes":delete e.with_pins,e},requiredFeatures:["web_search_extra_params"],methods:{SEARCH_PARAMS:["request","scope","unread","from","to","excluded","search","type","attaches","deleted"],_splitModels:function(e){this.params.prevent_update&&_.each(e,(function(e){e.__prevent_update=!0}));var t=this.super_._splitModels.apply(this,arguments),n=this.params.current_folder;return n&&t.forEach((function(e){if(e.isValid()){var t=_.extend({},e.params,{fid:n}),r=ns.Model.get("message-presentation",t);r.fill(e),r.ensureOnDestroyBinded(e)}})),t},preprocessData:function(e){return"yes"===this.params.threaded&&(e=this._createThreadsFromMessages(e)),_.defer(this.preloadAllMessages.bind(this)),e},getRequestParams:function(){var e=this.super_.getRequestParams.apply(this,arguments);return this.params.search&&(e.reqid=Daria.React.getSearchSessionId(),this.isSearchNotFilter()&&"count"in e&&(e.count=Math.max(e.count,10))),e.filter_ids&&(e.filter_ids=e.filter_ids.join()),e},_setRefreshCount:function(){this._refreshCount=this.models.length},_unsetRefreshCount:function(){delete this._refreshCount},_hasParamsForRequest:function(){var e=this.params,t="search"===e.search,n=e.deviation,r=e.current_folder,i=e.thread_id,o=e.current_label,a="all"===e.goto;return[t,n,r,i,o,a&&"only_new"===e.extra_cond,a&&"only_atta"===e.extra_cond,e.filter_ids,e.tabId].some((function(e){return e}))},_fakeRequest:function(){return this.request=void 0,this.setData({details:{"has-more":!1},message:[]}),Vow.resolve()},getRequest:function(){var e=this;if(this.isFakeMessages())return this.params.allow_empty||Jane.ErrorLog.send({errorType:"messages-request-no-params",params:JSON.stringify(this.params),stack:(new Error).stack}),this.request=this._fakeRequest,this;if(this.isValid())return this;var t=this.getCount()||this._refreshCount;if(!t)return this;var n=this._getCountForRequest(t),r=ns.Model.get(this.id,$.extend({},this.params,{first:this.params.first||0,count:n}));return r.destroy(),r.once("ns-model-changed",(function(){e.setData(this.getData()),e._unsetRefreshCount()})),r},_arrangeTopResultsFirst:function(){var e=this;this.isSearchNotFilter()&&Daria.arrangeMatchingFirstInline(this.models,(function(t){return e.isSearchTopResult(t.get(".mid"))}))},_onModelRemove:function(e,t){this._updateThreadMetaOnRemove(t),this._updateDetailsForSearch(t)},_updateThreadMetaOnRemove:function(e){var t=this.params.thread_id;if(t){var n=ns.Model.get("message",{ids:t});if(n.hasRealData()){var r=n.get(".last_mid");-1!==_.findIndex(e,(function(e){return e.params.ids===r&&e.get(".date.timestamp")===n.get(".date.timestamp")}))&&this.updateThreadMeta(n)}}},_updateDetailsForSearch:function(e){if(void 0!==this.get(".details.total-found")){var t=this.get(".details.total-found")||0,n=e.length;this.set(".details.total-found",Math.max(t-n,0));var r=this.get(".details.top-relevant")||0,i=this.get(".details.topResultsMids"),o=0;i&&(e.forEach((function(e){var t=e.get(".mid"),n=i.indexOf(t);n>-1&&(o++,i.splice(n,1))})),o>0&&(this.set(".details.top-relevant",Math.max(r-o,0)),this.set(".details.topResultsMids",i)))}},_createThreadsFromMessages:function(e){return e.message=e.message.map(this._createThreadFromMessage),e},_createThreadFromMessage:function(e){var t=ns.Model.get("message",{ids:e.mid}).setData(e);if(!Daria.messages.toCreateThread(t))return e;var n=_.cloneDeep(e);n.last_mid=e.mid,n.mid=n.tid;var r=ns.Model.get("messages",{thread_id:n.tid});return r.isValid()||r.setData({details:{"has-more":!1},message:[e]}),n},loadMore:function(e){var t;e&&!this.isValid()?(t=0,this.clear()):t=this.getCount();var n=ns.Model.get("settings").getSetting("messages_per_page"),r=$.extend({},this.params,{first:t,count:n});return ns.request("messages",r).then((function(e){var t=e[0];this.data&&this.isValid()||(this.data={},this.status=this.STATUS.OK);var n,r=t.get(".details")||{},i=this.get(".details")||{};("topResultsMids"in r||"topResultsMids"in i)&&(n=_.union(i.topResultsMids,r.topResultsMids));var o=$.extend(i,r);n&&(o.topResultsMids=n),this.set(".details",o,{silent:!0});var a=t.models;return this.insert(a),ns.Model.destroy(t),a}),this)},refresh:function(){var e=_.assign({},this.params,{first:0,count:this._getCountForRequest(this.getCount())}),t=ns.Model.get(this.id,e),n=this;return t.once("ns-model-changed",(function(){n.setData(this.getData())})),ns.request.models([t],{forced:!0}).then((function(){ns.Model.destroy(t)}))},_getCountForRequest:function(e){var t=ns.Model.get("settings").getSetting("messages_per_page"),n=e||t;return n=Math.ceil(n/t)*t,n=Math.min(n,200)},canLoadMore:function(){return Boolean(this.get(".details.has-more"))},getCount:function(){return this.models.length},getUnreads:function(){return this.models.filter((function(e){return e.isNew()}))},getUnreadCount:function(){return this.getUnreads().length},getPinned:function(){return this.models.filter((function(e){return e.isPinned()}))},getTotal:function(){for(var e=0,t=0,n=this.models.length;t<n;t++)e+=this.models[t].get(".count");return e},preloadAllMessages:function(){var e=this.params,t=ns.Model.get("folders"),n=e.current_folder;if(!n||!t.spamOrTrash(n)){var r=this.models.map((function(e){var t=e.get(".mid");return e.isThread()?{tid:t}:{mid:t}}));Daria.messages.preload(r)}},preloadMessages:function(){var t,n=this.params,r=ns.Model.get("folders"),i=n.current_folder;if(i===r.getFidBySymbol(c.WellKnownFolderSymbol.INBOX))t="inbox";else{if(i in r.ids())return!1;t="user_folder"}n.thread_id&&(t="thread");var o=this.getUnreads(),a=o.length;if(0===a)return!1;var s=this.getCount(),u=Math.round(a/s*100),l=[];switch(t){case"user_folder":(s<=10||u<=80)&&(l=e(o,20,10));break;case"thread":default:s<=10||u<=30?l=e(o,50):u<=80&&(l=e(o,50,10))}return Daria.messages.preload(l),!0},getNextPage:function(){return jpath(this.data,".details.pager.next")[0]||null},getPrevPage:function(){return jpath(this.data,".details.pager.prev")[0]||null},deleteMessage:function(e){var t=ns.Model.get("message",{ids:e});return this.remove(t)},getCountThreadMessageInFolder:function(){if(!this.canLoadMore())return this.select('.message[.fid == "'+ns.page.current.params.current_folder+'"]').length;return!1},getEmails:function(){var e={};return this.models.forEach((function(t){var n=t.getData(),r={};r.social=t.hasSocialLabels(),r.type=n.type,n.field.forEach((function(e){r[e.type]={ref:e.ref,email:e.email}})),e[n.mid]=r})),e},isFakeMessages:function(){return this.canRequest()&&!this._hasParamsForRequest()},insertMessage:function(e,t){if(!this.isValid())return!1;ns.events.trigger("daria:vContextMenu:close"),t&&this.remove(t);var n=0;return"yes"!==this.params.with_pins||e.isPinned()||(n=this.getPinned().length),this.insert(e,n),!0},insertMessageBySort:function(e){if(!this.isValid())return!1;if(this.isEmptyList())this.insert(e);else{var t=n[this.params.sort_type];ns.assert(t,"mMessages","invalid sort type");var r,i,o=this.models.length,a=this.getPinned(),s=a.length;e.isPinned()?(i=this.models.slice(0,s),-1===(r=_.findIndex(i,t,e))&&(r=s)):(i=this.models.slice(s),r=_.findIndex(i,t,e),-1===r?r=o:r+=s),(r>=0&&r<o||!this.canLoadMore())&&this.insert(e,r)}},updateThreadMeta:function(e){var t=_.findIndex(this.models,(function(e){return e.isExternalLike()}));-1===t&&(t=0);var n=this.models[t];n&&e.updateThreadContextInfo(n)},isEmptyList:function(){return this.isValid()&&0===this.getCount()},isSearch:function(){return Object.keys(this.params).some((function(e){return _.include(this.SEARCH_PARAMS,e)}),this)},isLabeledCollection:function(){return Boolean(this.params.current_label)},isSearchNotFilter:function(){return Boolean(this.params.search)&&(Boolean(this.params.request)||Boolean(this.params.fid)||Boolean(this.params.lid))&&"rpopinfo"!==this.params.scope},isSearchTopResult:function(e){return(this.get(".details.topResultsMids")||[]).indexOf(e)>-1},isUnreadMessagesCollection:function(){return"only_new"===this.params.extra_cond||"yes"===this.params.unread||"unread"===this.params.unread},isWithAttachmentMessagesCollection:function(){return"only_atta"===this.params.extra_cond},isImportantMessagesCollection:function(){var e=ns.Model.get("labels");return this.params.current_label===e.getImportantLID()},_doOper:function(e,t){var n=new Daria.MOPS.Opinfo,r=this.models.length;if(!r)return n.resetAdjust(),n;n.setModelsCount(r);for(var i=0;i<r;i++){var o=this.models[i][e](t);n.merge(o)}return n},mark:function(){return this._doOper("mark")},unmark:function(){return this._doOper("unmark")},label:function(e){return this._doOper("label",e)},unlabel:function(e){return this._doOper("unlabel",e)},hasOnlyPinnedMessages:function(){return!this.hasUnpinned()&&!this.canLoadMore()},hasMessageWithLabel:function(e,t){var n=this.models.length;if(!n||n!==t)return null;for(var r=0;r<n;r++)if(this.models[r].hasLabel(e))return!0;return!1},getPrevMessageByMid:function(e){return this.getNearestMessageByMid(e,"prev")},getNextMessageByMid:function(e){return this.getNearestMessageByMid(e,"next")},getNearestMessageByMid:function(e,t){if(!e)return!1;var n=ns.Model.get("message",{ids:e}),r=this.models,i=r.indexOf(n),o=-1;switch(t){case"prev":o=i-1;break;case"next":o=i+1}return r[o]||!1},getMessageByMid:function(e){return _.find(this.models,"params.ids",e)||null},recalculateIndexesAfterPin:function(e,t){var n=this.params.current_folder,r=this.params.tabId;this.remove(e),e.forEach((function(e){var i=Daria.areFoldersTabsEnabled()&&e.isInTab()&&r===e.getTabId(),o=n===e.getFolderId(),a=o||i;(t||!t&&a)&&this.insertMessageBySort(e)}),this)},getLastReplyMessage:function(){for(var e,t=0,n=this.models.length;t<n&&(e=this.models[t],!e.canReply());t++);return e},getLastReplyMessageQR:function(){return _.find(this.models,(function(e){return e.canReplyQR()}))},hasUnpinned:function(){return this.models.some((function(e){return!e.isPinned()}))},hasMessagesFromFolder:function(e){return-1!==_.findIndex(this.models,(function(t){return t.getFolderId()===e}))},hasMessagesFromTab:function(e,t){return-1!==_.findIndex(this.models,(function(n){return n.getFolderId()===e&&n.getTabId()===t}))},setError:function(){this.scenarioManager.hasActiveScenario(a.d)&&this.scenarioManager.getActiveScenario(a.d).logError(s.d),this.scenarioManager.hasActiveScenario(a.e)&&this.scenarioManager.getActiveScenario(a.e).logError(u.b),ns.Model.prototype.setError.apply(this,arguments)}}},"model-collection-with-scenario-manager-mixin");var n={from:function(e){return e.getFromName().toLowerCase()>this.getFromName().toLowerCase()},from1:function(e){return e.getFromName().toLowerCase()<this.getFromName().toLowerCase()},date:function(e){return e.get(".date.timestamp")<this.get(".date.timestamp")},date1:function(e){return e.get(".date.timestamp")>this.get(".date.timestamp")},size:function(e){return e.get(".length")<this.get(".length")},size1:function(e){return e.get(".length")>this.get(".length")},subject:function(e){return e.getSubject().toLowerCase()>this.getSubject().toLowerCase()},subject1:function(e){return e.getSubject().toLowerCase()<this.getSubject().toLowerCase()}}})()},function(e,t){ns.Model.define("message-head-state",{params:{ids:null,hid:null},events:{"ns-model-init":function(){var e=ns.Model.get("settings"),t=Boolean(e.hasSetting(this.SETTING_MSG_HEAD_SENDER_CLOSE)&&e.isSet(this.SETTING_MSG_HEAD_SENDER_CLOSE)),n=Boolean(e.hasSetting(this.SETTING_MSG_HEAD_RECIEVERS_OPEN)&&e.isSet(this.SETTING_MSG_HEAD_RECIEVERS_OPEN));this.setData({"sender-closed":t,"recievers-opened":n})}},methods:{SETTING_MSG_HEAD_SENDER_CLOSE:"m_head_folded_sender",SETTING_MSG_HEAD_RECIEVERS_OPEN:"m_head_full_edition",toggleSenderOpened:function(){var e=this.get(".sender-closed");return this._lockToggleMessageHead||(this._lockToggleMessageHead=!0,ns.Model.get("settings")[e?"setSettingOff":"setSettingOn"](this.SETTING_MSG_HEAD_SENDER_CLOSE,this._onSettingsChangeSuccess.bind(this))),this.set(".sender-closed",!e),!e},setRecieversOpened:function(e){this.set(".recievers-opened",e)},getRecieversOpened:function(){return this.get(".recievers-opened")},toggleRecieversOpened:function(){var e=this.get(".recievers-opened");return this._lockToggleMessageHead||(this._lockToggleMessageHead=!0,ns.Model.get("settings")[e?"setSettingOff":"setSettingOn"](this.SETTING_MSG_HEAD_RECIEVERS_OPEN,this._onSettingsChangeSuccess.bind(this))),this.set(".recievers-opened",!e),!e},_onSettingsChangeSuccess:function(){this._lockToggleMessageHead=!1}}},ns.ModelStatic)},function(e,t){ns.Model.define("module-common",{methods:{MODULES:[],request:function(){var e=this;return new Promise(function(t){Jane.Services.runModules(e.MODULES).then((function(){return e.afterRunModules()})).then((function(){return e.finishRequest()})).then(t)})},afterRunModules:function(){},finishRequest:function(){this.setData(!0),ns.Model.get("app-state").set(".".concat(this.id,"-loaded"),!0)}}})},function(e,t){ns.Model.define("module-compose",{methods:{MODULES:["compose.css","compose2.js","compose2.yate"]}},"module-common")},function(e,t){ns.Model.define("module-direct",{methods:{MODULES:["direct.js","direct.css"],afterRunModules:function(){return Daria.yabsManager.run()}}},"module-common")},function(e,t){ns.Model.define("module-editor",{methods:{MODULES:["ckeditor.js","editor.css"]}},"module-common")},function(e,t){ns.Model.define("module-message",{methods:{MODULES:["message.css","message.js","message.yate"]}},"module-common")},function(e,t){ns.Model.define("module-messages",{methods:{MODULES:["messages.css","messages.js","messages.yate"]}},"module-common")},function(e,t){ns.Model.define("module-promo",{methods:{MODULES:["promo.css","promo.js"]}},"module-common")},function(e,t){ns.Model.define("module-setup",{methods:{MODULES:["messages.css","setup.css","setup.js","setup.yate"]}},"module-common")},function(e,t){ns.Model.define("module-timeline",{methods:{MODULES:["timeline.js","timeline.yate"]}},"module-common")},function(e,t){ns.Model.define("module-todo",{methods:{MODULES:["todo.js","todo.yate","todo.css"]}},"module-common")},function(e,t){ns.Model.define("scroller-common",{methods:{EVENT_NAME:"MUST_BE_DEFINED",HEIGHT_KEY:".height",OFFSET_HEIGHT_KEY:".offset-height",SCROLL_HEIGHT_KEY:".scroll-height",SCROLL_BOTTOM_KEY:".scroll-bottom",SCROLL_TOP_KEY:".scroll-top",_rafTimer:0,_$area:null,init:function(){this.getScroller(),this._onResizeBinded||(this._onResizeBinded=!0,ns.Model.get("dimensions").on("resize",this._onScroll.bind(this)))},_initScroller:function(){var e="scroll."+this.id;this._$area&&(this._$area.off(e),this._$area=null),this._$area=this._getScroller(),this._$area[0]===window?this._$animatedArea=$("body, html"):this._$animatedArea=this._$area,this._$area.on(e,this._onScroll.bind(this))},_getScroller:ns.todo,_onScroll:function(){this._rafTimer||(this.clean(),ns.events.trigger(this.EVENT_NAME))},clean:function(){this.setData({},{silent:!0}),this._rafTimer=0},getScrollOffset:function(){return 0},getNodeTop:function(e){var t=this.getScroller()[0];if(t===window)return e.getBoundingClientRect().top+this.getScrollTop();var n=0,r=e;do{if(n+=r.offsetTop,(r=r.offsetParent)&&r===t)break}while(r);return n},getScroller:function(){var e=this._$area&&this._$area[0];return e&&($.isWindow(e)||document.body.contains(e))||this._initScroller(),this._$area},getHeight:function(){var e=this.get(this.HEIGHT_KEY);return"number"!=typeof e&&(e=this.getScroller().height(),this._setDimension(this.HEIGHT_KEY,e)),e},getScrollHeight:function(e){var t=this.get(this.SCROLL_HEIGHT_KEY);return("number"!=typeof t||e)&&(t=this.getScroller().prop("scrollHeight"),this._setDimension(this.SCROLL_HEIGHT_KEY,t)),t},getOffsetHeight:function(e){var t=this.get(this.OFFSET_HEIGHT_KEY);return("number"!=typeof t||e)&&(t=this.getScroller().prop("offsetHeight"),this._setDimension(this.OFFSET_HEIGHT_KEY,t)),t},getScrollBottom:function(){var e=this.get(this.SCROLL_BOTTOM_KEY);return"number"!=typeof e&&(e=this.getScrollHeight()-this.getHeight()-this.getScrollTop(),this._setDimension(this.SCROLL_BOTTOM_KEY,e)),e},getScrollTop:function(){var e=this.get(this.SCROLL_TOP_KEY);return"number"!=typeof e&&(e=this.getScroller().scrollTop(),this._setDimension(this.SCROLL_TOP_KEY,e)),e},getVDimensions:function(){var e=this.getScrollTop()+this.getScrollOffset();return{bottom:e+this.getHeight(),top:e}},setScrollTop:function(e,t){if(this._$animatedArea.stop(),t){var n=this;this._rafTimer="ANIMATED",this._$animatedArea.animate({scrollTop:e},{duration:"fast",always:function(){n._rafTimer=null,n._onScroll()}})}else this._$animatedArea.scrollTop(e)},scrollIntoView:function(e,t){t=t||{};var n,r="boolean"==typeof t.alignToTop,i=Number(t.viewTopOffset)||0,o=Number(t.viewBottomOffset)||0,a=$(e),s=t.relative?e.offsetTop:a.offset().top,u=s+a.outerHeight(),c=this.getScrollTop()+Math.abs(i),l=c+this.getHeight()+o;return u>l&&(!1===t.alignToTop||!r)?n=c+(u-l):s<c&&(!0===t.alignToTop||!r)&&(n=s+i),void 0!==n&&(n=Math.max(Math.floor(n),0),this.setScrollTop(n,Boolean(t.animate)),!0)},isRelativeOffset:function(){return!1},_setDimension:function(e,t){this.set(e,t,{silent:!0})}}},ns.ModelStatic)},function(e,t){ns.Model.define("scroller-message",{events:{"ns-model-init":"clean"},methods:{THREAD_HEAD_HEIGHT:47,EVENT_NAME:"daria:vScrollerMessage:scroll",getScrollOffset:function(){return this.THREAD_HEAD_HEIGHT},isRelativeOffset:function(){return Daria.is3pane()},_getScroller:function(){return Daria.is2pane()?$(window):$(".js-message-scroll-area")}}},"scroller-common")},function(e,t){ns.Model.define("scroller-messages",{events:{"ns-model-init":"clean"},methods:{EVENT_NAME:"daria:vScrollerMessages:scroll",FIXED_HEAD_HEIGHT:60,FIXED_TOOLBAR_HEIGHT:47,_getScroller:function(){return Daria.is2pane()?$(window):$(".js-messages-scroll-area")},getScrollOffset:function(){var e=this.FIXED_HEAD_HEIGHT;return Daria.is2pane()&&(e+=this.FIXED_TOOLBAR_HEIGHT),e}}},"scroller-common")},function(e,t){ns.Model.define("scroller-compose",{events:{"ns-model-init":"clean"},methods:{EVENT_NAME:"daria:vScrollerCompose:scroll",getScrollOffset:function(){return 0},isRelativeOffset:function(){return!1},_getScroller:function(){return Daria.is2pane()?$(window):$(".js-compose-scroller")}}},"scroller-common")},function(e,t){ns.Model.define("scroller-abook-contacts",{events:{"ns-model-init":"clean"},methods:{EVENT_NAME:"daria:vScrollerAbookContacts:scroll",FIXED_HEAD_HEIGHT:60,FIXED_TOOLBAR_HEIGHT:47,_getScroller:function(){return Daria.is2pane()?$(window):$(".js-entries-container")},getScrollOffset:function(){var e=this.FIXED_HEAD_HEIGHT;return Daria.is2pane()&&(e+=this.FIXED_TOOLBAR_HEIGHT),e}}},"scroller-common")},function(e,t){ns.Model.define("secret-key")},function(e,t){ns.Model.define("disk-editor-secret-key")},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(384),i=n(610);ns.Model.define("email-info-v2",{events:{"ns-model-init":"_onInit"},params:{email:null,ref:null},methods:{_onInit:function(){this.params.email||this.setData({})},setError:function(){this.scenarioManager.hasActiveScenario(r.d)&&this.scenarioManager.getActiveScenario(r.d).logError(i.a),ns.Model.prototype.setError.apply(this,arguments)}}},"model-with-scenario-manager-mixin")},function(e,t){ns.Model.define("informer-tanks-news",{events:{"ns-model-init":"onInit"},methods:{onInit:function(){setInterval((function(){ns.Model.invalidate("informer-tanks-news")}),18e5)},preprocessData:function(e){if(!_.isEmpty(e))return e.forEach((function(e){e.date&&(e.date.view=Daria.MessageTime.getFormattedTime(e.date.timestamp)),e.firstline&&(e.firstline=$(e.firstline)[0].innerText.trim())})),e}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(139);n.n(r);ns.Model.define("settings-sign",{methods:{SETTINGS_SIGN:{allow_pers_data_autocomplete:"_defaultTrue",browser_notify_blank:"_invert",compose_samples:"_defaultTrue",disable_etickets:"_invert",disable_promo:"_invert",disable_inboxattachs:"_invert",disable_events:"_invert",disable_yabbles:"_invert",enable_imap_auth_plain:"_defaultTrue",notify_message:"_signNotifyMessage",mute_ad_until:"_zeroByDefault",timeline_enable:"_signTimelineEnable",right_column_expanded:"_defaultTrue",show_priority_label:"_defaultTrue",show_priority_stuff:"_signShowPriorityStuff",show_priority_tab:"_defaultTrue",subscribed_folders:"_allFoldersByDefault",subscribed_tabs:"_tabsByDefault",show_widgets_decor:"_defaultTrue",show_widgets_buttons:"_defaultTrue",show_sidebar_with_widgets:"_defaultTrue",liza_minified_header:"_invert"},getSign:function(e,t){var n=this.getSetting(e,t),r=this.SETTINGS_SIGN[e];return r&&(n=_.method(r,n,e)(this)),n},signToSetting:function(e,t){var n=this.SETTINGS_SIGN[e];return"_invert"===n&&(t=_.method(n,t,e)(this)),t},_invert:function(e){return!e},_defaultTrue:function(e,t){return e=!this.hasSetting(t)||this.getSetting(t),Boolean(e)},_zeroByDefault:function(e,t){return this.hasSetting(t)?Number(this.getSetting(t)):0},_signNotifyMessage:function(e,t){return this.hasSetting(t)||(e=!Daria.IS_CORP),Boolean(e)},_signTimelineEnable:function(){return ns.Model.get("settings").checkTimelineEnable()},_allFoldersByDefault:function(){var e=ns.Model.get("folders"),t=ns.Model.get("settings").getSetting("subscribed_folders");if("string"!=typeof t){var n=e.getInboxFolders().sort();if(Daria.areFoldersTabsEnabled()){var i=ns.Model.get("folders").getFidBySymbol(r.WellKnownFolderSymbol.INBOX);return n.filter((function(e){return e!==i}))}return n}var o=[];return"["===t[0]?o=JSON.parse(t.replace(/&quot;/g,'"')):t&&(o=t.split(",")),o.filter(e.isPresentAndNotShared.bind(e))},_tabsByDefault:function(){var e=ns.Model.get("settings"),t=e.getSetting("subscribed_tabs");if("string"!=typeof t)return Daria.areFoldersTabsEnabled()?["relevant"]:[];var n=[];return"["===t[0]?n=JSON.parse(t.replace(/&quot;/g,'"')):t&&(n=t.split(",")),n},_signShowPriorityStuff:function(e,t){if(this.hasSetting(t))return Boolean(this.getSetting(t));var n=this.getSign("show_priority_label"),r=this.getSign("show_priority_tab");return Boolean(n&&r)}}})},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(1884);!(function(){var e=function(e,t){_.isString(e)&&(e=e.split("."));var n=_.size(e)-1;return e.reduce((function(e,r,i){var o=i===n?t:{},a=_.last(e)[r]=o;return e.push(a),e}),[{}])[0]},t=[{name:"enable_hotkeys",trueValue:!0}],n={};n.POPULAR_CONTACTS_SETTING_NAME="compose_samples",n.getSetting=function(e,n){if(Daria.Config.NO_SETTINGS){var r=_.find(t,"name",e);if(r)return r.trueValue}var i=this.get("."+e);if("json"===n)try{return JSON.parse(decodeURIComponent(i))}catch(e){return{}}return i},n.hasSetting=function(e){return(this.getData()||{}).hasOwnProperty(e)},n.isSet=function(e){return!(!Daria.Config.NO_SETTINGS||!_.find(t,"name",e))||Boolean(this.get("."+e))},n.setSettingOn=function(e,t){if(t=t||Jane.Common.nop,this.isSet(e))t(!0);else{var n={};n[e]=!0,this.setSettings(n,(function(e,n){t(e,n)}))}},n.setSettingOff=function(e,t){if(t=t||Jane.Common.nop,this.isSet(e)){var n={};n[e]=!1,this.setSettings(n,(function(e,n){t(e,n)}))}else t(!0)},n.toggleSetting=function(e,t){this.isSet(e)?this.setSettingOff(e,t):this.setSettingOn(e,t)},n.setSettings=function(e,t,n){if("function"==typeof t&&(n=t,t=null),t=t||{},Daria.Config.NO_SETTINGS||$.isEmptyObject(e))return vow.reject("settings not available");n=n||Jane.Common.nop;var o=this._makeSaveRequest(e);if(null===o)return n(!0,[]),vow.resolve();if(o.error)return n(!1,o.error),vow.reject();for(var a in e)this.setIfChanged("."+a,e[a],t);var s=ns.forcedRequest([{id:"do-settings",params:o},{id:"settings",params:{actual:!0,list:o.list}}]).then((function(e){var o=ns.Model.get("settings"),a=e[1].getData(),s=!1;a&&"object"===r(a)&&Object.keys(a).forEach((function(e){o.setIfChanged("."+e,a[e],t),s=s||Object(i.a)(e)})),s&&Object(i.b)(o.getData()),ns.Model.destroy(e[1]),n(!0,[])}),(function(){n(!1,[])}));return vow.resolve().then((function(){return s}))},n.getMultiSetting=function(e){return this.getSetting(e,"json")||{}},n.saveMultiSetting=function(e,t){if("object"!==r(t)||null===t)throw new TypeError("Parameter value must be not empty object");var n=$.Deferred(),i={};i[e]=t;var o=this;return this.setSettings(i,(function(){n.resolve(o.getData())})),n.promise()},n.updateSetting=function(t,n,r){if(arguments.length<2)throw new Error(Daria.supplant("updateSettings takes exactly 2 arguments - {argc} given",{argc:arguments.length}));if(!t)throw new Error("Argument `name` must be specified");var i=t.split(".");t=i[0],i.length>1&&(n=e(i.slice(1),n));var o,a=this.getSetting(t,"json");return o=$.isPlainObject(n)?_.merge({},a,n):n,this.setSettings(_.zipObject([t],[o]),r)},n.setOpenedFolders=function(e){var t=e.join(",");this.setSettings({folders_open:t})},n.setLastActive=function(e){this.setSettings({last_active:Daria.now()},e)},n.recordAttemptToRegisterMAILTOProtocolHandler=function(e,t){if(t=Boolean(t),!e)return!1;var n=this.getSetting("rph")||"mozilla=0&opera=0&webkit=0",r=e+"="+Number(t);return!_(n).contains(r)&&(n=n.replace(e+"="+Number(!t),r),this.setSettings({rph:n}),!0)},n.isThreaded=function(){return this.isSet("folder_thread_view")},n.threadedOn=function(){this.isThreaded()||this.setSettingOn("folder_thread_view")},n.threadedOff=function(){this.isThreaded()&&this.setSettingOff("folder_thread_view")},n.threadedToggle=function(){this.isThreaded()?this.threadedOff():this.threadedOn()},n.getValidatedEmails=function(){return this.get(".reply_to")||[]},n._checkSName=function(e){if(!e)throw new Error("Parameter namespace is compulsory");if(e=String(e),e.length>30)throw new RangeError('Namespace "'+e+'" can not be over than 30 chars');return{name:e}},n._checkSValue=function(e,t){var n=$.type(t);switch(n){case"boolean":case"object":case"array":case"string":case"null":case"undefined":case"number":break;default:throw new TypeError('Invalid type setting "'+e+'" value: '+n)}return{value:t,error:!1}},n._makeSaveRequest=function(e){var t={},n=[],r=[];for(var i in e)if("signs"!==i){var o=this._checkSName(i),a=this._checkSValue(i,e[i]);!1===a.error?(t[o.name]=a.value,n.push(o.name)):r.push(a.error)}else Daria.debug.error('Please, use model "signs"');return r.length?{error:r}:{actual:!0,list:n.join(","),params:JSON.stringify(t)}},n.checkTimelineEnable=function(){return Daria.checkTimelineAvailable()?!this.hasSetting("timeline_enable")||this.isSet("timeline_enable"):this.isSet("timeline_enable")},ns.Model.define("settings",{params:{list:null,actual:null},events:{"ns-model-changed.color_scheme":"_onColorSchemeChange"},methods:no.extend(n,{preprocessData:function(e){return["from_name"].forEach((function(t){e.hasOwnProperty(t)&&(e[t]=_.unescape(e[t]))})),Modernizr.ios&&(e.enable_richedit=!1),ns.events.trigger("settings-updated"),(!e.messages_per_page&&!this.params.list||Daria.is3pane())&&(e.messages_per_page=30),e},getPromoThemeSettingName:function(e){var t="_shown";return e&&(t="_set"),"promo_theme"+t},withBiggerText:function(){return this.isSet("with_bigger_text")},isNativeEmail:function(){var e=this.getSetting("emails"),t=Daria.email.normalize(this.getSetting("default_email")).toLowerCase();return(e.filter((function(e){return e.native?Daria.email.normalize(e.address).toLowerCase()===t:e.address&&e.address.toLowerCase()===t}))[0]||{}).native},getCurrentTheme:function(){return this.getSetting("color_scheme")},_onColorSchemeChange:function(){ns.events.trigger("daria:themes:mail-theme-change",this.getCurrentTheme())}})},"settings-sign")})()},function(e,t,n){"use strict";var r="".concat("stngs",".").concat("1"),i=[{name:"color_scheme",defaultValue:"colorful"},{name:"layout",defaultValue:0},{name:"messages_avatars",defaultValue:!0},{name:"enable_autosave",defaultValue:!0}];e.exports={COOKIE_NAME:"stngs",COOKIE_VERSION:"1",COOKIE_SIGN:r,SETTINGS_FALLBACK:i,SETTINGS_FALLBACK_KEY:"FALLBACK"}},function(e,t){function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){return!t||"object"!==n(t)&&"function"!=typeof t?o(e):t}function o(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}function s(e){var t="function"==typeof Map?new Map:void 0;return(s=function(e){function n(){return c(e,arguments,f(this).constructor)}if(null===e||!l(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,n)}return n.prototype=Object.create(e.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),d(n,e)})(e)}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e,t,n){return c=u()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=Function.bind.apply(e,r),o=new i;return n&&d(o,n.prototype),o},c.apply(null,arguments)}function l(e){return-1!==Function.toString.call(e).indexOf("[native code]")}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function f(e){return(f=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=Math.pow(10,4),g={MAX_LENGTH:"signs.maxlen",MAX_COUNT:"signs.maxcount"},h=(function(e){function t(e){var n;return r(this,t),n=i(this,f(t).call(this)),n.code=e,n}return a(t,e),t})(s(Error));h.codes=g,ns.Model.define("signs",{methods:{SignsError:h,preprocessData:function(e){var t=e.signs;if(!t.length)return e;var n=new Set(ns.Model.get("account-information").getAllUserEmails()),r=!0,i=!1,o=void 0;try{for(var a,s=t[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u=a.value;u.emails=u.emails.filter((function(e){return n.has(e)}))}}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return e},getList:function(){return this.get(".signs")||[]},save:function(e){return this._validate(e),e=this._normalize(e),ns.forcedRequest([{id:"do-signs",params:{signs:JSON.stringify(e)}},{id:"signs",params:{actual:!0}}])},_normalize:function(e){return e.map((function(e){var t=e.text,n=e.isDefault,r=e.emails,i=e.userLang,o={text:t,isDefault:Boolean(n),emails:r||[]};return i&&(o.lang=i),o}))},_validate:function(e){if(this.get(".FALLBACK"))throw new Error('Can\'t save "signs" model when it is in fallback mode');if(e.find((function(e){return e.text.length>p})))throw new h(g.MAX_LENGTH);if(ns.Model.get("signs").getList().length<=e.length&&e.length>20)throw new h(g.MAX_COUNT)}}})},function(e,t){ns.Model.define("do-translate",{params:{text:null,lang:null,format:null},methods:{_canRequest:function(){return!this.retries||this.retries<this.RETRY_LIMIT}}})},function(e,t){ns.Model.define("translate-langs",{methods:{getName:function(e){return _.get(this.data,"langs."+e,"")},getLangs:function(){return _(this.get(".langs")).chain().map(this._getLangsMapIterate).sortBy("name").value()},getRecent:function(){return _(ns.Model.get("settings").getSetting("translateRecent")||"").chain().split(",").uniq().map(this._getRecentMapIterate.bind(this)).compact().slice(0,5).value()},hasRecent:function(){return!_.isEmpty(this.getRecent())},setRecent:function(e){var t=_(this.getRecent()).chain().map(this._setRecentMapIterate).unshift(e).uniq().slice(0,5).join(",").value();ns.Model.get("settings").setSettings({translateRecent:t})},_getLangsMapIterate:function(e,t){return{name:e,lang:t}},_setRecentMapIterate:function(e){return e.lang},_getRecentMapIterate:function(e){var t=e&&this.getName(e);if(t)return{name:t,lang:e}}}})},function(e,t){ns.Model.define("themes-selector",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({opened:!1})},isOpened:function(){return this.get(".opened")},open:function(){this.set(".opened",!0)},close:function(){this.set(".opened",!1)}}},ns.ModelStatic)},function(e,t){!(function(){"use strict";var e={};e.getActivePhone=function(){var e=this.getData()||{};return jpath(e,'.phone[.active == "1"]')[0]},e.getUnconfirmedPhone=function(){},e.getActiveMaskedNumber=function(){var e=this.getActivePhone();return e&&e.masked_number},e.getUnconfirmedNumber=function(){},e.getUnconfirmedIdByNumber=function(){},e.hasActiveNumber=function(){var e=this.getData();return Boolean(jpath(e,'.phone[.active == "1"]').length)},e.normalize=function(e){return e=(e||"").replace(/^8/,"+7")},e.getPhone=function(e){if(!e)throw new ReferenceError("Required parameter phoneNumber is missing");return ns.forcedRequest("userphones").then((function(t){var n=t[0],r=$.makeArray(n.get(".phone")).filter((function(t){return t.number===e}));return r.length?r[0]:null}))},e.getAll=function(e){return ns.request.models([this],{forced:!e})},ns.Model.define("userphones",{methods:e})})()},function(e,t){ns.Model.define("weather",{params:{geoid:null,date:null}})},function(e,t){ns.Model.define("help-link",{events:{"ns-model-init":"_onInit"},methods:{_hrefSuffixMap:{folder:"web/mailbox/folders.html#my-folders",archive:"web/mailbox/folders.html",draft:"web/letter/create.html#drafts",template:"web/letter/create.html#templates",abook:"web/abook.html",unread:"web/mailbox/tags.html",attachments:"web/letter/attachments.html",important:"web/mailbox/tags.html",label:"web/mailbox/tags.html","setup/abook":"web/abook.html","setup/client":"mail-clients.html","setup/journal":"web/security.html#journal","setup/todo":"web/features/to-do.html"},_onInit:function(){this.setData({href:this._getHref(ns.page.current)}),ns.events.on("ns-page-before-load",this._onPageBeforeLoad.bind(this))},_onPageBeforeLoad:function(e,t){_.isEqual(t[0],t[1])||this.updateHref(t[1])},updateHref:function(e){this.set(".href",this._getHref(e))},_getHref:function(e){var t=this._getHrefSuffix(e.page,e.params);return Daria.Config["help-url"]+(t?"/"+t:"")},_getHrefSuffix:function(e,t){if("messages"===e){if(t.important)return this._hrefSuffixMap.important;if("only_new"===t.extra_cond)return this._hrefSuffixMap.unread;if("only_atta"===t.extra_cond)return this._hrefSuffixMap.attachments}if(t.current_folder){var n=ns.Model.get("folders"),r=n.getFolderById(t.current_folder);if(r.symbol)return this._hrefSuffixMap[r.symbol]||"";if(r.user)return this._hrefSuffixMap.folder}return t.current_label?this._hrefSuffixMap.label:"setup"===e||"setup-sender"===e?t.tab?this._hrefSuffixMap["setup/"+t.tab]||"":"":this._hrefSuffixMap[e]?this._hrefSuffixMap[e]||"":""}}},ns.ModelStatic)},function(e,t){ns.Model.define("skin-saver-state",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({previewMode:!1})},isPreviewMode:function(){return this.get(".previewMode")},togglePreviewMode:function(e){return this.set(".previewMode",e)}}},ns.ModelStatic)},function(e,t){ns.Model.define("date-time",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){var e=this;this.setData({local:{date:this.getLocalDate(),time:this.getLocalTime()},server:{date:this.getServerDate(),time:this.getServerTime()}});var t=new Date,n=new Date(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes()+1),r=n-t;setTimeout((function(){return e.updateData()}),r)},getLocalTime:function(){return this._getTime(new Date)},getLocalDate:function(){return this._getDate(new Date)},getServerTime:function(){return this._getTime(new Date(Daria.passportNow()))},getServerDate:function(){return this._getDate(new Date(Daria.passportNow()))},_getTime:function(e){return Number(new Date(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes()))},_getDate:function(e){return Number(new Date(e.getFullYear(),e.getMonth(),e.getDate()))},updateData:function(){var e=this;this.setIfChanged(".local.date",this.getLocalDate()),this.setIfChanged(".local.time",this.getLocalTime()),this.setIfChanged(".server.date",this.getServerDate()),this.setIfChanged(".server.time",this.getServerTime()),setTimeout((function(){return e.updateData()}),6e4)}}},ns.ModelStatic)},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var o=n(572);n.n(o);ns.Model.define("search-suggest",{params:(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({status:null,limit:null,types:null,twoSteps:null,request:null},o.SearchSuggestParams.reduce((function(e,t){return e[t]=null,e}),{}),{reqid:null,history:null,highlight:null}),requiredFeatures:["web_search_extra_params"],methods:{request:function(){return ns.request.fetchModels([this]).then(function(e){ns.request.extractModel(this,e.models[0])}.bind(this))}}})},function(e,t){ns.Model.define("filter-search",{params:{mids:null},methods:{preprocessData:function(e){if(Array.isArray(e.envelopes))for(var t=ns.Model.get("labels").get(".label"),n=e.envelopes.length;n--;){var r=e.envelopes[n];if(!r.processed){for(var i=0;i<r.labels.length;i++){var o=_.find(t,{lid:r.labels[i]});if(o&&o.social){r.dlid=o.name.replace(/^vtnrf0/,"");break}}r.processed=!0;var a=ns.Model.get("filter-search",{mids:r.mid});a.select(".envelopes.processed")[0]||a.setData({envelopes:[r]})}}return e},hasSocialLabels:function(){return Boolean(this.getSocialLID())},getSocialLID:function(){var e=_.flatten($.makeArray(this.select(".envelopes.labels"))),t=e.length;if(t)for(var n=ns.Model.get("labels"),r=0;r<t;r++)if(n.isSocial(e[r]))return e[r];return null}}})},function(e,t){!(function(){ns.Model.define("messages-pager",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){if("all"===this.params.current_folder){var e;if(Daria.IS_CORP)e={year:"2000",month:"1",day:"1"};else{var t=ns.Model.get("account-information").getDataKey("reg_date");t=new Date(t),e={year:String(t.getFullYear()),month:String(t.getMonth()+1),day:"1"}}this.setData(e)}},preprocessData:function(e){var t=Jane.Common.n,n=e.year,r=e.month,i=e.day,o=new Date,a=new Date(n,r-1,i);if(!n||o<=a)return{};for(var s=o.getFullYear(),u=a.getFullYear(),c=o.getMonth()+1,l=a.getMonth()+1,d=[],f=u,p=l,g={id:f,datePager:f,year:f,from:"01.01."+f,to:"01.01."+(f+1),month:[],isYear:!0},h=0,m=f>=Daria.Config.messagesMaxDate;f<s||f===s&&p<=c;)if(m&&g.month.push({datePager:t(p)+"."+f,month:p-1,year:f,from:"01."+t(p)+"."+f,to:"01."+t(p<12?p+1:1)+"."+(p<12?f:f+1),id:t(p)+String(f)}),p++,13===p&&(p=1,m?d.push(g):0===d.length&&d.push({id:f,datePager:f,year:f,old:1}),f++,(m=f>=Daria.Config.messagesMaxDate)&&(g={id:f,datePager:f,year:f,from:"01.01."+f,to:"01.01."+(f+1),month:[],isYear:!0})),++h>1e3)return Jane.ErrorLog.send({errorType:"messages-pager.infinity",dataYear:n,dataMonth:r,dataDay:i,nowDate:o.toString()}),{};return g.month.length&&d.push(g),{year:d}},getCountMonth:function(){return this.select(".year.month.datePager").length}},params:{current_folder:null,tabId:null}})})()},function(e,t){!(function(){ns.Model.define("message-read-mute-fsm",{params:{ids:null,type:null},methods:{start:"",transitions:{toRead:["toMute","toUnread"],toMute:["toUnmute","toUnread","toRead"],toUnmute:["toUnread","toRead"],toUnread:["toRead","toUnmute"]}}},ns.ModelFsm)})()},function(e,t){ns.Model.define("state-message-thread-item",{params:{ids:null},events:{"ns-model-init":"_onNsModelInit"},methods:{_onNsModelInit:function(){this.setData({isOpened:!1,isFocused:!1,isIgnoreMarkRead:!1,promiseWillBeLoaded:!1,isVisible:!1,shouldBeInViewport:!1,forceMark:!1})},_setChangedData:function(e,t,n){if(e="."+e,this.get(e)!==t){var r=n?{silent:!0}:{};return this.set(e,t,r),!0}return!1},isOpen:function(){return this.get(".isOpened")},setOpen:function(e,t){return this._setChangedData("isOpened",e,t)},setVisible:function(e,t){return this._setChangedData("isVisible",e,t)},setFocus:function(e,t){return this._setChangedData("isFocused",e,t)},setIgnore:function(e,t){return this._setChangedData("isIgnoreMarkRead",e,t)}}},ns.ModelStatic)},function(e,t){ns.Model.define("get-maillists",{params:{emails:null}})},function(e,t){ns.Model.define("get-maillists-static",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({emails:null},{silent:!0})},getMaillists:function(e){var t=this,n=this.get(".emails")||{},r=_.difference(e,Object.keys(n)),i=vow.fulfill();if(r.length>0){var o=ns.Model.get("get-maillists",{emails:r.join(",")});i=ns.request.models([o]).then((function(r){var i=r[0].get(".maillists");i.forEach((function(e){n[e]||(n[e]=!0)})),_.difference(e,i).forEach((function(e){n[e]||(n[e]=!1)})),t.set(".emails",n),vow.fulfill()}))}return i.then((function(){var t=[];return e.forEach((function(e){!0===n[e]&&t.push(e)})),vow.fulfill(t)}))}}},ns.ModelStatic)},function(e,t){ns.Model.define("reset-unvisited",{params:{fid:null,tabId:null},methods:{resetUnvisited:function(){var e=this.params,t=e.fid,n=e.tabId;return(n?ns.Model.get("tab",{id:n}):ns.Model.get("folder",{fid:t})).getRecent()?ns.forcedRequest([this]).then((function(e){return vow.fulfill(e[0].get(".is_reset"))})):vow.fulfill(!0)}}})},function(e,t){ns.Model.define("notifications",{isCollection:!0,events:{"ns-model-init":"_onInit"},methods:{_uniqueId:0,DELAY_BEFORE_DELETE:600,MAX_NOTIFICATION_COUNT:10,_onInit:function(){this.setData({queue:[]})},hasNotifications:function(){return 0!==this.models.length},hasNotificationsInQueue:function(){return 0!==this.get(".queue").length},addNotification:function(e){if(ns.Model.get("notifications-state").isExpanded()){var t=this.get(".queue");t=t.concat(e),this.set(".queue",t)}else{var n=this.models[0];if(n&&n.isVIP()&&!e.vip)return;this._addNotification(e),this._tryRemoveLastNotification()}},_addNotification:function(e){var t=ns.Model.get("notifications-item",{id:this._uniqueId++}).setData(e);this.insert(t,0)},_tryRemoveLastNotification:function(){if(this.models.length>this.MAX_NOTIFICATION_COUNT){var e=this;_.delay((function(){e.remove(e.models.length-1)}),this.DELAY_BEFORE_DELETE)}},insertFromQueue:function(){this.get(".queue").length&&(this._moveVIPtoEndOfQueue(),this._insertFromQueue())},_moveVIPtoEndOfQueue:function(){var e=this.get(".queue");e=e.sort((function(e,t){return e.vip&&!t.vip?1:0})),this.set(".queue",e)},_insertFromQueue:function(){var e=this.get(".queue"),t=this;e.forEach((function(e){t._addNotification(e),t._tryRemoveLastNotification()})),this.set(".queue",[])}}},ns.ModelCollectionStatic)},function(e,t){ns.Model.define("notifications-item",{params:{id:null},methods:{isVIP:function(){return Boolean(this.get(".vip"))},isCalendarEvent:function(){return Boolean("calendar"===this.get(".type"))}}},ns.ModelStatic)},function(e,t){ns.Model.define("notifications-state",{events:{"ns-model-init":"_onInit"},methods:{_onInit:function(){this.setData({expanded:!1})},expand:function(){this.set(".expanded",!0)},collapse:function(){this.set(".expanded",!1)},isExpanded:function(){return this.get(".expanded")}}},ns.ModelStatic)},function(e,t){ns.Model.define("disk-secret-key",{methods:{isValid:function(){return this.get(".expirationDate")>=Date.now()}}})},function(e,t){ns.Model.define("thread-info",{params:{thread_id:null},methods:{request:function(){var e=ns.Model.get("message",{ids:this.params.thread_id});return e.get(".FAKE_THREAD_DATA")&&Daria.is3pane()?ns.request.fetchModels([this]).then(function(t){e.get(".FAKE_THREAD_DATA")&&e.setData(t.models[0].data),this.setData({})}.bind(this)):(this.setData({}),Vow.resolve())}}})},function(e,t){ns.Model.define("threads-info",{params:{thread_ids:null}})},function(e,t){ns.Model.define("push-vapid",{})},function(e,t){ns.Model.define("push-subscriptions",{params:{clients:null}})},function(e,t){ns.Model.define("do-push-subscribe",{params:{folders:null,tabs:null,subscription:null}})},function(e,t){ns.Model.define("do-push-unsubscribe",{})},function(e,t,n){"use strict";ns.Model.define("versions",{events:{"ns-model-init":"onInit"},ctor:function(){this._timer=null},methods:{TIMEOUT:9e5,onInit:function(){this.setData({u2709:{version:Daria.Config.version}}),this.scheduleVersionUpdate()},request:function(){var e=this,t=Daria.api.versions;return ns.http(t,{model:this.id},{type:"GET"},!0).then((function(t){return e.setData(_.isPlainObject(t)?t:{})})).fail(_.noop)},scheduleVersionUpdate:function(e){var t=this;this._timer&&clearTimeout(this._timer),e||(this._timer=setTimeout((function(){t.request().then((function(){return t._checkNeedPageUpdate()})).fail((function(){return!1})).then((function(e){return t.scheduleVersionUpdate(e)}))}),this.TIMEOUT))},_checkNeedPageUpdate:function(){if(Daria.Config.dev)return!1;var e=this.get(".u2709.version");return!(!e||e===Daria.Config.version)&&(Jane.Services.setUpdateNeeded(),!0)}}})},function(e,t){ns.Model.define("system-status",{events:{"ns-model-init":"onInit","ns-model-changed":"updateLoop"},methods:{TIMEOUT:Daria.IS_CORP?6e4:6e5,onInit:function(){this._shouldLoad=!0,this._timer=null},updateLoop:function(){Daria.Config["db-status"]=this.getData()["db-status"],this._restartTimer()},request:function(){return this._shouldLoad?ns.request.fetchModels([this]).then((function(e){if(!1===ns.request.canProcessResponse(e))return void this._setDefaultData();ns.request.extractModel(this,e.models[0]),this._checkNeedPageUpdate()}),this).fail((function(){this._setDefaultData()}),this):Vow.resolve()},_restartTimer:function(){this._timer&&clearTimeout(this._timer),this._timer=setTimeout(this._timerRequest,this.TIMEOUT)},_timerRequest:function(){ns.forcedRequest("system-status")},_setDefaultData:function(){this.setData({"db-status":"rw",problem:""})},_checkNeedPageUpdate:function(){Daria.timestamp<(Number(this.get(".reload_timestamp"))||0)&&Jane.Services.setUpdateNeeded()}}})},function(e,t){ns.Model.define("recipients",{isStrictParams:!0,params:{recipientsIds:null},methods:{extractData:function(e){return e&&e.error?null:e&&e.data||{}}}})},function(e,t){ns.Model.define("do-hide-subscriptions",{isStrictParams:!0,params:{emails:null,deleteOldLetters:null}})},function(e,t){ns.Model.define("do-trash-messages",{isStrictParams:!0,params:{messageType:null,search:null}})},function(e,t){ns.Model.define("get-active-subscriptions/v1",{params:{}})},function(e,t){ns.Model.define("get-hidden-subscriptions/v1",{params:{},methods:{RETRY_LIMIT:1,isEmpty:function(){return!this.data.subscriptions.length},hasSubscription:function(e){return this.data.subscriptions.some((function(t){return t.email===e}))}}})},function(e,t){ns.Model.define("newsletter",{events:{"ns-model-init":"_onInit"},params:{displayName:null,email:null,messageType:null,readFrequency:null},methods:{_onInit:function(){this.setData({})}}},ns.ModelStatic)},function(e,t){ns.Model.define("get-newsletters/v1",{isStrictParams:!0,params:{},split:{items:".newsletters",params:{id:".id"},model_id:"newsletter"},methods:{RETRY_LIMIT:1}})},function(e,t){ns.Model.define("get-subscription-counters/v1",{isStrictParams:!0,params:{optinEnabled:null}})},function(e,t){ns.Model.define("get-pending-subscriptions",{isStrictParams:!0,params:{optinEnabled:null,optinEnabledAt:null,withEmailsInfo:null}})},function(e,t){ns.Model.define("do-review-subscriptions",{isStrictParams:!0,RETRY_LIMIT:1,params:{}})},function(e,t){ns.Model.define("do-update-subscriptions",{isStrictParams:!0,isDo:function(){return!0},params:{optinEnabled:null,subscriptions:[]}})},function(e,t){ns.Model.define("is-user-recently-confirmed-phone",{})},function(e,t){ns.Model.define("is-user-recently-entered-password",{params:{}})},function(e,t){ns.Model.define("do-backup-create",{})},function(e,t){ns.Model.define("backup-get-status",{})},function(e,t){ns.Model.define("do-backup-restore",{params:{method:null}})},function(e,t){ns.Model.define("do-backup-delete",{})},function(e,t){ns.Model.define("do-backup-update-settings",{isStrictParams:!0,params:{fids:null,tabs:null}})},function(e,t){ns.Model.define("backup-get-settings",{})},function(e,t){ns.Model.define("products",{methods:{RETRY_LIMIT:1}})},function(e,t){ns.Model.define("billing-user-services",{})},function(e,t){ns.Model.define("get-domenator-domains-suggest/v1",{params:{limit:null}})},function(e,t){ns.Model.define("get-memories/v1",{RETRY_LIMIT:1,params:{image_size:null}})},function(e,t){ns.Model.define("do-labels-delete",{params:{lids:null}})},function(e,t){ns.Model.define("do-filters-delete",{params:{id:null}})},function(e,t){ns.Model.define("do-reply-later-create",{params:{ensureFolder:null,mid:null,date:null}})},function(e,t){ns.Model.define("do-reply-later-remove",{params:{mid:null}})},function(e,t){ns.Model.define("do-reply-later-reset",{params:{mid:null,date:null}})},function(e,t){ns.Model.define("do-reply-later-update",{params:{mid:null,date:null}})},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4769),s=n.n(a),u=n(145);n.n(u);ns.Model.define("stickers",{params:{type:null},paramsRewrite:function(e){return Object.values(u.StickerType).includes(e.type)||(e.type=u.StickerType.REPLY_LATER),e},methods:{preprocessData:function(e){var t=s()(e.stickers,"tid");return{cacheByMid:e.stickers.reduce((function(e,t){return i({},e,o({},t.mid,t))}),{}),cacheByTid:t}},getStickersByTid:function(e){return e=e.startsWith("t")?e.substr(1):e,this.data&&this.data.cacheByTid[e]||[]},getStickerByMid:function(e){return this.data&&this.data.cacheByMid[e]},getRemindDateByMid:function(e){var t=this.getStickerByMid(e);return t?this._convertStickerDate(t.date):null},getRemindDateByTid:function(e){var t=this.getStickersByTid(e);return t=t.sort((function(e,t){return e.date-t.date})),t.length?this._convertStickerDate(t[0].date):null},_convertStickerDate:function(e){return Daria.getPassportDate(new Date(1e3*e))}}})},,,,,function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(87),o=(n.n(i),n(356)),a=n(617),s=n(897);!(function(){var e,t=function(){var e={};return e["react-left-column"]={},Daria.Config.mayHaveAdv&&Object.assign(e,Daria.getDirectBlockLayoutInfo("banner").layout),Daria.is2pane()&&(e["fill-height-placeholder-box@"]={}),e["skin-saver-box@"]=function(){var e=ns.Model.get("themes").getCurrentTheme().hasSkinSaver(),t={};return e&&(t["skin-saver"]={}),t},e["copyright-box@"]=function(){var e={},t=ns.Model.get("themes").getCurrentThemeName(),n=ns.Model.get("theme-"+t).get(".copyright");return n&&(e["copyright-"+n]={}),e},Daria.is3pane()&&(e["react-left-footer"]={}),e},n={"page-class-manager":{},"app-initializer":!0,"technical-problems-alert&":{},notifications:{},"left-box@":{},"right-box@":{},"infoline-box@":function(){return"messages"!==ns.page.current.page?{}:{infoline:{}}},"fake-head-background-box@":{},"toolbar-box@":{},"service-box@":{},"advanced-search-box@":{"advanced-search-react":{}},"loading-bar":{},"compose-buttons-box@":function(){return-1!==["message","messages","abook","compose2","done"].indexOf(ns.page.current.page)?{"main-action-buttons":r({},"react-main-buttons",{})}:{}},"timeline-loader-box@":function(){return ns.Model.get("app-state").get(".module-timeline-loaded")?{"timeline-wrap&":!0}:{}},"themes-skin-rotater-box@":function(){var e={};return e["skin-rotater-"+Daria.themeId]={},e},"themes-footer-wrapper@":function(){var e=Daria.CompactMode;return!(e.isCompactMessagesList()||e.isCompactHeader()||Daria.is3pane())&&{"themes-footer-box@":function(){var e=Daria.themes.footers;return Object(s.a)()?e._default:e[Daria.themeId]||e._default}}},"themes-selector-box@":function(){if(ns.Model.get("themes-selector").isOpened()){var e={};return ns.Model.get("themes").get(".themes.*.settings").forEach((function(t){e[t]={}})),{"themes-selector":e}}return{}},"browser-notifications":{},"messages-time-updater":{},"compose-manager-container-box@":function(){return Daria.isReactiveCompose()?{"compose-manager-container":{}}:{}}};Daria.hasSidebarWithWidgets()&&Object.assign(n,{"sidebar-with-widgets-box@":function(){return Object(a.isWidgetsVisible)()?{"sidebar-with-widgets":{}}:{}}}),Object(o.hasMidgets)()&&Object.assign(n,{"midgets-box@":function(){return Object(a.isWidgetsEnabled)()?{midgets:{}}:{}}}),Object.assign(n,{"header-box@":{"ps-header":{}}}),Object.assign(n,{"system-alert-container":!0}),ns.layout.define("common",{app:_.extend({},n,Daria.getDirectBlockLayoutInfo("messages-direct").layout)}),ns.layout.define("common-d",{app:n}),_.each(["common","common-d"],(function(e){var n=e+"+left+toolbar";ns.layout.define(n,{"app left-box@":t,"app toolbar-box@":{"mops-confirmation-box@":"mops-confirmation",toolbar:function(){var e={"toolbar-buttons-box@":"toolbar-buttons"};return"message"!==ns.page.current.page&&(e["toolbar-aside-box@"]=function(){var e=ns.page.current.page,t={};return"abook"===e||Daria.Config.NO_SETTINGS||Object(i.hasFeature)(i.Features.WEB_SETTINGS_POPUP_NEW)||(t["layout-switch"]={}),Daria.CompactMode.isCompactHeader()&&(t["more-services"]={}),t}),e}}},e)})),ns.layout.define("common+left",{"app left-box@":t},"common"),ns.layout.define("not-found",(e={},r(e,"app "+Daria.getDirectBlockLayoutInfo("messages-direct").name,{}),r(e,"app service-box@",{404:{}}),e),"common")})()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4775),i=n.n(r),o=n(1884),a=n(375);ns.events.on("pageinit",(function(){ns.request(["filters"]),ns.request(["signs"]),Daria.IS_CORP||ns.request(["userphones"]);var e=["module-compose","module-message"];ns.Model.get("settings").getSign("timeline_enable")&&e.push("module-timeline"),ns.request(e)})),ns.events.on("pageinit",(function(){function e(){ns.forcedRequest(["do-mail-reset-recent-counter"]).then((function(){ns.forcedRequest(["app-badge-counter"])}))}e(),ns.events.on("pageVisible.change",(function(){Jane.watcher.get("pageVisible")&&e()}))})),ns.events.on("pageinit",(function(){ns.events.on("ns-page-before-changed",(function(){nb.trigger("popup-close")}))})),ns.events.on("pageinit",(function(){Daria.Sound.preload("message")})),ns.events.on("pageinit",(function(){Daria.Geolocation.monitoring()})),ns.events.on("pageinit",(function(){Object(a.getSettingsStore)().isTodoEnabled&&ns.request(["module-todo"]).then((function(){Daria.Todo.init()}))})),ns.events.on("pageinit",(function(){Jane.HAS_AD&&ns.request("module-direct")})),ns.events.on("pageinit",(function(){new i.a({cspHost:Daria.Config.cspHost,from:"LIZA",tld:Daria.Config.TLD,reqid:Daria.Config.connection_id}).check()})),ns.events.on("pageinit",(function(){Object(o.b)(ns.Model.get("settings").getData())}))},,function(e,t){Daria.IS_CORP&&ns.events.on("ns-page-after-load",(function(){$.ajax({url:"//center.yandex-team.ru/whistlah",dataType:"jsonp"})})),ns.events.on("ns-page-before-load",(function(e,t){var n=t[0],r=t[1];"messages"===n.page&&(n.params.ids||n.params.thread_id)&&(n.params.ids===r.params.ids&&n.params.thread_id===r.params.thread_id||ns.events.trigger("daria:message-will-close"))}))},function(e,t){var n=function(e,t){return e.call(this,t)},r=_.throttle(n,100,{leading:!1});Daria.ContextMenu=function(e){if(!e.items||!e.items.length)throw new Error('Parameter "items" must contain at least 1 element');e.items=_.sortBy(e.items,"index"),this._params=e,this._parentMenu=e.parentMenu,this._scrollItervalIds={},this._menuInfo=this._transformItems(e.items),this._$container=$(Jane.tt("mail:context-menu",{items:this._menuInfo.items,"is-main-menu":!this._parentMenu})),this._$menu=this._$container.find(".js-context-menu"),this._$menuWrapper=this._$container.find(".js-context-menu-wrapper"),this._$menuContent=this._$container.find(".js-context-menu-items"),this._$menu.on("contextmenu",(function(){return!1})).on("mouseenter",".js-item",r.bind(this,this._onItemHover)).on("click",".js-item:not(.is-inactive):not(.js-submenu)",this._onItemClick.bind(this))},ns.events.on("dropdowns-closed",(function(){Daria.ContextMenu.close()})),ns.events.on("daria:dropdown:close",(function(){Daria.ContextMenu.close()})),Daria.ContextMenu.Helpers={},Daria.ContextMenu._$menuContainer=null,Daria.ContextMenu._isOpened=!1,Daria.ContextMenu.isOpened=function(){return this._isOpened},Daria.ContextMenu.close=function(e){e=e||{},ns.events.trigger("daria:vContextMenu:close",{success:Boolean(e.success),staySelection:Boolean(e.staySelection)}),$(".js-layout-left").off("scroll.context-menu-close")},Daria.ContextMenu.prototype._isVisible=!1,Daria.ContextMenu.prototype.show=function(e){var t=this,n=this._isTopLevelMenu=!this._parentMenu,r=!n,i=$(window),o=$("BODY"),a=$(document);n&&(Daria.Dropdown.closeAll(),Daria.ContextMenu.close(),Daria.ContextMenu._isOpened=!0,ns.events.once("daria:vContextMenu:close",(function(e,n){n=n||{},n.menuId&&n.menuId!==t._menuId||t._onCloseMenu(e,n)})),o[0].addEventListener("mousedown",this._closeMenuIfOut),o[0].addEventListener("contextmenu",this._closeMenuIfOut),this._$scrollContainer=e.$scrollContainer||i,this._$scrollContainer.on("scroll.context-menu-show",Daria.ContextMenu.close),i.on("resize.context-menu-show",Daria.ContextMenu.close),$.Shortcuts.modalListOn("context-menu"));var s=Daria.ContextMenu._$menuContainer;s||(s=Daria.ContextMenu._$menuContainer=$("<div>"),s.appendTo("body")),s.append(this._$container),this._isVisible=!0;var u=o.outerWidth(),c=o.outerHeight(),l=a.scrollLeft(),d=a.scrollTop(),f=!1,p={top:e.y,left:e.x},g=this._$menu.find(".js-item:first"),h=this._itemHeight=g.outerHeight(),m=this._$menu.outerWidth(),v=this._$menu.outerHeight();v>c/2&&(v=c/2,v=Math.floor(v/h)*h,this._$menuWrapper.css({"max-height":v}),this._addScrollControls(),f=!0);var b=!1,_=e.x-l,y=e.y-d;if(_+m>u&&e.x>u/2&&(p.left-=m,r&&(p.left-=this._parentMenu._$menu.outerWidth()+2)),y+v>c&&e.y>c/2&&(p.top-=v,r&&(p.top+=h),b=!0),r){var S=g.offset().top-this._$menu.offset().top;b&&!f?p.top+=S:p.top-=S}this._$menu.css(p);var w=this._$menuWrapper.width(),O=this._$menuContent.width();w>O&&this._$menu.css({width:2*w-O}),n&&this._log("Показ")},Daria.ContextMenu.prototype._log=function(e){Jane.c("Меню по правому клику",Daria.is2pane()?"2pane":"3pane",Daria.Metric.getPath(),this._params.metrika,e)},Daria.ContextMenu.prototype._closeMenuIfOut=function(e){$(e.target).closest(".js-context-menu").length||Daria.ContextMenu.close({staySelection:!0})},Daria.ContextMenu.prototype._addScrollControls=function(){this._$menu.addClass("context-menu_scroll"),this._$menu.addClass("context-menu_scroll_allow-down"),this._contentHeight=this._$menuContent.outerHeight(),this._contentWrapperHeight=this._$menuWrapper.outerHeight(),this._$menuWrapper.on("scroll",_.throttle(this._updateArrowsState.bind(this),50,{leading:!1})),this._$menu.on("mouseenter",".js-context-menu-scroll-up",this._toggleScrolling.bind(this,"up",!0)).on("mouseleave",".js-context-menu-scroll-up",this._toggleScrolling.bind(this,"up",!1)).on("mouseenter",".js-context-menu-scroll-down",this._toggleScrolling.bind(this,"down",!0)).on("mouseleave",".js-context-menu-scroll-down",this._toggleScrolling.bind(this,"down",!1))},Daria.ContextMenu.prototype._onItemHover=function(e){if(this._isVisible){var t=$(e.currentTarget);if(this._$activeItem&&(this._$activeItem.removeClass("context-menu-item_active"),this._$activeItem=null),t.hasClass("js-submenu")){this._$activeItem=t,t.addClass("context-menu-item_active");var n=t.data("id"),r=this._menuInfo.subMenusHash[n];if(r.subMenu&&r.subMenu.isShown())return;this._closeAllSubMenus(),r.subMenu=new Daria.ContextMenu({items:r.items,parentMenu:this,metrika:this._params.metrika}),r.subMenu.show({x:t.offset().left+t.outerWidth()+1,y:t.offset().top})}else this._closeAllSubMenus()}},Daria.ContextMenu.prototype._onItemClick=function(e){var t=$(e.currentTarget),n=this._params.items[t.data("id")];this.closeMenu({success:!0}),this._log(n.metrika||"Неизвестная строка"),n.onClick&&n.onClick()},Daria.ContextMenu.prototype._closeAllSubMenus=function(){for(var e in this._menuInfo.subMenusHash){var t=this._menuInfo.subMenusHash[e];t.subMenu&&t.subMenu.close()}},Daria.ContextMenu.prototype.isShown=function(){return this._isVisible},Daria.ContextMenu.prototype.close=function(){for(var e in this._scrollItervalIds)clearInterval(this._scrollItervalIds[e]);if(this._isTopLevelMenu){var t=$("BODY");t[0].removeEventListener("mousedown",this._closeMenuIfOut),t[0].removeEventListener("contextmenu",this._closeMenuIfOut),this._$scrollContainer.off(".context-menu-show"),$(window).off(".context-menu-show"),$.Shortcuts.modalListOff()}this._isVisible=!1,this._closeAllSubMenus(),this._$container&&this._$container.remove()},Daria.ContextMenu.prototype._transformItems=function(e){for(var t={},n=e.map((function(e,n){return e.items&&(t[n]={items:e.items}),{id:n,type:e.type,text:e.text,alt:e.alt,"inline-css":e.style,"add-class":e.addClass,"custom-icon":e.customIcon,"sub-menu":Boolean(e.items),inactive:e.hasOwnProperty("isActive")&&!e.isActive}})),r=[],i=0;i<n.length;++i){var o=n[i];("separator"!==o.type||0!==r.length&&i!==n.length-1&&"separator"!==n[i+1].type)&&r.push(o)}return{items:r,subMenusHash:t}},Daria.ContextMenu.prototype._onCloseMenu=function(e,t){Daria.ContextMenu._isOpened&&(t=t||{},this.close(),Daria.ContextMenu._$menuContainer.remove(),Daria.ContextMenu._$menuContainer=null,Daria.ContextMenu._isOpened=!1,!t.success&&this._params.onCancel&&this._params.onCancel(t),this._params.onClose&&this._params.onClose())},Daria.ContextMenu.prototype._updateArrowsState=function(){var e=this._$menuWrapper.scrollTop();this._$menu.toggleClass("context-menu_scroll_allow-up",e>0).toggleClass("context-menu_scroll_allow-down",this._contentHeight-this._contentWrapperHeight>e)},Daria.ContextMenu.prototype._toggleScrolling=function(e,t){t?this._scrollItervalIds[e]=setInterval(this._scroll.bind(this,e),220):clearInterval(this._scrollItervalIds[e])},Daria.ContextMenu.prototype._scroll=function(e){var t=this._$menuWrapper.scrollTop(),n="up"===e?Math.ceil:Math.floor,r=n(t/this._itemHeight)*this._itemHeight,i=r+("up"===e?-this._itemHeight:this._itemHeight);i=Math.min(Math.max(i,0),this._contentHeight-this._contentWrapperHeight),this._$menuWrapper.scrollTop(i),this._updateArrowsState()},Daria.ContextMenu.prototype.closeMenu=Daria.ContextMenu.close.bind(Daria.ContextMenu)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(693),i=(n.n(r),n(1885)),o=(n.n(i),n(4783)),a=(n.n(o),n(4795));n.n(a);n(4797),n(4798),n(4799),n(4800),n(4801),n(4802),n(4803),n(4804),n(4806),n(4807),n(4808),n(4809),n(4810),n(4811),n(4812),n(4813),n(4814),n(4815),n(4816),n(4817),n(4818),n(4826),n(4827),n(4828),n(4829),n(4830),n(4831),n(4832),n(4833),n(4834),n(4835),n(4836),n(4837),n(4838),n(4839),n(4840),n(4841),n(4842),n(4843),n(4844),n(4924),n(4926),n(4928),n(4929),ns.View.define("react-thread-quick-reply",Object(r.NsReactView)({component:i.QuickReplyPlaceholder,yateModule:"mail",props:{shouldShowReplyAll:function(){return!0}}})),ns.View.define("system-alert-container",Object(r.NsReactView)({component:o.SystemAlertContainer,yateModule:"mail"})),ns.View.define("app-initializer",Object(r.NsReactView)({component:a.AppInitializer,yateModule:"mail"}))},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.QuickReplyPlaceholder=void 0;var o=i(n(137)),a=i(n(350)),s=n(440),u=n(381),c=i(n(352)),l=n(140),d=i(n(4780)),f=i(n(4781)),p=i(n(4782)),g=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.handleClick=function(){t.props.onClick&&t.props.onClick()},t}return r(t,e),t.prototype.render=function(){return o.default.createElement("div",{className:a.default("js-open-quick-reply","qa-QuickReplyPlaceholder",p.default.container,u.cnTheme(s.PS_LIGHT)),onClick:this.handleClick},this.props.shouldShowReplyAll()?o.default.createElement(o.default.Fragment,null,o.default.createElement(f.default,{className:p.default.icon}),o.default.createElement(l.Text,{className:a.default("qa-QuickReplyPlaceholder-Text",p.default.description),typography:"body-short-m",color:"secondary"},o.default.createElement(c.default,{loc:"compose-react/QuickReply_ReplyAll"}))):o.default.createElement(o.default.Fragment,null,o.default.createElement(d.default,{className:p.default.icon}),o.default.createElement(l.Text,{className:a.default("qa-QuickReplyPlaceholder-Text",p.default.description),typography:"body-short-m",color:"secondary"},o.default.createElement(c.default,{loc:"compose-react/QuickReply_Reply"}))))},t})(o.default.PureComponent);t.QuickReplyPlaceholder=g},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e){return a.createElement("svg",r({viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),s)}Object.defineProperty(t,"__esModule",{value:!0});var o,a=n(137),s=(n.n(a),(function(e,t,n,r){o||(o="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,a=arguments.length-3;if(t||0===a||(t={children:void 0}),1===a)t.children=r;else if(a>1){for(var s=new Array(a),u=0;u<a;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:o,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}})("path",{d:"M8.017 2.182a.75.75 0 00-1.25-.558l-6.48 5.82a.75.75 0 000 1.114l6.478 5.84a.75.75 0 001.252-.558v-2.874c3.67.502 6.48 3.28 7.54 4.481.153.173.44.064.42-.165-.193-2.193-1.325-8.73-7.96-10.048V2.182z",fill:"currentColor"}));t.default=i},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t,n,r){a||(a="function"==typeof Symbol&&Symbol.for&&Symbol.for("react.element")||60103);var i=e&&e.defaultProps,o=arguments.length-3;if(t||0===o||(t={children:void 0}),1===o)t.children=r;else if(o>1){for(var s=new Array(o),u=0;u<o;u++)s[u]=arguments[u+3];t.children=s}if(t&&i)for(var c in i)void 0===t[c]&&(t[c]=i[c]);else t||(t=i||{});return{$$typeof:a,type:e,key:void 0===n?null:""+n,ref:null,props:t,_owner:null}}function o(e){return s.createElement("svg",r({viewBox:"0 0 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg"},e),u,c)}Object.defineProperty(t,"__esModule",{value:!0});var a,s=n(137),u=(n.n(s),i("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.03 3.167a.5.5 0 00-.834-.371l-5.005 4.51a.5.5 0 00-.001.742l5.006 4.525a.5.5 0 00.835-.37v-2.3c2.795.384 4.925 2.537 5.686 3.412.101.116.292.046.28-.107-.129-1.58-.933-6.606-5.966-7.61v-2.43z",fill:"currentColor"})),c=i("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.006 3.167a.5.5 0 00-.835-.371L.165 7.306a.5.5 0 000 .742l5.005 4.525a.5.5 0 00.836-.37v-.678L2.159 8.048a.5.5 0 010-.742L6.007 3.84v-.674z",fill:"currentColor"});t.default=o},function(e,t){e.exports={container:"QuickReplyPlaceholder__container--KS4dZ",icon:"QuickReplyPlaceholder__icon--1znnY",description:"QuickReplyPlaceholder__description--1IJGM"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SystemAlertContainer=void 0;var r=n(4784);Object.defineProperty(t,"SystemAlertContainer",{enumerable:!0,get:function(){return r.SystemAlertContainer}})},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SystemAlertContainer=void 0;var a=o(n(137)),s=n(353),u=n(4785),c=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.systemAlertStore=u.SystemAlertStore.instance(),t}return r(t,e),t.prototype.render=function(){return this.systemAlertStore.content},t=i([s.observer],t)})(a.default.PureComponent);t.SystemAlertContainer=c},function(e,t,n){"use strict";var r=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SystemAlertStore=void 0;var o=i(n(137)),a=n(351),s=n(138),u=n(576),c=n(4786),l=n(4787),d=n(4792),f=(function(){function e(e,t){this.backupStore=e,this.systemStatusStore=t}return Object.defineProperty(e.prototype,"content",{get:function(){if(this.systemStatusStore.hasProblems)return null;if(this.backupStore.backupInProgress)return o.default.createElement(l.BackupInProgressAlert,null);if(this.backupStore.restoreInProgress){var e=this.backupStore.restoreType;if(e)return o.default.createElement(d.BackupRestoreAlert,{type:e})}return null},enumerable:!1,configurable:!0}),e.instance=s.memoize((function(){return new e(u.BackupStore.instance(),c.SystemStatusStore.instance())})),r([a.computed],e.prototype,"content",null),e})();t.SystemAlertStore=f},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SystemStatusStore=void 0;var a=n(351),s=o(n(400)),u=n(138),c=(function(e){function t(){var t=e.call(this)||this;return t.data={},t._addModelSubscription("system-status"),t}return r(t,e),Object.defineProperty(t.prototype,"hasProblems",{get:function(){return!!this._isNotEmpty(this.data)&&Boolean(this.data.problem)},enumerable:!1,configurable:!0}),t.instance=u.memoize((function(){return new t})),i([a.observable],t.prototype,"data",void 0),i([a.computed],t.prototype,"hasProblems",null),t})(s.default);t.SystemStatusStore=c},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackupInProgressAlert=void 0;var r=n(4788);Object.defineProperty(t,"BackupInProgressAlert",{enumerable:!0,get:function(){return r.BackupInProgressAlert}})},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BackupInProgressAlert=void 0;var o=i(n(137)),a=i(n(489)),s=i(n(352)),u=n(1886),c=n(140),l=n(146),d=i(n(4791)),f=n(356),p=a.default.bind(d.default),g=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return o.default.createElement(u.SystemAlert,{className:p("root")},o.default.createElement(l.Spin,{progress:!0,size:"xxs",view:"text-color"}),o.default.createElement(c.Text,{className:p("text"),typography:"body-short-s"},o.default.createElement(s.default,{loc:"setup-backup/system-alert-backup-in-progress"})))},t.prototype.componentDidMount=function(){f.logMetric(["Create backup status","show"])},t})(o.default.PureComponent);t.BackupInProgressAlert=g},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SystemAlert=void 0;var o=i(n(137)),a=i(n(489)),s=i(n(4790)),u=a.default.bind(s.default),c=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),Object.defineProperty(t,"defaultProps",{get:function(){return{theme:t.Theme.DEFAULT}},enumerable:!1,configurable:!0}),t.prototype.render=function(){return o.default.createElement("div",{className:u("root",this.props.theme,this.props.className)},this.props.children)},t})(o.default.PureComponent);t.SystemAlert=c,(function(e){!(function(e){e.DEFAULT="theme-default",e.SYSTEM="theme-system"})(e.Theme||(e.Theme={}))})(c=t.SystemAlert||(t.SystemAlert={})),t.SystemAlert=c},function(e,t){e.exports={root:"SystemAlert__root--2Xx6k","theme-default":"SystemAlert__theme-default--2sS2d","theme-system":"SystemAlert__theme-system--85YaS"}},function(e,t){e.exports={root:"BackupInProgressAlert__root--2jM1k",text:"BackupInProgressAlert__text--1YSmh"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackupRestoreAlert=void 0;var r=n(4793),i=n(515),o=n(349);t.BackupRestoreAlert=o.compose(i.withPsTheme())(r.BackupRestoreAlert)},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BackupRestoreAlert=void 0;var o=i(n(137)),a=i(n(489)),s=i(n(352)),u=n(1886),c=n(140),l=n(146),d=n(846),f=n(356),p=i(n(4794)),g=a.default.bind(p.default),h=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return o.default.createElement(u.SystemAlert,{className:g("root",this.props.className),theme:u.SystemAlert.Theme.SYSTEM},o.default.createElement(l.Spin,{progress:!0,size:"xxs",view:"text-color"}),o.default.createElement(c.Text,{className:g("text"),typography:"body-short-s"},o.default.createElement(s.default,{loc:this.props.type===d.RestoreType.FULL_HIERARCHY?"setup-backup/system-alert-restore-in-progress":"setup-backup/system-alert-restore-in-progress-new-folder"})))},t.prototype.componentDidMount=function(){f.logMetric(["Recovery backup status","show"])},t})(o.default.PureComponent);t.BackupRestoreAlert=h},function(e,t){e.exports={root:"BackupRestoreAlert__root--1alj4",text:"BackupRestoreAlert__text--3KqQh"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.AppInitializer=void 0;var r=n(4796);Object.defineProperty(t,"AppInitializer",{enumerable:!0,get:function(){return r.AppInitializer}})},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},o=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.AppInitializer=void 0;var s=a(n(137)),u=n(576),c=n(577),l=n(656),d=n(494),f=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.backupStore=u.BackupStore.instance(),t.statusLineState=l.getStatuslineState(),t}return r(t,e),t.prototype.componentDidMount=function(){return i(this,void 0,Promise,(function(){var e;return o(this,(function(t){switch(t.label){case 0:if(!d.canUseBackup())return[3,4];t.label=1;case 1:return t.trys.push([1,3,,4]),[4,this.backupStore.init()];case 2:return t.sent(),[3,4];case 3:return e=t.sent(),this.statusLineState.show({name:"backup-get-status-failed",build:function(){return c.BasicTextMessage.build({locKey:"setup-backup/status-backup-get-status-failed",status:"fail"})}}),[3,4];case 4:return[2]}}))}))},t.prototype.render=function(){return null},t})(s.default.PureComponent);t.AppInitializer=f},function(e,t){ns.View.define("prevent-scroll-propagation-mixin",{yateModule:"mail",methods:{getScrollContent:function(){throw new Error("Must be overwritten")},onWheel:function(e){var t=this.getScrollContent(e);if(!t)return e.preventDefault(),void e.stopImmediatePropagation();var n=e.originalEvent.deltaY,r=t.scrollTop,i=t.offsetHeight,o=t.scrollHeight;(n<0&&0===r||n>0&&r+i>=o||i===o)&&(e.preventDefault(),e.stopImmediatePropagation())}}})},function(e,t){ns.View.define("page-class-manager",{models:{"app-state":{"ns-model-changed":!1,"ns-model-changed.pageClasses":"updatePageClasses"}},yateModule:"mail",methods:{updatePageClasses:function(){this.keepValid();var e=this.getModel("app-state"),t=e.get(".pageClasses"),n=_.uniq([].concat(Object.keys(t),Array.from(document.documentElement.classList))),r=function(e){return t[e]||void 0===t[e]};document.documentElement.className=n.filter(r).join(" ")}}})},function(e,t){ns.View.define("kbd-dropdown-actions",{methods:{moveKbdCursor:function(e){var t=this,n=function(e){var t=e[0],n=e.closest(".js-filter-list-wrap")[0];if(!t||!n)return!1;var r=0,i=n.getBoundingClientRect(),o=t.getBoundingClientRect(),a=o.height;o.top+o.height+a>=i.bottom&&(r=i.bottom-o.top-o.height-a),o.top<i.top+a&&(r=i.top-o.top+a),0!==r&&(n.scrollTop+=r>0?-r:Math.abs(r))},r=function(e){var r=t.visibleList[t.kbdSelected],i=t.visibleList[e];r?r.$node.removeClass(t.selectedClass):t.newListElementActive&&($(t.newListSelector).removeClass(t.selectedClass),t.newListElementActive=!1),i?(n(i.$node),i.$node.addClass(t.selectedClass),t.kbdSelected=e):(-2===e&&(t.newListElementActive=!0,$(t.newListSelector).addClass(t.selectedClass),t.kbdSelected=t.visibleList.length),-1===e&&(t.kbdSelected=-1))};r("down"===e?(function(){return null===t.kbdSelected?0:t.kbdSelected+1<t.visibleList.length?t.kbdSelected+1:-2})():(function(){return t.kbdSelected<0?-1:null===t.kbdSelected?0:t.kbdSelected-1>-1?t.kbdSelected-1:-1})())},getOpenOptions:function(e){var t={width:200,autoclose:!0,how:{my:"center top",at:"center bottom"}};return jpath(e,".isInMore")[0]?t=_.extend(t,{autofocus:!1,how:{my:"left center+30%",at:"right center",collision:"flipfit fit",within:".mail-App"},class:"is-in-more-button"}):jpath(e,".isInDropdown")[0]&&(t=_.extend(t,{class:"is-in-dropdown"})),t},_preventDefaultAndStopPropagation:function(e){e.preventDefault(),e.stopPropagation()}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(363);ns.View.define("404",{events:{"ns-view-show":"onShow","ns-view-hide":"onHide","click .js-not-found-button-compose":"onOpenComposeClick"},methods:{onShow:function(){$("html").addClass("mail-Page_404")},onHide:function(){$("html").removeClass("mail-Page_404")},onOpenComposeClick:function(e){Object(r.getPddRestrictModel)().isRestricted&&(e.preventDefault(),Object(r.getPddRestrictModel)().showPopup())}},yateModule:"mail"})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(381),i=n(389),o=(n.n(i),n(492)),a=(n.n(o),n(617)),s=["show_checkbox_inside_userpic","messages_avatars","liza_minified"];ns.View.define("app",{models:{"app-state":{"ns-model-changed":!1,"ns-model-changed.module-timeline-loaded":"onTimelineModuleLoaded","ns-model-changed.timelineHeight":"onChangedTimelineHeight"},"account-information":!1,settings:Object.assign({"ns-model-changed":!1,"ns-model-changed.color_scheme":"updateThemes","ns-model-changed.liza_minified_header":"onChangedLizaMinifiedHeader","ns-model-changed.folder_thread_view":"onSwitchThreadMode","ns-model-changed.with_bigger_text":"onSwitchBiggerText"},s.reduce((function(e,t){return e["ns-model-changed."+t]="onChangeInterfaceSettings",e}),{})),"index-data":!1,themes:{"ns-model-changed":!1,"ns-model-changed.currentTheme":"updateThemes"},"theme-weather":"updateThemes","theme-colorful":"updateThemes","theme-seasons":"updateThemes","skin-saver-state":{"ns-model-changed":!1,"ns-model-changed.previewMode":"toggleSkinPreviewMode"},versions:!1},events:{"ns-view-htmlinit":"onHtmlinit","ns-view-show":"onShow","ns-page-after-load":"onPageAfterLoad","ns-view-htmldestroy":"onHtmlDestroy","click .js-mail-app-content":"closeMessageOnExternalClick","click .js-layout-background":"closeMessageOnExternalClick","scroll .js-messages-scroll-area":"_onPaneScroll","daria:toggle-left-column-width":"_onToggleLeftColumWidth","click .js-header-themes-selector":"_onThemesSelectorClick","daria:vApp:changeLeftColumWidth@show":"_onChangeLeftColumWidth","daria:vApp:enableLeftColumnResize@show":"_onEnableLeftColumnResize","daria:vApp:disableLeftColumnResize@show":"_onDisableLeftColumnResize","daria:unsubscribe-popup:show":"onShowUnsubscribePopup","daria:unsubscribe-popup:hide":"onHideUnsubscribePopup","daria:vApp:reactSetupToggle":"_toggleReactSetup"},ctor:function(){this._onPaneScroll=_.throttle(this._onPaneScroll.bind(this),50),this._onThemesSelectorClick=_.throttle(this._onThemesSelectorClick.bind(this),300,{leading:!1}),this._onTransitionEndDebounce=_.debounce(this._onTransitionEnd.bind(this),20)},yateModule:"mail",methods:{MIN_WIDTH_HEADER_LEFT:220,MIN_WIDTH_HEADER_BUTTONS:201,COMPACT_LEFT_COLUMN_WIDTH:Daria.Constants.LEFT_COLUMN.LAYOUT_COMPACT_WIDTH,_previousAsideTheme:null,_previousContentTheme:null,onHtmlinit:function(){Daria.resize.init(),this.$node.transitionEnd(this._onTransitionEndDebounce)},onHtmlDestroy:function(){Daria.resize.dispose()},onShow:function(){this._onChangeLeftColumWidth(),this.onChangeInterfaceSettings(),this._setupInitialClasses(),this.updateThemes()},onPageAfterLoad:function(){"messages"===ns.page.current.page&&(Daria.is3pv()&&(Daria.resize.reinit3paneVerticalResizer(),ns.events.trigger("daria:vApp:changeRightColumSize")),Daria.is3ph()&&(Daria.resize.reinit3paneHorizontalResizer(),ns.events.trigger("daria:vApp:changeAppWidth"))),"1"===Daria.getUrlParams()["unsubscribe-popup"]&&ns.events.trigger("daria:unsubscribe-popup:show",{page:"pending"}),this._onChangeLeftColumWidth()},onChangeInterfaceSettings:function(){var e=this.getModel("settings"),t=this.$node.find(".js-mail-layout");s.forEach((function(n){t.toggleClass(n,Boolean(e.getSign(n)))}))},onTimelineModuleLoaded:function(){ns.page.lazyRefresh()},onChangedTimelineHeight:function(){var e=this.getModel("app-state").get(".timelineHeight"),t=ns.Model.get("scroller-message").getScroller();t.scrollTop()+t.height()+e>(Daria.is2pane?this.$node.height():this.$node.find(".js-message-inner").height())&&(this._needScrollMessage=!0)},_onTransitionEnd:function(){this._needScrollMessage&&(this._needScrollMessage=!1,this.onScrollOutTimeline())},onScrollOutTimeline:function(){var e=this.getModel("app-state").get(".timelineHeight");if(e>0){var t=ns.Model.get("scroller-message").getScroller(),n=t.scrollTop();t.scrollTop(n+e)}},_leftColumnClassesAll:["mail-Layout-Aside_maximum","mail-Layout-Aside_middle","mail-Layout-Aside_minimum","mail-Layout-Aside_compact"].join(" "),_leftColumnWidthOptions:[{min:250,max:Number.MAX_VALUE,nameOfClass:"mail-Layout-Aside_maximum",sizeKind:"maximum"},{min:200,max:250,nameOfClass:"mail-Layout-Aside_middle",sizeKind:"middle"},{min:100,max:200,nameOfClass:"mail-Layout-Aside_minimum",sizeKind:"minimum"},{min:0,max:100,nameOfClass:"mail-Layout-Aside_minimum mail-Layout-Aside_compact",sizeKind:"compact"}],onChangedLizaMinifiedHeader:function(){this.resizeHeaderLeftColumn(),this._setupWidgetsClasses()},onSwitchThreadMode:function(){_.contains(["message","messages"],ns.page.current.page)&&ns.page.go(ns.router.generateUrl(ns.page.current.page,ns.page.current.params))},onSwitchBiggerText:function(){this.getModel("app-state").updatePageClasses({"with-bigger-text":ns.Model.get("settings").isSet("with_bigger_text")}),ns.events.trigger("daria:vMessagesPager:restruct"),ns.events.trigger("daria:vToolbarButton:restruct")},_onChangeLeftColumWidth:function(){var e=this.$node.find(".js-layout-left");if(!Daria.isPageWithResizableLeftColumn())return e.removeClass(this._leftColumnClassesAll),void(this._prevAsideSizeKind=null);var t=e.width(),n=this._findAsideSize(t);n.sizeKind!==this._prevAsideSizeKind&&(e.removeClass(this._leftColumnClassesAll),e.addClass(n.nameOfClass),Daria.resize.isWithCompactLeftColumn="compact"===n.sizeKind,"compact"===this._prevAsideSizeKind?Jane.c("Left column",Daria.is2pane()?"2pane":"3pane","Choosed","Full mode"):void 0!==this._prevAsideSizeKind&&"compact"===n.sizeKind&&Jane.c("Left column",Daria.is2pane()?"2pane":"3pane","Choosed","Compact mode")),ns.events.trigger("shortcuts.update-labels-list"),this.getModel("app-state").updateAsideKind(n.sizeKind),this.resizeHeaderLeftColumn({size:{width:t}}),this._prevAsideSizeKind=n.sizeKind},_onToggleLeftColumWidth:function(){var e,t=ns.Model.get("settings"),n=this.$node.find(".js-layout-left"),r=n.width();Daria.resize.isWithCompactLeftColumn?(Jane.c("Left column",Daria.is2pane()?"2pane":"3pane","Click","Unfold"),e=Math.max(this.MIN_WIDTH_HEADER_LEFT,parseInt(t.getSetting("size-aside-expanded"),10))||this.MIN_WIDTH_HEADER_LEFT,n.resizable("enable")):(Jane.c("Left column",Daria.is2pane()?"2pane":"3pane","Click","Fold"),t.setSettings({"size-aside-expanded":r}),e=this.COMPACT_LEFT_COLUMN_WIDTH,n.resizable("disable")),n.width(e),Daria.resize.saveSizeOnSettings({settingName:"size-layout-left",type:"h"},n),Daria.is3pv()||ns.events.trigger("daria:vApp:changeAppWidth",{isLeftResized:!0});var i={size:{width:e}};ns.events.trigger("daria:vApp:changeLeftColumWidth"),ns.events.trigger("daria:vApp:changeRightColumSize"),ns.events.trigger("react:dimensions:changeLayoutLeft",i.size),this.resizeHeaderLeftColumn(i)},_onDisableLeftColumnResize:function(){if(!Daria.isPageWithResizableLeftColumn()){var e=this.$node.find(".js-layout-left");e.addClass("with-disabled-resize"),this.resizeHeaderLeftColumn({size:{width:e.width()}})}},_onEnableLeftColumnResize:function(){if(Daria.isPageWithResizableLeftColumn()){var e=this.$node.find(".js-layout-left");e.hasClass("with-disabled-resize")&&(e.removeClass("with-disabled-resize"),ns.events.trigger("daria:vApp:changeAppWidth"),ns.events.trigger("daria:vApp:changeLeftColumWidth"))}},resizeHeaderLeftColumn:function(e){var t,n=ns.Model.get("settings");t=e?e.size.width:this.WIDTH_LAYOUT_LEFT?this.WIDTH_LAYOUT_LEFT:parseInt(n.getSetting("size-layout-left"),10)||this.MIN_WIDTH_HEADER_LEFT,this.WIDTH_LAYOUT_LEFT=t,t+=20;var r=Daria.CompactMode.isCompactHeader()?t+"px":"";this.$node.find(".WithSlidingSearch").css("margin-left",r)},_onThemesSelectorClick:function(){this._openThemesSelector()},_openThemesSelector:function(){ns.Model.get("themes-selector").open(),ns.page.go()},_onPaneScroll:function(e){var t=$(e.target),n=t.find(".ui-resizable-s");n.length&&n.css({top:t.scrollTop()+t.height()-n.height()})},closeMessageOnExternalClick:function(e){if(Daria.is2pane()){if(e.target===e.currentTarget){Daria.isMessageOpenedInList()&&(Jane.c("Закрытие писем кликом в сторону"),ns.page.go(Daria.Page.generateUrl.closeMessage()))}}},toggleSkinPreviewMode:function(){var e=this.getModel("skin-saver-state");this.getModel("app-state").updatePageClasses({"mail-Page_skin_preview":e.isPreviewMode()})},onShowUnsubscribePopup:function(e,t){Daria.React.popupSubscriptions.openPopup(t),Daria.toggleVerticalScrollBar(!0),this.getModel("app-state").updatePageClasses({"with-UnsubscribePopup":!0})},onHideUnsubscribePopup:function(){Daria.toggleVerticalScrollBar(!1),this.getModel("app-state").updatePageClasses({"with-UnsubscribePopup":!1}),ns.forcedRequest("get-hidden-subscriptions/v1")},getStyles:function(){return"\n                <style>\n                    .ReactAppLoadingInfo {\n                        display: none !important;\n                    }\n                </style>\n            "},updateThemes:function(){this._updateAsideTheme(),this._updateHeaderTheme(),this._updateContentTheme()},_updateHeaderTheme:function(){var e=this.$node.find(".ns-view-ps-header");this._previousHeaderTheme&&e.removeClass(this._previousHeaderTheme);var t=this._getPsTheme();e.addClass(t),this._previousHeaderTheme=t},_updateAsideTheme:function(){var e=this.$node.find(".js-layout-left");this._previousAsideTheme&&e.removeClass(this._previousAsideTheme);var t=this._getPsTheme();e.addClass(t),this._previousAsideTheme=t},_updateContentTheme:function(){var e=this.$node.find(".js-mail-layout-content"),t=this._getPsContentTheme();this._previousContentTheme&&e.removeClass(this._previousContentTheme),e.addClass(t),this._previousContentTheme=t},_getPsTheme:function(){var e=ns.Model.get("themes"),t=o.ThemeMaster.instance(),n=t.isActive?t.isPageDark:e.getSkinParams().page_is_dark,a=e.getCurrentTheme().getThemeData().is_superdark,s=a?i.PS_SUPERDARK_TRANSPARENT:i.PS_DARK_TRANSPARENT;return Object(r.cnTheme)(n?s:i.PS_LIGHT_TRANSPARENT)},_getPsContentTheme:function(){var e=ns.Model.get("themes"),t=o.ThemeMaster.instance(),n=t.isActive?t.isContentDark:e.getSkinParams().content_is_dark;return Object(r.cnTheme)(n?i.PS_DARK:i.PS_LIGHT)},_setupInitialClasses:function(){var e={"feature-compact-folder-tabs":Daria.areCompactFolderTabsEnabled(),"with-banner":Jane.HAS_AD&&Daria.AdvPresenter.shouldShowBanner(),"with-messages-direct":Jane.HAS_AD&&Daria.AdvPresenter.shouldShowLine()};this.getModel("app-state").updatePageClasses(e),this._setupWidgetsClasses()},_setupWidgetsClasses:function(){this.getModel("app-state").updatePageClasses({"with-widgets":Daria.hasSidebarWithWidgets()&&Object(a.isWidgetsEnabled)()})},_findAsideSize:function(e){return _.find(this._leftColumnWidthOptions,(function(t){return e>=t.min&&e<t.max}))},_toggleReactSetup:function(e,t){this.getModel("app-state").updatePageClasses({"mail-Page_setup":t.show})}}})},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(1326);ns.View.define("journal-log-mixin",{methods:{getUserBehaviorId:function(){return this._readingId||(this._readingId=Object(a.a)(this.params.tid)),this._readingId},_fillMid:function(e,t){t.ids&&(e.mid=t.ids)},_fillTid:function(e,t){t.tid&&(e.tid=t.tid)},_fillFolderTabParams:function(e,t){var n=ns.Model.get("message",t);if(n){var r=Object(a.b)(n);Object.assign(e,r)}},getUserBehaviorParams:function(){var e=this.params,t={target:e.tid?"thread":"message",isSearch:Daria.Page.isParamsForSearch(e),readingId:this.getUserBehaviorId()};return this._fillMid(t,e),this._fillTid(t,e),this._fillFolderTabParams(t,e),t},writeToUserJournal:function(e,t){var n=this.getUserBehaviorParams(),r=i({},n,{},t);Daria.monitoring.journal(e,r)},writeLogForWidgets:function(e,t){Daria.monitoring.journal(e,Object.assign({target:"message"},t))},writeAttachOpenToUserJournal:function(e,t){this.writeToUserJournal("open",{target:"attach",open_type:e?"embed":"external",container_subtype:t,isSearch:Daria.isSearchPage()})}}})},function(e,t){ns.View.define("messages-search-logger-mixin",{methods:{logClickMessageFromSearch:function(e){var t=ns.page.current.params,n=ns.Model.get("messages",t),r=n.params,i=this.getModel("message")||ns.Model.get("message",this.params),o=i.get(".mid"),a=n.models.indexOf(i);a=a>-1?a+1:-1,Daria.React.logSearchMessageClick(e,i.get(".mid"),a,n.isSearchTopResult(o),r)},logSearchSuggest:function(e,t){var n=e.suggestUsed?Number(ns.Model.get("focus").findIndex(this))+1:-1;Daria.React.logSearchSuggest(_.extend({},e,{itemPos:n}),t)}}})},function(e,t,n){"use strict";function r(){return r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},r.apply(this,arguments)}function i(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function o(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?i(Object(n),!0).forEach((function(t){a(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):i(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function a(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var s=n(137),u=n.n(s),c=n(141),l=n.n(c),d=n(4805);n.n(d);ns.View.define("preview-eml-mixin",{methods:{_getQueryStringFromNode:function(e){return $(e).data("params")},previewEml:function(e){e.preventDefault(),this._previewEmlWithReact(e.currentTarget),this.countAttachmentPreview()},_previewEmlWithReact:function(e){if(this._reactPreviewMountPoint=this.node&&this.node.querySelector(".js-react-eml-preview"),this._reactPreviewMountPoint){var t=this._getQueryStringFromNode(e);Daria.Shortcuts.freeze(),this._renderReactPreview(this._reactPreviewMountPoint,{queryString:t,mid:this.params.ids,visible:!0})}},_closeReactPreview:function(e){var t=this;return function(){Daria.Shortcuts.unfreeze(),t._renderReactPreview(t._reactPreviewMountPoint,o({},e,{visible:!1}))}},_renderReactPreview:function(e,t){var n=this;this.previewPromise=(this.previewPromise||Promise.resolve()).then(d.loadModule).then((function(i){var o=i.ConnectedEMLViewer;l.a.render(u.a.createElement(o,r({},t,{onClose:n._closeReactPreview(t)})),e)}))}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.loadModule=void 0;var r=n(18),i=function(){return r.runModules(["message-viewer.js","message-viewer.css"]).then((function(e){return e&&e[0]}))};t.loadModule=i},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(363);ns.View.define("save-to-disk-mixin",{events:{"click .js-show-save-popup":"showSavePopup"},yateModule:"mail",methods:{_deferred:null,showSavePopup:function(e){ns.assert(this.getCountLocationName,"Daria.vSaveToDiskMixin","method getCountLocationName should be declared");var t=e.currentTarget,n=$(t),i=n.closest(".js-mail-file");if(e.preventDefault(),!this._deferred){if(Object(r.getPddRestrictModel)().isRestricted)return Object(r.getPddRestrictModel)().showPopup();this._deferred=ns.View.create("disk-widget-save-popup").open({mid:t.getAttribute("data-mid"),hid:t.getAttribute("data-hid"),diskDownloadUrl:t.getAttribute("data-disk-download-url"),countLocationName:this.getCountLocationName(),popup:{where:t,withTail:!1}}),n.toggleClass("is-disabled",!0),i.toggleClass("is-active",!0),this._deferred.promise().then((function(){n.removeClass("is-disabled"),i.removeClass("is-active"),this._deferred=null}),this),this.countSaveToDisk()}}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(431),i=(n.n(r),n(1182));n.n(i);ns.View.define("count-attachments-ops-mixin",{methods:{_locationNames:{"attachments-widget":i.EventSource.MESSAGES_LIST,"attachments-widget-body":i.EventSource.MESSAGE,"attachments-widget-popup":i.EventSource.MESSAGES_LIST_POPUP,"thread-sidebar-item-attachments-item":i.EventSource.MESSAGE_RIGHT_COLUMN,"compose-attach-area":i.EventSource.IN_COMPOSE,"attachments-tab-widget":i.EventSource.TAB_WIDGET},_attachmentsMetrika:r.MetrikaService.instance().attachments,getCountLocationName:function(){var e=this._locationNames[this.id];return ns.assert(e,"Daria.vAttachmentsWidget","no name specified for %s to count in metrika",this.id),e},sendMetric:function(e){Jane.c(["Attachments",e,this.getCountLocationName()])},sendGroupedMetric:function(e){Jane.groupedCount(["Attachments",e,this.getCountLocationName(),"+"])},_countAttachmentsShow:function(){this.sendGroupedMetric("attachments show")},countAttachmentsShow:Daria.memoizeById({},(function(e){return"".concat(this.__uniqueId,"_").concat(e)}),(function(){this._countAttachmentsShow()})),countAttachmentPreview:function(){this._attachmentsMetrika.logShowPreview(this.getCountLocationName())},countDownloadAttachment:function(){this._attachmentsMetrika.logSingleAttachmentDownload(this.getCountLocationName())},countDownloadAllAttachments:function(){this._attachmentsMetrika.logAllAttachmentsDownload(this.getCountLocationName())},countAttachmentsNumberClick:function(){this._attachmentsMetrika.logAttachmentsNumberClick(this.getCountLocationName())},countSaveToDisk:function(){this._attachmentsMetrika.logSaveToDisk(this.getCountLocationName())}}})},function(e,t){ns.View.defineNg("attachments-widget",{models:{"message-body":!0},events:{"ns-view-show":"onShow","click .js-attachment-actions-item":"onAttachmentActionsItemClick","click .js-image-preview":"previewImage","click .js-download-attachment":"countDownloadAttachment","click .js-eml-preview":"previewEml","click .js-show-info":"showInfoPopup","click .js-download-all-attachments":"countDownloadAllAttachments","click .js-preview-attachment":"countAttachmentPreview","daria:vScrollerMessages:scroll":"_updateItemsVisibility","daria:vScrollerMessage:scroll":"_updateItemsVisibility","daria:vApp:changeAppWidth":"_updateVisibleItemsCount"},params:function(e){var t=ns.Model.get("message",{ids:e.ids}),n={ids:t.get(".last_mid")||t.get(".mid")};return e.hid&&(n.hid=e.hid),n},yateModule:"mail",methods:{onShow:function(){this._updateItemsVisibility(),this._updateVisibleItemsCount()},_updateItemsVisibility:function(e){var t=this,n=Daria.is3pane()?"scroller-message":"scroller-messages";if("daria:vScrollerMessages:scroll"!==e||!Daria.is3pane()){var r=this.$node.find(".js-mail-file").toArray(),i=ns.Model.get(n),o=i.getHeight()+i.getScrollTop();r.forEach((function(e,n){if(i.getNodeTop(e)<o){var r=$(e).find(".js-mail-file-icon");"none"!==r.css("background-image")||r.attr("style",r.attr("_style")),t.countAttachmentsShow(n)}}))}},previewImage:function(e){var t=Daria.parseQuery($(e.currentTarget).data("params")),n=t.mid||this.params.ids,r=t.hid,i=this.params.hid;Daria.ImageViewer.open("",n,r,i),e.preventDefault()},onAttachmentActionsItemClick:function(e){this.logClickMessageFromSearch("attach");var t=$(e.currentTarget);this.writeAttachOpenToUserJournal(Boolean(t.data("embed")),this.getAttachSource()),ns.events.trigger("daria:vAttachmentsViewer:open")},getAttachSource:function(){return Daria.isSearchPage()?"search":"messages"},showInfoPopup:function(e){"attachments-widget"===this.id&&(e.preventDefault(),ns.View.create("attachments-widget-popup",this.params).showAt(e.currentTarget),this.countAttachmentsNumberClick())},_updateVisibleItemsCount:function(){var e=$(".js-mail-layout-content").width(),t=[{width:890,count:3},{width:760,count:2},{width:0,count:1}],n=t.find((function(t){var n=t.width;return e>=n})).count;this.$node.find(".js-mail-file").toArray().forEach((function(e,t){t<n?$(e).removeClass("hidden"):$(e).addClass("hidden")}))}}},"count-attachments-ops-mixin","preview-eml-mixin","messages-search-logger-mixin","save-to-disk-mixin","journal-log-mixin",ns.View)},function(e,t){var n="mail-MessageSnippet-AttachTab-Item_Attachments_expanded",r=ns.View.infoLite("count-attachments-ops-mixin");ns.View.defineNg("attachments-tab-widget",{models:{"message-body":!0,"scroller-messages":!1},events:{"ns-view-show":"onShow","click .js-attach-preview":"previewAttach","click .js-eml-preview":"previewEml","click .js-attachments-tab-counter":"toggleExpanded","daria:vApp:changeAppWidth":"_updateCounterState","daria:vApp:changeRightColumSize":"_updateCounterState","daria:vScrollerMessages:scroll":"_updateCounterState"},params:function(e){var t=ns.Model.get("message",{ids:e.ids}),n={ids:t.get(".last_mid")||t.get(".mid")};return e.hid&&(n.hid=e.hid),n},yateModule:"mail",methods:{onShow:function(){this._updateCounterState()},_sendShowExpandedCounterMetric:function(){this.sendGroupedMetric('show "Minimize"')},_sendShowCollapsedCounterMetric:function(){this.sendGroupedMetric('show "total n"')},sendShowExpandedCounterMetric:Daria.memoizeById({},(function(){return this.__uniqueId}),(function(){this._sendShowExpandedCounterMetric()})),sendShowCollapsedCounterMetric:Daria.memoizeById({},(function(){return this.__uniqueId}),(function(){this._sendShowCollapsedCounterMetric()})),sendShowCounterMetrics:function(e){e.hasClass("is-visible")&&this._isNodeInViewport(e[0])&&(e.closest(".js-attachments-snippet").hasClass(n)?this.sendShowExpandedCounterMetric():this.sendShowCollapsedCounterMetric())},_isNodeInViewport:function(e){var t=this.getModel("scroller-messages"),n=t.getScrollTop(),r=t.getHeight()+n,i=t.getNodeTop(e);return i<r&&i+e.offsetHeight>=n},_calculateGridOffsets:function(e){var t=[],n=[t];return e.each((function(e,r){t.length&&t[0].top!==r.offsetTop&&(t=[],n.push(t)),t.push({left:r.offsetLeft,top:r.offsetTop})})),n},_updateCounterState:function(){var e=this.$node.find(".js-attachments-snippet"),t=e.find(".js-mail-file"),r=e.find(".js-attachments-tab-counter"),i=e.hasClass(n),o=this._calculateGridOffsets(t),a=o.length>1;r.toggleClass("is-visible",a);var s=o[0];if(s.length){this._updateItemsVisibility(t,i?t.length:s.length);var u=s[s.length-1],c=Math.min(u.left+t.width(),e.width()-r.width()),l={left:c};if(i&&a){var d=o[o.length-1];l.top=d[d.length-1].top;var f=o[o.length-2];d.length!==f.length&&(l.left=f[d.length].left)}else l.top=o[0][0].top;r.css("left",l.left),r.css("top",l.top),this.sendShowCounterMetrics(r)}},_updateItemsVisibility:function(e,t){var n=this;e.toArray().forEach((function(e,r){if(!(r>=t)&&n._isNodeInViewport(e)){var i=$(e).find(".js-mail-file-icon");if(!("none"!==i.css("background-image"))){var o=i.data("image"),a=i.data("icon");$('<img src="'.concat(o,'" />')).on("load",(function(){return i.css("background-image","url('".concat(o,"'), none"))})).on("error",(function(){return i.css("background-image","none, url('".concat(a,"')"))}))}n.countAttachmentsShow(r)}}))},previewAttach:function(e){var t=$(e.currentTarget),n=!t.hasClass("js-preview-attachment"),r=t.hasClass("js-eml-preview");n&&!r&&(e.preventDefault(),this.previewImage(t)),ns.events.trigger("daria:vAttachmentsViewer:open"),this.countAttachmentPreview(),this.writeAttachOpenToUserJournal(n,Daria.isSearchPage()?"search":"messages")},previewImage:function(e){var t=Daria.parseQuery(e.data("params")),n=t.mid||this.params.ids,r=t.hid,i=this.params.hid;Daria.AttachViewer.open(n,r,i)},toggleExpanded:function(e){e.preventDefault(),e.stopImmediatePropagation();var t=this.$node.find(".js-attachments-snippet"),r=t.hasClass(n);t.toggleClass(n,!r),this._updateCounterState(),r?this.sendMetric('click "Fold"'):this.sendMetric('click "total n"')},sendMetric:function(){Daria.isSearchWithAttachesTab()||r.methods.sendMetric.apply(this,arguments)},sendGroupedMetric:function(){Daria.isSearchWithAttachesTab()||r.methods.sendGroupedMetric.apply(this,arguments)}}},"count-attachments-ops-mixin","preview-eml-mixin","journal-log-mixin",ns.View)},function(e,t){ns.View.defineNg("attachments-widget-body",{models:{"message-body":!0},events:{"ns-view-htmlinit":"onHtmlInit","click .js-image-preview":"previewImage","click .js-eml-preview":"previewEml","click .js-show-info":"onShowInfoClick","daria:vApp:changeAppWidth@show":"updateBlockState","daria:vApp:changeRightColumSize@show":"updateBlockState","daria:vAttachmentsWidgetBody:downloadAttachments@show":"downloadAttachments"},methods:{CLASS_DISABLED_INFO_BUTTON:"disabled",CLASS_BLOCK_WITH_MASK:"mail-MessageSnippet-Item_attachments_closed",CLASS_ACTION_ALIGN_RIGHT:"mail-MessageSnippet-Item_actionRight",MIN_INDENT_ACTION_BLOCK:32,onHtmlInit:function(){this.$infoButton=this.$node.find(".js-show-info"),this.$filesBlock=this.$node.find(".js-attachments-files"),this.$actionBlock=this.$node.find(".js-attachments-action"),this.heightFilesBlockOnFirstLoad=this.$filesBlock.height(),this.updateBlockState(),this._openedManually&&this.showAllAttach(!0)},onShowInfoClick:function(){this.showAllAttach()},logClickMessageFromSearch:function(){},getAttachSource:function(){return"message"},updateBlockState:function(){var e=this.$filesBlock[0]&&this.$filesBlock[0].scrollHeight;this.$filesBlock.height()===e?this.markOpened():this.markClosed(),e>this.heightFilesBlockOnFirstLoad?this.enableInfoButton():this.disableInfoButton(),this.updateAlignActionButton()},updateAlignActionButton:function(){var e=this.$node.width()-this.$filesBlock.width()-this.$actionBlock.width()<this.MIN_INDENT_ACTION_BLOCK;this.$node.toggleClass(this.CLASS_ACTION_ALIGN_RIGHT,e)},showAllAttach:function(e){if(!this.isDisabledInfoButton()){if(e)this.$filesBlock.css("max-height","none"),this.$filesBlock[0]&&this.$filesBlock.css("max-height",this.$filesBlock[0].scrollHeight),this.markOpened(),this._openedManually=!0;else{var t=this.$filesBlock[0]&&this.$filesBlock[0].scrollHeight,n=this.$filesBlock.height();t>n?(this.$filesBlock.css("max-height",t),this.markOpened(),this._openedManually=!0):n>this.heightFilesBlockOnFirstLoad&&(this.$filesBlock.css("max-height","").afterTransition(this.markClosed.bind(this)),this._openedManually=!1)}this.countAttachmentsNumberClick()}},markClosed:function(){this.$node.addClass(this.CLASS_BLOCK_WITH_MASK)},markOpened:function(){this.$node.removeClass(this.CLASS_BLOCK_WITH_MASK)},isDisabledInfoButton:function(){return this.$infoButton.hasClass(this.CLASS_DISABLED_INFO_BUTTON)},disableInfoButton:function(){this.$infoButton.addClass("is-hidden "+this.CLASS_DISABLED_INFO_BUTTON)},enableInfoButton:function(){this.$infoButton.removeClass("is-hidden "+this.CLASS_DISABLED_INFO_BUTTON)},downloadAttachments:function(){var e=Daria.url.archive(this.getModel("message-body").getData(),this.params.ids);e&&(window.location.href=e)}},yateModule:"mail"},"attachments-widget")},function(e,t){ns.View.edefine("attachments-widget-popup",{models:{"message-body":!0,message:!0,dimensions:{"ns-model-changed":!1,resize:"_onResize"}},events:{"click .js-show-info":"onClickInfo"},yateModule:"mail",methods:{showAt:function(e){this.update(this.params).then(this._initNbPopup.bind(this,e))},onClickInfo:function(e){e.stopPropagation(),nb.block(this.node).close()},getScrollContent:function(e){return $(e.target).parents("._nb-popup")[0]},_initNbPopup:function(e){var t=this;$(e).closest(":focusable").focus();var n=nb.block(this.node);n.on("nb-closed",(function(){t.destroy(),this.destroy(),t._nbPopup=null})),n.open({where:e,how:{my:"right+20 top-16",at:"right top",collision:"fit fit"},animation:!1,autoclose:!0}),this._nbPopup=n,this._onResize()},_onResize:function(){this._nbPopup&&this.$node.contextDialog("option",{maxHeight:this._$window.height()})}}},"attachments-widget","prevent-scroll-propagation-mixin",ns.View)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(50);n.n(r);ns.View.define("footer",{models:["footer-data","languages"],events:{"ns-view-show":"onShow","daria:vScrollerMessages:scroll":"_checkFooterVisibility"},yateModule:"mail",methods:{_isVisible:!1,onShow:function(){this._checkFooterVisibility()},_checkFooterVisibility:function(){if(Daria.is2pane()){var e=ns.Model.get("scroller-messages"),t=e.getHeight()+e.getScrollTop(),n=e.getNodeTop(this.node)<t;!this._isVisible&&n&&Jane.c("Футер в 2-пейн","показ футера"),this._isVisible=n}},shouldHideYandexJobs:function(){return ns.Model.get("settings").getSign(r.Settings.NO_YANDEX_JOBS)}}})},function(e,t){ns.View.define("footer-journal-link",{models:{"system-status":!0},yateModule:"mail"})},function(e,t){ns.View.define("advanced-search-react",{models:{},events:{"ns-view-htmlinit":"onHtmlInit","ns-view-htmldestroy":"onHtmlDestroy"},yateModule:"mail",methods:{onHtmlInit:function(){var e={toneDefault:"mail-suggest-themed",uniqueId:this.__uniqueId};Daria.React.setInitialState(),Daria.React.renderAdvancedSearchBox(this.node,e)},onHtmlDestroy:function(){Daria.React.unmountReactBox(this.node)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(411),i=n(883);ns.View.define("themes-selector",{models:{themes:"keepValid",settings:{"ns-model-changed":"keepValid","ns-model-changed.color_scheme":"invalidate"}},params:function(e){return e},events:{"ns-view-htmlinit":"onHtmlInit","ns-view-show":"onShow","click .js-close":"onCloseClick","click .js-themes-overlay":"onThemesOverlayClick","Daria:vThemesSelector:close":"closePopup","mouseenter .js-theme":"onThemeThumbFocus","mousedown .js-theme":"onThemeThumbClick","wheel .js-themes-list":"onMouseWheel","click .js-themes-content":"stopPropagation","scroll .js-themes-list":"notifyListScroll","daria:vThemeColorfulSelector:scope-changed@show":"_metrikaCountThemeChange","daria:vThemeWeatherSettings:weather-city-changed@show":"_metrikaCountThemeChange","daria:vThemeSeasonsSelector:scope-changed@show":"_metrikaCountThemeChange"},yateModule:"mail",methods:{CONTENT_TRANSITION_SAFE_DELAY:350,SETTINGS_TRANSITION_SAFE_DELAY:250,_wasHidden:!0,onHtmlInit:function(){this.$list=this.$node.find(".js-themes-list"),this.setListScrollTop()},onShow:function(){if(!this._closeInProgress)return this._wasHidden&&this._metrikaCount(["opening"]),this._wasHidden?(this._wasHidden=!1,vow.Promise.resolve().then(this._scrollIntoView.bind(this,!0)).then(this._showContent,this)):vow.Promise.resolve().then(this._showContent,this).then(this._scrollIntoView,this)},onCloseClick:function(){this.closePopup(),this._metrikaCount(["cross"])},onThemesOverlayClick:function(){this.closePopup(),this._metrikaCount(["close by click outside popup"])},setListScrollTop:function(){this.$list.scrollTop(this._listScrollTop||this._howToScrollIntoView())},_howToScrollIntoView:function(){if(this.$node){var e=this.$node.find(".is-active");if(e.length){var t=this.$list.scrollTop(),n=e.position().top,r=n+e.height(),i=this.$list.outerHeight(),o=t;return r>i?o+=r-i+16:n<0&&(o+=n-16),o}}},_showContent:function(){return new vow.Promise(function(e){this.$node.find(".js-themes-content").one("transitionend",e),_.delay(e,this.CONTENT_TRANSITION_SAFE_DELAY),_.delay((function(){$("html").addClass("with-ThemeOverlay")}),50)}.bind(this))},_scrollIntoView:function(e){return new vow.Promise(function(t){if(this._listWasScrolled)return t();var n=this._howToScrollIntoView();this._saveListScrollTop(n),e?(this.$list.scrollTop(n),t()):this.$list.animate({scrollTop:n},n,t)}.bind(this))},_saveListScrollTop:function(e){this._listWasScrolled=!1,this._listScrollTop=e||this.$list.scrollTop()},onSetTheme:function(e,t){return this._setThemeById(t)},onThemeThumbClick:function(e){var t=$(e.currentTarget);if(!t.hasClass("is-active")){this._metrikaCountThemeChange();var n=t.data("id");return this._setThemeById(n)}},_setThemeById:function(e){return this._saveListScrollTop(),this._lastLoadingThemeId=e,this._currentLoadingTheme=this._currentLoadingTheme||vow.Promise.resolve(),this._currentLoadingTheme.then((function(){return vow.Promise.all([Object(i.setTheme)(e),Object(i.runTheme)(e),this._hideSettings(Daria.themeId).then((function(){if(this._isActualTheme(e))return Daria.themeId=e,this.$node&&(this.$node.find(".is-active").removeClass("is-active"),this.$node.find('[data-id="'+e+'"]').addClass("is-active")),this._showSettings(e)}),this)])}),this).then((function(){if(this._isActualTheme(e))return ns.events.trigger("daria:vThemesSelector:new-schema"),ns.page.go().then((function(){$(window).trigger("resize"),this._scrollIntoView(),this._lastLoadingThemeId=null,this._currentLoadingTheme=null}),this)}),this)},_loadTheme:function(e){return new vow.Promise(function(t){Jane.Services.loadModules(["theme-"+e+".css"],t)})},_hideSettings:function(e){return new vow.Promise(function(t){if(!this.$node)return t();var n=this.$node.find(".is-active"),r=n.data("id"),i=ns.Model.get("themes").hasSettings(e);if(r!==e||!i)return t();_.delay(t,this.SETTINGS_TRANSITION_SAFE_DELAY),this._trySwitchSettings(),n.one("transitionend",t),n.removeClass("has-settings")}.bind(this))},_trySwitchSettings:function(){var e=this.$node.find(".is-active"),t=this.$node.find('[data-id="'+this._lastLoadingThemeId+'"]'),n=ns.Model.get("themes").hasSettings(this._lastLoadingThemeId),r=e.offset().top===t.offset().top,i=n&&r,o=t.data("index")-e.data("index");i&&e.addClass("switch-settings switch-settings-"+o)},_showSettings:function(e){return new vow.Promise(function(t){if(!this.$node)return t();var n=this.$node.find(".is-active");if(n.data("id")!==e||!ns.Model.get("themes").hasSettings(e))return t();_.delay(t,this.SETTINGS_TRANSITION_SAFE_DELAY),n.one("transitionend",t),n.addClass("has-settings")}.bind(this))},_isActualTheme:function(e){return!this._lastLoadingThemeId||this._lastLoadingThemeId===e},onMouseWheel:function(){this._listWasScrolled=!0,this._listScrollTop=this.$list.scrollTop()},closePopup:function(){return this._closeInProgress=!0,$.Shortcuts.modalListOff("themes-selector"),vow.Promise.resolve().then(this._hideContent,this).then((function(){return ns.Model.get("themes-selector").close(),this._closeInProgress=!1,ns.page.go()}),this)},_hideContent:function(){return new vow.Promise(function(e){this._saveListScrollTop(),this._wasHidden=!0,this.$node.find(".js-themes-content").one("transitionend",e),_.delay(e,this.CONTENT_TRANSITION_SAFE_DELAY),$("html").removeClass("with-ThemeOverlay")}.bind(this))},onThemeThumbFocus:function(e){var t=$(e.currentTarget),n=t.data("id");return this._loadTheme(n)},getThumbName:function(e){e=yr.nodeset2scalar(e);var t="";return"seasons"===e&&(t="-"+ns.Model.get("theme-seasons").getSeason()),e+t},stopPropagation:function(e){e.stopPropagation()},notifyListScroll:function(){ns.events.trigger("daria:vThemesSelector:themes-list-scroll")},_metrikaCount:function(e){var t=[r.YANDEX_HEADER_PREFIX,"Login header.Right part","Themes chooser popup"];Jane.c(t.concat(e))},_metrikaCountThemeChange:function(){this._metrikaCount(["choose of theme"])}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(1887),i=n(421),o=n(431),a=(n.n(o),n(363));!(function(){function e(){throw new Error("Это абстрактный метод. Он должен быть перегружен в производном классе.")}ns.View.define("message-actions",{methods:{onReplyHotkey:function(e,t){if(Object(a.getPddRestrictModel)().isRestricted)return Object(a.getPddRestrictModel)().showPopup();if("qr"===t.compose)this.showQuickReply(t.replyAll);else{var n=t.replyAll?"reply-all":"reply";this._replyHelper(n,{from:"toolbar"})}},_replyHelper:function(e,t){t=t?_.clone(t):{},t.mMessagesChecked||(t.mMessagesChecked=this.getMessagesCheckedInstance(!0));var n=_.last(e.split(":"));ns.action.run(n,t)},_onDrop:function(e,t){var n;switch(t.operation){case"label":case"unlabel":case"mark":case"unmark":case"move":case"remove":case"tospam":case"notspam":case"reply":case"reply-all":case"forward":n="_on"+t.operation.split("-").map((function(e){return Daria.capitalize(e)})).join("")+"ToolbarButton";break;case"messages.deselect":n="_onDeselect";break;default:return!1}n&&_.isFunction(this[n])&&(t.params=t.params||{},t.params._source="dnd",this[n](e,t.params));var r=t.operation,i=t.params,a=o.MetrikaService.instance().dragAndDrop;if("move"===r&&i)i.tabId?a.logDropMessageIntoTab():a.logDropMessageIntoFolder();else switch(r){case"forward":a.logDropMessageOnToolbarForward();break;case"remove":a.logDropMessageOnToolbarDelete();break;case"tospam":a.logDropMessageOnToolbarSpam();break;case"notspam":a.logDropMessageOnToolbarNotSpam();break;case"mark":a.logDropMessageOnToolbarMarkRead();break;case"move":a.logDropMessageIntoFolder();break;case"unmark":a.logDropMessageOnToolbarMarkUnread()}},_onLabelToolbarButton:e,_onUnlabelToolbarButton:e,_onMarkToolbarButton:e,_onUnmarkToolbarButton:e,_onMoveToolbarButton:e,_onRemoveToolbarButton:e,_onTospamToolbarButton:e,_onNotspamToolbarButton:e,_onDeselect:e,_onReplyToolbarButton:Object(r.a)((function(e,t){this._replyHelper("reply",t)})),_onReplyAllToolbarButton:Object(r.a)((function(e,t){this._replyHelper("reply-all",t)})),_onForwardToolbarButton:Object(r.a)((function(e,t){Daria.startScenarioForCompose(i.i),Jane.ToolbarMetric.messageToolbar("forward"),this._replyHelper("forward",t)})),getMessagesCheckedInstance:function(e){return ns.Model.get("messages-checked")},showQuickReply:function(e){ns.page.go(ns.router.generateUrl("compose2",{ids:this.params.ids,oper:e?"reply-all":"reply"}))}}})})()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(138);n.n(r);ns.View.define("contact-actions",{params:function(e){return e.emails=e.email,e.email=e.email&&e.email.toLowerCase(),e},models:{"account-information":!1,"abook-contacts":!1,"email-info-v2":!1},events:{click:"_onClick","ns-view-show":"_onNsViewShow","ns-view-hide":"_onNsViewHide","ns-view-htmldestroy":"_onHtmlDestroy","daria:vScrollerMessage:scroll":"onScroll"},yateModule:"mail",methods:{itemEvents:{},patchTree:function(){var e=this.super_.patchTree.call(this);return e.menuItems=this._getMenuItems(),e},_onNsViewShow:function(){var e=this.$node.find(".js-clipboard");if(e.length){var t=this.params.email;this._clip=new Daria.Clipboard(e,{hoverClass:"mail-ContactMenu-Item_hover"}),this._clip.on("ready",(function(){this.setText(t)}))}},_onNsViewHide:function(){this._clip&&(this._clip.destroy(),delete this._clip)},_onHtmlDestroy:function(){this.nbPopup&&(this.nbPopup.destroy(),this.nbPopup=null),this.itemEvents=null},_destroySelf:function(){_.defer(this.destroy.bind(this))},_onPopupSelect:function(e,t){t.ui.item.children().data("noclose")||this.nbPopup.close()},onScroll:function(){this.nbPopup&&this.nbPopup.close()},open:function(e){this.update({},{execFlag:ns.U.EXEC.PARALLEL}).then(function(){var t=this.nbPopup=nb.block(this.node);t.on("nb-select",this._onPopupSelect.bind(this)),t.on("nb-closed",this._destroySelf.bind(this)),t.open(e),this.itemEvents=e.itemEvents||{},this._callShowEventHandlers(this._getMenuItems())}.bind(this))},_getAbookContact:function(){return this.getModel("abook-contacts").getContactDataByEmail(this.params.email)||{}},_getMenuItems:function(){var e=this.getModel("account-information").isMyEmail(this.params.email),t=[{content:this.params.email,class:["mail-ContactMenu-Item_selectonly"],attrs:{"data-noclose":"1"}},{separator:!0}];if(e||t.push({content:i18n("%Message_Написать_письмо"),attrs:{"data-item-id":"compose",href:ns.router.generateUrl("compose2",{to:Jane.FormValidation.obj2contact(this.params)})}}),Daria.IS_CORP){var n=this.getModel("email-info-v2").getData();"staff"!==n.type||n.staff._error||t.push({content:i18n("%Message_Перейти_на_Стафф"),attrs:{href:"".concat(Daria.Config["staff-host"],"/").concat(n.staff.login),target:"_blank",rel:"noopener noreferrer"}})}return t.push({content:i18n("%Скопировать_адрес"),attrs:{"data-item-id":"copy"},class:[Daria.Clipboard.canUse?"js-clipboard":"mail-ContactMenu-Item_disabled"]}),e||(this._getAbookContact().cid||t.push({content:i18n("%Message_to_contacts"),class:["ns-action"],attrs:{"data-item-id":"add-contact","data-click-action":"message.add-contact","data-params":ns.params2query({email:this.params.email,name:this.params.name,counter:"71054"})}}),t.push({content:i18n("%Message_to_blacklist"),class:["ns-action"],attrs:{"data-item-id":"blacklist","data-click-action":"message.lists-add-from-message","data-params":ns.params2query({listtype:"black",email:this.params.email,counter:"71055"})}})),t},_callShowEventHandlers:function(e){var t=this;e.forEach((function(e){var n=Object(r.get)(e,"attrs.data-item-id");if(n){var i=t.itemEvents[n];i&&i.show&&i.show()}}))},_onClick:function(e){var t=e.target.dataset.itemId;if(t){var n=this.itemEvents[t];n&&n.click&&n.click()}}}})},function(e,t,n){n(4819),n(4820),n(4821),n(4822),n(4823),n(4824),n(4825)},function(e,t){var n=!1;ns.View.define("context-menu-mixin-base",{methods:{_insertCustomIcon:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"context-menu-MainToolbar-icon";return yr.run("mail",{icon:e},t)},_cmBaseBindMenuableElements:function(e){n||(n=!0);var t=e.$node;this.__$bindedNode=t,this.__mMessagesChecked=e.mMessagesChecked,t.on("mousedown.context-menu",e.selector,this.__cmBaseOnMouseDown.bind(this)).on("contextmenu.context-menu",e.selector,this.__cmBaseOnContextMenu.bind(this))},_cmBaseUnbindMenuableElements:function(){this.__$bindedNode&&(this.__$bindedNode.off(".context-menu"),this.__$bindedNode=null)},__cmBaseOnMouseDown:function(e){2===e.button&&$(e.currentTarget).addClass("no-user-select")},__cmBaseOnContextMenu:function(e){e.stopPropagation(),e.preventDefault(),this.__showContextMenu(e)}}})},function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e){return s(e)||a(e)||o()}function o(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function a(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function s(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}Object.defineProperty(t,"__esModule",{value:!0});var u=n(421),c=n(139),l=(n.n(c),n(927)),d=(n.n(l),n(363));ns.View.edefine("context-menu-mixin-messages",{methods:{__showContextMenu:function(e){$(e.currentTarget).closest(".js-messages-item-checkbox-controller").hasClass("is-checked")||ns.events.trigger("daria:vMessages:deselect"),this.__cmMessagesPrepareToShowMenu(e).show({x:e.pageX,y:e.pageY,$scrollContainer:Daria.is3pane()?$(".b-layout__inner_type_messages:visible"):null}),$(".js-messages-scroll-area").one("scroll",(function(){Daria.ContextMenu.close()}))},__cmMessagesPrepareToShowMenu:function(e){var t=this;Jane.watcher.set("messages-context-menu:opened",!0),clearTimeout(this.__deferredCloseTimeout),this.__preventDeselect=!1,this.__$onMessage=$(e.currentTarget);var n=this.__isThread=this.__$onMessage.hasClass("js-thread");this.__originalMid=this.__$onMessage.data("id");var r=this.__originalMid;/^t/.test(r)&&(r=r.substr(1)),this.__mid=r,Daria.is3pane()&&this.__toggleMessagesSelectionSuppression(!0);var i=!1,o=this.__mMessagesChecked.getIds();if(o.tids.length+o.ids.length>0?(!n&&!_.contains(o.ids,r)||n&&!_.contains(o.tids,r))&&(i=!0):i=!0,i){this.__isNeedDeselect=!0;ns.Model.get("messages-checked").check(ns.Model.get("message",{ids:this.__originalMid}),!0)}return new Daria.ContextMenu({items:this.__getContextMenuItems(),metrika:"Письма",onClose:function(){Jane.watcher.set("messages-context-menu:opened",!1),t.__toggleMessagesSelectionSuppression(!1),Daria.is3pane()&&i&&(t.__deferredCloseTimeout=_.defer((function(){t.__preventDeselect||(t.__preventDeselect=!1)})))}})},__toggleMessagesSelectionSuppression:function(e){Jane.watcher.set("Daria:vMessagesSelection.dontChangeViewToBatchOperation",e)},__getContextMenuItems:function(){var e,t=this,n=this.__extractButtonsFromToolbar(),r=[],i=ns.page.current.params.current_folder;i&&(e=ns.Model.get("folders").getFolderById(i).symbol);var o=this.__mMessagesChecked.getIds();r.push({type:"separator",index:8.9});var a=this.__hasReplyLaterMessages();if(r.push({text:i18n("%Folders_Dropdown_Label"),customIcon:this._insertCustomIcon("Folder"),index:9,metrika:"Переложить в папку",items:a?null:this.__getFoldersMenuItems(),isActive:!a}),!_.contains(c.LabelDisabledFolders,e)){var s=this.__getLabels(),u=this.__processLabels(s.label,"label",0),l=this.__processLabels(s.unLabel,"unlabel",500);u.push({type:"separator",index:998.9}),u.push({text:i18n("%Labels_Dropdown_Add"),index:999,metrika:"Создать метку",onClick:function(){t.__preventDeselect=!0,ns.action.run("labels.add",{contextMenu:!0,isNeedDeselect:t.__isNeedDeselect})}});var d=u;l.length&&(d.push({type:"separator",index:489},{text:i18n("%Labels_Dropdown_Unlabel_Title"),index:490,isActive:!1}),d.push.apply(d,l)),r.push({text:i18n("%Labels_Dropdown_Label"),customIcon:this._insertCustomIcon("Tag"),index:10,items:d})}if(r.push({type:"separator",index:10.1}),(1===o.ids.length+o.tids.length||0===o.ids.length&&1===o.tids.length&&this.__isThread)&&(r.push({text:i18n("%Messages_Context_Menu_Open_Tab"),index:1,metrika:"Открыть в новом окне",onClick:function(){var e,n=t.__$onMessage;e=t.__isThread?n.find(".b-messages__thread-count"):n.find(".js-message-snippet"),window.open(e.attr("href"))}}),r.push({type:"separator",index:1.1})),0===o.tids.length&&1===o.ids.length){var f=this.__$onMessage.find('A[href*="print"]');f.length&&r.push({text:i18n("%Message_Print"),index:100,metrika:"Печать",onClick:function(){window.open(f.attr("href"))}})}var p=ns.Model.get("message",{ids:this.__originalMid});if(1===o.tids.length&&0===o.ids.length||0===o.tids.length&&1===o.ids.length){var g=p.get(".fid"),h=ns.Model.get("folders").getFolderById(g).symbol;_.contains(c.DraftLikeFolders,h)||r.push({text:i18n("%Messages_Context_Menu_Create_Filter"),index:14,metrika:"Настроить фильтр",onClick:function(){ns.page.go(ns.router.generateUrl("setup",{tab:"filters-create",message:t.__$onMessage.attr("data-id")}))},isActive:!a})}return r.push.apply(r,n),r},__getFoldersMenuItems:function(){var e=this,t=this.__getCurrentFolder(),n=this.__getFolders(t.fid,Daria.areFoldersTabsEnabled());if(Daria.areFoldersTabsEnabled()){n=[].concat(i(this.__getTabs(t.tabId)),i(n))}var r=0,o=n.map((function(e){return{id:e.tabId||e.fid,text:e.name,alt:e.name,isActive:!e.isCurrent,addClass:e.isCurrent?"is-current":"",style:"padding-left:"+(e.level+2)+"em",index:r++,metrika:"Переложить в папку",onClick:function(){var t={fid:e.fid};e.tabId&&(t.tabId=e.tabId),ns.action.run("move",t)}}}));return o.push({type:"separator",index:998.9}),o.push({text:i18n("%Folders_Dropdown_Add"),index:999,metrika:"Новая папка",onClick:function(){e.__preventDeselect=!0,ns.action.run("folders.add",{contextMenu:!0,isNeedDeselect:e.__isNeedDeselect})}}),o},__processLabels:function(e,t,n){var r=this,i=ns.Model.get("labels"),o=i.getImportantLID(),a=n;return e.reduce((function(e,s){var u=s===o,c=i.getLabelById(s),l=u?yr.run("mail",{icon:"Important"},"context-menu-MainToolbar-icon"):yr.run("mail",{color:c.color},"context-menu-label-custom-icon"),d=["метка",u?"флажок":"пользовательская метка"];return d=d.concat("label"===t?"проставление":"снятие"),e.push({id:s,text:c.name,alt:c.name,index:u?a-1:++n,customIcon:l,metrika:d,onClick:function(){r._onToolbarButton(t,{lid:s})}}),e}),[])},__extractButtonsFromToolbar:function(){function e(){this._triggerAction&&(n._onToolbarButton(this._triggerAction,{},{refreshImmediately:!0}),-1!==["remove","tospam","notspam"].indexOf(this._triggerAction)||l.HooksManager.instance().hasHandler(this._triggerAction)||ns.events.trigger("daria:vMessages:deselect"))}var t,n=this,i=(t={},r(t,Daria.Constants.TOOLBAR_BUTTONS.DELETE,{text:i18n("%Удалить"),customIcon:this._insertCustomIcon("Delete"),index:2,metrika:"Удалить",onClick:e,_triggerAction:"remove"}),r(t,Daria.Constants.TOOLBAR_BUTTONS.REPLY,{text:i18n("%Toolbar_Ответить"),customIcon:this._insertCustomIcon("Reply"),index:3,metrika:"Ответить",onClick:this.__onReplyClick.bind(this)}),r(t,Daria.Constants.TOOLBAR_BUTTONS.REPLY_ALL,{text:i18n("%Toolbar_Ответить_всем"),customIcon:this._insertCustomIcon("Replyall"),index:4,metrika:"Ответить всем",onClick:this.__onReplyClick.bind(this,{isReplyAll:!0})}),r(t,Daria.Constants.TOOLBAR_BUTTONS.DRAFT_FINISH,{text:i18n("%Toolbar_Дописать"),customIcon:this._insertCustomIcon("Compose"),index:3,metrika:"Дописать",onClick:function(){var e=n.__$onMessage.attr("data-id");ns.page.go(ns.router.generateUrl("compose2",{ids:e}))}}),r(t,Daria.Constants.TOOLBAR_BUTTONS.FORWARD,{text:i18n("%Toolbar_Переслать"),customIcon:this._insertCustomIcon("Forward"),index:5,metrika:"Переслать",onClick:function(){if(Object(d.getPddRestrictModel)().isRestricted)return Object(d.getPddRestrictModel)().showPopup();Daria.startScenarioForCompose(u.g);var e={};e.mMessagesChecked=ns.Model.get("messages-checked"),ns.action.run("forward",e)}}),r(t,Daria.Constants.TOOLBAR_BUTTONS.MARK_AS_READ,{text:i18n("%Toolbar_Прочитано"),customIcon:this._insertCustomIcon("Read"),index:6,metrika:"Прочитано",onClick:e,_triggerAction:"mark"}),r(t,Daria.Constants.TOOLBAR_BUTTONS.MARK_AS_UNREAD,{text:i18n("%Toolbar_Не_прочитано"),customIcon:this._insertCustomIcon("Unread"),index:6,metrika:"Не прочитано",onClick:e,_triggerAction:"unmark"}),r(t,Daria.Constants.TOOLBAR_BUTTONS.SPAM,{text:i18n("%Folder_spam"),customIcon:this._insertCustomIcon("Spam"),index:7,metrika:"Спам",onClick:e,_triggerAction:"tospam"}),r(t,Daria.Constants.TOOLBAR_BUTTONS.NOT_SPAM,{text:i18n("%Toolbar_Не_спам"),customIcon:this._insertCustomIcon("Unspam"),index:7,metrika:"Не спам",onClick:e,_triggerAction:"notspam"}),r(t,Daria.Constants.TOOLBAR_BUTTONS.ARCHIVE,{text:i18n("%Folder_archive"),customIcon:this._insertCustomIcon("Archive"),index:8,metrika:"Архив",onClick:function(){Daria.MOPS.archive(n.__mMessagesChecked).then((function(){n.__mMessagesChecked.resetChecked()}))},isActive:!this.__hasReplyLaterMessages()}),r(t,Daria.Constants.TOOLBAR_BUTTONS.MARK_IMPORTANT,{text:i18n("%Labels_Toolbar_Important"),customIcon:this._insertCustomIcon("MarkImportant"),index:9,metrika:["Важное","проставление"],onClick:function(){var e=ns.Model.get("labels").getImportantLID();n.__mMessagesChecked.runAction("label",{lid:e})}}),r(t,Daria.Constants.TOOLBAR_BUTTONS.MARK_UNIMPORTANT,{text:i18n("%Labels_Toolbar_Important"),customIcon:this._insertCustomIcon("MarkUnimportant"),index:9,metrika:["Важное","снятие"],onClick:function(){var e=ns.Model.get("labels").getImportantLID();n.__mMessagesChecked.runAction("unlabel",{lid:e})}}),t),o=[];return this.__getButtonsIds().forEach((function(e){e in i&&o.push(i[e])})),o},__getButtonsIds:function(){var e=ns.Model.get("folders"),t=null;ns.page.current.params.current_folder&&(t=e.getFolderById(ns.page.current.params.current_folder).symbol);var n=[Daria.Constants.TOOLBAR_BUTTONS.DELETE];this.__mMessagesChecked.getCount()<=Daria.Constants.MAX_MESSAGES_TO_FORWARD&&t!==c.WellKnownFolderSymbol.TEMPLATE&&n.push(Daria.Constants.TOOLBAR_BUTTONS.FORWARD);var r=this.__mMessagesChecked.getIds();r.ids.concat(r.tids).some((function(t){var n=ns.Model.get("message",{ids:t});if(!n.hasRealData())return!1;var r=e.getFolderById(n.get(".fid")).symbol;return!_.contains(c.SpamDisabledFolders,r)}))?n.push(Daria.Constants.TOOLBAR_BUTTONS.SPAM):t===c.WellKnownFolderSymbol.SPAM&&n.push(Daria.Constants.TOOLBAR_BUTTONS.NOT_SPAM),t!==c.WellKnownFolderSymbol.ARCHIVE&&n.push(Daria.Constants.TOOLBAR_BUTTONS.ARCHIVE),t!==c.WellKnownFolderSymbol.TEMPLATE&&(this.__hasUnreadMessages()?n.push(Daria.Constants.TOOLBAR_BUTTONS.MARK_AS_READ):n.push(Daria.Constants.TOOLBAR_BUTTONS.MARK_AS_UNREAD));var i=!1,o=!0;if(1===r.ids.length){var a=ns.Model.get("message",{ids:r.ids[0]});if(!a.hasRealData())return!1;var s=e.getFolderById(a.get(".fid")).symbol;i=_.contains(c.DraftTemplateLikeFoldersShort,s),o=!i}return(1===r.ids.length&&0===r.tids.length||0===r.ids.length&&1===r.tids.length)&&o&&(n.push(Daria.Constants.TOOLBAR_BUTTONS.REPLY),n.push(Daria.Constants.TOOLBAR_BUTTONS.REPLY_ALL)),i&&n.push(Daria.Constants.TOOLBAR_BUTTONS.DRAFT_FINISH),n},__getCurrentFolder:function(){var e=this.__mMessagesChecked.getIds(),t={tabId:null,fid:null};return[].concat(i(e.ids),i(e.tids)).some((function(e){var n=ns.Model.get("message",{ids:e});if(n.isThread())return!0;if(Daria.areFoldersTabsEnabled()&&n.isInTab()){var r=n.getTabId();if(t.fid||t.tabId&&t.tabId!==r)return!0;t.tabId=r}else{var i=n.getFolderId();if(t.tabId||t.fid&&t.fid!==i)return!0;t.fid=i}}))?{fid:null,tabId:null}:t},__getFolders:function(e,t){var n=ns.Model.get("folders"),r=n.getHierarchyStructure((function(e){return!_.contains([c.WellKnownFolderSymbol.OUTBOX],e.symbol)&&"1000"!==e.fid}),t),i=r.filter((function(e){return!e.symbol||!c.FoldersDisabledMoveInto.includes(e.symbol)}));return this.__processItems(i,e)},__getTabs:function(e){return ns.Model.get("tabs").getTabs().map((function(t){return{name:t.get(".title"),tabId:t.get(".id"),fid:ns.Model.get("folders").getFidBySymbol(c.WellKnownFolderSymbol.INBOX),isCurrent:t.get(".id")===e,level:0}}))},__processItems:function(e,t,n,r){var i=this;return r=r||[],n=n||0,e.forEach((function(e){r.push({name:e.name,fid:e.fid,isSystem:Boolean(!e.user||e.symbol),isCurrent:e.fid===t,level:n}),e.items&&i.__processItems(e.items,t,n+1,r)})),r},__getLabels:function(){var e=this.__getUserLabelHash(),t=[],n=[];return e.labels.forEach((function(r){r.count!==e.count&&t.push(r.lid),r.count&&n.push(r.lid)})),{label:t,unLabel:n}},__getUserLabelHash:function(){var e=[],t={},n=ns.Model.get("labels"),r=n.getImportantLID(),i=ns.Model.get("settings").getSetting("label_sort");n.data.label.forEach((function(n){if(n.user||n.lid===r){var i={name:n.name,lid:n.lid,count:0,allCount:n.count};t[n.lid]=i,e.push(i)}})),e="by_count"===i?e.sort((function(e,t){return t.allCount-e.allCount})):_.sortBy(e,"name");var o=this.__mMessagesChecked.getCount(),a=this.__mMessagesChecked.getLabels();return _.forEach(a,(function(e,n){t[n]&&(t[n].count=e)})),{count:o,labels:e}},__hasUnreadMessages:function(){var e=this.__mMessagesChecked.getIds();return e.ids.concat(e.tids.map((function(e){return e}))).some((function(e){var t=ns.Model.get("message",{ids:e});return t&&t.get(".new")}))},__hasReplyLaterMessages:function(){var e=this.__mMessagesChecked.getIds();return e.ids.concat(e.tids.map((function(e){return e}))).some((function(e){var t=ns.Model.get("message",{ids:e});return t&&t.isReplyLaterStarted()}))},__replyClickDataPreparation:function(e){return new vow.Promise(function(t,n){ns.Model.get("message",{ids:e}).isThread()?ns.request("messages",{thread_id:e}).then((function(e){var r=e[0].getLastReplyMessageQR();r?t(r.get(".mid")):n()})):t(e)})},__onReplyClick:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.isReplyAll,n=void 0!==t&&t,r=this.__$onMessage.attr("data-id");if(r){if(Object(d.getPddRestrictModel)().isRestricted)return Object(d.getPddRestrictModel)().showPopup();Daria.startScenarioForCompose(u.m);var i=this.__replyClickDataPreparation(r);i.always((function(){ns.events.trigger("daria:vMessages:deselect")})),i.then((function(e){var t=ns.router.generateUrl("compose2",{oper:n?"reply-all":"reply",ids:e});ns.page.go(t)}))}}}},"context-menu-mixin-base",ns.View)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(139);n.n(r);ns.View.edefine("context-menu-mixin-left-panel",{methods:{__showContextMenu:function(e){var t=this;e.preventDefault();var n=$(e.currentTarget);n.removeClass("no-user-select");var r=new Daria.ContextMenu({items:this.__getContextMenuItems({$item:n,url:this.__leftPanelExtractUrl(e),id:this.__extractId(n)}),onClose:function(){t.__toggleHoverClass(n,!1)},metrika:this.__metrika});this.__toggleHoverClass(n,!0),r.show({x:e.pageX,y:e.pageY,$scrollContainer:null}),$(".js-layout-left").one("scroll.context-menu-close",(function(){Daria.ContextMenu.close()}))},__toggleHoverClass:no.nop,__leftPanelExtractUrl:function(e){return $(e.target).closest("A[href]").attr("href")},__cmLeftPanelGetContextMenuItems:function(e){return[{text:i18n("%Messages_Context_Menu_Open_Tab"),index:1,metrika:"Открыть в новом окне",onClick:function(){window.open(e.url)}},{type:"separator",index:2},{text:i18n("%Messages_Context_Menu_New_Folder"),customIcon:this._insertCustomIcon("Folder"),index:3,metrika:"Создать новую папку",onClick:function(){var t=Daria.parseQuery(e.$item.attr("data-params")).fid,n=ns.Model.get("folders"),i=n.getFolderById(t);i&&(i.symbol||i.shared)&&(t=n.getFidBySymbol(r.WellKnownFolderSymbol.INBOX)),ns.action.run("folders.add",{"only-create":!0,parent_id:t})}},{text:i18n("%Messages_Context_Menu_New_Label"),customIcon:this._insertCustomIcon("Tag"),index:4,metrika:"Создать новую метку",onClick:function(){ns.action.run("labels.add",{"only-create":!0})}},{type:"separator",index:5},{text:i18n("%Messages_Context_Menu_Folders_Setup"),index:6,metrika:"Настройки папок и меток",onClick:function(){var e=ns.router.generateUrl("setup",{tab:"folders"});ns.page.go(e)}}]}}},"context-menu-mixin-base",ns.View)},function(e,t){ns.View.edefine("context-menu-mixin-labels",{methods:{__metrika:"Метки",__extractId:function(e){return Daria.parseQuery(e.attr("data-params")).lid},__toggleHoverClass:function(e,t){e.toggleClass("is-checked",t)},__getContextMenuItems:function(e){var t=this.__cmLeftPanelGetContextMenuItems.call(this,e);if(e.id){ns.Model.get("labels").getLabelById(e.id).user&&t.push({text:i18n("%LabelsMenu_Edit_Button"),customIcon:this._insertCustomIcon("Edit"),index:2.4,metrika:"Переименовать метку",onClick:function(){ns.action.run("label.edit",{id:e.id,"only-edit":!0})}}),t.push({text:i18n("%Labels_Remove_Button"),customIcon:this._insertCustomIcon("Delete"),index:2.5,metrika:"Удалить метку",onClick:function(){ns.action.run("label.remove",{id:e.id})}}),t.push({type:"separator",index:2.9})}return t}}},"context-menu-mixin-left-panel",ns.View)},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(139);n.n(r);ns.View.edefine("context-menu-mixin-folders",{methods:{__metrika:"Папки",__extractId:function(e){return Daria.parseQuery(e.attr("data-params")).fid},__toggleHoverClass:function(e,t){e.toggleClass("mail-NestedList-Item_hover",t)},__getContextMenuItems:function(e){var t=this.__cmLeftPanelGetContextMenuItems.call(this,e);if(e.id){var n=ns.Model.get("folders"),i=n.getFolderById(e.id);i.user&&!i.symbol&&"1000"!==i.fid&&"1000"!==i.parent_id&&t.push({text:i18n("%Folders_Edit_Button"),customIcon:this._insertCustomIcon("Edit"),index:2.4,metrika:"Переименовать папку",onClick:function(){ns.action.run("folder.edit",{id:e.id,"only-edit":!0})}}),(!i.default&&"1000"!==i.fid&&"1000"!==i.parent_id||Daria.Folder.REMOVABLE_SYMBOLS[i.symbol])&&t.push({text:i18n("%Folders_Remove_Button"),customIcon:this._insertCustomIcon("Delete"),index:2.5,metrika:"Удалить папку",onClick:function(){ns.action.run("folder.remove",{id:e.id})}}),i.new>0&&t.push({text:i18n("%Message_Right_Пометить_все_прочитанными"),customIcon:this._insertCustomIcon("Read"),index:2.3,metrika:"Пометить все письма прочитанными",onClick:function(){Daria.Folder.markRead(e.id)}}),_.contains(r.ClearEnabledFolders,i.symbol)&&i.count>0&&t.push({text:i18n("%Messages_Infoline_Folder_Clear_Spam_Intruder"),customIcon:this._insertCustomIcon("Inbox-CleanFolder","context-menu-icon"),index:2.6,metrika:"Очистить папку",onClick:function(){ns.action.run("folder.clear",{fid:e.id})}}),_.contains([r.WellKnownFolderSymbol.TEMPLATE],i.symbol)&&t.push({text:i18n("%Toolbar_Создать_шаблон"),customIcon:this._insertCustomIcon("AddTemplate"),index:2.7,metrika:"создать шаблон",onClick:function(){ns.page.go(ns.router.generateUrl("compose2",{save_symbol:r.WellKnownFolderSymbol.TEMPLATE}))}}),t.push({type:"separator",index:2.9})}return t}}},"context-menu-mixin-left-panel",ns.View)},function(e,t){ns.View.edefine("context-menu-mixin-collectors",{methods:{__metrika:"Коллектор",__extractId:function(e){return{popid:e.attr("data-popid"),email:e.attr("data-email")}},__toggleHoverClass:no.nop,__getContextMenuItems:function(e){return[{text:i18n("%Messages_Context_Menu_Open_Tab"),index:1,metrika:"Открыть в новом окне",onClick:function(){window.open(e.url)}},{type:"separator",index:1.1},{text:i18n("%Messages_Context_Menu_Edit_Settings"),customIcon:this._insertCustomIcon("Settings","context-menu-icon"),index:2,metrika:"Редактировать",onClick:function(){var t=ns.router.generateUrl("setup",{tab:"collector",popid:e.id.popid,email:e.id.email});ns.page.go(t)}},{type:"separator",index:9.9},{text:i18n("%Messages_Context_Menu_Create_New_Collector"),customIcon:this._insertCustomIcon("AddBtn"),index:10,metrika:"Создать новый сборщик",onClick:function(){var e=ns.router.generateUrl("setup",{tab:"collectors"});ns.page.go(e)}}]}}},"context-menu-mixin-left-panel",ns.View)},function(e,t,n){"use strict";ns.View.edefine("context-menu-mixin-tabs",{events:{"ns-view-show":"onShow","ns-view-hide":"onHide"},methods:{__metrika:"Табы",__extractId:function(e){return Daria.parseQuery(e.attr("data-params")).tabId},__toggleHoverClass:function(e,t){e.toggleClass("mail-NestedList-Item_hover",t)},__getContextMenuItems:function(e){return this.__cmLeftPanelGetContextMenuItems.call(this,e)},onShow:function(){this._cmBaseBindMenuableElements({$node:this.$node,selector:".js-tabs-item"})},onHide:function(){this._cmBaseUnbindMenuableElements()}}},"context-menu-mixin-left-panel",ns.View)},function(e,t){ns.View.define("footer-help-link",{models:{"help-link":{"ns-model-changed":"keepValid","ns-model-changed.href":"invalidate"}},yateModule:"mail"})},function(e,t){ns.View.define("messages-time-updater",{models:{"date-time":{"ns-model-changed":!1,"ns-model-changed.server.date":"updateTime"}},yateModule:"mail",methods:{updateTime:function(){ns.Model.traverse("message",this.updateMessageRelativeTime),ns.Model.traverse("message-body",this.updateMessageRelativeTime),ns.Model.traverse("messages-from-item",this.updateMessageRelativeTime)},updateMessageRelativeTime:function(e){e.isValid()&&e.hasRelativeTime()&&e.updateTime()}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(64);ns.View.define(Daria.getEncryptedView("messages-direct-line-placeholder"),{events:{"ns-view-htmlinit":"onHtmlInit"},yateModule:"mail",methods:{onHtmlInit:function(){if(!Jane.HAS_AD||!Daria.AdvPresenter.shouldShowLine())return void this.$node.addClass("is-hidden");Daria.Config.heightClassForDirect&&this.$node.addClass(Daria.Config.heightClassForDirect);this.node.style="height: ".concat(36,"px !important");var e=Daria.AdBlock.enabled?Daria.getRandomName():"mail-DirectLinePlaceholder";this._addStyles(e),this.node.innerHTML='\n                <div class="'.concat(e,'">\n                    <span class="').concat(e,"-Item ").concat(e,'-Avatar"></span>\n                    <span class="').concat(e,"-Item ").concat(e,'-Title"></span>\n                    <span class="').concat(e,"-Item ").concat(e,'-Spacer"></span>\n                    <span class="').concat(e,"-Item ").concat(e,'-Warning"></span>\n                    <span class="').concat(e,"-Item ").concat(e,'-Extra"></span>\n                </div>\n            ')},_addStyles:function(e){var t=document.createElement("style");t.type="text/css",t.innerHTML="\n                .".concat(e," {\n                    display: flex;\n                    height: 36px;\n                    box-shadow: var(--liza-theme-content-box-shadow);\n                    background: var(--liza-theme-direct-line-bg);\n                    align-items: center;\n                    border-radius: var(--liza-ad-border-radius);\n                    padding: 0 15px 0 4px;\n                    margin: 8px 8px 0 8px;\n                }\n                .").concat(e,"-Item {\n                    display: inline-block;\n                }\n                .").concat(e,"-Avatar {\n                    width: 64px;\n                    height: 28px;\n                    background: linear-gradient(92.73deg, var(--liza-theme-direct-line-gradient-start) 2.28%, var(--liza-theme-direct-line-gradient-end) 164.09%);\n                    border-radius: 6px;\n                    margin-right: 8px;\n                }\n                .").concat(e,"-Title {\n                    width: 100%;\n                    max-width: 387px;\n                    height: 16px;\n                    background: linear-gradient(127.4deg, var(--liza-theme-direct-line-gradient-start) 28.33%, var(--liza-theme-direct-line-gradient-end) 124.84%);\n                    border-radius: 4px;\n                }\n                .").concat(e,"-Spacer {\n                    flex: 1 1 auto;\n                }\n                .").concat(e,"-Warning {\n                    width: 195px;\n                    height: 16px;\n                    background: linear-gradient(274.05deg, var(--liza-theme-direct-line-gradient-start) 80.59%, var(--liza-theme-direct-line-gradient-end) 108.57%);\n                    border-radius: 4px;\n                    transform: rotate(-180deg);\n                    margin-right: 8px;\n                }\n                .").concat(e,"-Extra {\n                    width: 16px;\n                    height: 16px;\n                    background: linear-gradient(108.06deg, var(--liza-theme-direct-line-gradient-start) -11.85%, var(--liza-theme-direct-line-gradient-end) 164.78%);\n                    border-radius: 4px;\n                }\n            "),Object(r.a)(t)}}})},function(e,t){ns.View.define("message-dimensions-mixin",{methods:{getDimensions:function(e){return Daria.is2pane()?this.getDimensions2Pane(e):this.getDimensions3Pane(e)},getDimensions2Pane:function(e){var t,n,r={bottom:0,height:0,top:0};if(e){if(t=this.$node.find(".js-message-body"),0===t.length)return r;n=t.outerHeight()}else t=this.$node,n=t.height();return r.top=t.offset().top,r.height=n,r.bottom=r.top+r.height,r},getDimensions3Pane:function(e){var t,n,r={bottom:0,height:0,top:0};if(!this.node)return r;if(e){if(!(t=this.node.getElementsByClassName("js-message-body")[0]))return r;n=this.node.offsetTop+t.offsetTop}else t=this.node,n=t.offsetTop;return r.height=t.offsetHeight,r.top=n,r.bottom=r.top+r.height,r},isVisibleInScroller:function(e,t){if(t){if(!ns.Model.get("message-body",this.params).isValid())return!1}var n=this.getDimensions(t),r=n.height,i=n.top,o=n.bottom,a=e.top,s=e.bottom;return r>0&&(a<=i&&i<=s||a<=o&&o<=s||a>=i&&o>=s)}}})},function(e,t){!(function(){ns.View.define("fixed-element-in-message-mixin",{events:{"daria:vApp:changeRightColumSize@show":"recalculateHeaderFixedState","daria:vFixedElementInMessageMixin:resize@show":"_fixedElementChangeHeight","daria:vScrollerMessage:scroll@show":"_fixedElementOnWindowScroll","daria:layout-changed@show":"_fixedElementOnWindowScroll","daria:vSidebarWithWidgets:toggleWrapper":"recalculateHeaderFixedState","resize@show window":"recalculateHeaderFixedState","scroll@show window":"recalculateHeaderFixedState"},methods:{_fixedElementHeader:!1,fixedElementStart:function(){this.getModel("scroller-message").init(),this._fixedElementSetFixed3PaneHeader()},lazyFixedRecalc:function(){_.defer(this.fixedElementStart.bind(this))},fixedElementStop:function(){this._fixedElementReset3PaneHeader(),this._fixedElementHeader=!1},_fixedElementOnWindowScroll:function(){Daria.is3pane()?this._checkFixedState():Daria.isMessagePage()||this._fixedElementRecalcStickyHeader()},_checkFixedState:function(){var e=this.$node.find(".js-thread-toolbar"),t=this.getModel("scroller-message").getScrollTop(),n=t>0;this._fixedElementHeader!==n&&(this._fixedElementHeader=n,e.toggleClass("is-fixed",n))},_fixedElementRecalcStickyHeader:function(){var e=this.getModel("scroller-message").getScrollTop(),t=this.$node.offset(),n=e>t.top;if(n){var r=this.$node.closest(".js-cbt-item").height();r||(r=this.$node.height()),t.top+r<e+60&&(n=!1)}this._fixedElementToggleFixedHeader(n,t)},_fixedElementSetFixed3PaneHeader:function(){if(!Daria.is2pane()){var e=this.$node.find(".js-thread-toolbar");e.css("position","absolute");var t=this.$node.offset(),n=this.$node.outerWidth();e.css({position:"fixed",left:this._$window.scrollLeft()>0?this.node.getBoundingClientRect().left:t.left,top:this.getModel("scroller-message").getScroller().offset().top,width:n,"z-index":10});var r=this.$node.find(".js-mail-Message-Toolbar-Content").outerHeight();this.$node.css({paddingTop:r}),this._fixedElementChangeHeight()}},_fixedElementReset3PaneHeader:function(){var e=this.$node.find(".js-thread-toolbar"),t=this.$node.find(".js-mail-Message-Toolbar-Content");e.length&&(e[0].style.cssText="",e.removeClass("is-fixed")),t.length&&(t[0].style.cssText=""),this.$node.length&&(this.$node[0].style.cssText="")},_fixedElementToggleFixedHeader:function(e,t){this._fixedElementHeader=e;var n=this.$node.find(".js-thread-toolbar"),r=n.find(".js-mail-Message-Toolbar-Content"),i=n.width();r.css({left:e?this._$window.scrollLeft()>0?this.node.getBoundingClientRect().left:t.left:"",width:e?i:""}),n.toggleClass("is-fixed",e)},_fixedElementChangeHeight:function(){var e=this.$node,t=e.find(".js-mail-Message-Toolbar-Content").outerHeight();e.find(".js-thread-toolbar").css({height:t}),Daria.is3pane()&&e.css({paddingTop:t})},recalculateHeaderFixedState:function(){Daria.is2pane()?this._fixedElementOnWindowScroll():this._fixedElementSetFixed3PaneHeader()}}})})()},function(e,t){ns.View.define("preserve-scroll-position-mixin",{events:{"vMessages:items-list-will-update@show":"_saveScrollPosition","vMessages:items-list-updated@show":"_restoreScrollPosition"},methods:{_shouldPreserveScrollPosition:!1,_offsetTop:null,_saveScrollPosition:function(){this._shouldPreserveScrollPosition&&(this._offsetTop=this.$node.offset().top-this._$document.scrollTop())},_restoreScrollPosition:function(){null!==this._offsetTop&&(this._$document.scrollTop(this.$node.offset().top-this._offsetTop),this._offsetTop=null)}}})},function(e,t){ns.View.define("fixed-message-toolbar-mixin",{events:{"daria:vScrollerMessage:scroll@show":"_fixedToolbar","daria:layout-changed@show":"_fixedToolbar","daria:vMessageToolbar:toolbar-didRendered":"_fixedToolbar","daria:vApp:changeRightColumSize@show":"_fixedToolbar","ns-view-htmlinit":"onInit","resize@show window":"_fixedToolbar","scroll@show window":"_fixedToolbar"},methods:{onInit:function(){var e=Daria.is2pane()?".js-cbt-item":".js-message-scroll-area";this.$header=this.$node.closest(e).find(".js-thread-toolbar"),0===this.$header.length&&Daria.isMessagePage()&&(this.$header=this.$node.find(".js-thread-toolbar")),this.$headerHeight=this.$header.height()||0,this.$messageHead=this.$node.find(".js-message-head"),this.getMessageToolbar()},getMessageToolbar:function(){this.$toolbar=this.$node.find(".js-message-toolbar-content")},_fixedToolbar:function(){if(this.$messageHead&&this.$messageHead.length){this.getMessageToolbar();var e=this.getModel("scroller-message"),t=e.getScrollTop(),n=this.isVisibleInScroller(e.getVDimensions(),!1);if(this.isOpen()&&n){var r=this.getDimensions(!1),i=r.top+16,o=r.bottom-this.$toolbar.height()-60;Daria.isMessagePage()?i+=this.$headerHeight:(i-=this.$headerHeight,i+=this.$messageHead.height());var a=t>i&&t<=o;this._toggleFixed(a)}else this._toggleFixed(!1)}},_toggleFixed:function(e){if(e){var t=this.$node.offset(),n=this.$node.width(),r=this.$headerHeight;Daria.is3pane()&&(r+=this.getModel("scroller-message").getScroller().offset().top),this.$toolbar.css({left:this._$window.scrollLeft()>0?this.node.getBoundingClientRect().left:t.left,top:r,width:n})}else this.$toolbar&&this.$toolbar[0]&&(this.$toolbar[0].style.cssText="");this.$toolbar.toggleClass("is-fixed",e)},resetFixedToolbar:function(){this._toggleFixed(!1)}}})},function(e,t){ns.View.define("go-to-replied-message-mixin",{events:{"click .js-go-to-replied-message":"goToRepliedMessage"},methods:{goToRepliedMessage:function(){var e={mid:this.params.ids},t=this.getModel("message").get(".message_id");return t&&(e.message_id=t),ns.request(["message-in-reply-to-ng"],e).then((function(e){var t=e.length&&e[0].getLastMessage(),n=t&&t.mid;if(n){var r=ns.router.generateUrl("message",{ids:n});ns.page.go(r)}})),!1}}})},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(804),s=(n.n(a),n(662)),u=n(363),c=Object(u.getStatusline)()&&Object(u.getStatusline)().MultipleEmailsSelected;ns.View.edefine("infoline",{events:{"ns-view-show":"onShow","ns-view-hide":"onHide","daria:vMessagesItemWrap:message-closed":"onToggleOpenMessage","daria:vToolbar:message-opened":"onToggleOpenMessage"},models:{"messages-checked":{"ns-model-changed":"onMessagesCheckedChanged"}},yateModule:"mail",ctor:function(){this._isMessageOpened=!1,this._isVisible=!1,this.onMessagesCheckedChanged=function(){_.defer(this._onMessagesCheckedChanged.bind(this))}},params:function(e){var t=["thread_id","ids","important"];for(var n in e)_.include(t,n)&&delete e[n];var r={};return Object.keys(e).sort().forEach((function(t){r[t]=e[t]})),r},methods:{onShow:function(){this.toggleVisibility()},onHide:function(){this._isVisible=!1,this.toggleStatusline()},onDeselectAllClick:function(){this.getModel("messages-checked").resetChecked()},toggleStatusline:function(){var e=this,t=Object(u.getStatuslineBridge)();t&&(this._isVisible?t.show({name:a.StatuslineName.MultipleEmailsSelected,renderContent:function(t){return Object(s.b)(c,i({},t,{count:e.getCount(),onClose:e.onDeselectAllClick.bind(e),onSelectFolderClick:e.onSelectFolderClick.bind(e),showSelectAllLink:e.showSelectAllLink(),isSelectAllLinkDisabled:e.getModel("messages-checked").areAllCheckedInFolderOrTab()}))}}):t.hide(a.StatuslineName.MultipleEmailsSelected))},toggleVisibility:function(){var e=this.getModel("messages-checked");this._isVisible=e.canShowInfoline(),this._isVisible&&(this._isVisible=!(this._isVisible&&this._isMessageOpened)),this._isVisible&&e.atrigger("ns-model-reset-checked"),this.toggleStatusline()},_onMessagesCheckedChanged:function(){this.toggleVisibility()},getCount:function(){var e=this.getModel("messages-checked"),t=e.getSelectedFolder(),n=e.getSelectedTab();return n?ns.Model.get("tab",{id:n}).getCount():t?ns.Model.get("folders").getCount(t):e.getCount()},onToggleOpenMessage:function(e){switch(e){case"daria:vMessagesItemWrap:message-closed":this._isMessageOpened=!1;break;case"daria:vToolbar:message-opened":this._isMessageOpened=!0}Daria.is2pane()&&this.toggleVisibility()},onSelectFolderClick:function(){var e=this.getModel("messages-checked");e.resetChecked(),e.selectFolder(),e.selectTab()},showSelectAllLink:function(){var e=ns.page.current.params;return Boolean(e.current_folder)||Boolean(e.tabId)}}})},function(e,t){ns.ViewCollection.edefine("notifications",{events:{"wheel .js-notifications-scroll":"onMouseWheel","mouseleave .js-notifications-scroll":"onMouseLeave","mouseenter .js-notifications-fake":"loadMore"},models:{notifications:{"ns-model-changed":"keepValid","ns-model-changed.queue":"onQueueUpdate","ns-model-insert":"forceUpdate","ns-model-remove":"onItemRemove"},"notifications-state":{"ns-model-changed":"keepValid","ns-model-changed.expanded":"onExpandedChange"}},split:{byModel:"notifications",intoViews:"notifications-item"},yateModule:"mail",methods:{DELAY_BEFORE_HIDE_FAKE:150,getScrollContent:function(e){return $(e.target).closest(".js-notifications-scroll")[0]},onExpandedChange:function(){var e=this.getModel("notifications-state").isExpanded();this.$node.toggleClass("is-expanded",e),e||this.getModel("notifications").insertFromQueue()},onMouseLeave:function(){this.$node.find(".js-notifications-scroll").scrollTop(0),this.getModel("notifications-state").collapse()},onMouseWheel:function(e){e.originalEvent.deltaY<0&&this.loadMore(),this.onWheel(e)},onItemRemove:function(){var e=this.getModel("notifications"),t=this.getModel("notifications-state");!e.hasNotifications()&&t.isExpanded()&&t.collapse(),this.forceUpdate()},loadMore:function(){this.getModel("notifications").insertFromQueue()},onQueueUpdate:function(){var e=this.$node.find(".js-notifications-fake");this.getModel("notifications").hasNotificationsInQueue()?e.addClass("is-show"):_.delay((function(){e.removeClass("is-show")}),this.DELAY_BEFORE_HIDE_FAKE)}}},"prevent-scroll-propagation-mixin",ns.ViewCollection)},function(e,t){ns.View.define("notifications-item",{events:{"ns-view-show":"onShow",click:"onClick","click .js-remove":"onRemoveClick",mouseenter:"onMouseEnter"},models:{"notifications-item":"keepValid","notifications-state":{"ns-model-changed":"keepValid","ns-model-changed.expanded":"recalculateShowTimer"}},params:{id:null},ctor:function(){this.startTimerTime=0,this.stopTimerTime=0,this.timerId=null},yateModule:"mail",methods:{MIN_TIME_TO_SHOW:1e3,TIME_TO_SHOW:3e3,TIME_TO_SHOW_VIP:6e3,DELAY_BEFORE_REMOVE:300,DELAY_BEFORE_VIP_ANIMATION:400,onShow:function(){var e=this,t=this.getModel("notifications-item").isVIP(),n=this.getModel("notifications-state").isExpanded();_.defer((function(){e.$node.addClass("is-showed")})),t&&!n&&_.delay((function(){e.$node.addClass("is-vip")}),this.DELAY_BEFORE_VIP_ANIMATION),n||(this.startTimerTime=Date.now(),this.startShowTimer(t?this.TIME_TO_SHOW_VIP:this.TIME_TO_SHOW)),this.sendMetric("Показ")},startShowTimer:function(e){this.timerId=setTimeout(this.remove.bind(this),e)},clearShowTimer:function(){this.timerId&&(this.stopTimerTime=Date.now(),clearTimeout(this.timerId))},onClick:function(){this.getModel("notifications-item").isCalendarEvent()||(this.remove(),this.getModel("notifications-state").collapse()),this.sendMetric("Клик на нотификацию")},onRemoveClick:function(e){e.preventDefault(),e.stopPropagation(),this.clearShowTimer(),this.remove()},remove:function(){if(this.isValid()){this.$node.addClass("is-removed");var e=this.getModel("notifications-item");_.delay((function(){ns.Model.get("notifications").remove(e)}),this.DELAY_BEFORE_REMOVE)}},onMouseEnter:function(){this.getModel("notifications-state").isExpanded()||this.getModel("notifications-state").expand()},recalculateShowTimer:function(){if(this.getModel("notifications-state").isExpanded())this.clearShowTimer();else{var e=this.stopTimerTime-this.startTimerTime,t=Math.max(this.TIME_TO_SHOW-e,this.MIN_TIME_TO_SHOW);this.startTimerTime||(this.startTimerTime=Date.now()),this.startShowTimer(t)}},sendMetric:function(e){Jane.c("Нотификации","Нотификации-оповещения",e)}}})},function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function r(e){return function(){var t=this,r=arguments;return new Promise(function(i,o){function a(e){n(u,i,o,a,s,"next",e)}function s(e){n(u,i,o,a,s,"throw",e)}var u=e.apply(t,r);a(void 0)})}}!(function(){"use strict";function e(e){return"on"===e||!0===e}ns.View.define("browser-notifications",{events:{"ns-view-init":"onInit","daria:PushManager:permissionResolved@show":"onPermissionResolved","daria:PushManager:permissionConverted@show":"onPermissionConverted","daria:PushManager:subscriptionUpdated@show":"onSubscriptionUpdated","daria:folder-add-done":"onFolderCreation"},models:{settings:{"ns-model-changed":!1,"ns-model-changed.browser_notify_message":"updateSubscription","ns-model-changed.open-message-list":"updateServiceWorkerSettings","ns-model-changed.folder_thread_view":"updateServiceWorkerSettings","ns-model-changed.browser_notify_blank":"updateServiceWorkerSettings","ns-model-changed.layout":"updateServiceWorkerSettings","ns-model-changed.subscribed_folders":"updateSubscriptions","ns-model-changed.subscribed_tabs":"updateSubscriptions"},folders:!1},yateModule:"mail",methods:{onInit:function(){if(!Daria.Config.NO_SETTINGS){var e=ns.Model.get("checkbox-tree-state"),t=e.syncronizeInboxBetween(Daria.areFoldersTabsEnabled());e.shouldSyncronizeInbox(t)?e.resubscribeOnFoldersTabsNotifications(t):this._checkSubscription(this.isEnabled())}},isEnabled:function(){var e=this.getModel("settings"),t=e.get(".browser_notify_message"),n=e.get(".browser_notify_requested");return t||!n&&Daria.IS_CORP},onSubscriptionUpdated:(function(){function e(e,n){return t.apply(this,arguments)}var t=r(regeneratorRuntime.mark((function e(t,n){var r,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=this.getModel("settings"),i=r.getSetting("subscribed_folders")||"",o=r.getSetting("subscribed_tabs")||"",a={},i.replace(/&quot;/g,'"')!==n.folders&&Object.assign(a,{subscribed_folders:n.folders}),o.replace(/&quot;/g,'"')!==n.tabs&&Object.assign(a,{subscribed_tabs:n.tabs}),!Object.keys(a).length){e.next=9;break}return e.next=9,r.setSettings(a,{silent:!0});case 9:case"end":return e.stop()}}),e,this)})));return e})(),onPermissionResolved:function(e,t){this.keepValid();var n=this.getModel("settings"),r=this._fillSubscriptionSettings({browser_notify_requested:!0},t),i=!0;n.setSettings(r).catch((function(){return i=!1})).then((function(){return Daria.monitoring.workflow.ipush(Object.assign({action:"requested",saved:i},r))}))},onPermissionConverted:function(e,t){this.keepValid();var n=this.getModel("settings"),r=this._fillSubscriptionSettings({browser_notify_converted:!0},t),i=!0;n.setSettings(r).catch((function(){return i=!1})).then((function(){return Daria.monitoring.workflow.ipush(Object.assign({action:"converted",saved:i},r))}))},_fillSubscriptionSettings:function(e,t){var n=this.getModel("settings"),r=n.get(".browser_notify_message"),i=t!==Daria.PushManager.PERMISSION.SKIPPED,o=t===Daria.PushManager.PERMISSION.GRANTED;return i&&!r&&o&&(e.browser_notify_message=o,e.subscribed_folders=JSON.stringify(this._getSubscribedFolders()),e.subscribed_tabs=JSON.stringify(this._getSubscribedTabs())),e},onFolderCreation:function(e,t){var n=this.getModel("folders").getParentFid(t),r=this._getSubscribedFolders();if(_.includes(r,n)){var i=JSON.stringify(r.concat(t).sort());this.getModel("settings").setSettings({subscribed_folders:i})}},updateSubscription:function(t,n,r,i,o){this.keepValid();var a=this.getModel("settings"),s=a.get(".browser_notify_message");o=e(o),s=e(s),o!==s&&this._checkSubscription(s,!0)},updateServiceWorkerSettings:function(){this.keepValid();var e=this.getModel("settings");return e.getSign("browser_notify_message")?Daria.PushManager.settings({openMessageInList:e.getSign("open-message-list"),folderThreadView:e.getSign("folder_thread_view"),openInNewWindow:e.getSign("browser_notify_blank"),is3pane:e.getSign("layout")>0}):Promise.resolve()},updateSubscriptions:function(){this.isEnabled()&&(Daria.PushManager.resetSubscriptionDatetime(),Daria.PushManager.subscribe(this._getSubscribedFolders(),this._getSubscribedTabs(),!0))},_checkSubscription:function(e,t){e?Daria.PushManager.subscribe(this._getSubscribedFolders(),this._getSubscribedTabs()):Daria.PushManager.unsubscribe(t)},_getSubscribedFolders:function(){return ns.Model.get("settings").getSign("subscribed_folders")},_getSubscribedTabs:function(){return ns.Model.get("settings").getSign("subscribed_tabs")}}})})()},function(e,t){ns.View.define("translate-select-lang",{events:{"click@show .js-lang":"_onClick","daria:vScrollerMessages:scroll@show":"_onScroll","daria:vScrollerMessage:scroll@show":"_onScroll","daria:layout-changed@show":"_onScroll"},models:{"translate-langs":!1},params:function(e){return{currentLang:e.currentLang}},ctor:function(){this._defaultOptions={withoutTail:Daria.isComposePage(),autofocus:!0,autoclose:!0,how:{my:"left top",at:"left-100 bottom"}},this._options={},this._popup=null},yateModule:"mail",methods:{open:function(e){return this._options=_.extend({},this._defaultOptions,e),this.update(this.params,{execFlag:ns.U.EXEC.PARALLEL}).then(this._onAfterRender,this)},close:function(){_.method("close")(this._popup)},_onClick:function(e){var t=$(e.currentTarget).data("lang");this.getModel("translate-langs").setRecent(t),this.trigger("selected",t)},_onScroll:function(){var e=_.get(this._popup,"node.widget");_.method("_position")(e)},_onAfterRender:function(){this._popup=nb.block(ns.renderNode({},"js-translate-select-lang","mail")),this._popup.setContent(this.node),this._popup.on("nb-opened",this._onOpened.bind(this)),this._popup.on("nb-closed",this._onClosed.bind(this)),this._popup.on("nb-destroyed",this._onDestroyed.bind(this)),this._popup.open(this._options)},_onOpened:function(){this.trigger("opened")},_onClosed:function(e,t){t.destroy(),this.trigger("closed")},_onDestroyed:function(){delete this._popup,this._options={},this.destroy()}}})},function(e,t){!(function(){var e=null,t=function(){if(e)return e;var t=new Vow.Promise;return Daria.Libs("DiskWidgetSaveApi",(function(){t.fulfill()})),e=t};ns.View.define("disk-widget-save-popup",{yateModule:"mail",methods:{_deferred:null,open:function(e){return this._deferred?null:(this._deferred=new vow.Deferred,this.update({},{execFlag:ns.U.EXEC.PARALLEL}).then((function(){$(e.popup.where).closest(":focusable").focus(),this.nbPopup=nb.block(this.node),this.nbPopup.open(e.popup),Vow.all([ns.request([ns.Model.get("disk-secret-key")]),t()]).then((function(t){var n=t[0][0],r=this._getSaveToDiskWidgetParams(e,n.get(".key"),this.$node.find(".js-container")[0]);if(!r)return void this.destroySelf();this.$node.toggleClass("mail-DiskWidgetSavePopup-Content_Loaded",!0),this.widget=window.WidgetSaveApi.saveAndMove(r,{onClose:this.close.bind(this),onError:function(t){Jane.c(["Attachments","Error while saving on disc",e.countLocationName||"Not set"]),t&&Jane.ErrorLog.send({errorType:"disk-widget-save-popup_save-failed",error:JSON.stringify(t)})}})}),(function(){this.close(),Jane.ErrorLog.send({errorType:"disk-widget-save-popup_open-failed"})}),this),this.nbPopup.on("nb-closed",this.destroySelf.bind(this))}),this),this._deferred)},close:function(){this.nbPopup&&this.nbPopup.close()},destroySelf:function(){var e=this;_.defer((function(){e.nbPopup&&(e.nbPopup.destroy(),e.nbPopup=null),e.widget&&(e.widget.destroy(),e.widget=null),e._deferred&&(e._deferred.resolve(),e._deferred=null),e.destroy()}))},_getSaveToDiskWidgetParams:function(e,t,n){var r=e.mid,i=e.hid,o=e.diskDownloadUrl,a=o?"disk-public":"mail",s=o||this._getMailAttachmentSrc(r,i);return s?{source:"copy-widget-yamail",type:a,sourceId:s,uid:ns.Model.get("account-information").get(".uid"),sk:t,container:n}:(Jane.ErrorLog.send({errorType:"disk-widget-save-popup_could-not-generate-source-id",mid:r,hid:i,diskDownloadUrl:o}),null)},_getMailAttachmentSrc:function(e,t){return e&&t?"/mail/file:"+e+":"+t:null}}})})()},function(e,t){ns.View.define("fake-head-background",{yateModule:"mail"})},function(e,t){!(function(){ns.View.define("technical-problems-alert",{models:{"system-status":{"ns-model-changed":"forceUpdate"}},yateModule:"mail",events:{"click .js-technical-problems-alert-toggler":"toggleDescription"},methods:{ERRORS:{internal:{title:i18n("%TechProblem_INTERNAL_title"),description:i18n("%TechProblem_INTERNAL_desc")},db_ro:{title:i18n("%TechProblem_DB_RO_title"),description:i18n("%TechProblem_DB_RO_desc")},no_send:{title:i18n("%TechProblem_NO_SEND_title")},no_settings:{title:i18n("%TechProblem_NO_SETTINGS_title")},no_search:{title:i18n("%TechProblem_NO_SEARCH_title")},no_abook:{title:i18n("%TechProblem_NO_ABOOK_title")},no_attachment:{title:i18n("%TechProblem_NO_ATTACHMENT_title")},slow_output:{title:i18n("%TechProblem_SLOW_OUTPUT_title")},slow_input:{title:i18n("%TechProblem_SLOW_INPUT_title")},broken_mails:{title:i18n("%TechProblem_BROKEN_MAILS_title")},broken_folders_labels:{title:i18n("%TechProblem_BROKEN_FOLDERS_LABELS_title")}},getErrorMessage:function(){var e=this.getModel("system-status").getData()||{};if(!e.problem)return{};if("%"===e.problem[0]){var t=e.problem.slice(1);return this.ERRORS[t]||this.ERRORS.internal}return{title:e.problem}},toggleDescription:function(e){e.preventDefault(),this.$node.toggleClass("mail-Page-Intruder__full_info"),ns.events.trigger("daria:layout-changed"),$(window).trigger("resize"),Daria.Dialog.position()}}})})()},function(e,t){ns.View.define("async-view-loading-fix-mixin",{methods:{_getTree:function(){var e=ns.View.prototype._getTree.apply(this);return this.isLoading()&&this._fixTreeStateByModels(e),e},_fixTreeStateByModels:function(e){var t=!1,n=this._getModelsForTree();for(var r in n)if("error"===n[r].status&&!n[r][r]){t=!0;break}t&&(e.state="loading")}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(389),i=(n.n(r),n(381)),o=n(87);n.n(o);ns.View.define("compose-manager-container",{events:{"ns-view-show":"onShow","ns-view-hide":"onHide"},yateModule:"mail",methods:{onShow:function(){Daria.composesRestore(this.node),Object(o.hasFeature)(o.Features.WEB_DARK_COMPOSE)||Object(i.configureRootTheme)({theme:r.PS_LIGHT,root:this.node})},onHide:function(){Daria.composesDestroy()}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(4845),i=(n.n(r),n(375)),o=n(1338);n.n(o);ns.View.define("sidebar-with-widgets",{events:{"ns-view-htmlinit":"onHtmlInit","ns-view-show":"onShow","ns-view-htmldestroy":"onHtmlDestroy","ns-view-hide":"onHide","daria:vScrollerMessages:scroll":"updateLayout","daria:vSidebarWithWidgets:toggleWrapper":"onToggle"},models:{"disk-editor-secret-key":!1,"app-state":{"ns-model-changed":!1,"ns-model-changed.pageClasses":"updateLayout"},"scroller-messages":!1,settings:!1},yateModule:"mail",methods:{onHtmlInit:function(){Object(r.render)(this.$node.find(".js-sidebar-with-widgets")[0])},onShow:function(){Object(r.render)(this.$node.find(".js-sidebar-with-widgets")[0]);var e=this._getIsExpanded();this.onToggle(void 0,e),Daria.is2pane()&&this.getModel("scroller-messages").init(),this.updateLayout()},onHide:function(){Daria.React.unmountReactBox(this.$node.find(".js-sidebar-with-widgets")[0])},onHtmlDestroy:function(){Daria.React.unmountReactBox(this.$node.find(".js-sidebar-with-widgets")[0])},updateLayout:function(){if(Daria.is3pane())return void this.$node.find(".js-sidebar-with-widgets").css({"padding-bottom":this._getBottomFloatElementsOffset()});this.getModel("scroller-messages").getScrollTop()>this.$node.offset().top?this._setFixedLayout():this._resetFixedLayout()},_getIsExpanded:function(){return o.WidgetsStore.instance().isExpanded},_setFixedLayout:function(){var e=this._getBottomOffset(),t=e>0;this.$node.find(".js-sidebar-with-widgets").toggleClass("mail-SidebarWithWidgets_fixed",!0),this.$node.find(".js-sidebar-with-widgets").toggleClass("mail-SidebarWithWidgets_sticky",t),this.$node.find(".js-sidebar-with-widgets").css({height:"auto",top:0,bottom:e,"padding-bottom":Math.max(this._getBottomFloatElementsOffset()-this._getBottomOffset(),0)})},_resetFixedLayout:function(){this.$node.find(".js-sidebar-with-widgets").toggleClass("mail-SidebarWithWidgets_fixed",!1),this.$node.find(".js-sidebar-with-widgets").toggleClass("mail-SidebarWithWidgets_sticky",!1),this.$node.find(".js-sidebar-with-widgets").css({height:"calc(100vh - ".concat(this._getTopOffset()+this._getBottomOffset(),"px)"),top:"",bottom:"","padding-bottom":this._getBottomFloatElementsOffset()})},_getTopElementsHeight:function(){return 64+(Object(i.getSearchStore)().isFolded?0:50)},_getTopOffset:function(){var e=this.getModel("scroller-messages").getScrollTop(),t=this._getTopElementsHeight();return e>t?0:t-e},_getBottomOffset:function(){var e=this.getModel("scroller-messages"),t=e.getScrollTop()+e.getHeight(),n=this.$node.offset().top+this.$node.height();return t>n?t-n:0},_getBottomFloatElementsOffset:function(){var e=ns.Model.get("app-state"),t=0,n=e.get(".pageClasses.mail-Page_with_Collapsed_Composes");n&&(t+=36);var r=e.get(".pageClasses.mail-Page_with_Timeline"),i=e.get(".pageClasses.mail-Page_with_Todo");return(r||i&&!n)&&(t+=31),t},onToggle:function(e,t){this.$node.toggleClass("mail-SidebarWithWidgetsWrap_expanded",t),ns.events.trigger("daria:vSidebarWithWidgets:toggle")}}})},function(e,t,n){"use strict";function r(e){a.default.render(o.default.createElement(l,null),e)}var i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.render=void 0;var o=i(n(137)),a=i(n(141)),s=n(356),u=i(n(386)),c=n(4846),l=function(){return o.default.createElement(u.default,{lang:s.getLocale()},o.default.createElement(c.SidebarWithWidgets,null))};t.default=l,t.render=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarWithWidgets=void 0;var r=n(424),i=n(4847),o=n(1338),a=n(1888);t.SidebarWithWidgets=r.withStores({widgetsStore:o.WidgetsStore.instance})(a.withTone()(i.SidebarWithWidgets))},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__assign||function(){return i=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},i.apply(this,arguments)},o=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),a=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),s=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},u=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&o(t,e,n);return a(t,e),t},c=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},l=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SidebarWithWidgets=t.sidebarLoader=void 0;var d=u(n(137)),f=n(353),p=l(n(350)),g=n(389),h=n(617),m=n(677),v=n(1888),b=n(87),_=n(4848),y=n(18),S=n(356),w=n(4849),O=l(n(4850)),M=n(1889),D=n(695),T=n(1933),x=n(4901),C=l(n(367)),E=function(){return Promise.all([y.runModules(["widgets.js"])]).then((function(e){var t=c(e,1),n=t[0];return n&&n[0]}))};t.sidebarLoader=E;var P=function(e,t){return S.getTranslations()[S.getLocale()]["mail-liza"]["ps-sidebar"][e](t)},k=(function(e){function n(){var n=null!==e&&e.apply(this,arguments)||this;return n.logger=new w.YaMetrikaLogger(S.logMetric,{user:{isPaid:S.hasSid(122)}}),n.state={isLoaded:!1,PSSidebarComponent:null},n.renderWidgets=function(){return t.sidebarLoader().then((function(e){return e.PSSidebar}))},n.sendMetric=function(e){n.logger.logMetric(e)},n.onToggle=function(e){n.props.widgetsStore.onToggle({isExpanded:e,save:!0})},n.onLoad=function(){n.setState({isLoaded:!0})},n}return r(n,e),n.prototype.componentDidMount=function(){var e=this;this.isIframe||this.renderWidgets().then((function(t){return e.setState({PSSidebarComponent:t},(function(){return e.onLoad()}))})),_.hasTransportInstance()&&!this.hasXivaSubscribe()&&_.initTransportWrapper()},n.prototype.hasXivaSubscribe=function(){return h.getXivaServices(h.getWidgets()).every((function(e){return m.getCurrentXivaServices().includes(e)}))},n.prototype.renderIFrame=function(){var e;return d.default.createElement("div",{className:p.default(O.default.component,(e={},e[O.default.hidden]=!this.state.isLoaded,e))},d.default.createElement(x.Tavern,{onToggle:this.onToggle,sendMetric:this.sendMetric,onLoad:this.onLoad,isDark:this.isDark,theme:this.theme}))},Object.defineProperty(n.prototype,"wrapClassName",{get:function(){return p.default(O.default.contentWrap,this.props.className)},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"theme",{get:function(){return this.isDark?g.PS_DARK:g.PS_LIGHT},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isDark",{get:function(){return this.props.tone===v.Tone.DARK},enumerable:!1,configurable:!0}),Object.defineProperty(n.prototype,"isIframe",{get:function(){return b.hasFeature(b.Features.WEB_SIDEBAR_WITH_TAVERN)},enumerable:!1,configurable:!0}),n.prototype.renderPSSidebar=function(){var e=this.state.PSSidebarComponent;return e?d.default.createElement(e,{onToggle:this.onToggle,sendMetric:this.sendMetric,theme:this.theme,isDark:this.isDark}):null},Object.defineProperty(n.prototype,"placeholderProps",{get:function(){var e,t=S.getConfig();return{getI18n:P,timeZone:t.timeZone,onToggle:this.onToggle,sendMetric:this.sendMetric,isExpanded:this.props.widgetsStore.isExpanded,expandedUpdateTimestamp:null===(e=this.props.widgetsStore.expandedUpdateTimestamp)||void 0===e?void 0:e.getTime()}},enumerable:!1,configurable:!0}),n.prototype.renderPlaceholder=function(){return!this.state.isLoaded&&d.default.createElement(M.PSSidebarContainer,i({theme:this.theme,isDark:this.isDark,platform:D.Platform.WEB,canExpand:!0},this.placeholderProps),d.default.createElement(T.PSSidebarPlaceholder,i({},this.placeholderProps)))},n.prototype.renderContent=function(){return this.isIframe?this.renderIFrame():this.renderPSSidebar()},n.prototype.render=function(){var e;return d.default.createElement("aside",{className:this.wrapClassName,"aria-label":C.default("common-react/WidgetsTitle")},d.default.createElement("div",{className:p.default(O.default.promo,"mail-SidebarWithWidgets__promo")}),d.default.createElement("div",{className:p.default(O.default.content,(e={},e[O.default.contentIframe]=this.isIframe,e))},this.renderPlaceholder(),this.renderContent()))},n=s([f.observer],n)})(d.PureComponent);t.SidebarWithWidgets=k},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"hasTransportInstance",(function(){return r})),n.d(t,"initTransportWrapper",(function(){return i}));var r=function(){return Daria.Transport.hasInstance()},i=function(){return Daria.TransportWrapper()}},,function(e,t){e.exports={"sidebar-overlay-max-width":"1366px","container-border-radius":"var(--liza-layout-content-border-radius)","collapsed-width":"64px","expanded-width":"312px",contentWrap:"SidebarWithWidgets__contentWrap--3bPjk",content:"SidebarWithWidgets__content--2nACV",contentIframe:"SidebarWithWidgets__contentIframe--2Dyg7",promo:"SidebarWithWidgets__promo--1XgQz",component:"SidebarWithWidgets__component--yjMU_",hidden:"SidebarWithWidgets__hidden--ZFATN"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){return e.length===t.length&&e.every((function(e,n){return e===t[n]}))}var i=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Tavern=void 0;var a=o(n(137)),s=n(4902),u=n(1935),c=n(356),l=o(n(4923)),d=c.getConfig(),f=d["tavern-url"],p=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.iframeRef=a.default.createRef(),t}return i(t,e),t.prototype.componentDidMount=function(){var e,t,n=this,r=s.createInterop(null===(t=this.iframeRef)||void 0===t?void 0:t.current,f),i=r.receiver,o=r.sender,a=r.handler;this.sender=o,a.init((e={},e[s.TavernEvents.GetProductsData]=function(){return n.props.getProductsData()},e[s.TavernEvents.GetSpaceData]=function(){return n.props.getSpaceWidgetData()},e[s.TavernEvents.GetMemoriesData]=function(){return n.props.getMemoriesWidgetData()},e[s.TavernEvents.GetPromoData]=function(){return n.props.getPromoWidgetData()},e[s.TavernEvents.GetSpaceWidgetExpandData]=function(){return n.props.getSpaceWidgetExpandData()},e)),i.subscribe(s.TavernEvents.SendMetric,(function(e){n.props.sendMetric(e)})),i.subscribe(s.TavernEvents.ChangeExpandState,(function(e){n.props.onToggle(e)})),i.subscribe(s.TavernEvents.PromoShown,(function(e){var t=e.shown;n.props.onPromo(t)})),i.subscribe(s.TavernEvents.PromoWidgetShown,(function(){n.props.onPromoShown()})),i.subscribe(s.TavernEvents.WidgetCollapse,(function(e){var t=e.widgetName,r=e.isCollapsed,i=e.payload;n.props.onWidgetCollapse(t,r,i)})),i.subscribe(s.TavernEvents.MemoriesWidgetShown,(function(e){var t=e.id;n.props.onMemoriesShown(t)})),i.subscribe(s.TavernEvents.SpaceWidgetLastUsageUpdate,(function(e){var t=e.usage;n.props.onLastSpaceUsageUpdate(t)})),i.subscribe(s.TavernEvents.Ready,(function(){var e,t,r,i;null===(t=(e=n.props).onLoad)||void 0===t||t.call(e);var a=n.props,u=a.theme,c=a.isDark;n.sendExpanded(),null===(r=n.sender)||void 0===r||r.sendEvent({name:s.TavernEvents.SetWidgets,payload:n.props.widgetNames}),null===(i=n.sender)||void 0===i||i.sendEvent({name:s.TavernEvents.SetTheme,payload:{themeRoot:u.root,isDark:c}}),n.props.connectSender(o)}))},t.prototype.componentWillUnmount=function(){this.sender&&this.props.disconnectSender(this.sender)},t.prototype.componentDidUpdate=function(e){var t,n;if(e.isExpanded!==this.props.isExpanded&&this.sendExpanded(),e.isDark!==this.props.isDark||e.theme.root!==this.props.theme.root){var i=this.props,o=i.theme,a=i.isDark;null===(t=this.sender)||void 0===t||t.sendEvent({name:s.TavernEvents.SetTheme,payload:{themeRoot:o.root,isDark:a}})}r(e.widgetNames,this.props.widgetNames)||null===(n=this.sender)||void 0===n||n.sendEvent({name:s.TavernEvents.SetWidgets,payload:this.props.widgetNames})},t.prototype.sendExpanded=function(){var e;null===(e=this.sender)||void 0===e||e.sendEvent({name:s.TavernEvents.ChangeExpandState,payload:{isExpanded:this.props.isExpanded,expandedUpdateTimestamp:this.props.expandedUpdateTimestamp}})},t.prototype.render=function(){var e=this.props,t=e.isExpanded,n=e.expandedUpdateTimestamp,r=e.widgetNames,i=e.diskSk,o=e.noDiskSubscription;return a.default.createElement(s.TavernPortal,{src:f,host:s.Hosts.Mail,widgets:r,expanded:t,expandedTimestamp:String(n),diskSk:i,hasDisk:!o,iframeRef:this.iframeRef,timezone:d.timeZone,uid:c.getUid(),theme:this.props.theme.root,isDark:this.props.isDark,className:l.default.iframe})},t})(a.default.PureComponent);t.Tavern=u.withWidgetsData(p)},,,,,,,,,,,,,,,,,,,,,,function(e,t){e.exports={iframe:"Tavern__iframe--_k3Lx"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(693),i=(n.n(r),n(4925));n.n(i);ns.View.define("midgets",Object(r.NsReactView)({component:i.Midgets,yateModule:"mail"}))},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Midgets=void 0;var i=r(n(137)),o=n(353),a=n(515),s=n(516),u=n(363),c=n(492),l=n(426),d=n(677),f=a.withPsTheme({source:s.DarkSource.Content})(u.getMidgets());t.Midgets=o.observer((function(){var e=c.ThemeMaster.instance(),t=l.ThemesStore.instance(),n=(e.isActive,t.isContentDark);return i.default.createElement(f,{isDark:n,registerXivaMessageCallback:d.registerMessageCallback,removeXivaMessageCallback:d.removeMessageCallback})}))},function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(4927),s=(n.n(a),n(363));ns.View.define("react-draggable-mixin",{events:{mousedown:"reactDraggableMouseDown"},ctor:function(){this.reactDraggableMouseMove=this.reactDraggableMouseMove.bind(this),this.reactDraggableMouseUp=this.reactDraggableMouseUp.bind(this)},methods:{reactDraggableOnDragStart:function(){return{dragSource:null,dragSourceLabel:""}},reactDraggableOnDragEnd:function(){},reactDraggableCanDrag:function(e){return!0},_reactDraggableIsDragging:!1,_reactDraggableIsDragActive:!1,_reactDraggableStartCoords:null,reactDraggableWithDndBridge:function(e){var t=Object(s.getDndBridge)();return t?e(t):null},reactDraggableMouseDown:function(e){if(this.reactDraggableCanDrag(e)){var t=e.clientX,n=e.clientY;this._reactDraggableIsDragging=!0,this._reactDraggableStartCoords={clientX:t,clientY:n},this._reactDraggableSetupDragEvents(),e.preventDefault()}},_reactDraggableSetupDragEvents:function(){document.addEventListener("mousemove",this.reactDraggableMouseMove),document.addEventListener("mouseup",this.reactDraggableMouseUp)},reactDraggableMouseMove:function(e){var t=e.clientX,n=e.clientY;if(this._reactDraggableIsDragActive)this.reactDraggableWithDndBridge((function(e){return e.dragMove({clientX:t,clientY:n})}));else if(Object(a.isDragStarted)(this._reactDraggableStartCoords,e)){this._reactDraggableIsDragActive=!0;var r=this.reactDraggableOnDragStart();this.reactDraggableWithDndBridge((function(e){return e.dragStart(i({},r,{clientX:t,clientY:n}))}))}},reactDraggableMouseUp:function(e){this._reactDraggableIsDragging&&(this.reactDraggableWithDndBridge((function(e){return e.dragEnd()})),document.removeEventListener("mousemove",this.reactDraggableMouseMove),document.removeEventListener("mouseup",this.reactDraggableMouseUp),e.preventDefault(),this._reactDraggableIsDragging=!1,this._reactDraggableIsDragActive=!1,this.reactDraggableOnDragEnd())},reactDraggableGetPreventDeselect:function(){return this.reactDroppableWithDndBridge((function(e){return e.currentDrag.preventDeselect}))}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.isDragStarted=t.DRAG_DELTA=void 0,t.DRAG_DELTA=20;var r=function(e,n){var r=Math.pow(n.clientX-e.clientX,2),i=Math.pow(n.clientY-e.clientY,2);return Math.sqrt(r+i)>=t.DRAG_DELTA};t.isDragStarted=r},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(363);ns.View.define("react-droppable-mixin",{events:{mouseenter:"reactDroppableMouseEnter",mouseleave:"reactDroppableMouseLeave",mouseup:"reactDroppableMouseUp"},methods:{REACT_DROPPABLE_ACCEPTS:[],reactDroppableDragLabel:function(e){return""},reactDroppableOnDrop:function(e){return""},reactDroppableOnDropEnter:function(e){},reactDroppableOnDropLeave:function(e){},_reactDroppableIsHovering:!1,reactDroppableWithDndBridge:function(e){var t=Object(r.getDndBridge)();return t?e(t):null},reactDroppableMouseEnter:function(){var e=this.reactDroppableGetCurrentDragSource();e&&this.REACT_DROPPABLE_ACCEPTS.includes(e.type)&&(this._reactDroppableIsHovering=!0,this.reactDroppableDragOver(this.reactDroppableDragLabel(e)),this.reactDroppableOnDropEnter(e))},reactDroppableMouseLeave:function(){if(this._reactDroppableIsHovering)return this._reactDroppableIsHovering=!1,this.reactDroppableOnDropLeave(),this.reactDroppableWithDndBridge((function(e){return e.dragOut()}))},reactDroppableMouseUp:function(){var e=this.reactDroppableGetCurrentDragSource();this._reactDroppableIsHovering&&e&&this.reactDroppableOnDrop(e)},reactDroppableGetCurrentDragSource:function(){return this.reactDroppableWithDndBridge((function(e){return e.currentDrag.dragSource}))},reactDroppableDragOver:function(e){return this.reactDroppableWithDndBridge((function(t){return t.dragOver(e)}))}}})},function(e,t){ns.View.define("ps-header",{events:{"ns-view-init":"onViewInit","ns-view-htmlinit":"onHtmlInit","ns-view-htmldestroy":"onHtmlDestroy"},yateModule:"mail",methods:{onViewInit:function(){this._headerStaticMarkup=document.querySelector(".js-mail-header-static div")},onHtmlInit:function(){this.node.appendChild(this._headerStaticMarkup),Daria.React.renderPsHeader(this.node)},onHtmlDestroy:function(){Daria.React.unmountReactBox(this.node)}}})},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(87),i=(n.n(r),n(968)),o=n(356);n(4931),yr.externals["is-my-email"]=function(e){return ns.Model.get("account-information").isMyEmail(e)},yr.externals["has-experiment"]=Daria.hasExperiment,yr.externals["has-feature"]=r.hasFeature,yr.externals["get-feature-params"]=r.getFeatureParams,yr.externals["show-doublesized-contacts"]=Daria.showDoubleSizedContacts,(function(){function e(e){return t(),i.getFolderById(e)||i.getFolderBySymbol(e)}function t(){i||(i=ns.Model.get("folders"),o=ns.Model.get("labels"))}function r(e){var t=e.url,n=e["preview-supported"]||e["preview-src"],r="image"===e.class,i=[],o=_.includes(i,e.class);return(!t||n)&&(r&&n||o)}var i,o;n(4932),yr.externals["daria-url-attachment"]=function(){var e=Array.prototype.slice.call(arguments);return e[0]=yr.nodeset2data(e[0]),Daria.url.attachment.apply(Daria.url,e)},yr.externals["daria-url-attachment-archive"]=function(){var e=Array.prototype.slice.call(arguments);return e[0]=yr.nodeset2data(e[0]),Daria.url.archive.apply(Daria.url,e)},yr.externals["get-attach-preview-data"]=function(e,t,n,r){return Daria.getAttachPreviewData(yr.nodeset2data(e),t,n,r)},yr.externals["get-folder-by-fid-or-symbol"]=function(t){return yr.object2nodeset(e(t)||{})},yr.externals["get-folders-by-fids-or-symbols"]=function(t){for(var n=[],r=0;r<t.length;++r){var i=t[r].data,o=e(i);o&&n.push(o)}return yr.object2nodeset({folders:n})},yr.externals["get-tab-by-id"]=function(e){var t=ns.Model.get("tabs").getTab(e);return yr.object2nodeset(t?t.getData():{})},yr.externals["get-tabs"]=function(){var e=ns.Model.get("tabs").getFoldersTabsList();return yr.object2nodeset({tabs:e||[]})},yr.externals["get-human-size"]=Jane.getHumanSize,yr.externals["get-label-by-name"]=function(e){return t(),yr.object2nodeset(o.getLabelByName(e)||{})},yr.externals["get-label-by-lid"]=function(e){return t(),yr.object2nodeset(o.getLabelById(e)||{})},yr.externals["get-waiting-for-reply-label"]=function(){return t(),yr.object2nodeset(o.getWaitingForReplyLabel())},yr.externals["get-label-important"]=function(){return t(),yr.object2nodeset(o.getLabelBySymbolicName("important_label")||{})},yr.externals["is-message-imap-deleted"]=function(e){var t=ns.Model.get("message",{ids:e});return t.hasLabelWithSymbolicName("deleted_label")||t.get(".flags.imap-deleted")},yr.externals["get-shortcut-label-for"]=function(e,t,n){return Daria.Shortcuts.getShortcutLabelFor(e,t,n)},yr.externals["get-current-page"]=function(){return ns.page.current.page},yr.externals["get-current-page-params"]=function(){return yr.object2nodeset(ns.page.current.params)},yr.externals["get-current-page-param"]=function(e){return ns.page.current.params[e]},yr.externals["is-2pane"]=Daria.is2pane,yr.externals["is-3pane"]=Daria.is3pane,yr.externals["is-message-page"]=Daria.isMessagePage,yr.externals["is-folders-tab-page"]=Daria.isFoldersTabPage,yr.externals["is-folder"]=function(e,n){return!(!e||!n)&&(t(),i.isFolder(e,n))},yr.externals.avatar=function(e){return Daria.Recipients.add(e)},yr.externals["head-avatar"]=function(e){return Daria.Recipients.addHeadAvatar(e)},yr.externals["should-show-checkbox-inside-userpic"]=Daria.UISettings.shouldShowCheckboxInsideUserpic,yr.externals["get-labels-by-lid"]=function(e){t();var n=yr.nodeset2data(e);"string"==typeof n&&(n=[n]);for(var r=[],i=0,a=n.length;i<a;i++){var s=o.getLabelById(n[i]);if(s){var u=yr.object2nodeset(s)[0];u.name="label",r.push(u)}}return r},yr.externals["can-use-pins-by-params"]=function(e){return Daria.messages.checkUsePinsByParams(yr.nodeset2data(e))},yr.externals["can-show-pin-controls-by-params"]=Daria.messages.canShowPinControlsByParams,yr.externals["has-attachment-preview"]=function(e){return r(yr.nodeset2data(e))},yr.externals["get-count-attachments-to-show"]=function(e){var t=yr.nodeset2data(e);return t=_.isArray(t)?t:[t],t.length>3?3:t.length},yr.externals["get-message-presentation-by-fid"]=function(e,t){var n=yr.nodeset2data(e)||{},r={ids:n.mid,fid:t||ns.page.current.params.current_folder||n.fid},i=ns.Model.get("message-presentation",r);return i&&i.isValid()&&i.getData()?yr.object2nodeset(i.getData()):null},yr.externals["get-browser-notifications-permission"]=function(){return Daria.PushManager.permission()},yr.externals["has-browser-notifications-support"]=function(){return Daria.PushManager.compatible}})(),yr.externals["show-priority-label"]=function(){return Daria.showPriorityLabel()},yr.externals["select-messages-direct-view"]=function(e){var t=yr.nodeset2data(e),n=Daria.getDirectBlockLayoutInfo("messages-direct").id,r=yr.object2nodeset(t[n]);return r[0].name=n,r[0].parent=e[0],r},yr.externals["repeat-str"]=_.repeat,yr.externals["are-folders-tabs-enabled"]=function(){return Daria.areFoldersTabsEnabled()},yr.externals["are-compact-folder-tabs-enabled"]=function(){return Daria.areCompactFolderTabsEnabled()},yr.externals["is-priority-tab-available"]=function(){return Daria.isPriorityTabAvailable()},yr.externals["is-priority-tab"]=function(){return Daria.isPriorityTab()},yr.externals["is-attachments-line-design"]=function(){return Daria.isAttachmentsLineDesign()},yr.externals["is-attachments-tab-enabled"]=function(){return Daria.isAttachmentsTabEnabled()},yr.externals["is-compact-messages-list"]=function(){return Daria.CompactMode.isCompactMessagesList()},yr.externals["get-compact-messages-list-value"]=function(){return Daria.CompactMode.getCompactMessagesListValue()},yr.externals["is-compact-header"]=function(){return Daria.CompactMode.isCompactHeader()},yr.externals["get-compact-header-value"]=function(){return Daria.CompactMode.getCompactHeaderValue()},yr.externals["current-theme"]=function(){return ns.Model.get("themes").getCurrentThemeName()},yr.externals["has-sidebar-with-widgets"]=Daria.hasSidebarWithWidgets,yr.externals["has-midgets"]=o.hasMidgets,yr.externals["is-priority-on"]=function(e){var t=Boolean(ns.Model.get("settings").getSign("show_priority_stuff")),n=yr.nodeset2data(e),r=ns.Model.get("labels").getPriorityLID();return Boolean(t&&r&&n.lid.includes(r))},yr.externals["is-compact-left-column"]=function(){return Daria.resize.isWithCompactLeftColumn},yr.externals["get-label-colors"]=function(e){return yr.object2nodeset(Object(i.a)(yr.nodeset2data(e)))}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(918);yr.externals["get-attach-link"]=r.a,yr.externals["has-attach-image"]=r.c},function(e,t){!(function(){function e(){var e=ns.page.current.params,t=[];if("only_atta"===e.extra_cond)t.push("#attachments?");else if("only_new"===e.extra_cond)t.push("#unread?");else{var n=yr.externals["get-folder-by-fid-or-symbol"](e.current_folder);t.push(yr.externals["url-content-folder"](n,!0))}return t.push(yr.externals["url-params"](e,["current_folder","sort_type","page_number","extra_cond","goto","currentDateId","nextDateId","prevDateId"])),t.join("")}function t(){var e=ns.page.current.params,t=[];if(e.tabId){var n=yr.externals["get-tab-by-id"](e.tabId);t.push(yr.externals["url-content-tab"](n,!0))}else if(e.current_folder){var r=yr.externals["get-folder-by-fid-or-symbol"](e.current_folder);t.push(yr.externals["url-content-folder"](r,!0))}else if(e.current_label){var i=yr.externals["get-label-by-lid"](e.current_label);t.push(yr.externals["url-content-label"](i,!0))}else e.thread_id?t.push("#thread/"+e.thread_id+"?"):"search"===e.search?t.push("#search?request="+encodeURIComponent(e.request)+"&"):"only_new"===e.extra_cond?t.push("#unread?"):"only_atta"===e.extra_cond?t.push("#attachments?"):"all"===e.goto?t.push("#all?"):t.push("#messages?");return t.join("")}function n(){var e=ns.page.current.params,t=[];return e.current_folder?(t=["ids","thread_id","page_number","current_folder","datePager","mrange","pager_top","currentDateId","prevDateId","nextDateId","tabId"],Daria.is2pane()&&t.push("extra_cond")):t=e.current_label?["ids","thread_id","page_number","current_label"]:e.thread_id?["ids","thread_id","page_number"]:"search"===e.search?["ids","thread_id","page_number","search","request"]:"only_new"===e.extra_cond||"only_atta"===e.extra_cond||"all"===e.goto?["ids","thread_id","page_number","extra_cond","goto"]:["ids","thread_id","page_number","pager_top"],yr.externals["url-params"](e,t)}yr.externals["url-params"]=function(e,t,n){e||(e=ns.page.current.params),t=$.makeArray(t),n=$.makeArray(n),t.push("threaded");var r=[];for(var i in e)!e.hasOwnProperty(i)||t.length&&-1!==t.indexOf(i)||n.length&&-1===n.indexOf(i)||r.push(encodeURIComponent(i)+"="+encodeURIComponent(e[i]));return r.length?r.join("&")+"&":""},yr.externals["url-content-folder"]=function(e,t){return e=yr.nodeset2data(e),t=t?"?":"",e.symbol?"#"+e.symbol+t:"#folder/"+e.fid+t},yr.externals["url-content-tab"]=function(e,t){return e=yr.nodeset2data(e),t=t?"?":"","#tabs/"+e.id+t},yr.externals["url-content-label"]=function(e,t){return e=yr.nodeset2data(e),t=t?e.lid?"?":"&":"",e.lid?"#label/"+e.lid+t:"#messages?goto=all&extra_cond="+e.symbol+t},yr.externals["url-content-message"]=function(e,t){return e=yr.nodeset2data(e),Daria.Page.generateUrl.contentMessage(e,t)},yr.externals["url-content-sort"]=function(t,n){return Array.isArray(t)&&(t=yr.nodeset2scalar(t)),Array.isArray(n)&&(n=yr.nodeset2scalar(n)),e()+"sort_type="+t+("asc"===n?"1":"")+"&"},yr.externals["page-url-prefix"]=function(){return t()+n()}})()},function(e,t){function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!(function(){var e=function e(t,n){this.options=$.extend({},e.defaults,n),this.options.showDoubleSizedContacts&&(this.options.suggestClass+=" mail-Suggest_size_double"),this.cache={},this.currentContent=[],this.currentTerm="",this._janeEvents={},this.dontClose=!1,this.isInputFieldBlur=!1,this.$document=$(document),this.changeInputField(t,!0)};no.extend(e.prototype,ns.Events),e.defaults={suggestClass:"nb-island _nb-fly-island _nb-suggest-container _nb-s-suggest mail-Suggest",handlers:{},cacheSize:50,multiple:!1,multipleSeparator:",",valuePrefix:"",minLength:0,delay:0,autoFocus:!0,getPositionNode:_.noop},e.extractLast=function(e,t){return e.split(t).pop()},e.mixPrivateMethodWithOption=function(e,t,n){return $.map(n,(function(n){var r="_"+n,i=e[r],o=t[n];$.isFunction(e[r])&&($.isFunction(o)?o.isMixed||(t[n]=function(){o.apply(this,arguments),i.apply(e,arguments)}):t[n]=function(){i.apply(e,arguments)},t[n].isMixed=!0)})),t},e.prototype.changeInputField=function(e,t){return t||this.destroy(),this.$inputField=$(e),this.inputField=this.$inputField[0],this.inputField&&"object"===n(this.inputField)&&1===this.inputField.nodeType&&this.init(),this},e.prototype.init=function(){return this.$inputField.addClass("_init"),this.$inputField.attr({"data-nb":"suggest","data-class-suggest":this.options.suggestClass}),this.nbSuggest=nb.block(this.inputField),this.setOptions(this.options).bindEvents(),this.nbSuggest.$jUI.suggest({open:function(){this._opened||(this._opened=!0,this.trigger("open"))}.bind(this),close:function(){this._opened&&(this._opened=!1,this.trigger("close"))}.bind(this)}),this},e.prototype.isOpen=function(){return Boolean(this._opened)},e.prototype.setOptions=function(t){if(t=t||{},$.extend(this.options,t),e.mixPrivateMethodWithOption(this,this.options,["source","search","select","focus","response","open","close"]),this.nbSuggest){var n=this.options.getPositionNode();n&&$.extend(!0,this.options,{position:{of:n}}),this.nbSuggest.setOption(this.options)}return this.options.multiple&&(this.options.multipleSeparatorRegExp=new RegExp(this.options.multipleSeparator+"\\s*")),this},e.prototype.show=function(e){return this.nbSuggest&&(e||(e=this.nbSuggest.getValue()),this.nbSuggest.search(e)),this},e.prototype.hide=function(){return this.dontClose=!1,this.abort(),this.nbSuggest&&this.nbSuggest.close(),$.isFunction(this.options.hide)&&this.options.hide.apply(this.inputField,arguments),this},e.prototype.bindJaneEvent=function(e,t){var n=this[t].bind(this);return this._janeEvents[e]=n,ns.events.on(e,n),this},e.prototype.unbindJaneEvent=function(e){return ns.events.off(e,this._janeEvents[e]),delete this._janeEvents[e],this},e.prototype.bindEvents=function(){if(Modernizr.msie){var e=this,t=this.$inputField.data("uiSuggest"),n=t.close;t.close=function(){e.dontClose||n.apply(this,arguments)},this.$document.on("mousedown.daria-suggest",this._ieDocumentMousedown.bind(this)),this.$inputField.on("blur.daria-suggest",this._ieInputBlur.bind(this))}return this},e.prototype.focusedSelect=function(){var e=$.Event("keydown",{which:Jane.Common.keyCode.ENTER,keyCode:Jane.Common.keyCode.ENTER});this.currentContent.length?this.$inputField.trigger(e):this.options.select(e,{item:{email:this.currentTerm,value:this.currentTerm}})},e.prototype._isSuggestDropDown=function(e){var t=this.nbSuggest.$suggest;return t[0]===e.target||$.contains(t[0],e.target)},e.prototype._ieDocumentMousedown=function(e){var t=this._isSuggestDropDown(e);this.dontClose=t,this.isInputFieldBlur&&!t&&this.hide()},e.prototype._ieInputBlur=function(){this.isInputFieldBlur=!0},e.prototype.getValueWithPrevious=function(){var e="";if(this.nbSuggest&&(e=this.nbSuggest.getValue(),this.options.multiple)){var t=[].concat(this.options.previousValues);t.push(e),e=t.join(this.options.multipleSeparator+" ")}return e},e.prototype._convertHandlers=function(e){var t=this.options.extraParams;return $.map(this.options.handlers,(function(n,r){return{name:r,params:$.extend({},t,n,e)}}))},e.prototype._parseHandlersData=function(e,t){var n=this,r=[],i=e.length;return $.each(t,(function(t,o){if(t>=i)return!1;var a;a=i>1?o[0].models:o.models,a||(a=[{}]),a[0].data||(a[0].data={});var s=n.parse(e[t].name,a[0].data);r=r.concat(s)})),r},e.prototype._getTerm=function(t){return this.options.multiple&&(t=e.extractLast(t,this.options.multipleSeparatorRegExp)),t},e.prototype._source=function(e,t){var n=this,r=this._getTerm(e.term);if(n.currentTerm=r,!(r.length<this.options.minLength)){var i={q:r},o=this._convertHandlers(i);if(this.abort(),!o.length)return void t([]);this.requests=[];var a=[];$.map(o,(function(e){var t={};$.each(e.params,(function(e,n){t[e+".0"]=n})),e.params=t,a.push(e.params)}));var s=JSON.stringify(a);a=[];var u=this.getCache(s);if(u&&u.length>0)return void t(u);$.map(o,(function(e){var t=$.url(Daria.api.models),r={"_model.0":e.name};ns.request.addRequestParams(r),t.addParams(r);var i=$.ajax({type:"get",dataType:"json",jsonp:"jsonp",scriptCharset:"utf-8",cache:!1,url:t.toString(),data:e.params});n.requests.push(i)})),$.when.apply($,this.requests).then((function(){var e=n._parseHandlersData(o,arguments);n.setCache(s,e),t(e)}))}},e.prototype._select=function(e,t){this.trigger("select",e,t);for(var n,r=e;r&&"click"!==r.type;)r=r.originalEvent;if(r&&(n=$(r.target).hasClass("nb-button")?$(r.target):$(r.target).parents(".nb-button"),n.length>0&&(t.button=n,this.trigger("button-click",r,t))),this.dontClose=!1,!e.isDefaultPrevented()){var i=this.nbSuggest.getValue(),o=t.item.value;this.options.multiple&&(o=i.split(this.options.multipleSeparatorRegExp),o.pop(),o.push(t.item.value),o.push(""),o=o.join(this.options.multipleSeparator+" ")),this.nbSuggest.setValue(o),e.preventDefault(),this.trigger("value-set",e,t,o)}},e.prototype._focus=function(e){e.preventDefault()},e.prototype._response=function(e,t){t.content.length?this.currentContent=t.content:this.currentContent=[];var n=this.getValueWithPrevious();if(this.options.multiple&&n.split(this.options.multipleSeparator).length>1){var r=$.grep(t.content,(function(e){return-1===n.indexOf(e.value)}));t.content.length=0,t.content.push.apply(t.content,r)}},e.prototype._search=_.noop,e.prototype._open=_.noop,e.prototype._close=function(){this.dontClose=!1,this.isInputFieldBlur=!1,this.currentContent=[],this.currentTerm=""},e.prototype.abort=function(){return $.isArray(this.requests)&&$.map(this.requests,(function(e){$.isFunction(e.abort)&&e.abort()})),delete this.requests,this},e.prototype.destroy=function(){var e=this;return this.abort(),this._close(),this.nbSuggest&&(this.nbSuggest.destroy(),this.nbSuggest=null),this.$inputField&&this.$inputField.off(".daria-suggest"),this.$document.off(".daria-suggest"),$.each(this._janeEvents,(function(t){e.unbindJaneEvent(t)})),this.off(),this},e.prototype.parse=function(e,t){return t},e.prototype.setCache=function(e,t){return Object.keys(this.cache).length>=this.options.cacheSize&&this.clearCache(),this.cache[e]=t,this},e.prototype.getCache=function(e){return this.cache[e]},e.prototype.clearCache=function(){return this.cache={},this},Daria.Suggest=e})()},function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(676),o=n.n(i),a=n(639),s=n(139);n.n(s);!(function(){var e=Daria.Constants.CONTACTS.DELIMITER,t=function(e,t){t&&_.isFunction(t.exclude)&&(this._getContactsToExclude=t.exclude,delete t.exclude),t=$.extend({countMax:11,timeoutOfCopyToSms:!1,noSmsButton:!0,renderItem:this._renderItem.bind(this),showDoubleSizedContacts:Daria.showDoubleSizedContacts()},t),this.countOfClick=0,this.showAbookPopupButton=t.showAbookPopupButton,this.prevTerm="",this.hasBeenShown=!1,this.preventLog=!1,Daria.Suggest.call(this,e,t)};Daria.extend(t,Daria.Suggest);var n=t.superClass;t.prototype.init=function(){return this.$inputField.closest(".js-compose-mail-input").hasClass("js-compose-mail-message-input")&&(this.options.noSmsButton=!0),n.init.apply(this,arguments)},t.prototype.bindEvents=function(){return this.$inputField.on("keydown.daria-suggest keypress.daria-suggest",this._keydownEvent.bind(this)).on("click.daria-suggest",this._clickEvent.bind(this)),n.bindEvents.apply(this,arguments)},t.prototype._keydownEvent=function(e){var t=Jane.Common.keyCode;if(e.which!==t.ENTER){var n=!1;if(","===$.trim(this.options.multipleSeparator))switch(e.which){case t.COMMA_CHAR:case t.SEMI_CHAR:n=!0;break;case t.SPACE_CHAR:n=this.currentContent.length<=1}n&&this.currentFocused&&(e.preventDefault(),this.focusedSelect(),this.currentFocused=null)}},t.prototype._clickEvent=function(){this.show(),this.countOfClick++},t.prototype._renderItem=function(e){this.hasBeenShown=!0;var t=this,n=e.item,r=$.extend({noSmsButton:!1},this.options);if("label"!==n.type){var i=!0;$.each(["name","email","phone"],(function(e,r){var o="highlighted-"+r;i?(n[o]=t._highlight(n[r],t.currentTerm),-1!==n[o].indexOf("js-suggest-highlight")&&(i=!1)):n[o]=_.escape(n[r]),n[r]=_.escape(n[r])}))}if(n.email){var o=ns.Model.get("account-information").getAllUserEmails();$.inArray(n.email,o)>-1&&(r.noSmsButton=!0)}return Daria.showDoubleSizedContacts()&&(r.doubleHeight=!0),n.options=r,yr.run("mail",e,"compose-email-suggest-item")},t.prototype._isTemplate=function(){var e=ns.page.current.params,t=jpath(Daria,".composeParams.save_symbol")[0]===s.WellKnownFolderSymbol.TEMPLATE,n=e.save_symbol===s.WellKnownFolderSymbol.TEMPLATE,r=!1;if(e.ids){var i=ns.Model.get("message",{ids:e.ids}),o=ns.Model.get("folders").getFidBySymbol(s.WellKnownFolderSymbol.TEMPLATE);r=i.inFolder(o)}return t||n||r},t.prototype._isInnerEvent=function(e){return!e.originalEvent},t.prototype._isKeydown=function(e){return Boolean(e.originalEvent&&"keydown"===e.originalEvent.type)},t.prototype._isDownOrUpKey=function(e){var t=Jane.Common.keyCode;return this._isKeydown(e)&&(e.originalEvent.which===t.DOWN||e.originalEvent.which===t.UP)},t.prototype._search=function(e){return this.searchEvent=e,n._search.apply(this,arguments)},t.prototype._source=function(e){this.preventLog?this.preventLog=!1:this.prevTerm=this.currentTerm;var t,r=this.searchEvent,i=this._getTerm(e.term);this._getContactsToExclude&&(t=this._getContactsToExclude());var o={"abook-suggest":_.extend({},t,{climit:35,glimit:5,useAbook:"on"})};return i||this._isTemplate()||(this._isInnerEvent(r)||this._isDownOrUpKey(r)?(o["abook-suggest"].popular=!0,this.showAbookPopupButton&&!this._getTerm(e.term)?Daria.showDoubleSizedContacts()?o["abook-suggest"].climit=4:o["abook-suggest"].climit=5:o["abook-suggest"].climit=10):o={}),this.options.handlers=o,n._source.apply(this,arguments)},t.prototype._select=function(e,t){var r=t.item,i="abook-popup-button"===r.type;if(this.log({pos:_.findIndex(this.currentContent,t.item),count:this.currentContent.length,search_text:i?"all-contacts":t.item.email,suggest_used:"yes",suggest_show:"yes"}),i)return n._select.apply(this,arguments);var o=this.options.handlers["abook-suggest"];o&&o.popular&&(Daria.composeParams=Daria.composeParams||{},Daria.composeParams["popular-suggest-general"]||(Daria.composeParams["popular-suggest-general"]=[]),Daria.composeParams["popular-suggest-general"].push(r.email),Jane.c(["popular_suggest","Клики в саджест популярных контактов"]));var a={q:this.currentTerm,section:"group"===r.type?"group":"email",id:r.id||r.mcid||r.cid,title:r.title||r.email};return ns.forcedRequest("abook-suggest-report",a),n._select.apply(this,arguments)},t.prototype._focus=function(e,t){return this.currentFocused=t.item,n._focus.apply(this,arguments)},t.prototype._response=function(e,t){n._response.apply(this,arguments),1===t.content.length&&"label"===t.content[0].type&&(t.content.length=0)},t.prototype._open=function(){jpath(this,".options.handlers.abook-suggest.popular")[0]&&Jane.c(["popular_suggest","Показы саджеста популярных контактов"]),n._open.apply(this,arguments),this._updateGroupView()},t.prototype._close=function(){this.countOfClick=0,n._close.apply(this,arguments)},t.prototype._updateGroupView=function(){$(this.nbSuggest.$suggest).find(".js-group-data").each((function(){if(this.clientWidth<this.scrollWidth){var e=$(".js-group-more",this.parentNode)[0];e&&$(e).show().css("min-width",e.scrollWidth)}}))},t.prototype._highlight=function(e,t){if(!e)return"";var n="/%strong-"+String($.now())+String(Math.round(1e3*Math.random())),r=o()(n);r=new RegExp(r+"(.*)"+r,"i"),t=o()(t);var i=new RegExp("("+t+")","i");return e=e.replace(i,n+"$1"+n),e=_.escape(e),e.replace(r,'<strong class="js-suggest-highlight">$1</strong>')},t.prototype.parse=function(e,t){switch(e){case"abook-suggest":return this.parseAbookSuggest(t)}return[]},t.prototype.parseAbookSuggest=function(t){var n=this;if("object"!==r(t)||!t)return[];$.isArray(t.contacts)||(t.contacts=[]),$.isArray(t.groups)||(t.groups=[]);var i=!0,o=$.map(t.contacts,(function(e){var t="contact";e.popdom?t="popdom":i=!1,!e.ya_directory||"group"!==e.ya_directory.type&&"department"!==e.ya_directory.type||(t="wsContainer");var o="";return Array.isArray(e.phones)?e.phones[0]&&"object"===r(e.phones[0])?e.phones[0].value&&(o=e.phones[0].value):e.phones[0]&&(o=e.phones[0]):"string"==typeof e.phones&&(o=e.phones),e=$.extend({},e,{type:t,phone:o}),e.value=n.parseValue(e),e})),a=$.map(t.groups,(function(t){return i=!1,t=$.extend({},t,{type:"group",name:t.title?t.title:""}),t.email=$.map(t.contacts,(function(e){return e.email})).join(e),t.value=n.parseValue(t),t})),s=[].concat(o,a);return this.showAbookPopupButton&&!this.currentTerm&&s.length&&s.push({type:"abook-popup-button"}),i&&s.length&&(s=[].concat({type:"label",name:i18n("%Suggest_notify")+":"},s)),s},t.prototype.parseValue=function(t){var n,r=this;if("group"===t.type){n=$.map(t.contacts,(function(e){return r.formatContact(e)})).join(e)}else n=this.formatContact(t);return n},t.prototype.formatContact=function(e){return Jane.FormValidation.obj2contact(e)},t.prototype.log=function(e){this.preventLog||(e=Object.assign({project:"search_mail",action:"suggest-compose",product:a.b,uid:Daria.uid,filed:this.options.fieldType,field:this.options.fieldType,suggest_used:"",suggest_show:this.hasBeenShown?"yes":"no",pos:"",count:"",user_text:this.currentTerm||this.prevTerm,search_text:""},e),"number"==typeof e.pos&&(e.pos=-1===e.pos?"":e.pos+1),e.user_text=e.user_text?encodeURIComponent(e.user_text):"",e.search_text=e.search_text?encodeURIComponent(e.search_text):"",Daria.searchClickCounter(_.pairs(e).map((function(e){return e.join("=")}))),this.hasBeenShown=!1,this.prevTerm="",this.preventLog=!0)},Daria.Suggest.Contacts=t})()},function(e,t){!(function(){var e=function(e,t){t=$.extend({noSmsButton:!0},t),Daria.Suggest.Contacts.call(this,e,t)};Daria.extend(e,Daria.Suggest.Contacts),e.prototype._source=function(){return this.options.handlers={"abook-suggest":{climit:35,glimit:5,phone:"must",useAbook:"on"}},Daria.Suggest.prototype._source.apply(this,arguments)},e.prototype.parse=function(e,t){return t&&$.isArray(t.groups)&&(t.groups=[]),Daria.Suggest.Contacts.prototype.parse.apply(this,arguments)},e.prototype.formatContact=function(e){return e.phone},Daria.Suggest.Phones=e})()},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(139);n.n(r);Daria.Folder=function(e){e=e||{};var t="boolean"!=typeof e.hotkey||e.hotkey;return{validate:function(){if(!this.folderName)return ns.events.trigger("folder.error",i18n("%Setup_Filters_Create_Error_Empty")),!1;var t,n=this.parent_folder&&this.parent_folder.data("fid")||e.parent_id,i=ns.Model.get("folders");t=n&&n!==i.getFidBySymbol(r.WellKnownFolderSymbol.INBOX)?i.getFolderByName(this.folderName,n):i.getFolderByName(this.folderName);var o=i.getFolderById(e.id);if(t&&t.fid!==n&&(!o||o.name!==this.folderName)){var a=t.symbol?i18n("%Folders_System_Msg",this.folderName):i18n("%Folders_Exists_Msg");return ns.events.trigger("folder.error",a),!1}return!0},setName:function(e){this.folderName=e},bindEvents:function(){var e=this,n=this.context.find(".b-teaser"),r=this.context.find(".b-form-layout_filters-simple");this.filter&&(this.filter.form=r.find("form"));var i={cls:"b-popup__field_error",active:!1,show:function(t){this.notification=e.context.find(".b-notification__text"),this.row=this.notification.closest(".b-table"),t&&(this.notification.text(t),this.row.addClass(this.cls),this.active=!0)},hide:function(){this.row.removeClass(this.cls),this.active=!1,ns.events.trigger("folder.error.hide")}};ns.events.on("folder.error",(function(t,n){i.show(n),e.input.focus()})),this.context.on("click",".js-filter-open",(function(){Jane.c(["Поп-ап создания папки","клик на открыть фильтры"]),n.fadeOut(150,(function(){r.fadeIn(200,(function(){var e=r.find("input:visible").eq(0).focus(),t=Daria.Autocompleter.getContact();t.setOptions({multiple:!1,formatResult:Daria.formatAutocompleteResult}),t.bindField({field:e,focus:1}),ns.events.trigger("folder.filter.toggle",!0)}))}))})),this.context.on("click",".js-filter-close",(function(){Jane.c(["Поп-ап создания папки","клик на свернуть фильтры"]),r.fadeOut(150,(function(){n.fadeIn(200,(function(){e.input.focus(),ns.events.trigger("folder.filter.toggle",!0)}))}))})),this.context.on("click",".js-filter-link",(function(){return e.filter=!1,e.success=function(e){ns.page.go("#setup/filters-create/folder="+e)},e.onCreate(),!1})),this.context.on("keyup",".js-input-name",(function(n){var r=$.trim(this.value);r!=e.folderName&&i.active&&i.hide(),e.setName(r),13===n.which&&t&&e.onCreate()})),this.context.on("click",".js-dropdown-folder-labels",(function(){var e=$(window).height()-$(this).rect().top-40;$(".js-folders-list").css("max-height",e).scrollTop(0)}))},filter:Daria.FilterSimpleCreatePopup(),onCreate:function(){var e=this;if(this.setName($.trim(this.input[0].value)),this.validate()){Daria.Dialog.close();var t=null;this.parent_folder&&this.parent_folder[0]&&(t=this.parent_folder[0].getAttribute("data-fid")||null),this.create((function(t){e.filter&&(e.filter.params.move_folder=t,e.filter.create())}),null,t)}},init:function(){this.input=$("input[name=folder_name]",this.context),this.parent_folder=$(".js-selink__folder",this.context),e.name&&this.input.val(e.name),this.bindEvents(),this.open()}}},Daria.Folder.REMOVABLE_SYMBOLS={archive:!0},Daria.Folder.remove=function(e){var t,n=ns.Model.get("folders"),i=n.getFolderById(e),o=_.escape(i.name),a=Number(i.count);n.getSubfolders(e).length&&(t=(function e(t){for(var r=n.getSubfolders(t),i=0,o=0;o<r.length;o++){var a=r[o];i+=Number(a.count),n.getSubfolders([a.fid]).length&&(i+=e(a.fid))}return i})(e));var s=ns.Model.get("filters").getForFolder(e),u=[],c=[];$.each(s,(function(e,t){jpath(t,'.condition[.div == "X-yandex-rpop-id"]').length?u.push(t):c.push(t)}));var l,d=c.length,f=u.length,p=ns.page.current.params.current_folder,g=p===e||ns.Model.get("folders").hasChildByFid(e,p),h=function(t){var o=[{id:"do-folder-remove",params:{fid:e,force:t?"yes":""}},{id:"folders"}];Daria.Folder.REMOVABLE_SYMBOLS[i.symbol]&&o.unshift({id:"do-folder-set-symbol",params:{fid:e,symbol:""}}),ns.forcedRequest(o).then((function(t){"async"===(t[0].data.taskType||"sync")&&Daria.Statusline.show({name:"folder_delete",text:i18n("%Message_Delete_Folder_async"),speed:"fast"}),ns.events.trigger("daria:folder-remove-done",e),g&&ns.page.go(ns.router.generateUrl("messages",{current_folder:n.getFidBySymbol(r.WellKnownFolderSymbol.INBOX)}))}),(function(){ns.events.trigger("daria:folder-remove-fail",e)}))},m=function(){for(var e=[],t=0;t<d;t++){var n=c[t];e.push('— «<a href="#setup/filters-create/id='+n.filid+'">'+_.escape(n.name||i18n("%Setup_Filters_default_rule_name"))+"</a>»<br/>")}return e.join("")},v=[],b=i18n("%Folders_Remove_Button");a&&d?(v.push(i18n("%Folders_Remove_Messages_Filters_Body_1",a,d,o)),v.push(m()),v.push(i18n("%Folders_Remove_Messages_Filters_Body_2",a,d)),b=i18n("%Folders_Remove_Messages_Filters_Button",a,d)):a&&t?(v.push(i18n("%Folders_Remove_Messages_Submessages_Body",a+t,o)),l=a+t>1?2:1,b=i18n("%Folders_Remove_Messages_Button",l)):a?(v.push(i18n("%Folders_Remove_Messages_Body",a,o)),l=a>1?2:1,b=i18n("%Folders_Remove_Messages_Button",l)):t?(v.push(i18n("%Folders_Remove_SubMessages_Body",t,o)),l=t>1?2:1,b=i18n("%Folders_Remove_Messages_Button",l)):d&&(v.push(i18n("%Folders_Remove_Filters_Body_1",d)),v.push(m()),v.push(i18n("%Folders_Remove_Filters_Body_2",d)),b=i18n("%Folders_Remove_Filters_Button",d)),f&&v.push(i18n("%Folders_Remove_Collectors_Body",f,a||d)),a||d||f||t?Daria.Dialog.confirm({title:i18n("%Folders_Remove_Title"),width:450,body:v.join(""),additionalClass:"b-setup-popup",isMaxHeight:!0,okValue:b,okHandler:function(){if(h(!0),d||f){ns.Model.get("filters").getForFolder(e).forEach((function(e){Daria.Filter.removeById(e.filid)}))}}}):h()},Daria.Folder.markRead=function(e){ns.Model.get("folders").getUnreadCount(e)&&(["message-nearest","message-thread-nearest"].forEach((function(e){ns.Model.invalidate(e)})),ns.forcedRequest([{id:"do-folder-mark-read",params:{fid:e}}]).fail((function(t){return Daria.MOPS.registerOperationFail("mark",{fid:e},t,"do-folder-mark-read")})),Daria.MOPS.markByFid("mark",e))},Daria.Folder.createFilter=function(e){var t=$(Jane.tt("setup:js-setup-folders-dialog-folder-filter",{fid:e,single:null}));t.on("click",".js-filter-link",(function(){Jane.c(["Новый поп-ап фильтров","папка","клик на подробные условия"])}));var n=Daria.FilterSimpleCreatePopupSingle({form:t.find("form")});Daria.Dialog.open({title:i18n("%Setup_Filters_Simple_title_folder"),body:t,buttons:[{name:"submit",value:i18n("%Setup_filters-create_title"),onclick:function(){return Jane.c(["Новый поп-ап фильтров","папка","клик по создать"]),n.create()}},{name:"cancel"}],oncancel:function(){Jane.c(["Новый поп-ап фильтров","папка","клик по отменить"])},width:432,onopen:function(){Jane.c(["Новый поп-ап фильтров","папка","показ поп-апа для создания фильтра на папку"]),t.find("input[name=field3]:eq(0)").focus(),n.bindAutocompleter()}})}},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(138),s=(n.n(a),n(646)),u=n(139),c=(n.n(u),function(){return Object(a.uniqueId)("recipient-")}),l={messageByMid:function(e){return delete e.tid,l.messageById(e)},messageByTid:function(e){return delete e.mid,l.messageById(e)},messageById:function(e){var t=e.tid||e.mid;if(t){var n=ns.Model.get("message",{ids:t});if(n.isValid()){var r={dlid:n.get(".dlid"),dtype:n.get(".dtype"),socialLid:n.getSocialLID()};return e.mid&&(r.fid=n.get(".fid")),r}}},messageBySearchId:function(e){if(e.mid){var t=ns.Model.get("filter-search",{mids:e.mid});return t.isValid()?{fid:t.select(".envelopes.fid")[0],dlid:t.select(".envelopes.dlid")[0],dtype:t.select(".envelopes.dtype")[0],socialLid:t.getSocialLID()}:void 0}}},d=(function(){function e(){var t=this;r(this,e),this._request=Object(a.debounce)((function(){t._makeRequest()}),100),this._extractData=function(e){var n=e[0],r=n.getData();for(var i in r){var o=t._cache[i]||{},s=Object(a.extend)({},o,t._normalizeRecipientData(r[i],o.isGroup,o.isWsContainer));t._cache[i]=s,t._validityCache[t._extractEmail(s.email)]=s.valid}t._updateAvatarsViews(),n.destroy()},this._cache={},this._validityCache={},this._queue=[],this._requested={},this._recipients={},this._shouldUpdate=[],this._retryCount=0}return o(e,[{key:"_makeRequest",value:function(){var e=this,t=Object.keys(this._requested),n=this._queue.filter((function(e){return-1===t.indexOf(e)})).slice(0,256);if(!n.length)return vow.resolve();if(this._retryCount<=0)return this._queue=[],vow.reject("no-more-retries");var r=ns.forcedRequest("recipients",{recipientsIds:n}).then(this._extractData).fail((function(){e._retryCount--})).then((function(){if(n.forEach((function(t){delete e._requested[t];var n=e._queue.indexOf(t);-1!==n&&e._queue.splice(n,1)})),e._queue.length)return e._makeRequest()}));return n.forEach((function(t){return e._requested[t]=r})),r}},{key:"_resetRetryCount",value:function(){this._retryCount=3}},{key:"_getCacheId",value:function(e,t){return e||t?t?'"'.concat(t,'" <').concat(e,">"):"<".concat(e,">"):""}},{key:"addHeadAvatar",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.email,r=e.name,i=e.showUserAvatar,o=void 0===i||i,a=this._cache[this._getCacheId(n,r)],s=this._cache[this._getCacheId(n,n)];return!a&&s&&o&&s.url&&(e.name=n),this.add(e,t)}},{key:"add",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=e.name,r=void 0===n?"":n,i=e.email,o=void 0===i?"":i,s=e.size,u=e.id,l=e.className,d=e.target,f=e.title,p=e.isGroup,g=void 0!==p&&p,h=e.isWsContainer,m=void 0!==h&&h,v=e.showUserAvatar,b=void 0===v||v,_=e.href,y=e.mid,S=e.tid,w=e.participantType,O=e.single,M=e.fallbackAvatar;u=u||c(),s=-1!==Daria.Constants.AVATARS.VALID_SIZES.indexOf(parseInt(s,10))?s:Daria.Constants.AVATARS.DEFAULT_SIZE,Array.isArray(o)&&(o=o[0]),Array.isArray(r)&&(r=r[0]),r=r.replace(/"/g,""),g&&(o="".concat(o,"@yamail-group"));var D=this._getCacheId(o,r);if(this._recipients[u])t&&(this._shouldUpdate.push(u),D&&-1===this._queue.indexOf(D)&&this._queue.push(D),this._cache[D]&&delete this._cache[D]);else{var T=this._getMessageInfo({mid:y,tid:S,participantType:w,single:O});if(this._shouldUpdate.push(u),this._recipients[u]=Object(a.extend)({email:o,name:r,size:s,id:u,className:l,cacheId:D,target:d,title:f,showUserAvatar:b,href:_},this._createHref({href:_,message:T,title:f,participantType:w,email:o})),D&&-1===this._queue.indexOf(D)&&!this._cache[D]&&this._queue.push(D),!this._cache[D]||!this._cache[D].normalized){var x=this._normalizeRecipientData(this._cache[D],g,m,M);this._cache[D]=x,this._validityCache[o]=x.valid}}return this._resetRetryCount(),this._request(),this._getAvatarView(u)}},{key:"requestContacts",value:function(e){var t=this,n=!1,r=[];return e.forEach((function(e){var i=t._getCacheId(e.email,e.name),o=-1!==t._queue.indexOf(i),a=t._cache[i],s=t._requested[i],u=a&&t._cache[i].normalized;o||s||u||(t._queue.push(i),n=!0),s&&r.push(t._requested[i])})),n&&(this._resetRetryCount(),r.push(this._makeRequest())),vow.all(r)}},{key:"_normalizeRecipientData",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,i=e.type,o=e.url;return Object(a.extend)({},e,{fallbackAvatar:r||this._getSocialavatarsUrl(t||n?"group":"person"),shortMono:!!e.mono&&1===e.mono.length,isGroup:t,isWsContainer:n,normalized:!0,url:"icon"===i?this._getSocialavatarsUrl(o):o})}},{key:"_getSocialavatarsUrl",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"".concat(Daria.Config.socialavatarsUrl,"/v4/").concat(e,".svg").replace(Daria.Constants.HTTP_REG_EX,"")}},{key:"getRecipient",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=this._recipients[e]||{};return"url"in t&&!t.url&&delete t.url,Object(a.extend)({},this._cache[t.cacheId]||{},t)}},{key:"isEmailValid",value:function(e){return this._validityCache[e]}},{key:"getRecipientFromCache",value:function(e,t){return this._cache[this._getCacheId(t,e)]}},{key:"_getAvatarView",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return ns.renderString(Object(a.extend)({},this.getRecipient(e),{isIE:s.default.isIE()}),"js-avatars","mail")}},{key:"_updateAvatarsViews",value:function(){var e=this,t=this._shouldUpdate.map((function(e){return"#".concat(e)})).join(",");$(t).each((function(t,n){var r=$(n).closest(".js-bubble").get(0);if(r)Daria.BaseBubble.updateBubbleAtNode(r);else{var i=ns.html2node(e._getAvatarView(n.id));i&&n.parentElement.replaceChild(i.firstChild,n)}})),this._shouldUpdate=[],ns.events.trigger("daria:recipients:update")}},{key:"update",value:function(){var e=this;[].concat(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){return e.add(e.getRecipient(t),!0)}))}},{key:"cacheRecipient",value:function(e){var t=e.cacheId;delete e.cacheId,Daria.debug.enabled&&ns.assert(t,"Daria.Recipients.cacheRecipient","cacheId not specified for recipient"),this._cache[t]||(this._cache[t]=e,this._validityCache[this._extractEmail(e.email)]=e.normalized?e.valid:void 0)}},{key:"_getMessageInfo",value:function(e){var t=e.mid,n=e.tid,r=e.single,i=e.participantType,o=["messageByMid","messageBySearchId","messageByTid"],s={};return"from"===i&&n&&!r&&(o=o.reverse()),o.some((function(e){return s=l[e]({mid:t,tid:n})})),Object(a.isEmpty)(s)?{}:{fid:s.fid,dlid:s.dlid,dtype:s.dtype,isService:Boolean(s.dlid||s.dtype),serviceName:s.dlid||s.dtype&&s.dtype.name,socialLabel:s.socialLid&&ns.Model.get("labels").getLabelById(s.socialLid)}}},{key:"_createHref",value:function(e){var t,n,r=e.message,i=e.participantType,o=e.email,s=r.socialLabel,c=void 0===s?{}:s,l=r.fid,d=r.dtype,f=e.href,p=e.title;if(!1===f||!r)return{};if(Object(a.isEmpty)(c)){if(d&&d.sender&&24!==Number(d.id))t=ns.router.generateUrl("messages",{search:"search",type:d.id});else if(i&&l){var g={search:"search",scope:"to"===i?"hdr_to":"hdr_from",request:o};ns.Model.get("folders").isFolder(l,u.RecipientsSpecialFolders)&&(g.scope="hdr_to"),"hdr_to"===g.scope?(g.fid=l,n=i18n("%Все_письма_на_этот_адрес")):n=i18n("%Все_письма_с_этого_адреса"),t=ns.router.generateUrl("messages",g)}}else t=ns.router.generateUrl("messages",{current_label:c.lid}),n=c.title;return t&&(f=t),n&&!p&&!1!==p&&(p=n),{href:f,title:p}}},{key:"_extractEmail",value:function(e){var t=Jane.FormValidation.splitContacts(e);return t.length?t[0].email:e}}]),e})();Daria.Recipients=new d},function(e,t,n){var r=n(4939);ns.View.define("loading-bar",{events:{"ns-view-htmlinit":"onHtmlInit","ns-view-htmldestroy":"onHtmlDestroy","ns-page-before-load@show":"start","ns-page-after-load@show":"stop","ns-page-error-load@show":"stop","fake-loader@show":"refresh","beforeunload window@show":"onBeforePageUnload"},ctor:function(){this.start=_.debounce(this.start.bind(this),200)},yateModule:"mail",methods:{onHtmlInit:function(){this.progressBar=new r({node:this.node.querySelector(".js-loading-bar")}),this._refreshLock=!1},onHtmlDestroy:function(){this.progressBar.reset(),this.progressBar=null},start:function(){if(this._refreshLock)return void(this._refreshLock=!1);this.progressBar.start()},stop:function(){this.progressBar.isInProgress()&&this.progressBar.finish(),this.start.cancel()},refresh:function(){this.progressBar.start(),this._refreshLock=!0},onBeforePageUnload:function(){this.progressBar.reset()}}})},function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}var a=0,s=100;e.exports=(function(){function e(t){var n=t.node,i=t.steps,o=void 0===i?4:i,u=t.stepDuration,c=void 0===u?.5:u;if(r(this,e),!n)throw new Error("Progress bar must have element");this._steps=o,this._minStepDuration=c,this._maxStepDuration=2*c,this._progress=a,this._progressLimit=s,this._progressTimeout=null,this._elem=n,this._makeStep()}return o(e,[{key:"_style",value:function(e){this._elem&&Object.assign(this._elem.style,e)}},{key:"_makeStep",value:function(){this._style({width:this._progress+"%"})}},{key:"_move",value:function(){var e=this;this._progress+=this._stepWidth,this._makeStep(),this._progressTimeout=setTimeout((function(){return e._move()}),1e3*this._stepDuration)}},{key:"start",value:function(){var e=this;return Promise.resolve().then((function(){return e.isInProgress()?e.reset():null})).then((function(){return e._move()}))}},{key:"finish",value:function(){var e=this;return clearTimeout(this._progressTimeout),this._progressLimit=s,this._progress=this._progressLimit,this._makeStep(),new Promise(function(t){setTimeout((function(){return e.reset().then(t)}),1e3*e._minStepDuration)})}},{key:"reset",value:function(){var e=this;return clearTimeout(this._progressTimeout),this._progressLimit=s,this._progress=a,this._style({opacity:0,transitionDuration:0}),this._makeStep(),new Promise(function(t){setTimeout((function(){e._style({opacity:1,transitionDuration:"".concat(e._minStepDuration,"s")}),t()}),1e3*e._minStepDuration)})}},{key:"isInProgress",value:function(){return this._progress!==a}},{key:"_stepWidth",get:function(){var e=this._progressLimit-this._progress,t=Math.floor(e/this._steps);return Math.floor(t/_.random(1,this._steps))}},{key:"_stepDuration",get:function(){return _.random(this._minStepDuration,this._maxStepDuration)}}]),e})()},function(e,t,n){function r(e){return n(i(e))}function i(e){var t=o[e];if(!(t+1))throw new Error("Cannot find module '"+e+"'.");return t}var o={"./3pane-Attach.svg":4941,"./3pane-FolderOperations-Delete.svg":4942,"./3pane-FolderOperations-Read.svg":4943,"./3pane-FolderOperations-Selection.svg":4944,"./Abook-Birthday.svg":4945,"./Abook-Comment.svg":4946,"./Abook-Email.svg":4947,"./Abook-Filter.svg":4948,"./Abook-Group.svg":4949,"./Abook-Phone.svg":4950,"./Abook-at.svg":4951,"./Abook-calendar.svg":4952,"./Abook-staff.svg":4953,"./Abook-wiki.svg":4954,"./Add-Icon.svg":4955,"./AdvancedSearch_arrow.svg":4956,"./AdvancedSearch_attach.svg":4957,"./AdvancedSearch_calendar.svg":4958,"./AdvancedSearch_checkbox.svg":4959,"./AdvancedSearch_folder.svg":4960,"./AdvancedSearch_from.svg":4961,"./AdvancedSearch_important.svg":4962,"./AdvancedSearch_self.svg":4963,"./AdvancedSearch_service.svg":4964,"./AdvancedSearch_to.svg":4965,"./AdvancedSearch_unread.svg":4966,"./Arrow-Left.svg":4967,"./Attach-Download.svg":4968,"./Attach-DownloadBig.svg":4969,"./Attach-DownloadSmall.svg":4970,"./Attach-Download_Disk.svg":4971,"./Attach-Preview.svg":4972,"./Attach_Info.svg":4973,"./Attention.svg":4974,"./Avatar_avia.svg":4975,"./Avatar_hotels.svg":4976,"./Avatar_meeting.svg":4977,"./Avatar_pkpass.svg":4978,"./Avatar_recieved.svg":4979,"./Avatar_reminder.svg":4980,"./Avatar_warning.svg":4981,"./BeautifulEmail-Connected.svg":4982,"./BeautifulEmail-Disconnected.svg":4983,"./BeautifulEmail-Failed.svg":4984,"./BeautifulEmail-NoInfo.svg":4985,"./Clear-16.svg":4986,"./Close.svg":4987,"./Close16.svg":4988,"./CloseBold.svg":4989,"./Close_round.svg":4990,"./Collectors-Promo-Button_gmail.svg":4991,"./Collectors-Promo-Button_hotmail.svg":4992,"./Collectors-Promo-Button_mail.svg":4993,"./Collectors-Promo-Button_rambler.svg":4994,"./Collectors-Promo-Button_yahoo.svg":4995,"./Compose-ArrowDown.svg":4996,"./Compose-ArrowUp.svg":4997,"./Compose-AttachComputer.svg":4998,"./Compose-AttachDisk.svg":4999,"./Compose-AttachLocal.svg":5e3,"./Compose-AttachMail.svg":5001,"./Compose-Attachments-Collapse.svg":5002,"./Compose-Attachments-Disk.svg":5003,"./Compose-Attachments-Mail.svg":5004,"./Compose-Beta-Off.svg":5005,"./Compose-Beta-On.svg":5006,"./Compose-Clip.svg":5007,"./Compose-Clip_new.svg":5008,"./Compose-Close-Mobile.svg":5009,"./Compose-ClosePopup.svg":5010,"./Compose-Collapse.svg":5011,"./Compose-Cross.svg":5012,"./Compose-Delay.svg":5013,"./Compose-DelayedSending.svg":5014,"./Compose-DelayedSending_new.svg":5015,"./Compose-Delete.svg":5016,"./Compose-Disk_more.svg":5017,"./Compose-Done-Settings.svg":5018,"./Compose-Expand.svg":5019,"./Compose-Mail_more.svg":5020,"./Compose-MaximizeSquare.svg":5021,"./Compose-Minimize.svg":5022,"./Compose-Minus.svg":5023,"./Compose-More.svg":5024,"./Compose-MoreContacts.svg":5025,"./Compose-More_expanded.svg":5026,"./Compose-Notification.svg":5027,"./Compose-Notification_new.svg":5028,"./Compose-Notify.svg":5029,"./Compose-Plus.svg":5030,"./Compose-Promo-Hotkeys.svg":5031,"./Compose-Remind.svg":5032,"./Compose-RemoveYabble.svg":5033,"./Compose-Sidebar.svg":5034,"./Compose-SmallDropdown.svg":5035,"./Compose-Spellcheck-En.svg":5036,"./Compose-Spellcheck-Ru.svg":5037,"./Compose-SuccessMark.svg":5038,"./Compose-Templates.svg":5039,"./Compose-ToolbarLetter.svg":5040,"./Compose-ToolbarMoney.svg":5041,"./Compose-ToolbarPostcard.svg":5042,"./Compose-ToolbarZp.svg":5043,"./Compose-Translate.svg":5044,"./Compose-WysiwygAttach.svg":5045,"./Compose-WysiwygFormattingOff.svg":5046,"./Compose-WysiwygFormattingOn.svg":5047,"./Compose-WysiwygOrthographyEng.svg":5048,"./Compose-WysiwygOrthographyRus.svg":5049,"./Compose-WysiwygTranslator.svg":5050,"./ComposeButton-Refresh.svg":5051,"./ComposeButton.svg":5052,"./ComposeManager-Arrow.svg":5053,"./ComposeReact-ArrowUp.svg":5054,"./ComposeReact-Autocomplete.svg":5055,"./ComposeReact-Delete.svg":5056,"./ComposeReact-Effects.svg":5057,"./ComposeReact-Expand.svg":5058,"./ComposeReact-Feedback.svg":5059,"./ComposeReact-ImportantLabel.svg":5060,"./ComposeReact-InlineImage-Computer.svg":5061,"./ComposeReact-InlineImage-Link.svg":5062,"./ComposeReact-Label.svg":5063,"./ComposeReact-Label_more.svg":5064,"./ComposeReact-Signature.svg":5065,"./ComposeReact-SmartSubject.svg":5066,"./ComposeReact-Translate.svg":5067,"./ConnectService_admin.svg":5068,"./ConnectService_calendar.svg":5069,"./ConnectService_contacts.svg":5070,"./ConnectService_mail.svg":5071,"./ConnectService_main.svg":5072,"./ConnectService_people.svg":5073,"./ConnectService_wiki.svg":5074,"./ConnectService_yadisk.svg":5075,"./ConnectService_yamb.svg":5076,"./DiskResources-Back.svg":5077,"./DiskResources-Check.svg":5078,"./DiskResources-Folder.svg":5079,"./DiskResources-Information.svg":5080,"./DonePromo-QR-Signature.svg":5081,"./DragZones-Delete.svg":5082,"./DragZones-Read.svg":5083,"./DragZones-Unread.svg":5084,"./ExtendedSearch-Flag.svg":5085,"./ExtendedSearch-Unreads.svg":5086,"./File-Icon_ai.svg":5087,"./File-Icon_application.svg":5088,"./File-Icon_archive.svg":5089,"./File-Icon_audio.svg":5090,"./File-Icon_avi.svg":5091,"./File-Icon_bmp.svg":5092,"./File-Icon_book.svg":5093,"./File-Icon_cdr.svg":5094,"./File-Icon_csv.svg":5095,"./File-Icon_development.svg":5096,"./File-Icon_djvu.svg":5097,"./File-Icon_doc.svg":5098,"./File-Icon_eml.svg":5099,"./File-Icon_exe.svg":5100,"./File-Icon_executable.svg":5101,"./File-Icon_flash.svg":5102,"./File-Icon_fonts.svg":5103,"./File-Icon_general.svg":5104,"./File-Icon_gif.svg":5105,"./File-Icon_image.svg":5106,"./File-Icon_jpg.svg":5107,"./File-Icon_mail.svg":5108,"./File-Icon_mov.svg":5109,"./File-Icon_mp3.svg":5110,"./File-Icon_mp4.svg":5111,"./File-Icon_none.svg":5112,"./File-Icon_odp.svg":5113,"./File-Icon_ods.svg":5114,"./File-Icon_odt.svg":5115,"./File-Icon_pcx.svg":5116,"./File-Icon_pdf.svg":5117,"./File-Icon_pls.svg":5118,"./File-Icon_png.svg":5119,"./File-Icon_ppt.svg":5120,"./File-Icon_psd.svg":5121,"./File-Icon_rar.svg":5122,"./File-Icon_rtf.svg":5123,"./File-Icon_script.svg":5124,"./File-Icon_srt.svg":5125,"./File-Icon_text.svg":5126,"./File-Icon_tiff.svg":5127,"./File-Icon_txt.svg":5128,"./File-Icon_video.svg":5129,"./File-Icon_virus.svg":5130,"./File-Icon_wav.svg":5131,"./File-Icon_wma.svg":5132,"./File-Icon_wmv.svg":5133,"./File-Icon_xls.svg":5134,"./File-Icon_zip.svg":5135,"./Folder_archive.svg":5136,"./Folder_attach.svg":5137,"./Folder_draft.svg":5138,"./Folder_folder.svg":5139,"./Folder_important.svg":5140,"./Folder_important_new.svg":5141,"./Folder_inbox.svg":5142,"./Folder_notification.svg":5143,"./Folder_outbox.svg":5144,"./Folder_reply_later.svg":5145,"./Folder_restored.svg":5146,"./Folder_sent.svg":5147,"./Folder_spam.svg":5148,"./Folder_trash.svg":5149,"./Folder_unread.svg":5150,"./FoldersTabsPlaceholder-Picture_attachments-small.svg":5151,"./FoldersTabsPlaceholder-Picture_attachments.svg":5152,"./FoldersTabsPlaceholder-Picture_news-small.svg":5153,"./FoldersTabsPlaceholder-Picture_news.svg":5154,"./FoldersTabsPlaceholder-Picture_relevant-small.svg":5155,"./FoldersTabsPlaceholder-Picture_relevant.svg":5156,"./FoldersTabsPlaceholder-Picture_social-small.svg":5157,"./FoldersTabsPlaceholder-Picture_social.svg":5158,"./Footer-Android.svg":5159,"./Footer-Apple.svg":5160,"./GoToThread.svg":5161,"./Header-Bug.svg":5162,"./Header-Search.svg":5163,"./Header-Settings.svg":5164,"./Header-Themes.svg":5165,"./Help.svg":5166,"./ICS-Confirm.svg":5167,"./ICS-Decline.svg":5168,"./ICS-Owner.svg":5169,"./ICS-Question.svg":5170,"./ICS-Repeat.svg":5171,"./ICS-person.svg":5172,"./Icon-dkim-01.svg":5173,"./Icon-dkim-02.svg":5174,"./Icon-dkim-03.svg":5175,"./Inbox-BoldReadSwitch.svg":5176,"./Inbox-BoldReadSwitch_active.svg":5177,"./Inbox-CheckboxCheckMark-Small.svg":5178,"./Inbox-CheckboxCheckMark.svg":5179,"./Inbox-CleanFolder.svg":5180,"./Inbox-DelayMessage.svg":5181,"./Inbox-Deselect.svg":5182,"./Inbox-Flag.svg":5183,"./Inbox-LongLoad.svg":5184,"./Inbox-MuteThread.svg":5185,"./Inbox-ReadSwitch.svg":5186,"./Inbox-ReadSwitch_active.svg":5187,"./Inbox-Remind.svg":5188,"./Inbox-RepliedMessage.svg":5189,"./Inbox-RepliedMessageBoth.svg":5190,"./Inbox-RepliedMessageOther.svg":5191,"./Inbox-SelectAll.svg":5192,"./Inbox-SelectFolder.svg":5193,"./Inbox-Unread.svg":5194,"./InboxFilters-Attach.svg":5195,"./InboxFilters-Clock.svg":5196,"./InboxFilters-Clock_active.svg":5197,"./InboxFilters-Flag.svg":5198,"./InboxFilters-Inbox.svg":5199,"./InboxFilters-MailTypes-Hotels.svg":5200,"./InboxFilters-MailTypes-Inbox.svg":5201,"./InboxFilters-MailTypes-People.svg":5202,"./InboxFilters-MailTypes-Sale.svg":5203,"./InboxFilters-MailTypes-Social.svg":5204,"./InboxFilters-MailTypes-Ticket.svg":5205,"./InboxFilters-MailTypes-ZP.svg":5206,"./InboxFilters-Pin.svg":5207,"./InboxFilters-Pin_active.svg":5208,"./InboxFilters-Read.svg":5209,"./Info.svg":5210,"./Introduce-Folders-Tabs-Icon.svg":5211,"./Labels-AddButton.svg":5212,"./LeftColumn-Flag.svg":5213,"./Link-Earth.svg":5214,"./Locked.svg":5215,"./Mail-Question.svg":5216,"./MailProFloatButton.svg":5217,"./MainToolbar-AddBtn.svg":5218,"./MainToolbar-AddContact.svg":5219,"./MainToolbar-AddGroup.svg":5220,"./MainToolbar-AddTemplate.svg":5221,"./MainToolbar-Archive.svg":5222,"./MainToolbar-Attachment.svg":5223,"./MainToolbar-Compose.svg":5224,"./MainToolbar-Delete.svg":5225,"./MainToolbar-DeleteGroup.svg":5226,"./MainToolbar-Edit.svg":5227,"./MainToolbar-Folder.svg":5228,"./MainToolbar-Forward.svg":5229,"./MainToolbar-Important.svg":5230,"./MainToolbar-MagicFolder.svg":5231,"./MainToolbar-MagicTag.svg":5232,"./MainToolbar-MarkImportant.svg":5233,"./MainToolbar-MarkUnimportant.svg":5234,"./MainToolbar-Money.svg":5235,"./MainToolbar-More.svg":5236,"./MainToolbar-MoveUp.svg":5237,"./MainToolbar-MoveUpSmall.svg":5238,"./MainToolbar-Pin.svg":5239,"./MainToolbar-Pin_active.svg":5240,"./MainToolbar-Read.svg":5241,"./MainToolbar-Refresh.svg":5242,"./MainToolbar-Reply.svg":5243,"./MainToolbar-Reply_later.svg":5244,"./MainToolbar-Replyall.svg":5245,"./MainToolbar-Restored.svg":5246,"./MainToolbar-Search.svg":5247,"./MainToolbar-SmartForward.svg":5248,"./MainToolbar-Spam.svg":5249,"./MainToolbar-Tag.svg":5250,"./MainToolbar-Template.svg":5251,"./MainToolbar-Unread.svg":5252,"./MainToolbar-Unspam.svg":5253,"./MainToolbar-Unsubscribe.svg":5254,"./MainToolbar-Unsubscribe_all.svg":5255,"./Message-CopyQuote.svg":5256,"./Message-Dkim_false.svg":5257,"./Message-Dkim_none.svg":5258,"./Message-Dkim_true.svg":5259,"./Message-DnD.svg":5260,"./Message-Expand.svg":5261,"./Message-Important.svg":5262,"./Message-Important_active.svg":5263,"./Message-InfoIcon.svg":5264,"./Message-InfoIconBig.svg":5265,"./Message-MarkImportant.svg":5266,"./Message-MarkUnimportant.svg":5267,"./Message-PrevNext.svg":5268,"./Message-Quotation.svg":5269,"./Message-RedAlert.svg":5270,"./Message-RightColumn-Letters.svg":5271,"./Message-RightColumn-Links.svg":5272,"./Message-RightColumn-Thread.svg":5273,"./Message-WidgetHoles.svg":5274,"./Message-YellowAlert.svg":5275,"./MessageToolbar-Clock.svg":5276,"./MessageToolbar-Compose.svg":5277,"./MessageToolbar-Delete.svg":5278,"./MessageToolbar-More.svg":5279,"./MessageToolbar-Pin.svg":5280,"./MessageToolbar-Pin_active.svg":5281,"./MessageToolbar-Reply.svg":5282,"./NewTabs-Default.svg":5283,"./NewTabs-News.svg":5284,"./NewTabs-Social.svg":5285,"./OAuthProviderLogo_gmail.svg":5286,"./OAuthProviderLogo_mailru.svg":5287,"./OAuthProviderLogo_outlook.svg":5288,"./OAuthProviderLogo_yamail.svg":5289,"./Pancakes.svg":5290,"./Priority-Star-Filled.svg":5291,"./Priority-Star-Outline.svg":5292,"./Priority-Star.svg":5293,"./Search-MailTypes-Hotel.svg":5294,"./Search-MailTypes-People.svg":5295,"./Search-MailTypes-Sale.svg":5296,"./Search-MailTypes-Social.svg":5297,"./Search-MailTypes-Ticket.svg":5298,"./Search-MailTypes-ZP.svg":5299,"./SearchSuggest-Attach.svg":5300,"./SearchSuggest-Close.svg":5301,"./SearchSuggest-Folder.svg":5302,"./SearchSuggest-History.svg":5303,"./SearchSuggest-History_2.svg":5304,"./SearchSuggest-Important.svg":5305,"./SearchSuggest-Label.svg":5306,"./SearchSuggest-Mail.svg":5307,"./SearchSuggest-Ql.svg":5308,"./SearchSuggest-Settings.svg":5309,"./SearchSuggest-Subject.svg":5310,"./SearchSuggest-Unread.svg":5311,"./SecurityLevel-low.svg":5312,"./SecurityLevel-middle.svg":5313,"./Service_admin.svg":5314,"./Service_afisha.svg":5315,"./Service_b2b_admin.svg":5316,"./Service_browser.svg":5317,"./Service_buy-pro.svg":5318,"./Service_calendar.svg":5319,"./Service_contacts.svg":5320,"./Service_direct.svg":5321,"./Service_dropdown-contacts.svg":5322,"./Service_images.svg":5323,"./Service_mail-corp.svg":5324,"./Service_mail-prod.svg":5325,"./Service_main.svg":5326,"./Service_maps.svg":5327,"./Service_market.svg":5328,"./Service_messenger.svg":5329,"./Service_metrika.svg":5330,"./Service_money.svg":5331,"./Service_music.svg":5332,"./Service_news.svg":5333,"./Service_notes.svg":5334,"./Service_people.svg":5335,"./Service_pogoda.svg":5336,"./Service_q.svg":5337,"./Service_search_en.svg":5338,"./Service_search_ru.svg":5339,"./Service_startrek.svg":5340,"./Service_stub_A.svg":5341,"./Service_stub_B.svg":5342,"./Service_stub_D.svg":5343,"./Service_stub_EE.svg":5344,"./Service_stub_G.svg":5345,"./Service_stub_J.svg":5346,"./Service_stub_L.svg":5347,"./Service_stub_O.svg":5348,"./Service_stub_P.svg":5349,"./Service_stub_S.svg":5350,"./Service_stub_T.svg":5351,"./Service_stub_Y.svg":5352,"./Service_stub_diary_en.svg":5353,"./Service_stub_diary_ru.svg":5354,"./Service_stub_doc_en.svg":5355,"./Service_stub_doc_ru.svg":5356,"./Service_stub_golem_en.svg":5357,"./Service_stub_golem_ru.svg":5358,"./Service_stub_idm_en.svg":5359,"./Service_stub_idm_ru.svg":5360,"./Service_stub_invite_en.svg":5361,"./Service_stub_invite_ru.svg":5362,"./Service_stub_jabber_en.svg":5363,"./Service_stub_jabber_ru.svg":5364,"./Service_stub_lego_en.svg":5365,"./Service_stub_lego_ru.svg":5366,"./Service_stub_lib_en.svg":5367,"./Service_stub_lib_ru.svg":5368,"./Service_stub_magazine_en.svg":5369,"./Service_stub_magazine_ru.svg":5370,"./Service_stub_ml_en.svg":5371,"./Service_stub_ml_ru.svg":5372,"./Service_stub_otrs_en.svg":5373,"./Service_stub_otrs_ru.svg":5374,"./Service_stub_planner_en.svg":5375,"./Service_stub_planner_ru.svg":5376,"./Service_stub_stat_en.svg":5377,"./Service_stub_stat_ru.svg":5378,"./Service_tv.svg":5379,"./Service_wiki.svg":5380,"./Service_yadisk.svg":5381,"./Service_yamb.svg":5382,"./Services-buy_pro.svg":5383,"./Settings-InterfaceSwitch.svg":5384,"./Settings.svg":5385,"./Settings_mail-pro.svg":5386,"./Settings_setup-abook.svg":5387,"./Settings_setup-backup.svg":5388,"./Settings_setup-beautiful-email.svg":5389,"./Settings_setup-collectors.svg":5390,"./Settings_setup-filters.svg":5391,"./Settings_setup-folders.svg":5392,"./Settings_setup-other.svg":5393,"./Settings_setup-security.svg":5394,"./Settings_setup-sender.svg":5395,"./Settings_setup-todo.svg":5396,"./Settings_setup-unsubscribe-filters.svg":5397,"./Settings_themes.svg":5398,"./Subscriptions-Cross.svg":5399,"./Subscriptions-Promo-Corner.svg":5400,"./Suggest-More.svg":5401,"./Telemost-Logo.svg":5402,"./Theme-Pin.svg":5403,"./Themes-AddImg.svg":5404,"./Themes-Edit.svg":5405,"./Themes-Seasons_autumn.svg":5406,"./Themes-Seasons_rotation.svg":5407,"./Themes-Seasons_spring.svg":5408,"./Themes-Seasons_summer.svg":5409,"./Themes-Seasons_winter.svg":5410,"./Timeline-Add-Event.svg":5411,"./Timeline-Attendees.svg":5412,"./Timeline-Calendar.svg":5413,"./Timeline-Location.svg":5414,"./Todo-Calendar.svg":5415,"./Todo-Circlemark.svg":5416,"./Todo-Edit.svg":5417,"./Todo-Letter.svg":5418,"./Todo-Mark.svg":5419,"./ToolbarOnSelection-Delete.svg":5420,"./ToolbarOnSelection-Reply.svg":5421,"./ToolbarOnSelection-SmallClock.svg":5422,"./Unlocked.svg":5423,"./UnsubscribeFilters-Done.svg":5424,"./UnsubscribeFilters-Error-sidebar.svg":5425,"./UnsubscribeFilters-Error.svg":5426,"./UnsubscribePopup-Done-big.svg":5427,"./ViewSettings-Icon.svg":5428,"./ViewSettings-InboxType_1.svg":5429,"./ViewSettings-InboxType_2.svg":5430,"./ViewSettings-InboxType_3.svg":5431,"./ViewSettings-LineHeight1.svg":5432,"./ViewSettings-LineHeight2.svg":5433,"./ViewSettings-LineHeight3.svg":5434,"./Widgets-Avatar-Calendar.svg":5435,"./Widgets-Avatar-Error.svg":5436,"./Widgets-Avatar-Reminder.svg":5437,"./Widgets-Done-big.svg":5438,"./Widgets-Done.svg":5439,"./Widgets-Person.svg":5440,"./Widgets-PlaneBothWays.svg":5441,"./Widgets-PlaneOneWay.svg":5442,"./Widgets-Print.svg":5443,"./Widgets_bounce-not-ok-dark.svg":5444,"./Widgets_bounce-not-ok-gray-dark.svg":5445,"./Widgets_bounce-not-ok-gray-light.svg":5446,"./Widgets_bounce-not-ok-light.svg":5447,"./Widgets_bounce-ok-dark.svg":5448,"./Widgets_bounce-ok-gray-dark.svg":5449,"./Widgets_bounce-ok-gray-light.svg":5450,"./Widgets_bounce-ok-light.svg":5451,"./Widgets_eshop-dark.svg":5452,"./Widgets_eshop-light.svg":5453,"./Widgets_hotels-dark.svg":5454,"./Widgets_hotels-light.svg":5455,"./Widgets_hotels-pink-dark.svg":5456,"./Widgets_hotels-pink-light.svg":5457,"./Widgets_tickets-dark.svg":5458,"./Widgets_tickets-light.svg":5459,"./Widgets_tracker.svg":5460,"./Widgets_trips-blue-dark.svg":5461,"./Widgets_trips-blue-light.svg":5462,"./Widgets_trips-dark.svg":5463,"./Widgets_trips-light.svg":5464,"./Wz-attachment.svg":5465,"./YaNotVerified.svg":5466,"./YaVerified.svg":5467,"./Yandex-header_settings.svg":5468,"./Yandex-header_themes.svg":5469};r.keys=function(){return Object.keys(o)},r.resolve=i,e.exports=r,r.id=4940},function(e,t,n){e.exports={id:"svgicon-mail--3pane-Attach-usage",viewBox:"-93 96 8 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--3pane-Attach",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--3pane-FolderOperations-Delete-usage",viewBox:"37 -1.5 25 28",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--3pane-FolderOperations-Delete",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--3pane-FolderOperations-Read-usage",viewBox:"25.5 -2.5 28 28",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--3pane-FolderOperations-Read",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--3pane-FolderOperations-Selection-usage",viewBox:"25.5 -2.5 28 28",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--3pane-FolderOperations-Selection",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-Birthday-usage",viewBox:"53.5 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-Birthday",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-Comment-usage",viewBox:"261 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-Comment",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-Email-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-Email",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-Filter-usage",viewBox:"0 0 15 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-Filter",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-Group-usage",viewBox:"81.5 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-Group",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-Phone-usage",viewBox:"26.9 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-Phone",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-at-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-at",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-calendar-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-calendar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-staff-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-staff",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Abook-wiki-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Abook-wiki",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Add-Icon-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Add-Icon",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_arrow-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_arrow",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_attach-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_attach",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_calendar-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_calendar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_checkbox-usage",viewBox:"0 0 10 8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_checkbox",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_folder-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_folder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_from-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_from",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_important-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_important",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_self-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_self",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_service-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_service",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_to-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_to",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--AdvancedSearch_unread-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--AdvancedSearch_unread",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Arrow-Left-usage",viewBox:"0 0 12 21",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Arrow-Left",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Attach-Download-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attach-Download",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Attach-DownloadBig-usage",viewBox:"0 0 12 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attach-DownloadBig",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Attach-DownloadSmall-usage",viewBox:"0 0 10 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attach-DownloadSmall",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Attach-Download_Disk-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attach-Download_Disk",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Attach-Preview-usage",viewBox:"41.5 3.5 19 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attach-Preview",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Attach_Info-usage",viewBox:"-32 280.5 8 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attach_Info",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Attention-usage",viewBox:"0 0 27 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Attention",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Avatar_avia-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_avia",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Avatar_hotels-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_hotels",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Avatar_meeting-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_meeting",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Avatar_pkpass-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_pkpass",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Avatar_recieved-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_recieved",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Avatar_reminder-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_reminder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Avatar_warning-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Avatar_warning",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--BeautifulEmail-Connected-usage",viewBox:"0 0 12 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--BeautifulEmail-Connected",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--BeautifulEmail-Disconnected-usage",viewBox:"0 0 12 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--BeautifulEmail-Disconnected",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--BeautifulEmail-Failed-usage",viewBox:"0 0 12 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--BeautifulEmail-Failed",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--BeautifulEmail-NoInfo-usage",viewBox:"0 0 12 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--BeautifulEmail-NoInfo",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Clear-16-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Clear-16",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Close-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Close",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Close16-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Close16",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--CloseBold-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--CloseBold",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Close_round-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Close_round",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Collectors-Promo-Button_gmail-usage",viewBox:"0 0 16 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Collectors-Promo-Button_gmail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Collectors-Promo-Button_hotmail-usage",viewBox:"0 0 104 105",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Collectors-Promo-Button_hotmail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Collectors-Promo-Button_mail-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Collectors-Promo-Button_mail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Collectors-Promo-Button_rambler-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Collectors-Promo-Button_rambler",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Collectors-Promo-Button_yahoo-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Collectors-Promo-Button_yahoo",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-ArrowDown-usage",viewBox:"0 0 12 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ArrowDown",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-ArrowUp-usage",viewBox:"0 0 12 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ArrowUp",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-AttachComputer-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-AttachComputer",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-AttachDisk-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-AttachDisk",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-AttachLocal-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-AttachLocal",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-AttachMail-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-AttachMail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Attachments-Collapse-usage",viewBox:"0 0 22 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Attachments-Collapse",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Attachments-Disk-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Attachments-Disk",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Attachments-Mail-usage",viewBox:"0 0 20 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Attachments-Mail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Beta-Off-usage",viewBox:"0 0 23 19",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Beta-Off",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Beta-On-usage",viewBox:"0 0 11 21",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Beta-On",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Clip-usage",viewBox:"0 0 22 22",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Clip",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Clip_new-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Clip_new",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Close-Mobile-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Close-Mobile",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-ClosePopup-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ClosePopup",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Collapse-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Collapse",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Cross-usage",viewBox:"0 0 8 8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Cross",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Delay-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Delay",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-DelayedSending-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-DelayedSending",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-DelayedSending_new-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-DelayedSending_new",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Delete-usage",viewBox:"0 841.9 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Delete",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Disk_more-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Disk_more",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Done-Settings-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Done-Settings",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Expand-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Expand",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Mail_more-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Mail_more",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-MaximizeSquare-usage",viewBox:"-3 -3 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-MaximizeSquare",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Minimize-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Minimize",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Minus-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Minus",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-More-usage",viewBox:"0 0 4 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-More",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-MoreContacts-usage",viewBox:"0 0 26 26",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-MoreContacts",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-More_expanded-usage",viewBox:"0 0 10 6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-More_expanded",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Notification-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Notification",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Notification_new-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Notification_new",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Notify-usage",viewBox:"0 0 18 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Notify",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Plus-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Plus",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Promo-Hotkeys-usage",viewBox:"0 0 188 188",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Promo-Hotkeys",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Remind-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Remind",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-RemoveYabble-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-RemoveYabble",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Sidebar-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Sidebar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-SmallDropdown-usage",viewBox:"0 0 8 4",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-SmallDropdown",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Spellcheck-En-usage",viewBox:"0 0 31.3 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Spellcheck-En",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Spellcheck-Ru-usage",viewBox:"0 0 28 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Spellcheck-Ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-SuccessMark-usage",viewBox:"0 0 54 52",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-SuccessMark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Templates-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Templates",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-ToolbarLetter-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ToolbarLetter",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-ToolbarMoney-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ToolbarMoney",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-ToolbarPostcard-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ToolbarPostcard",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-ToolbarZp-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-ToolbarZp",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-Translate-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-Translate",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-WysiwygAttach-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-WysiwygAttach",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-WysiwygFormattingOff-usage",viewBox:"18.5 2.5 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-WysiwygFormattingOff",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-WysiwygFormattingOn-usage",viewBox:"18.5 -3.5 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-WysiwygFormattingOn",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-WysiwygOrthographyEng-usage",viewBox:"0 0 31.3 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-WysiwygOrthographyEng",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-WysiwygOrthographyRus-usage",viewBox:"0 0 28 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-WysiwygOrthographyRus",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Compose-WysiwygTranslator-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Compose-WysiwygTranslator",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeButton-Refresh-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeButton-Refresh",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeButton-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeButton",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeManager-Arrow-usage",viewBox:"0 0 12 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeManager-Arrow",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-ArrowUp-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-ArrowUp",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-Autocomplete-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Autocomplete",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-Delete-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Delete",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-Effects-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Effects",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-Expand-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Expand",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-Feedback-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Feedback",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-ImportantLabel-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-ImportantLabel",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-InlineImage-Computer-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-InlineImage-Computer",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-InlineImage-Link-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-InlineImage-Link",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-Label-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Label",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-Label_more-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Label_more",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-Signature-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Signature",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-SmartSubject-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-SmartSubject",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ComposeReact-Translate-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ComposeReact-Translate",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ConnectService_admin-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_admin",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ConnectService_calendar-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_calendar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ConnectService_contacts-usage",viewBox:"0 0 36 45",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_contacts",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ConnectService_mail-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_mail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ConnectService_main-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_main",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ConnectService_people-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_people",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ConnectService_wiki-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_wiki",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ConnectService_yadisk-usage",viewBox:"0 0 48 31",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_yadisk",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ConnectService_yamb-usage",viewBox:"0 0 45.4 45.4",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ConnectService_yamb",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--DiskResources-Back-usage",viewBox:"0 0 17 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DiskResources-Back",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--DiskResources-Check-usage",viewBox:"0 0 12 9",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DiskResources-Check",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--DiskResources-Folder-usage",viewBox:"0 0 40 33",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DiskResources-Folder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--DiskResources-Information-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DiskResources-Information",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--DonePromo-QR-Signature-usage",viewBox:"0 0 63.9 66",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DonePromo-QR-Signature",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--DragZones-Delete-usage",viewBox:"3 0.5 50 56",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DragZones-Delete",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--DragZones-Read-usage",viewBox:"0 0 57 56",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DragZones-Read",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--DragZones-Unread-usage",viewBox:"0 0 57 56",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--DragZones-Unread",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ExtendedSearch-Flag-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ExtendedSearch-Flag",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ExtendedSearch-Unreads-usage",viewBox:"0 0 14 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ExtendedSearch-Unreads",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_ai-usage",viewBox:"0 0 14 12.3",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_ai",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_application-usage",viewBox:"0 0 17.2 14.1",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_application",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_archive-usage",viewBox:"0 0 6.9 21.7",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_archive",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_audio-usage",viewBox:"0 0 12.7 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_audio",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_avi-usage",viewBox:"0 0 15.3 12.3",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_avi",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_bmp-usage",viewBox:"0 0 14.6 10.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_bmp",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_book-usage",viewBox:"0 0 14.8 10.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_book",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_cdr-usage",viewBox:"0 0 13.6 17.8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_cdr",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_csv-usage",viewBox:"0 0 12.3 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_csv",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_development-usage",viewBox:"0 0 16.3 10.1",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_development",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_djvu-usage",viewBox:"0 0 12.3 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_djvu",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_doc-usage",viewBox:"0 0 15.3 14.8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_doc",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_eml-usage",viewBox:"0 0 14.8 13.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_eml",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_exe-usage",viewBox:"0 0 17.2 14.1",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_exe",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_executable-usage",viewBox:"0 0 17.2 14.1",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_executable",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_flash-usage",viewBox:"0 0 13.6 16.3",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_flash",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_fonts-usage",viewBox:"0 0 17.3 10.1",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_fonts",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_general-usage",viewBox:"0 0 12.7 17.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_general",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_gif-usage",viewBox:"0 0 14.6 10.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_gif",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_image-usage",viewBox:"0 0 14.6 10.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_image",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_jpg-usage",viewBox:"0 0 14.6 10.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_jpg",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_mail-usage",viewBox:"0 0 14.8 13.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_mail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_mov-usage",viewBox:"0 0 13.6 13.4",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_mov",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_mp3-usage",viewBox:"0 0 12.7 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_mp3",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_mp4-usage",viewBox:"0 0 15.3 12.3",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_mp4",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_none-usage",viewBox:"0 0 22.3 14.8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_none",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_odp-usage",viewBox:"0 0 17.3 12.1",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_odp",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_ods-usage",viewBox:"0 0 17.3 12.1",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_ods",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_odt-usage",viewBox:"0 0 12 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_odt",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_pcx-usage",viewBox:"0 0 14.6 10.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_pcx",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_pdf-usage",viewBox:"0 0 17.1 17.1",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_pdf",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_pls-usage",viewBox:"0 0 12.7 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_pls",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_png-usage",viewBox:"0 0 14.6 10.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_png",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_ppt-usage",viewBox:"0 0 15.5 14.8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_ppt",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_psd-usage",viewBox:"0 0 14.8 12.5",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_psd",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_rar-usage",viewBox:"0 0 6.9 21.7",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_rar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_rtf-usage",viewBox:"0 0 12 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_rtf",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_script-usage",viewBox:"0 0 16.3 10.1",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_script",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_srt-usage",viewBox:"0 0 15.3 12.3",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_srt",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_text-usage",viewBox:"0 0 12 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_text",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_tiff-usage",viewBox:"0 0 14.6 10.6",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_tiff",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_txt-usage",viewBox:"0 0 12 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_txt",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_video-usage",viewBox:"0 0 15.3 12.3",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_video",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_virus-usage",viewBox:"0 0 3.2 17.8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_virus",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_wav-usage",viewBox:"0 0 12.7 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_wav",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_wma-usage",viewBox:"0 0 12.7 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_wma",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_wmv-usage",viewBox:"0 0 15.3 12.3",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_wmv",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_xls-usage",viewBox:"0 0 15 14.8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_xls",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--File-Icon_zip-usage",viewBox:"0 0 6.9 21.7",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--File-Icon_zip",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_archive-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_archive",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_attach-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_attach",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_draft-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_draft",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_folder-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_folder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_important-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_important",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_important_new-usage",viewBox:"0 0 13 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_important_new",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_inbox-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_inbox",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_notification-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_notification",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_outbox-usage",viewBox:"0 0 16 21",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_outbox",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_reply_later-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_reply_later",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_restored-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_restored",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_sent-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_sent",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_spam-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_spam",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_trash-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_trash",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Folder_unread-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Folder_unread",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_attachments-small-usage",viewBox:"0 0 152 151",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_attachments-small",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_attachments-usage",viewBox:"0 0 318 316",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_attachments",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_news-small-usage",viewBox:"0 0 140 141",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_news-small",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_news-usage",viewBox:"0 0 292 293",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_news",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_relevant-small-usage",viewBox:"0 0 145 140",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_relevant-small",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_relevant-usage",viewBox:"0 0 303 291",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_relevant",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_social-small-usage",viewBox:"0 0 146 139",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_social-small",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--FoldersTabsPlaceholder-Picture_social-usage",viewBox:"0 0 306 291",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--FoldersTabsPlaceholder-Picture_social",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Footer-Android-usage",viewBox:"0 0 28 28",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Footer-Android",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Footer-Apple-usage",viewBox:"0 0 28 28",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Footer-Apple",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--GoToThread-usage",viewBox:"0 0 13 13",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--GoToThread",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Header-Bug-usage",viewBox:"-583 408.9 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Header-Bug",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Header-Search-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Header-Search",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Header-Settings-usage",viewBox:"1.5 2 20 19",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Header-Settings",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Header-Themes-usage",viewBox:"4.5 1.5 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Header-Themes",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Help-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Help",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ICS-Confirm-usage",viewBox:"0 0 11 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ICS-Confirm",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ICS-Decline-usage",viewBox:"0 0 11 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ICS-Decline",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ICS-Owner-usage",viewBox:"0 0 12 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ICS-Owner",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ICS-Question-usage",viewBox:"0 0 11 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ICS-Question",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ICS-Repeat-usage",viewBox:"-2.5 -5.5 16 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ICS-Repeat",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ICS-person-usage",viewBox:"0 0 17 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ICS-person",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Icon-dkim-01-usage",viewBox:"0 0 12 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Icon-dkim-01",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Icon-dkim-02-usage",viewBox:"0 0 12 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Icon-dkim-02",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Icon-dkim-03-usage",viewBox:"0 0 12 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Icon-dkim-03",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-BoldReadSwitch-usage",viewBox:"0 0 10 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-BoldReadSwitch",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-BoldReadSwitch_active-usage",viewBox:"0 0 10 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-BoldReadSwitch_active",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-CheckboxCheckMark-Small-usage",viewBox:"0 0 12 9",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-CheckboxCheckMark-Small",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-CheckboxCheckMark-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-CheckboxCheckMark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-CleanFolder-usage",viewBox:"0 0 12 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-CleanFolder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-DelayMessage-usage",viewBox:"-266 415.9 14 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-DelayMessage",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-Deselect-usage",viewBox:"0 0 18 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-Deselect",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-Flag-usage",viewBox:"-93 97 10 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-Flag",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-LongLoad-usage",viewBox:"-87.5 -27.5 71 71",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-LongLoad",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-MuteThread-usage",viewBox:"0 0 14 13",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-MuteThread",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-ReadSwitch-usage",viewBox:"0 0 10 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-ReadSwitch",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-ReadSwitch_active-usage",viewBox:"0 0 10 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-ReadSwitch_active",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-Remind-usage",viewBox:"-2 0 10 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-Remind",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-RepliedMessage-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-RepliedMessage",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-RepliedMessageBoth-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-RepliedMessageBoth",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-RepliedMessageOther-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-RepliedMessageOther",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-SelectAll-usage",viewBox:"0 0 18 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-SelectAll",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-SelectFolder-usage",viewBox:"-512 99 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-SelectFolder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Inbox-Unread-usage",viewBox:"-95 97 9 8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Inbox-Unread",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-Attach-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Attach",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-Clock-usage",viewBox:"41.479 0.5 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Clock",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-Clock_active-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Clock_active",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-Flag-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Flag",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-Inbox-usage",viewBox:"3.5 2.5 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Inbox",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-Hotels-usage",viewBox:"-1830.5 1003.5 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-Hotels",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-Inbox-usage",viewBox:"3.5 2.5 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-Inbox",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-People-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-People",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-Sale-usage",viewBox:"-1831.5 1003.5 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-Sale",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-Social-usage",viewBox:"-1830.5 1003.5 18 17.8",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-Social",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-Ticket-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-Ticket",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-MailTypes-ZP-usage",viewBox:"-1831.5 1003.5 18 17.9",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-MailTypes-ZP",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-Pin-usage",viewBox:"0 0 15 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Pin",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-Pin_active-usage",viewBox:"0 0 15 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Pin_active",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--InboxFilters-Read-usage",viewBox:"0 0 18 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--InboxFilters-Read",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Info-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Info",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Introduce-Folders-Tabs-Icon-usage",viewBox:"0 0 67 49",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Introduce-Folders-Tabs-Icon",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Labels-AddButton-usage",viewBox:"0 0 23 23",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Labels-AddButton",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--LeftColumn-Flag-usage",viewBox:"-95 96 9 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--LeftColumn-Flag",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Link-Earth-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Link-Earth",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Locked-usage",viewBox:"0 0 15 15",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Locked",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Mail-Question-usage",viewBox:"0 0 11 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Mail-Question",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MailProFloatButton-usage",viewBox:"0 0 18 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MailProFloatButton",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-AddBtn-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-AddBtn",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-AddContact-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-AddContact",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-AddGroup-usage",viewBox:"0 0 16 17",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-AddGroup",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-AddTemplate-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-AddTemplate",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Archive-usage",viewBox:"0 -2 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Archive",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Attachment-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Attachment",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Compose-usage",viewBox:"0 0 17 17",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Compose",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Delete-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Delete",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-DeleteGroup-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-DeleteGroup",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Edit-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Edit",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Folder-usage",viewBox:"0 0 16 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Folder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Forward-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Forward",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Important-usage",viewBox:"0 0 14 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Important",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-MagicFolder-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-MagicFolder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-MagicTag-usage",viewBox:"0 0 15 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-MagicTag",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-MarkImportant-usage",viewBox:"0 0 14 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-MarkImportant",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-MarkUnimportant-usage",viewBox:"0 0 14 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-MarkUnimportant",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Money-usage",viewBox:"1 17 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Money",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-More-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-More",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-MoveUp-usage",viewBox:"0 0 16 15",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-MoveUp",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-MoveUpSmall-usage",viewBox:"0 0 12 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-MoveUpSmall",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Pin-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Pin",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Pin_active-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Pin_active",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Read-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Read",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Refresh-usage",viewBox:"0 0 16 15",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Refresh",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Reply-usage",viewBox:"0 0 17 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Reply",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Reply_later-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Reply_later",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Replyall-usage",viewBox:"0 0 23 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Replyall",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Restored-usage",viewBox:"0 0 16 17",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Restored",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Search-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Search",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-SmartForward-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-SmartForward",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Spam-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Spam",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Tag-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Tag",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Template-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Template",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Unread-usage",viewBox:"0 0 16 13",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Unread",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Unspam-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Unspam",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Unsubscribe-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Unsubscribe",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MainToolbar-Unsubscribe_all-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MainToolbar-Unsubscribe_all",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-CopyQuote-usage",viewBox:"-15 14 21 21",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-CopyQuote",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-Dkim_false-usage",viewBox:"0 0 12 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Dkim_false",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-Dkim_none-usage",viewBox:"0 0 12 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Dkim_none",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-Dkim_true-usage",viewBox:"0 0 12 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Dkim_true",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-DnD-usage",viewBox:"0 0 6 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-DnD",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-Expand-usage",viewBox:"0 0 12 7",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Expand",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-Important-usage",viewBox:"0 0 11 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Important",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-Important_active-usage",viewBox:"0 0 11 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Important_active",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-InfoIcon-usage",viewBox:"-30.5 291.52 20.958 20.958",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-InfoIcon",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-InfoIconBig-usage",viewBox:"-58.5 273.5 36 36",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-InfoIconBig",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-MarkImportant-usage",viewBox:"0 0 12 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-MarkImportant",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-MarkUnimportant-usage",viewBox:"0 0 12 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-MarkUnimportant",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-PrevNext-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-PrevNext",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-Quotation-usage",viewBox:"0 0 11 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-Quotation",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-RedAlert-usage",viewBox:"60.5 9 30 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-RedAlert",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-RightColumn-Letters-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-RightColumn-Letters",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-RightColumn-Links-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-RightColumn-Links",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-RightColumn-Thread-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-RightColumn-Thread",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-WidgetHoles-usage",viewBox:"0 0 6 65",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-WidgetHoles",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Message-YellowAlert-usage",viewBox:"60.5 9 30 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Message-YellowAlert",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MessageToolbar-Clock-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-Clock",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MessageToolbar-Compose-usage",viewBox:"0 841.9 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-Compose",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MessageToolbar-Delete-usage",viewBox:"0 841.9 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-Delete",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MessageToolbar-More-usage",viewBox:"0 841.9 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-More",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MessageToolbar-Pin-usage",viewBox:"1.5 1.5 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-Pin",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MessageToolbar-Pin_active-usage",viewBox:"10.5 2.5 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-Pin_active",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--MessageToolbar-Reply-usage",viewBox:"0 841.9 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--MessageToolbar-Reply",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--NewTabs-Default-usage",viewBox:"0 0 14 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--NewTabs-Default",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--NewTabs-News-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--NewTabs-News",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--NewTabs-Social-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--NewTabs-Social",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--OAuthProviderLogo_gmail-usage",viewBox:"0 0 21 17",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--OAuthProviderLogo_gmail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--OAuthProviderLogo_mailru-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--OAuthProviderLogo_mailru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--OAuthProviderLogo_outlook-usage",viewBox:"0 0 19 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--OAuthProviderLogo_outlook",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--OAuthProviderLogo_yamail-usage",viewBox:"0 0 21 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--OAuthProviderLogo_yamail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Pancakes-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Pancakes",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Priority-Star-Filled-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Priority-Star-Filled",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Priority-Star-Outline-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Priority-Star-Outline",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Priority-Star-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Priority-Star",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Search-MailTypes-Hotel-usage",viewBox:"-1841.5 992.5 40 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Search-MailTypes-Hotel",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Search-MailTypes-People-usage",viewBox:"-1841.5 992.5 40 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Search-MailTypes-People",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Search-MailTypes-Sale-usage",viewBox:"-1841.5 992.5 40 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Search-MailTypes-Sale",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Search-MailTypes-Social-usage",viewBox:"-1841.5 992.5 40 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Search-MailTypes-Social",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Search-MailTypes-Ticket-usage",viewBox:"-1841.5 992.5 40 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Search-MailTypes-Ticket",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Search-MailTypes-ZP-usage",viewBox:"-1841.5 992.5 40 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Search-MailTypes-ZP",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Attach-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Attach",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Close-usage",viewBox:"0 0 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Close",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Folder-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Folder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-History-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-History",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-History_2-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-History_2",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Important-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Important",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Label-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Label",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Mail-usage",viewBox:"0 0 18 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Mail",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Ql-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Ql",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Settings-usage",viewBox:"0 0 17 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Settings",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Subject-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Subject",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SearchSuggest-Unread-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SearchSuggest-Unread",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SecurityLevel-low-usage",viewBox:"0 0 28 29",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SecurityLevel-low",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--SecurityLevel-middle-usage",viewBox:"0 0 28 29",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--SecurityLevel-middle",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_admin-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_admin",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_afisha-usage",viewBox:"0 0 36 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_afisha",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_b2b_admin-usage",viewBox:"0 0 48 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_b2b_admin",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_browser-usage",viewBox:"0 0 48 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_browser",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_buy-pro-usage",viewBox:"0 0 48 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_buy-pro",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_calendar-usage",viewBox:"0 0 44 36",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_calendar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_contacts-usage",viewBox:"0 0 42 33",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_contacts",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_direct-usage",viewBox:"0 0 40 39",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_direct",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_dropdown-contacts-usage",viewBox:"0 0 48 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_dropdown-contacts",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_images-usage",viewBox:"0 0 52 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_images",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_mail-corp-usage",viewBox:"0 0 42 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_mail-corp",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_mail-prod-usage",viewBox:"0 0 42 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_mail-prod",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_main-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_main",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_maps-usage",viewBox:"0 0 30 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_maps",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_market-usage",viewBox:"0 0 40 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_market",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_messenger-usage",viewBox:"0 0 48 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_messenger",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_metrika-usage",viewBox:"0 0 40 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_metrika",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_money-usage",viewBox:"0 0 36 46",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_money",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_music-usage",viewBox:"0 0 32 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_music",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_news-usage",viewBox:"0 0 48 36",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_news",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_notes-usage",viewBox:"0 0 48 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_notes",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_people-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_people",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_pogoda-usage",viewBox:"0 0 48 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_pogoda",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_q-usage",viewBox:"0 0 36 36",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_q",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_search_en-usage",viewBox:"0 0 22 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_search_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_search_ru-usage",viewBox:"0 0 19 40",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_search_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_startrek-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_startrek",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_A-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_A",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_B-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_B",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_D-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_D",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_EE-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_EE",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_G-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_G",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_J-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_J",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_L-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_L",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_O-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_O",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_P-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_P",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_S-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_S",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_T-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_T",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_Y-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_Y",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_diary_en-usage",viewBox:"0 0 43 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_diary_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_diary_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_diary_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_doc_en-usage",viewBox:"0 0 43 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_doc_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_doc_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_doc_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_golem_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_golem_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_golem_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_golem_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_idm_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_idm_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_idm_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_idm_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_invite_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_invite_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_invite_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_invite_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_jabber_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_jabber_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_jabber_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_jabber_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_lego_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_lego_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_lego_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_lego_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_lib_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_lib_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_lib_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_lib_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_magazine_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_magazine_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_magazine_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_magazine_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_ml_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_ml_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_ml_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_ml_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_otrs_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_otrs_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_otrs_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_otrs_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_planner_en-usage",viewBox:"0 0 43 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_planner_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_planner_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_planner_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_stat_en-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_stat_en",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_stub_stat_ru-usage",viewBox:"0 0 42 42",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_stub_stat_ru",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_tv-usage",viewBox:"0 0 44 31",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_tv",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_wiki-usage",viewBox:"0 0 48 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_wiki",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_yadisk-usage",viewBox:"0 0 48 32",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_yadisk",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Service_yamb-usage",viewBox:"0 0 45.4 45.4",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Service_yamb",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Services-buy_pro-usage",viewBox:"0 0 48 48",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Services-buy_pro",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings-InterfaceSwitch-usage",viewBox:"-25.5 30.5 18 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings-InterfaceSwitch",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_mail-pro-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_mail-pro",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-abook-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-abook",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-backup-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-backup",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-beautiful-email-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-beautiful-email",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-collectors-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-collectors",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-filters-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-filters",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-folders-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-folders",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-other-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-other",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-security-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-security",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-sender-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-sender",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-todo-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-todo",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_setup-unsubscribe-filters-usage",viewBox:"0 0 20 19",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_setup-unsubscribe-filters",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Settings_themes-usage",viewBox:"0 0 20 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Settings_themes",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Subscriptions-Cross-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Subscriptions-Cross",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Subscriptions-Promo-Corner-usage",viewBox:"0 0 67 49",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Subscriptions-Promo-Corner",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Suggest-More-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Suggest-More",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Telemost-Logo-usage",viewBox:"0 0 36 36",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Telemost-Logo",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Theme-Pin-usage",viewBox:"0 0 13 13",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Theme-Pin",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Themes-AddImg-usage",viewBox:"25.5 16.5 63 44",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-AddImg",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Themes-Edit-usage",viewBox:"0 0 33.324 33.238",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-Edit",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Themes-Seasons_autumn-usage",viewBox:"0 0 19 22",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-Seasons_autumn",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Themes-Seasons_rotation-usage",viewBox:"0 0 18 20",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-Seasons_rotation",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Themes-Seasons_spring-usage",viewBox:"0 0 16 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-Seasons_spring",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Themes-Seasons_summer-usage",viewBox:"0 0 24 25",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-Seasons_summer",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Themes-Seasons_winter-usage",viewBox:"0 0 22 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Themes-Seasons_winter",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Timeline-Add-Event-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Timeline-Add-Event",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Timeline-Attendees-usage",viewBox:"0 0 10 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Timeline-Attendees",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Timeline-Calendar-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Timeline-Calendar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Timeline-Location-usage",viewBox:"0 0 10 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Timeline-Location",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Todo-Calendar-usage",viewBox:"-3 3 14 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Todo-Calendar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Todo-Circlemark-usage",viewBox:"-2 4 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Todo-Circlemark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Todo-Edit-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Todo-Edit",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Todo-Letter-usage",viewBox:"0 0 15 12",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Todo-Letter",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Todo-Mark-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Todo-Mark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ToolbarOnSelection-Delete-usage",viewBox:"-17.5 810.5 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ToolbarOnSelection-Delete",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ToolbarOnSelection-Reply-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ToolbarOnSelection-Reply",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ToolbarOnSelection-SmallClock-usage",viewBox:"40.479 -0.5 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ToolbarOnSelection-SmallClock",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Unlocked-usage",viewBox:"0 0 15 15",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Unlocked",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--UnsubscribeFilters-Done-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--UnsubscribeFilters-Done",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--UnsubscribeFilters-Error-sidebar-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--UnsubscribeFilters-Error-sidebar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--UnsubscribeFilters-Error-usage",viewBox:"0 0 25 22",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--UnsubscribeFilters-Error",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--UnsubscribePopup-Done-big-usage",viewBox:"0 0 90 90",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--UnsubscribePopup-Done-big",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ViewSettings-Icon-usage",viewBox:"0 0 18 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-Icon",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ViewSettings-InboxType_1-usage",viewBox:"0 0 72 72",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-InboxType_1",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ViewSettings-InboxType_2-usage",viewBox:"0 0 72 72",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-InboxType_2",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ViewSettings-InboxType_3-usage",viewBox:"0 0 72 72",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-InboxType_3",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ViewSettings-LineHeight1-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-LineHeight1",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ViewSettings-LineHeight2-usage",viewBox:"0 0 16 17",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-LineHeight2",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--ViewSettings-LineHeight3-usage",viewBox:"0 0 16 18",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--ViewSettings-LineHeight3",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets-Avatar-Calendar-usage",viewBox:"0 0 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Avatar-Calendar",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets-Avatar-Error-usage",viewBox:"4.5 4.5 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Avatar-Error",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets-Avatar-Reminder-usage",viewBox:"4.5 5.5 30 30",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Avatar-Reminder",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets-Done-big-usage",viewBox:"0 0 91 91",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Done-big",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets-Done-usage",viewBox:"0 0 25 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Done",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets-Person-usage",viewBox:"0 0 9 10",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Person",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets-PlaneBothWays-usage",viewBox:"0 0 17 21",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-PlaneBothWays",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets-PlaneOneWay-usage",viewBox:"1.5 1 12 11",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-PlaneOneWay",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets-Print-usage",viewBox:"0 0 15 14",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets-Print",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_bounce-not-ok-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-not-ok-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_bounce-not-ok-gray-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-not-ok-gray-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_bounce-not-ok-gray-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-not-ok-gray-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_bounce-not-ok-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-not-ok-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_bounce-ok-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-ok-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_bounce-ok-gray-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-ok-gray-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_bounce-ok-gray-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-ok-gray-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_bounce-ok-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_bounce-ok-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_eshop-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_eshop-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_eshop-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_eshop-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_hotels-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_hotels-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_hotels-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_hotels-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_hotels-pink-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_hotels-pink-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_hotels-pink-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_hotels-pink-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_tickets-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_tickets-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_tickets-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_tickets-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_tracker-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_tracker",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_trips-blue-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_trips-blue-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_trips-blue-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_trips-blue-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_trips-dark-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_trips-dark",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Widgets_trips-light-usage",viewBox:"0 0 38 38",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Widgets_trips-light",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Wz-attachment-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Wz-attachment",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--YaNotVerified-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--YaNotVerified",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--YaVerified-usage",viewBox:"0 0 16 16",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--YaVerified",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Yandex-header_settings-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Yandex-header_settings",toString:function(){return this.url}}},function(e,t,n){e.exports={id:"svgicon-mail--Yandex-header_themes-usage",viewBox:"0 0 24 24",url:n.p+"../../server/routes/helpers/template/svg/svgicon-mail.svg#svgicon-mail--Yandex-header_themes",toString:function(){return this.url}}},function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise(function(i,o){function a(e){r(u,i,o,a,s,"next",e)}function s(e){r(u,i,o,a,s,"throw",e)}var u=e.apply(t,n);a(void 0)})}}function o(){return o=i(regeneratorRuntime.mark((function e(){var t,n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(Object(s.isAvailable)()&&Object(s.hasSubscriptionWithDomain)()&&!Object(s.getConnectedBeautifulEmail)()){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,Object(a.runModules)(["beautiful-email.js"]);case 4:if((t=e.sent)&&t[0]){e.next=7;break}return e.abrupt("return",t);case 7:n=t[0].pollDomainStatus.default,n(!0);case 9:case"end":return e.stop()}}),e)}))),o.apply(this,arguments)}Object.defineProperty(t,"__esModule",{value:!0});var a=n(18),s=n(410);n.n(s);!(function(){o.apply(this,arguments)})()},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"openUploadToDiskPopup",(function(){return d})),n.d(t,"logAttachmentOperation",(function(){return p})),n.d(t,"logAttachmentDownload",(function(){return g}));var a=n(507),s=n(1326),u=n(363),c=this,l=null,d=function(e){var t=e.event,n=e.attachment,r=e.mid,i=t.currentTarget;if(!l){if(t.preventDefault(),Object(u.getPddRestrictModel)().isRestricted)return Object(u.getPddRestrictModel)().showPopup();l=ns.View.create("disk-widget-save-popup").open({mid:r,hid:n.hid,diskDownloadUrl:n.narod?n.unsafeUrl:null,popup:{where:i,withTail:!1}}),l.promise().then((function(){l=null}),c)}},f={},p=function(e,t){var n=ns.Model.get("message",{ids:e});f[e]=f[e]||Object(s.a)();var r=Object(s.b)(n);Object(a.writeToUserJournal)({operation:"open",target:"attach"},i({isSearch:Daria.isSearchPage(),readingId:f[e],mid:e},r,{open_type:t,container_subtype:"message"}))},g=function(e){var t=e.mid;p(t,"external")}},,,,,,,,,,,,,,,,,function(e,t,n){"use strict";n.d(t,"c",(function(){return o})),n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r,i,o=function(e){var t=e.mid,n=e.node;ns.action.run("mail-common.message-actions",{mid:t,node:n})},a=function(e){var t=e.mid,n=e.node;if(!r){var i=ns.View.create("labels-actions"),o=ns.Model.get("messages-checked",{mid:t}).checkByMidInParams();i.open(n,o,{logMetrika:function(){}}).then((function(){r=!0,i.nbPopup.on("nb-closed",(function(){r=!1}))}))}},s=function(e){var t=e.mid,n=e.node;if(!i){var r=ns.View.create("folders-actions"),o=ns.Model.get("messages-checked",{mid:t}).checkByMidInParams();r.open(n,o).then((function(){i=!0,r.nbPopup.on("nb-closed",(function(){i=!1}))}))}}},,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.StickersStore=void 0;var a=n(138),s=n(351),u=o(n(400)),c=n(391),l=n(145),d=(function(e){function t(){var t=e.call(this)||this;return t.cacheByMid={},t._addModelSubscription("stickers",{type:l.StickerType.REPLY_LATER},{onChanged:function(e){var n;t.cacheByMid=null!==(n=null===e||void 0===e?void 0:e.cacheByMid)&&void 0!==n?n:{}}}),t}return r(t,e),t.prototype.getRemindDateByMid=function(e){var t=this.cacheByMid[e];return t?c.getPassportDate(new Date(1e3*t.date)):null},t.instance=a.memoize((function(){return new t})),i([s.observable],t.prototype,"cacheByMid",void 0),t})(u.default);t.StickersStore=d},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReplyLaterPopup=void 0;var c=a(n(137)),l=u(n(350)),d=u(n(468)),f=n(381),p=n(389),g=n(147),h=n(505),m=n(6087),v=n(830),b=n(6100),_=n(391),y=u(n(6101)),S=function(e){var t=e.onClose,n=e.onSelectedDate,i=e.visible,o=e.className,a=e.remindDate,u=e.onRemoveReminder,S=s(e,["onClose","onSelectedDate","visible","className","remindDate","onRemoveReminder"]),w=c.useMemo((function(){return document.querySelector(".js-mail-App")||document.documentElement}),[]),O=c.useRef(w),M=c.useCallback((function(e){t(),n(e)}),[t,n]),D=c.useCallback((function(){t(),u()}),[t,u]),T=c.useContext(v.MetrikaContext);return c.useEffect((function(){i&&T.logShow()}),[T,i]),c.useEffect((function(){return i?h.addEventListener({element:window,eventName:"popstate",listener:t}):d.default}),[i,t]),c.default.createElement(g.Popup,r({theme:"normal",target:"anchor",hasTail:!0,boundary:O,onClose:t,visible:i,className:l.default(y.default.root,o,f.cnTheme(p.PS_LIGHT))},S),c.default.createElement(m.ReplyLaterMenu,{onSelectDate:M,presets:b.makePresets(new Date(_.passportPromoNow())),remindDate:a,onRemoveReminder:D,onClose:t}))};t.ReplyLaterPopup=S},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ReplyLaterMenu=void 0;var r=n(6088);Object.defineProperty(t,"ReplyLaterMenu",{enumerable:!0,get:function(){return r.ReplyLaterMenu}})},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReplyLaterMenu=void 0;var o=i(n(137)),a=n(6089),s=n(6090),u=n(6091),c=n(941),l=i(n(1475)),d=function(e){var t=e.presets,n=e.onSelectDate,i=e.remindDate,d=e.onRemoveReminder,f=e.onClose;return o.default.createElement("ul",{className:l.default.root},t.map((function(e){return o.default.createElement(a.PresetMenuItem,r({key:e.id},e,{onSelectDate:n}))})),o.default.createElement(c.Separator,null),o.default.createElement(u.CustomDateMenuItem,{onClose:f,onSelectDate:n}),i&&o.default.createElement(o.default.Fragment,null,o.default.createElement(c.Separator,null),o.default.createElement(s.CancelMenuItem,{remindDate:i,onRemoveReminder:d})))};t.ReplyLaterMenu=d},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.PresetMenuItem=void 0;var s=o(n(137)),u=n(830),c=a(n(352)),l=n(391),d=n(941),f=function(e){var t=e.id,n=e.date,r=e.loc,i=e.onSelectDate,o=s.useContext(u.MetrikaContext),a=s.useCallback((function(){i(n),o.logPresetClick(t)}),[n,t,o,i]);return r?s.default.createElement(d.MenuItem,{onClick:a},s.default.createElement(c.default,{loc:r,params:{time:l.getShortTime(n)||""}})):s.default.createElement(d.MenuItem,{onClick:a},l.getShortMonthDateTimeInHumanFormat(n))};t.PresetMenuItem=f},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CancelMenuItem=void 0;var s=o(n(137)),u=n(140),c=n(391),l=n(941),d=a(n(1475)),f=n(830),p=a(n(352)),g=function(e){var t=e.remindDate,n=e.onRemoveReminder,r=s.useContext(f.MetrikaContext),i=s.useCallback((function(){n(),r.logCancelClick()}),[r,n]);return t?s.default.createElement(l.MenuItem,{className:d.default.unremind,onClick:i},s.default.createElement(u.Text,{className:d.default.unremindLabel,color:"secondary"},s.default.createElement(p.default,{loc:"common-react/replyLaterRemoveReminder"})),s.default.createElement("div",null,c.getShortDateTimeInHumanFormat(t))):null};t.CancelMenuItem=g},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CustomDateMenuItem=void 0;var u=o(n(137)),c=n(941),l=s(n(352)),d=n(6092),f=n(2011),p=n(830),g=n(391),h=n(704),m=n(505),v=function(){var e=Math.floor(g.passportNow()/h.MINUTE)*h.MINUTE;return new Date(e+5*h.MINUTE)},b=function(){var e=new Date(g.passportNow()),t=new Date(e.getFullYear(),e.getMonth(),e.getDate());return t.setTime(t.getTime()+3*h.MONTH+h.DAY-1),t},_=function(){var e=Math.floor(g.passportNow()/h.MINUTE)*h.MINUTE;return new Date(e+30*h.MINUTE)},y=function(e){var t=e.onClose,n=e.onSelectDate,r=a(u.useState(!1),2),i=r[0],o=r[1],s=f.useElement(),g=s.elementRef,h=s.element,y=s.setElement,S=u.useMemo((function(){return v()}),[]),w=u.useMemo((function(){return b()}),[]),O=a(u.useState(_()),2),M=O[0],D=O[1],T=u.useContext(p.MetrikaContext),x=u.useCallback((function(e){o((function(e){return e?T.logCustomDateClose():T.logCustomDateClick(),!e})),e.stopPropagation()}),[T]),C=u.useCallback((function(){o(!1),t(),T.logCustomDateClose()}),[T,t]),E=u.useCallback((function(){var e=v();n(M<e?e:M),C(),T.logCustomDateSelect()}),[C,T,n,M]),P=u.useCallback((function(e){o(!1),T.logCustomDateCancel(),e.stopPropagation()}),[T]),k=u.useCallback((function(e){h&&e.target&&h.contains(e.target)&&x(e)}),[h,x]);return u.useEffect((function(){return m.addEventListener({element:window,eventName:"mousedown",listener:k,isCapture:!0})}),[k]),u.default.createElement(u.default.Fragment,null,u.default.createElement(c.MenuItem,{innerRef:y},u.default.createElement(l.default,{loc:"common-react/anotherDateAndTime"})),u.default.createElement(d.DateTimePickerPopup,{visible:i,anchor:g,onClose:C,onAction:E,onCancel:P,value:M,minDate:S,maxDate:w,onChange:D}))};t.CustomDateMenuItem=y},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.DateTimePickerPopup=void 0;var c=a(n(137)),l=u(n(350)),d=n(147),f=n(2008),p=n(1188),g=n(505),h=n(381),m=n(389),v=function(e){var t=e.onAction,n=e.onCancel,i=e.className,o=e.value,a=e.minDate,u=e.maxDate,v=e.onChange,b=s(e,["onAction","onCancel","className","value","minDate","maxDate","onChange"]);c.useEffect((function(){b.visible?p.modalListPush("datetimepicker"):p.modalListPop("datetimepicker")}),[b.visible]);var _=c.useRef(null),y=c.useCallback((function(e){e.target&&_.current&&_.current.contains(e.target)&&e.stopPropagation()}),[_]);return c.useEffect((function(){return g.addEventListener({element:window,eventName:"mousedown",listener:y,isCapture:!0})}),[y]),c.default.createElement(d.Popup,r({innerRef:_,hasTail:!0,className:l.default(i,"qa-ReplyLater-DateTimePickerPopup",h.cnTheme(m.PS_LIGHT)),target:"anchor",direction:["left","right"],theme:"normal"},b),c.default.createElement(f.DateTimePicker,{value:o,onChange:v,onAction:t,onCancel:n,minDate:a,maxDate:u}))};t.DateTimePickerPopup=v},,,,,,,,function(e,t,n){"use strict";function r(e){var t=e.getFullYear(),n=e.getMonth(),r=e.getDate(),a=e.getDay(),s=(o-a+7)%7,u=[{id:"today",date:new Date(t,n,r,19),loc:"common-react/todayAtTime"},{id:"tomorrow",date:new Date(t,n,r+1,12),loc:"common-react/tomorrowAtTime"}];return s>0&&u.push({id:"friday",date:new Date(t,n,r+s,12),loc:"common-react/fridayAtTime"}),u.push({id:"next-week",date:new Date(t,n,r+7,12)}),u.filter(i.isDefined).filter((function(t){return t.date>e}))}Object.defineProperty(t,"__esModule",{value:!0}),t.makePresets=void 0;var i=n(550),o=5;t.makePresets=r},function(e,t){e.exports={root:"components__root--2GzDz"}},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},o=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(i(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.ReplyLaterMetrika=void 0;var a=n(875),s=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.logMetric=function(){for(var t=[],n=0;n<arguments.length;n++)t[n]=arguments[n];e.prototype.logMetric.apply(this,o(["Reply Later"],t))},t.prototype.logShow=function(){this.logMetric("show")},t.prototype.logPresetClick=function(e){this.logMetric(e,"click")},t.prototype.logCancelClick=function(){this.logMetric("cancel click")},t.prototype.logCustomDateClick=function(){this.logMetric("custom date","click")},t.prototype.logCustomDate=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];this.logMetric.apply(this,o(["custom date"],e))},t.prototype.logCustomDateClose=function(){this.logCustomDate("close")},t.prototype.logCustomDateSelect=function(){this.logCustomDate("select")},t.prototype.logCustomDateCancel=function(){this.logCustomDate("cancel")},t})(a.BaseMetrika);t.ReplyLaterMetrika=s},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.OptInSubscriptionsWidget=void 0;var r=n(424),i=n(6161),o=n(1728),a=n(375),s=n(515),u=n(6164),c=n(459),l=n(516);t.OptInSubscriptionsWidget=u.withIgnoreCorp(s.withPsTheme({source:l.DarkSource.Content})(r.withStores({subscriptionsStore:o.PendingSubscriptionsStore.instance,settingsStore:a.getSettingsStore,settingsService:c.getSettingsService})(i.OptInSubscriptions)))},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__decorate||function(e,t,n,r){var i,o=arguments.length,a=o<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)a=Reflect.decorate(e,t,n,r);else for(var s=e.length-1;s>=0;s--)(i=e[s])&&(a=(o<3?i(a):o>3?i(t,n,a):i(t,n))||a);return o>3&&a&&Object.defineProperty(t,n,a),a},o=this&&this.__awaiter||function(e,t,n,r){function i(e){return e instanceof n?e:new n(function(t){t(e)})}return new(n||(n=Promise))(function(n,o){function a(e){try{u(r.next(e))}catch(e){o(e)}}function s(e){try{u(r.throw(e))}catch(e){o(e)}}function u(e){e.done?n(e.value):i(e.value).then(a,s)}u((r=r.apply(e,t||[])).next())})},a=this&&this.__generator||function(e,t){function n(e){return function(t){return r([e,t])}}function r(n){if(i)throw new TypeError("Generator is already executing.");for(;u;)try{if(i=1,o&&(a=2&n[0]?o.return:n[0]?o.throw||((a=o.return)&&a.call(o),0):o.next)&&!(a=a.call(o,n[1])).done)return a;switch(o=0,a&&(n=[2&n[0],a.value]),n[0]){case 0:case 1:a=n;break;case 4:return u.label++,{value:n[1],done:!1};case 5:u.label++,o=n[1],n=[0];continue;case 7:n=u.ops.pop(),u.trys.pop();continue;default:if(a=u.trys,!(a=a.length>0&&a[a.length-1])&&(6===n[0]||2===n[0])){u=0;continue}if(3===n[0]&&(!a||n[1]>a[0]&&n[1]<a[3])){u.label=n[1];break}if(6===n[0]&&u.label<a[1]){u.label=a[1],a=n;break}if(a&&u.label<a[2]){u.label=a[2],u.ops.push(n);break}a[2]&&u.ops.pop(),u.trys.pop();continue}n=t.call(e,u)}catch(e){n=[6,e],o=0}finally{i=a=0}if(5&n[0])throw n[1];return{value:n[0]?n[1]:void 0,done:!0}}var i,o,a,s,u={label:0,sent:function(){if(1&a[0])throw a[1];return a[1]},trys:[],ops:[]};return s={next:n(0),throw:n(1),return:n(2)},"function"==typeof Symbol&&(s[Symbol.iterator]=function(){return this}),s},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},u=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.OptInSubscriptions=void 0;var l=c(n(137)),d=n(353),f=n(351),p=c(n(350)),g=n(142),h=c(n(352)),m=c(n(417)),v=n(50),b=n(356),_=c(n(395)),y=n(411),S=n(140),w=n(1235),O=n(435),M=c(n(6162)),D=c(n(6163)),T=O.socialavatarsUrl+"/v4",x=function(e){return l.default.createElement(g.Button,{size:"s",view:"default",onClick:e.action,className:p.default(D.default.button,e.className)},l.default.createElement(h.default,{loc:e.label}))},C=(function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.disposer=new _.default,t.wasClosed=!1,t.confirmation=null,t.timeout=0,t.onActivate=function(e){e.preventDefault(),e.stopPropagation(),t.do("activate")},t.onHide=function(e){e.preventDefault(),e.stopPropagation(),t.do("hide")},t.onClose=function(e){return o(t,void 0,Promise,(function(){return a(this,(function(t){switch(t.label){case 0:return e.preventDefault(),(e.stopPropagation(),this.props.subscriptionsStore.subscriptions&&this.props.subscriptionsStore.subscriptions.length>1)?(this.props.subscriptionsStore.review(),[3,3]):[3,1];case 1:return this.close(),[4,this.props.subscriptionsStore.reviewSubscriptions()];case 2:t.sent(),t.label=3;case 3:return this.logMetric("close"),[2]}}))}))},t.openDialog=function(e){return o(t,void 0,Promise,(function(){var t;return a(this,(function(n){switch(n.label){case 0:return e.preventDefault(),e.stopPropagation(),t=this.props.subscriptionsStore.pendingSubscription,t&&b.emitUnsubscribePopupShow({page:"pending",email:t.email}),this.close(),[4,this.props.subscriptionsStore.reviewSubscriptions()];case 1:return n.sent(),this.logMetric("open dialog"),[2]}}))}))},t.onVisibilityChanged=function(e){e&&(t.logMetric("show"),t.disposer.disposeAll())},t}return r(t,e),Object.defineProperty(t.prototype,"showAvatars",{get:function(){return this.props.settingsStore.isSet(v.Settings.MESSAGES_AVATARS)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasAvatars",{get:function(){return b.is3Pane()||this.showAvatars},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"minifiedMailList",{get:function(){return b.is2Pane()&&this.props.settingsStore.isSet(v.Settings.MINIFIED_MAIL_LIST)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasCheckboxInsideAvatars",{get:function(){return this.props.settingsStore.isSet(v.Settings.SHOW_CHECKBOX_INSIDE_AVATARS)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isVisible",{get:function(){return this.props.settingsStore.canUseOptInSubscriptions&&this.props.settingsStore.isOptInSubscriptionsEnabled&&Boolean(this.props.subscriptionsStore.pendingSubscription)&&!this.wasClosed},enumerable:!1,configurable:!0}),t.prototype.logMetric=function(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];b.logMetric(u([y.OPT_IN_SUBSCRIPTIONS_METRIKA,"messages_widget"],e))},t.prototype.resetConfirmation=function(){this.confirmation=null},t.prototype.do=function(e){var t=this;this.confirmation=e,this.logMetric(e),clearTimeout(this.timeout),this.timeout=setTimeout((function(){t.props.subscriptionsStore[e](),t.resetConfirmation()}),1e3)},t.prototype.close=function(){this.wasClosed=!0},t.prototype.componentDidMount=function(){var e=this;this.props.subscriptionsStore.waitForData(),this.disposer.add(this,f.reaction((function(){return e.isVisible}),this.onVisibilityChanged))},t.prototype.componentWillUnmount=function(){this.disposer.disposeAll(),clearTimeout(this.timeout)},Object.defineProperty(t.prototype,"isNarrow",{get:function(){return w.is3pv()},enumerable:!1,configurable:!0}),t.prototype.renderAvatarOrIcon=function(){var e,t=this.props.subscriptionsStore.pendingSubscription;if(!t)return null;var n=t.avatar;if(this.showAvatars&&n){if("icon"===n.type)return l.default.createElement("img",{"aria-hidden":!0,src:T+"/"+n.name+".svg"});if("avatar"===n.type&&n.url)return l.default.createElement("img",{"aria-hidden":!0,src:n.url})}return(null===(e=t.monogram)||void 0===e?void 0:e.letters)?l.default.createElement("div",{className:D.default.monogram,style:{backgroundColor:t.monogram.color}},t.monogram.letters):null},t.prototype.renderAvatars=function(){var e,t,n=this.props.subscriptionsStore.pendingSubscription;if(!this.hasAvatars||!n)return null;var r=p.default(D.default.iconWrap,(e={},e[D.default.small]=((null===(t=n.monogram)||void 0===t?void 0:t.letters)||"").length>1,e));return l.default.createElement("div",{className:r},this.renderAvatarOrIcon())},t.prototype.renderTitle=function(){var e=this.props.subscriptionsStore.pendingSubscription;return e?l.default.createElement(S.Text,{className:D.default.title,typography:"body-short-s",weight:"bold"},e.displayName):null},t.prototype.renderUnread=function(){return l.default.createElement("div",{className:D.default.unread},l.default.createElement(M.default,null))},t.prototype.renderDescription=function(){return l.default.createElement(S.Text,{className:D.default.desc,typography:"body-short-s"},l.default.createElement(h.default,{loc:"subscriptions-widget/Subscriptions_Title"}))},t.prototype.renderButtons=function(){return l.default.createElement("div",{className:D.default.buttons},l.default.createElement(x,{action:this.onActivate,className:D.default.actionButton,label:"subscriptions-widget/Subscriptions_Activate"}),l.default.createElement(x,{action:this.onHide,className:D.default.cancelButton,label:"subscriptions-widget/Subscriptions_Hide"}))},t.prototype.renderClose=function(){return l.default.createElement("div",{className:D.default.close},l.default.createElement(g.Button,{size:"s",view:"clear",onClick:this.onClose,icon:function(e){return l.default.createElement("span",{className:p.default(e,D.default.cross)},l.default.createElement(m.default,null))}}))},t.prototype.renderConfirmation=function(){return l.default.createElement(S.Text,{className:D.default.confirmation,typography:"body-short-s"},"activate"===this.confirmation?l.default.createElement(h.default,{loc:"subscriptions-widget/Subscriptions_IsActive"}):l.default.createElement(h.default,{loc:"subscriptions-widget/Subscriptions_IsHidden"}))},t.prototype.render=function(){var e;if(!this.isVisible||!this.props.subscriptionsStore.pendingSubscription)return null;var t=p.default(D.default.root,this.props.className,(e={},e[D.default.withAvatars]=this.hasAvatars,e[D.default.withoutAvatars]=!this.hasAvatars,e[D.default.withCheckboxAvatars]=this.hasCheckboxInsideAvatars,e[D.default.withoutCheckboxAvatars]=!this.hasCheckboxInsideAvatars,e[D.default.isNarrow]=this.isNarrow,e[D.default.isWide]=!this.isNarrow,e[D.default.isConfirmation]=Boolean(this.confirmation),e[D.default.isMinified]=Boolean(this.minifiedMailList),e));return this.isNarrow?l.default.createElement("div",{onClick:this.openDialog,className:t},this.renderAvatars(),this.renderUnread(),this.renderConfirmation(),l.default.createElement("div",{className:D.default.narrowContainer},this.renderTitle(),this.renderDescription(),this.renderButtons()),this.renderClose()):l.default.createElement("div",{onClick:this.openDialog,className:t},this.renderAvatars(),this.renderTitle(),this.renderUnread(),this.renderDescription(),this.renderButtons(),this.renderClose(),this.renderConfirmation())},i([f.observable],t.prototype,"wasClosed",void 0),i([f.observable],t.prototype,"confirmation",void 0),i([f.computed],t.prototype,"showAvatars",null),i([f.computed],t.prototype,"hasAvatars",null),i([f.computed],t.prototype,"minifiedMailList",null),i([f.computed],t.prototype,"hasCheckboxInsideAvatars",null),i([f.computed],t.prototype,"isVisible",null),i([f.action],t.prototype,"onActivate",void 0),i([f.action],t.prototype,"resetConfirmation",null),i([f.action],t.prototype,"onHide",void 0),i([f.action],t.prototype,"do",null),i([f.action],t.prototype,"close",null),t=i([d.observer],t)})(l.default.PureComponent);t.OptInSubscriptions=C},,function(e,t){e.exports={root:"OptInSubscriptionsWidget__root--3VX_v",title:"OptInSubscriptionsWidget__title--3r2d_",isWide:"OptInSubscriptionsWidget__isWide--2oQpc",withAvatars:"OptInSubscriptionsWidget__withAvatars--3LUvI",withCheckboxAvatars:"OptInSubscriptionsWidget__withCheckboxAvatars--2CqRG",withoutCheckboxAvatars:"OptInSubscriptionsWidget__withoutCheckboxAvatars--eHVmO",withoutAvatars:"OptInSubscriptionsWidget__withoutAvatars--3sunN",iconWrap:"OptInSubscriptionsWidget__iconWrap--2pDwV",small:"OptInSubscriptionsWidget__small--1MSSZ",unread:"OptInSubscriptionsWidget__unread--2crb1",isMinified:"OptInSubscriptionsWidget__isMinified--5Ws6m",desc:"OptInSubscriptionsWidget__desc--2jx-v",isNarrow:"OptInSubscriptionsWidget__isNarrow--trDUT",buttons:"OptInSubscriptionsWidget__buttons--2a27w",button:"OptInSubscriptionsWidget__button--1fvgx",close:"OptInSubscriptionsWidget__close--29BBv",narrowContainer:"OptInSubscriptionsWidget__narrowContainer--3G8ME",confirmation:"OptInSubscriptionsWidget__confirmation--4D6mm",isConfirmation:"OptInSubscriptionsWidget__isConfirmation--3IbUI"}},,function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(6166);t.default=r.SpamBanner},function(e,t,n){"use strict";var r=this&&this.__extends||(function(){var e=function(t,n){return(e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}})(),i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.SpamBanner=void 0;var o=i(n(137)),a=i(n(350)),s=n(140),u=n(142),c=n(515),l=n(153),d=i(n(352)),f=n(139),p=i(n(6167)),g=i(n(6168)),h=i(n(6169)),m=n(356),v=n(516),b=(function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return r(t,e),t.prototype.render=function(){return o.default.createElement("div",{className:a.default(h.default.root,this.props.className)},o.default.createElement("div",{className:h.default.content},o.default.createElement(s.Text,{className:h.default.title,as:"h2",typography:"subheader-l",weight:"bold"},o.default.createElement(d.default,{loc:"promo-react/clear_spam_title"})),o.default.createElement(s.Text,{className:h.default.description,as:"p",typography:"body-short-l"},o.default.createElement(d.default,{loc:"promo-react/clear_spam_description"})),o.default.createElement(u.Button,{view:"action",size:"m",onClick:function(){var e=m.getFolderBySymbol(f.WellKnownFolderSymbol.SPAM);m.runAction("folder.clear",{fid:e.fid}),m.logMetric(["Список писем","Баннер про очистку папки спам","Клик"])}},o.default.createElement(d.default,{loc:"promo-react/clear_spam_button"}))),o.default.createElement(l.Image,{className:h.default.image,src:p.default,src2x:g.default}))},t.prototype.componentDidMount=function(){m.logMetric(["Список писем","Баннер про очистку папки спам","Показ"])},t})(o.default.PureComponent);t.SpamBanner=c.withPsTheme({source:v.DarkSource.Content})(b)},function(e,t,n){e.exports=n.p+"_/cdca6d051f4d289b45782610eb449fde-2pane.png"},function(e,t,n){e.exports=n.p+"_/acd8346890af11ddaa32df1a3b9a6c08-2pane@2x.png"},function(e,t){e.exports={root:"SpamBanner__root--3rkYv",image:"SpamBanner__image--nujJi",content:"SpamBanner__content--q7_gf",title:"SpamBanner__title--36_TP",description:"SpamBanner__description--1QDod"}},function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.BackupRecoveryBanner=void 0;var r=n(349),i=n(515),o=n(6171),a=n(516);t.BackupRecoveryBanner=r.compose(i.withPsTheme({source:a.DarkSource.Content}))(o.BackupRecoveryBanner)},function(e,t,n){"use strict";var r=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),o=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&r(t,e,n);return i(t,e),t},a=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.BackupRecoveryBanner=void 0;var s=o(n(137)),u=a(n(350)),c=n(140),l=n(153),d=n(142),f=n(139),p=n(494),g=n(356),h=a(n(352)),m=a(n(6172)),v=a(n(6173)),b=function(e){var t=e.className,n=p.idHiddenTrashEnabled(),r="3pane-vertical"===g.getPaneLayoutType();s.useEffect((function(){g.logMetric(["Trash","Backup Recovery Banner","show"]),n?g.logMetric(["Trash","Backup Recovery Banner","premium user","action"]):g.logMetric(["Trash","Backup Recovery Banner","free user","action"])}),[n]);var i=s.useCallback((function(){var e=g.getFolderBySymbol(f.WellKnownFolderSymbol.TRASH);g.runAction("folder.clear",{fid:e.fid}),g.logMetric(["Trash","Backup Recovery Banner","clear","click"])}),[]),o=s.useCallback((function(){g.logMetric(["Trash","Backup Recovery Banner","store","click"])}),[]),a=s.useCallback((function(){g.logMetric(["Trash","Backup Recovery Banner","to remote","click"])}),[]),b=s.useMemo((function(){return n?{headerText:"promo-react/backupRecoveryBannerHeaderForUpdated",descriptionText:"promo-react/backupRecoveryBannerDescriptionForUpdated",actionButtonText:"promo-react/backupRecoveryBannerButtonClearFolder",actionButtonCallback:i,actionButtonType:"button",actionButtonLink:void 0,pseudoButtonText:"promo-react/backupRecoveryBannerButtonShowDeleted",pseudoButtonCallback:a,pseudoButtonType:"link",pseudoButtonLink:g.getLinkToSearchInDeleted()}:{headerText:"promo-react/backupRecoveryBannerHeaderForNotUpdated",descriptionText:"promo-react/backupRecoveryBannerDescriptionForNotUpdated",actionButtonText:"promo-react/backupRecoveryBannerButtonStoreLonger",actionButtonCallback:o,actionButtonType:"link",actionButtonLink:g.getLinkToMailBackup(),pseudoButtonText:"promo-react/backupRecoveryBannerButtonClearNow",pseudoButtonCallback:i,pseudoButtonType:"button",pseudoButtonLink:void 0}}),[i,a,n,o]),_=s.useMemo((function(){var e,t;return{titleTypography:r?"body-short-l":"subheader-l",descriptionTypography:r?"body-short-m":"body-short-l",buttonSize:r?"m":"l",buttonClassNames:u.default(v.default.button,(e={},e[v.default.greedy]=r,e)),buttonsClassNames:u.default(v.default.buttons,(t={},t[v.default.small]=r,t))}}),[r]);return s.default.createElement("div",{className:u.default(v.default.root,t)},s.default.createElement("div",{className:v.default.container},s.default.createElement("div",{className:v.default.content},s.default.createElement("div",{className:v.default.text},s.default.createElement(c.Text,{as:"p",weight:"bold",className:v.default.title,typography:_.titleTypography},s.default.createElement(h.default,{loc:b.headerText})),s.default.createElement(c.Text,{as:"p",className:v.default.description,typography:_.descriptionTypography},s.default.createElement(h.default,{loc:b.descriptionText}))),s.default.createElement("div",{className:_.buttonsClassNames},s.default.createElement(d.Button,{view:"action",size:_.buttonSize,className:_.buttonClassNames,type:b.actionButtonType,onClick:b.actionButtonCallback,url:b.actionButtonLink},s.default.createElement(h.default,{loc:b.actionButtonText})),s.default.createElement(d.Button,{view:"pseudo",size:_.buttonSize,className:_.buttonClassNames,type:b.pseudoButtonType,onClick:b.pseudoButtonCallback,url:b.pseudoButtonLink},s.default.createElement(h.default,{loc:b.pseudoButtonText})))),!r&&s.default.createElement(l.Image,{className:v.default.image,src:m.default})))};t.BackupRecoveryBanner=b},function(e,t,n){e.exports=n.p+"_/6c03ea474d48887833db2b13b1303ab2-inbox.svg"},function(e,t){e.exports={root:"BackupRecoveryBanner__root--2a5rs",container:"BackupRecoveryBanner__container--OpvS8",buttons:"BackupRecoveryBanner__buttons--1jEKd",small:"BackupRecoveryBanner__small--3L1RL",button:"BackupRecoveryBanner__button--1PafV",greedy:"BackupRecoveryBanner__greedy--2F7cb",text:"BackupRecoveryBanner__text--2T-AA",title:"BackupRecoveryBanner__title--eN800",description:"BackupRecoveryBanner__description--2iNz9",image:"BackupRecoveryBanner__image--3ZIFm"}},,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,,function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r.apply(this,arguments)},i=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.unmountReactServicesPopup=t.renderReactServicesPopup=void 0;var o=i(n(137)),a=i(n(141)),s=n(6705),u=n(424),c=n(375),l=u.withStores({settingsStore:c.getSettingsStore,accountInformationStore:c.getAccountInformationStore,routerStore:c.getRouterStore})(s.ReactServicesPopup),d=function(e){var t=document.createElement("div");return document.body.appendChild(t),a.default.render(o.default.createElement(l,r({},e)),t),t};t.renderReactServicesPopup=d;var f=function(e){a.default.unmountComponentAtNode(e)};t.unmountReactServicesPopup=f},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},u=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ReactServicesPopup=void 0;var c=a(n(137)),l=u(n(468)),d=n(882),f=n(356),p=n(6706),g=n(435),h=function(e){var t=e.settingsStore,n=e.accountInformationStore,i=e.routerStore,o=s(e,["settingsStore","accountInformationStore","routerStore"]),a=c.useMemo((function(){return f.getConfig()}),[]),u=c.useCallback((function(e,t){return f.getTranslations()[e]["mail-liza"]["ps-header"][t]()}),[]),h=c.useRef(document.documentElement),m=t.hideB2cTariffPromo,v=f.isCorp()?p.CorpServicesList:p.DefaultServicesList;return c.default.createElement(d.Popup,r({visible:!0,theme:"normal",target:"anchor",direction:"bottom",boundary:h,hasTail:!0,tailSize:36},o),c.default.createElement(v,{links:g.headerServicesLinks,corpLinks:g.headerServicesLinks,getI18nFn:u,theme:"light",yandex360Link:m?"/":a["yandex360-url"],timeZone:a.timeZone,tld:a.domain,lang:f.getLocale(),isB2bAdmin:n.isAdmin,countMetrikaFn:l.default,showDocuments:a.headerWithDocs,showFan:n.isB2BUser,isB2bUser:n.isB2BUser,isAbookPage:i.isAbookPage}))};t.ReactServicesPopup=h},function(e,t,n){"use strict";var r=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.CorpServicesList=t.DefaultServicesList=void 0;var i=n(1759),o=r(n(1760)),a=n(6707);t.DefaultServicesList=i.withDefaultServices()(a.ServicesList),t.CorpServicesList=o.default(a.ServicesList)},function(e,t,n){"use strict";var r=this&&this.__assign||function(){return r=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},r.apply(this,arguments)},i=this&&this.__createBinding||(Object.create?function(e,t,n,r){void 0===r&&(r=n),Object.defineProperty(e,r,{enumerable:!0,get:function(){return t[n]}})}:function(e,t,n,r){void 0===r&&(r=n),e[r]=t[n]}),o=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)"default"!==n&&Object.prototype.hasOwnProperty.call(e,n)&&i(t,e,n);return o(t,e),t},s=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},u=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e},c=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.ServicesList=void 0;var l=a(n(137)),d=n(149),f=n(140),p=n(356),g=n(1215),h=c(n(6708)),m=function(e){var t=l.useCallback((function(){var t;g.sendCompactServicesMetrika((t={},t[e.id]="Click",t))}),[e.id]);return l.default.createElement(f.Text,{as:"li"},l.default.createElement(d.Link,{view:"default",href:e.href,className:h.default.item,onClick:t},e.title))},v=function(){return l.default.createElement("li",{className:h.default.separator})},b=function(e){var t=e.services,n=e.isAbookPage,i=l.useMemo((function(){return p.getConfig()}),[]),o=l.useMemo((function(){return t.filter((function(e){return n?"Contact"!==e.id:"Mail"!==e.id}))}),[n,t]);return l.useEffect((function(){var e=o.map((function(e){return e.id}));g.sendShowOfCompactServices(p.isCorp()?e:u(e,["All services"]))}),[]),l.default.createElement("ul",{className:h.default.root},o.map((function(e){return l.default.createElement(m,r({key:e.id},e))})),!p.isCorp()&&"com"!==i.domain&&l.default.createElement(l.default.Fragment,null,l.default.createElement(v,null),l.default.createElement(m,{id:"All Services",href:i["all-url"],title:"Все сервисы"})))};t.ServicesList=b},function(e,t){e.exports={root:"ServicesList__root--2UZx-",item:"ServicesList__item--2QqIk",separator:"ServicesList__separator--1y8xg"}}]));