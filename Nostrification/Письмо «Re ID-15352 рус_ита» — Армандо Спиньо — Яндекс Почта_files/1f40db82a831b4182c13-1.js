webpackJsonp([1,59],{0:function(e,t){e.exports="object"==typeof window&&window&&window.Math==Math?window:"object"==typeof self&&self&&self.Math==Math?self:Function("return this")()},1:function(e,t,n){var r=n(19)("wks"),i=n(34),o=n(0).Symbol,a=n(76);e.exports=function(e){return r[e]||(r[e]=a&&o[e]||(a?o:i)("Symbol."+e))}},10:function(e,t,n){var r=n(12),i=n(51),o=n(6),a=n(38),s=Object.defineProperty;t.f=r?s:function(e,t,n){if(o(e),t=a(t,!0),o(n),i)try{return s(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(e[t]=n.value),e}},100:function(e,t,n){var r=n(59),i=n(0),o=function(e){return"function"==typeof e?e:void 0};e.exports=function(e,t){return arguments.length<2?o(r[e])||o(i[e]):r[e]&&r[e][t]||i[e]&&i[e][t]}},102:function(e,t){!(function(t){"use strict";function n(e,t,n,r){var o=Object.create((t||i).prototype),a=new h(r||[]);return o._invoke=l(e,n,a),o}function r(e,t,n){try{return{type:"normal",arg:e.call(t,n)}}catch(e){return{type:"throw",arg:e}}}function i(){}function o(){}function a(){}function s(e){["next","throw","return"].forEach((function(t){e[t]=function(e){return this._invoke(t,e)}}))}function u(e){this.arg=e}function c(e){function t(t,n){var r=e[t](n),a=r.value;return a instanceof u?Promise.resolve(a.arg).then(i,o):Promise.resolve(a).then((function(e){return r.value=e,r}))}function n(e,n){function i(){return t(e,n)}return r=r?r.then(i,i):new Promise(function(e){e(i())})}"object"==typeof process&&process.domain&&(t=process.domain.bind(t));var r,i=t.bind(e,"next"),o=t.bind(e,"throw");t.bind(e,"return");this._invoke=n}function l(e,t,n){var i=w;return function(o,a){if(i===T)throw new Error("Generator is already running");if(i===S){if("throw"===o)throw a;return g()}for(;;){var s=n.delegate;if(s){if("return"===o||"throw"===o&&s.iterator[o]===m){n.delegate=null;var u=s.iterator.return;if(u){var c=r(u,s.iterator,a);if("throw"===c.type){o="throw",a=c.arg;continue}}if("return"===o)continue}var c=r(s.iterator[o],s.iterator,a);if("throw"===c.type){n.delegate=null,o="throw",a=c.arg;continue}o="next",a=m;var l=c.arg;if(!l.done)return i=D,l;n[s.resultName]=l.value,n.next=s.nextLoc,n.delegate=null}if("next"===o)n._sent=a,n.sent=i===D?a:m;else if("throw"===o){if(i===w)throw i=S,a;n.dispatchException(a)&&(o="next",a=m)}else"return"===o&&n.abrupt("return",a);i=T;var c=r(e,t,n);if("normal"===c.type){i=n.done?S:D;var l={value:c.arg,done:n.done};if(c.arg!==C)return l;n.delegate&&"next"===o&&(a=m)}else"throw"===c.type&&(i=S,o="throw",a=c.arg)}}}function f(e){var t={tryLoc:e[0]};1 in e&&(t.catchLoc=e[1]),2 in e&&(t.finallyLoc=e[2],t.afterLoc=e[3]),this.tryEntries.push(t)}function d(e){var t=e.completion||{};t.type="normal",delete t.arg,e.completion=t}function h(e){this.tryEntries=[{tryLoc:"root"}],e.forEach(f,this),this.reset(!0)}function p(e){if(e){var t=e[_];if(t)return t.call(e);if("function"==typeof e.next)return e;if(!isNaN(e.length)){var n=-1,r=function t(){for(;++n<e.length;)if(v.call(e,n))return t.value=e[n],t.done=!1,t;return t.value=m,t.done=!0,t};return r.next=r}}return{next:g}}function g(){return{value:m,done:!0}}var m,v=Object.prototype.hasOwnProperty,_="function"==typeof Symbol&&Symbol.iterator||"@@iterator",b="object"==typeof e,y=t.regeneratorRuntime;if(y)return void(b&&(e.exports=y));y=t.regeneratorRuntime=b?e.exports:{},y.wrap=n;var w="suspendedStart",D="suspendedYield",T="executing",S="completed",C={},E=a.prototype=i.prototype;o.prototype=E.constructor=a,a.constructor=o,o.displayName="GeneratorFunction",y.isGeneratorFunction=function(e){var t="function"==typeof e&&e.constructor;return!!t&&(t===o||"GeneratorFunction"===(t.displayName||t.name))},y.mark=function(e){return Object.setPrototypeOf?Object.setPrototypeOf(e,a):e.__proto__=a,e.prototype=Object.create(E),e},y.awrap=function(e){return new u(e)},s(c.prototype),y.async=function(e,t,r,i){var o=new c(n(e,t,r,i));return y.isGeneratorFunction(t)?o:o.next().then((function(e){return e.done?e.value:o.next()}))},s(E),E[_]=function(){return this},E.toString=function(){return"[object Generator]"},y.keys=function(e){var t=[];for(var n in e)t.push(n);return t.reverse(),function n(){for(;t.length;){var r=t.pop();if(r in e)return n.value=r,n.done=!1,n}return n.done=!0,n}},y.values=p,h.prototype={constructor:h,reset:function(e){if(this.prev=0,this.next=0,this.sent=m,this.done=!1,this.delegate=null,this.tryEntries.forEach(d),!e)for(var t in this)"t"===t.charAt(0)&&v.call(this,t)&&!isNaN(+t.slice(1))&&(this[t]=m)},stop:function(){this.done=!0;var e=this.tryEntries[0],t=e.completion;if("throw"===t.type)throw t.arg;return this.rval},dispatchException:function(e){function t(t,r){return o.type="throw",o.arg=e,n.next=t,!!r}if(this.done)throw e;for(var n=this,r=this.tryEntries.length-1;r>=0;--r){var i=this.tryEntries[r],o=i.completion;if("root"===i.tryLoc)return t("end");if(i.tryLoc<=this.prev){var a=v.call(i,"catchLoc"),s=v.call(i,"finallyLoc");if(a&&s){if(this.prev<i.catchLoc)return t(i.catchLoc,!0);if(this.prev<i.finallyLoc)return t(i.finallyLoc)}else if(a){if(this.prev<i.catchLoc)return t(i.catchLoc,!0)}else{if(!s)throw new Error("try statement without catch or finally");if(this.prev<i.finallyLoc)return t(i.finallyLoc)}}}},abrupt:function(e,t){for(var n=this.tryEntries.length-1;n>=0;--n){var r=this.tryEntries[n];if(r.tryLoc<=this.prev&&v.call(r,"finallyLoc")&&this.prev<r.finallyLoc){var i=r;break}}i&&("break"===e||"continue"===e)&&i.tryLoc<=t&&t<=i.finallyLoc&&(i=null);var o=i?i.completion:{};return o.type=e,o.arg=t,i?this.next=i.finallyLoc:this.complete(o),C},complete:function(e,t){if("throw"===e.type)throw e.arg;"break"===e.type||"continue"===e.type?this.next=e.arg:"return"===e.type?(this.rval=e.arg,this.next="end"):"normal"===e.type&&t&&(this.next=t)},finish:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.finallyLoc===e)return this.complete(n.completion,n.afterLoc),d(n),C}},catch:function(e){for(var t=this.tryEntries.length-1;t>=0;--t){var n=this.tryEntries[t];if(n.tryLoc===e){var r=n.completion;if("throw"===r.type){var i=r.arg;d(n)}return i}}throw new Error("illegal catch attempt")},delegateYield:function(e,t,n){return this.delegate={iterator:p(e),resultName:t,nextLoc:n},C}}})("object"==typeof global?global:"object"==typeof window?window:"object"==typeof self?self:this)},11:function(e,t,n){var r=n(0),i=n(37).f,o=n(9),a=n(24),s=n(33),u=n(90),c=n(54);e.exports=function(e,t){var n,l,f,d,h,p=e.target,g=e.global,m=e.stat;if(n=g?r:m?r[p]||s(p,{}):(r[p]||{}).prototype)for(l in t){if(d=t[l],e.noTargetGet?(h=i(n,l),f=h&&h.value):f=n[l],!c(g?l:p+(m?".":"#")+l,e.forced)&&void 0!==f){if(typeof d==typeof f)continue;u(d,f)}(e.sham||f&&f.sham)&&o(d,"sham",!0),a(n,l,d,e)}}},118:function(e,t,n){"use strict";var r=n(0),i=n(54),o=n(11),a=n(24),s=n(119),u=n(75),c=n(74),l=n(4),f=n(7),d=n(78),h=n(31),p=n(166);e.exports=function(e,t,n,g,m){var v=r[e],_=v&&v.prototype,b=v,y=g?"set":"add",w={},D=function(e){var t=_[e];a(_,e,"add"==e?function(e){return t.call(this,0===e?0:e),this}:"delete"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:"get"==e?function(e){return m&&!l(e)?void 0:t.call(this,0===e?0:e)}:"has"==e?function(e){return!(m&&!l(e))&&t.call(this,0===e?0:e)}:function(e,n){return t.call(this,0===e?0:e,n),this})};if(i(e,"function"!=typeof v||!(m||_.forEach&&!f((function(){(new v).entries().next()})))))b=n.getConstructor(t,e,g,y),s.REQUIRED=!0;else if(i(e,!0)){var T=new b,S=T[y](m?{}:-0,1)!=T,C=f((function(){T.has(1)})),E=d((function(e){new v(e)})),A=!m&&f((function(){for(var e=new v,t=5;t--;)e[y](t,t);return!e.has(-0)}));E||(b=t((function(t,n){c(t,b,e);var r=p(new v,t,b);return void 0!=n&&u(n,r[y],r,g),r})),b.prototype=_,_.constructor=b),(C||A)&&(D("delete"),D("has"),g&&D("get")),(A||S)&&D(y),m&&_.clear&&delete _.clear}return w[e]=b,o({global:!0,forced:b!=v},w),h(b,e),m||n.setStrong(b,e,g),b}},119:function(e,t,n){var r=n(34)("meta"),i=n(165),o=n(4),a=n(3),s=n(10).f,u=0,c=Object.isExtensible||function(){return!0},l=function(e){s(e,r,{value:{objectID:"O"+ ++u,weakData:{}}})},f=function(e,t){if(!o(e))return"symbol"==typeof e?e:("string"==typeof e?"S":"P")+e;if(!a(e,r)){if(!c(e))return"F";if(!t)return"E";l(e)}return e[r].objectID},d=function(e,t){if(!a(e,r)){if(!c(e))return!0;if(!t)return!1;l(e)}return e[r].weakData},h=function(e){return i&&p.REQUIRED&&c(e)&&!a(e,r)&&l(e),e},p=e.exports={REQUIRED:!1,fastKey:f,getWeakData:d,onFreeze:h};n(25)[r]=!0},12:function(e,t,n){e.exports=!n(7)((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},120:function(e,t,n){"use strict";var r=n(10).f,i=n(36),o=n(98),a=n(40),s=n(74),u=n(75),c=n(93),l=n(99),f=n(12),d=n(119).fastKey,h=n(39),p=h.set,g=h.getterFor;e.exports={getConstructor:function(e,t,n,c){var l=e((function(e,r){s(e,l,t),p(e,{type:t,index:i(null),first:void 0,last:void 0,size:0}),f||(e.size=0),void 0!=r&&u(r,e[c],e,n)})),h=g(t),m=function(e,t,n){var r,i,o=h(e),a=v(e,t);return a?a.value=n:(o.last=a={index:i=d(t,!0),key:t,value:n,previous:r=o.last,next:void 0,removed:!1},o.first||(o.first=a),r&&(r.next=a),f?o.size++:e.size++,"F"!==i&&(o.index[i]=a)),e},v=function(e,t){var n,r=h(e),i=d(t);if("F"!==i)return r.index[i];for(n=r.first;n;n=n.next)if(n.key==t)return n};return o(l.prototype,{clear:function(){for(var e=this,t=h(e),n=t.index,r=t.first;r;)r.removed=!0,r.previous&&(r.previous=r.previous.next=void 0),delete n[r.index],r=r.next;t.first=t.last=void 0,f?t.size=0:e.size=0},delete:function(e){var t=this,n=h(t),r=v(t,e);if(r){var i=r.next,o=r.previous;delete n.index[r.index],r.removed=!0,o&&(o.next=i),i&&(i.previous=o),n.first==r&&(n.first=i),n.last==r&&(n.last=o),f?n.size--:t.size--}return!!r},forEach:function(e){for(var t,n=h(this),r=a(e,arguments.length>1?arguments[1]:void 0,3);t=t?t.next:n.first;)for(r(t.value,t.key,this);t&&t.removed;)t=t.previous},has:function(e){return!!v(this,e)}}),o(l.prototype,n?{get:function(e){var t=v(this,e);return t&&t.value},set:function(e,t){return m(this,0===e?0:e,t)}}:{add:function(e){return m(this,e=0===e?0:e,e)}}),f&&r(l.prototype,"size",{get:function(){return h(this).size}}),l},setStrong:function(e,t,n){var r=t+" Iterator",i=g(t),o=g(r);c(e,t,(function(e,t){p(this,{type:r,target:e,state:i(e),kind:t,last:void 0})}),(function(){for(var e=o(this),t=e.kind,n=e.last;n&&n.removed;)n=n.previous;return e.target&&(e.last=n=n?n.next:e.state.first)?"keys"==t?{value:n.key,done:!1}:"values"==t?{value:n.value,done:!1}:{value:[n.key,n.value],done:!1}:(e.target=void 0,{value:void 0,done:!0})}),n?"entries":"values",!n,!0),l(t)}}},121:function(e,t,n){"use strict";e.exports={en:function(e,t){return t=Number(t),1===t?e[0]:4===e.length?e[2]:e[1]},ru:function(e,t){t=Number(t);var n=e.length;if(4===n&&1===t)return e[0];var r=t%100,i=t%10,o=2;return r>10&&r<=20?o=2:1===i?o=0:i>1&&i<5&&(o=1),4===n&&o++,e[o]}}},1212:function(e,t,n){"use strict";function r(e,t){var n;"function"==typeof Event?n=new Event(t):(n=document.createEvent("Event"),n.initEvent(t,!0,!0)),e.dispatchEvent(n)}Object.defineProperty(t,"__esModule",{value:!0}),t.customDispatchEvent=r},1234:function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(152);window.swfobject=(function(){function e(){if(!$){for(var e=j.length,t=0;t<e;t++)j[t]();$=!0}}function t(e){$?e():j[j.length]=e}function n(){I?o():a()}function o(){var e,t=navigator.plugins["Shockwave Flash"]||window.ActiveXObject;try{e=t.description||(function(){return new t("ShockwaveFlash.ShockwaveFlash").GetVariable("$version")})()}catch(t){e="Unavailable"}e=e.split(" ")[2],e?(e=e.split(/\.|,/g),z.pv=[parseInt(e[0],10),parseInt(e[1],10),parseInt(e[2],10)]):z.pv=[0,0,0],a()}function a(){var e=R.length;if(e>0)for(var t=0;t<e;t++){var n=R[t].id,i=R[t].callbackFn,o={success:!1,id:n};if(z.pv[0]>0){var a=m(n);if(a)if(!_(R[t].swfVersion)||z.wk&&z.wk<312)if(R[t].expressInstall&&u()){var f={};f.data=R[t].expressInstall,f.width=a.getAttribute("width")||"0",f.height=a.getAttribute("height")||"0",a.getAttribute("class")&&(f.styleclass=a.getAttribute("class")),a.getAttribute("align")&&(f.align=a.getAttribute("align"));for(var d={},h=a.getElementsByTagName("param"),p=h.length,g=0;g<p;g++)"movie"!=h[g].getAttribute("name").toLowerCase()&&(d[h[g].getAttribute("name")]=h[g].getAttribute("value"));c(f,d,n,i)}else l(a),i&&i(o);else y(n,!0),i&&(o.success=!0,o.ref=s(n),i(o))}else if(y(n,!0),i){var v=s(n);v&&r(v.SetVariable)!=O&&(o.success=!0,o.ref=v),i(o)}}}function s(e){var t=null,n=m(e);if(n&&"OBJECT"==n.nodeName)if(r(n.SetVariable)!=O)t=n;else{var i=n.getElementsByTagName(M)[0];i&&(t=i)}return t}function u(){return!H&&_("6.0.65")&&(z.win||z.mac)&&!(z.wk&&z.wk<312)}function c(e,t,n,i){H=!0,S=i||null,C={success:!1,id:n};var o=m(n);if(o){"OBJECT"==o.nodeName?(D=f(o),T=null):(D=o,T=n),e.id=k,(r(e.width)==O||!/%$/.test(e.width)&&parseInt(e.width,10)<310)&&(e.width="310"),(r(e.height)==O||!/%$/.test(e.height)&&parseInt(e.height,10)<137)&&(e.height="137"),F.title=F.title.slice(0,47)+" - Flash Player Installation";var a=z.ie&&z.win?"ActiveX":"PlugIn",s="MMredirectURL="+P.location.toString().replace(/&/g,"%26")+"&MMplayerType="+a+"&MMdoctitle="+F.title;if(r(t.flashvars)!=O?t.flashvars+="&"+s:t.flashvars=s,z.ie&&z.win&&4!=o.readyState){var u=v("div");n+="SWFObjectNew",u.setAttribute("id",n),o.parentNode.insertBefore(u,o),o.style.display="none",(function(){4==o.readyState?o.parentNode.removeChild(o):setTimeout(arguments.callee,10)})()}d(e,t,n)}}function l(e){if(z.ie&&z.win&&4!=e.readyState){var t=v("div");e.parentNode.insertBefore(t,e),t.parentNode.replaceChild(f(e),t),e.style.display="none",(function(){4==e.readyState?e.parentNode.removeChild(e):setTimeout(arguments.callee,10)})()}else e.parentNode.replaceChild(f(e),e)}function f(e){var t=v("div");if(z.win&&z.ie)t.innerHTML=e.innerHTML;else{var n=e.getElementsByTagName(M)[0];if(n){var r=n.childNodes;if(r)for(var i=r.length,o=0;o<i;o++)1==r[o].nodeType&&"PARAM"==r[o].nodeName||8==r[o].nodeType||t.appendChild(r[o].cloneNode(!0))}}return t}function d(e,t,n){var i,o=m(n);if(z.wk&&z.wk<312)return i;if(o)if(r(e.id)==O&&(e.id=n),z.ie&&z.win){var a="";for(var s in e)e[s]!=Object.prototype[s]&&("data"==s.toLowerCase()?t.movie=e[s]:"styleclass"==s.toLowerCase()?a+=' class="'+e[s]+'"':"classid"!=s.toLowerCase()&&(a+=" "+s+'="'+e[s]+'"'));var u="";for(var c in t)t[c]!=Object.prototype[c]&&(u+='<param name="'+c+'" value="'+t[c]+'" />');o.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"'+a+">"+u+"</object>",N[N.length]=e.id,i=m(e.id)}else{var l=v(M);l.setAttribute("type",x);for(var f in e)e[f]!=Object.prototype[f]&&("styleclass"==f.toLowerCase()?l.setAttribute("class",e[f]):"classid"!=f.toLowerCase()&&l.setAttribute(f,e[f]));for(var d in t)t[d]!=Object.prototype[d]&&"movie"!=d.toLowerCase()&&h(l,d,t[d]);o.parentNode.replaceChild(l,o),i=l}return i}function h(e,t,n){var r=v("param");r.setAttribute("name",t),r.setAttribute("value",n),e.appendChild(r)}function p(e){var t=m(e);t&&"OBJECT"==t.nodeName&&(z.ie&&z.win?(t.style.display="none",(function(){4==t.readyState?g(e):setTimeout(arguments.callee,10)})()):t.parentNode.removeChild(t))}function g(e){var t=m(e);if(t){for(var n in t)"function"==typeof t[n]&&(t[n]=null);t.parentNode.removeChild(t)}}function m(e){var t=null;try{t=F.getElementById(e)}catch(e){}return t}function v(e){return F.createElement(e)}function _(e){var t=z.pv,n=e.split(".");return n[0]=parseInt(n[0],10),n[1]=parseInt(n[1],10)||0,n[2]=parseInt(n[2],10)||0,t[0]>n[0]||t[0]==n[0]&&t[1]>n[1]||t[0]==n[0]&&t[1]==n[1]&&t[2]>=n[2]}function b(e,t,n,i){if(!z.ie||!z.mac){var o=F.getElementsByTagName("head")[0];if(o){var a=n&&"string"==typeof n?n:"screen";if(i&&(E=null,A=null),!E||A!=a){var s=v("style");s.setAttribute("type","text/css"),s.setAttribute("media",a),E=o.appendChild(s),z.ie&&z.win&&r(F.styleSheets)!=O&&F.styleSheets.length>0&&(E=F.styleSheets[F.styleSheets.length-1]),A=a}z.ie&&z.win?E&&r(E.addRule)==M&&E.addRule(e,t):E&&r(F.createTextNode)!=O&&E.appendChild(F.createTextNode(e+" {"+t+"}"))}}}function y(e,t){if(U){var n=t?"visible":"hidden",r=m(e);$&&r&&r.style?r.style.visibility=n:b("#"+e,"visibility:"+n)}}function w(e){return null!=/[\\\"<>\.;]/.exec(e)&&("undefined"==typeof encodeURIComponent?"undefined":r(encodeURIComponent))!=O?encodeURIComponent(e):e}var D,T,S,C,E,A,O="undefined",M="object",x="application/x-shockwave-flash",k="SWFObjectExprInst",P=window,F=document,L=navigator,I=!1,j=[n],R=[],N=[],B=[],$=!1,H=!1,U=!0,z=(function(){var e=r(F.getElementById)!=O&&r(F.getElementsByTagName)!=O&&r(F.createElement)!=O,t=L.userAgent.toLowerCase(),n=L.platform.toLowerCase(),i=/win/.test(n?n:t),o=/mac/.test(n?n:t),a=!!/webkit/.test(t)&&parseFloat(t.replace(/^.*webkit\/(\d+(\.\d+)?).*$/,"$1")),s=!1,u=[0,0,0],c=null;if(r(L.plugins)!=O&&r(L.plugins["Shockwave Flash"])==M)!(c=L.plugins["Shockwave Flash"].description)||r(L.mimeTypes)!=O&&L.mimeTypes[x]&&!L.mimeTypes[x].enabledPlugin||(I=!0,s=!1,c=c.replace(/^.*\s+(\S+\s+\S+$)/,"$1"),u[0]=parseInt(c.replace(/^(.*)\..*$/,"$1"),10),u[1]=parseInt(c.replace(/^.*\.(.*)\s.*$/,"$1"),10),u[2]=/[a-zA-Z]/.test(c)?parseInt(c.replace(/^.*[a-zA-Z]+(.*)$/,"$1"),10):0);else if(r(P.ActiveXObject)!=O)try{var l=new ActiveXObject("ShockwaveFlash.ShockwaveFlash");l&&(c=l.GetVariable("$version"))&&(s=!0,c=c.split(" ")[1].split(","),u=[parseInt(c[0],10),parseInt(c[1],10),parseInt(c[2],10)])}catch(e){}return{w3:e,pv:u,wk:a,ie:s,win:i,mac:o}})();i.a.then(e);!(function(){z.ie&&z.win&&window.attachEvent("onunload",(function(){for(var e=B.length,t=0;t<e;t++)B[t][0].detachEvent(B[t][1],B[t][2]);for(var n=N.length,r=0;r<n;r++)p(N[r]);for(var i in z)z[i]=null;z=null;for(var o in swfobject)swfobject[o]=null;swfobject=null}))})();return{registerObject:function(e,t,n,r){if(z.w3&&e&&t){var i={};i.id=e,i.swfVersion=t,i.expressInstall=n,i.callbackFn=r,R[R.length]=i,y(e,!1)}else r&&r({success:!1,id:e})},getObjectById:function(e){if(z.w3)return s(e)},embedSWF:function(e,n,i,o,a,s,l,f,h,p){var g={success:!1,id:n};z.w3&&!(z.wk&&z.wk<312)&&e&&n&&i&&o&&a?(y(n,!1),t((function(){i+="",o+="";var t={};if(h&&r(h)===M)for(var m in h)t[m]=h[m];t.data=e,t.width=i,t.height=o;var v={};if(f&&r(f)===M)for(var b in f)v[b]=f[b];if(l&&r(l)===M)for(var w in l)r(v.flashvars)!=O?v.flashvars+="&"+w+"="+l[w]:v.flashvars=w+"="+l[w];if(_(a)){var D=d(t,v,n);t.id==n&&y(n,!0),g.success=!0,g.ref=D}else{if(s&&u())return t.data=s,void c(t,v,n,p);y(n,!0)}p&&p(g)}))):p&&p(g)},switchOffAutoHideShow:function(){U=!1},ua:z,getFlashPlayerVersion:function(){return{major:z.pv[0],minor:z.pv[1],release:z.pv[2]}},hasFlashPlayerVersion:_,createSWF:function(e,t,n){return z.w3?d(e,t,n):void 0},showExpressInstall:function(e,t,n,r){z.w3&&u()&&c(e,t,n,r)},removeSWF:function(e){z.w3&&p(e)},createCSS:function(e,t,n,r){z.w3&&b(e,t,n,r)},addDomLoadEvent:t,getQueryParamValue:function(e){var t=F.location.search||F.location.hash;if(t){if(/\?/.test(t)&&(t=t.split("?")[1]),null==e)return w(t);for(var n=t.split("&"),r=0;r<n.length;r++)if(n[r].substring(0,n[r].indexOf("="))==e)return w(n[r].substring(n[r].indexOf("=")+1))}return""},expressInstallCallback:function(){if(H){var e=m(k);e&&D&&(e.parentNode.replaceChild(D,e),T&&(y(T,!0),z.ie&&z.win&&(D.style.display="block")),S&&S(C)),H=!1}}}})()},1235:function(e,t,n){"use strict";function r(){return"2pane"!==s.a.layout}function i(){return"3pane-vertical"===s.a.layout}function o(){return"3pane-horizontal"===s.a.layout}function a(){return"2pane"===s.a.layout}Object.defineProperty(t,"__esModule",{value:!0}),t.is3pane=r,t.is3pv=i,t.is3ph=o,t.is2pane=a;var s=n(2)},1236:function(e,t,n){function r(e,t,n,F,L,I){var j,R=t&C,N=t&E,B=t&A;if(n&&(j=L?n(e,F,L,I):n(e)),void 0!==j)return j;if(!D(e))return e;var $=b(e);if($){if(j=m(e),!R)return l(e,j)}else{var H=g(e),U=H==M||H==x;if(y(e))return c(e,R);if(H==k||H==O||U&&!L){if(j=N||U?{}:_(e),!R)return N?d(e,u(j,e)):f(e,s(j,e))}else{if(!P[H])return L?e:{};j=v(e,H,R)}}I||(I=new i);var z=I.get(e);if(z)return z;I.set(e,j),T(e)?e.forEach((function(i){j.add(r(i,t,n,i,e,I))})):w(e)&&e.forEach((function(i,o){j.set(o,r(i,t,n,o,e,I))}));var W=B?N?p:h:N?keysIn:S,J=$?void 0:W(e);return o(J||e,(function(i,o){J&&(o=i,i=e[o]),a(j,o,r(i,t,n,o,e,I))})),j}var i=n(523),o=n(776),a=n(668),s=n(1237),u=n(1238),c=n(889),l=n(562),f=n(1241),d=n(1242),h=n(670),p=n(890),g=n(464),m=n(1243),v=n(1244),_=n(892),b=n(378),y=n(477),w=n(1248),D=n(387),T=n(1250),S=n(419),C=1,E=2,A=4,O="[object Arguments]",M="[object Function]",x="[object GeneratorFunction]",k="[object Object]",P={};P[O]=P["[object Array]"]=P["[object ArrayBuffer]"]=P["[object DataView]"]=P["[object Boolean]"]=P["[object Date]"]=P["[object Float32Array]"]=P["[object Float64Array]"]=P["[object Int8Array]"]=P["[object Int16Array]"]=P["[object Int32Array]"]=P["[object Map]"]=P["[object Number]"]=P[k]=P["[object RegExp]"]=P["[object Set]"]=P["[object String]"]=P["[object Symbol]"]=P["[object Uint8Array]"]=P["[object Uint8ClampedArray]"]=P["[object Uint16Array]"]=P["[object Uint32Array]"]=!0,P["[object Error]"]=P[M]=P["[object WeakMap]"]=!1,e.exports=r},1237:function(e,t,n){function r(e,t){return e&&i(t,o(t),e)}var i=n(462),o=n(419);e.exports=r},1238:function(e,t,n){function r(e,t){return e&&i(t,o(t),e)}var i=n(462),o=n(524);e.exports=r},1239:function(e,t,n){function r(e){if(!i(e))return a(e);var t=o(e),n=[];for(var r in e)("constructor"!=r||!t&&u.call(e,r))&&n.push(r);return n}var i=n(387),o=n(498),a=n(1240),s=Object.prototype,u=s.hasOwnProperty;e.exports=r},1240:function(e,t){function n(e){var t=[];if(null!=e)for(var n in Object(e))t.push(n);return t}e.exports=n},1241:function(e,t,n){function r(e,t){return i(e,o(e),t)}var i=n(462),o=n(525);e.exports=r},1242:function(e,t,n){function r(e,t){return i(e,o(e),t)}var i=n(462),o=n(777);e.exports=r},1243:function(e,t){function n(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&i.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var r=Object.prototype,i=r.hasOwnProperty;e.exports=n},1244:function(e,t,n){function r(e,t,n){var r=e.constructor;switch(t){case v:return i(e);case c:case l:return new r(+e);case _:return o(e,n);case b:case y:case w:case D:case T:case S:case C:case E:case A:return u(e,n);case f:return new r;case d:case g:return new r(e);case h:return a(e);case p:return new r;case m:return s(e)}}var i=n(615),o=n(1245),a=n(1246),s=n(1247),u=n(891),c="[object Boolean]",l="[object Date]",f="[object Map]",d="[object Number]",h="[object RegExp]",p="[object Set]",g="[object String]",m="[object Symbol]",v="[object ArrayBuffer]",_="[object DataView]",b="[object Float32Array]",y="[object Float64Array]",w="[object Int8Array]",D="[object Int16Array]",T="[object Int32Array]",S="[object Uint8Array]",C="[object Uint8ClampedArray]",E="[object Uint16Array]",A="[object Uint32Array]";e.exports=r},1245:function(e,t,n){function r(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var i=n(615);e.exports=r},1246:function(e,t){function n(e){var t=new e.constructor(e.source,r.exec(e));return t.lastIndex=e.lastIndex,t}var r=/\w*$/;e.exports=n},1247:function(e,t,n){function r(e){return a?Object(a.call(e)):{}}var i=n(401),o=i?i.prototype:void 0,a=o?o.valueOf:void 0;e.exports=r},1248:function(e,t,n){var r=n(1249),i=n(521),o=n(522),a=o&&o.isMap,s=a?i(a):r;e.exports=s},1249:function(e,t,n){function r(e){return o(e)&&i(e)==a}var i=n(464),o=n(388),a="[object Map]";e.exports=r},1250:function(e,t,n){var r=n(1251),i=n(521),o=n(522),a=o&&o.isSet,s=a?i(a):r;e.exports=s},1251:function(e,t,n){function r(e){return o(e)&&i(e)==a}var i=n(464),o=n(388),a="[object Set]";e.exports=r},1252:function(e,t,n){function r(e,t){return t.length<2?e:i(e,o(t,0,-1))}var i=n(527),o=n(596);e.exports=r},1253:function(e,t,n){function r(e){if(!a(e)||i(e)!=s)return!1;var t=o(e);if(null===t)return!0;var n=f.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==d}var i=n(396),o=n(613),a=n(388),s="[object Object]",u=Function.prototype,c=Object.prototype,l=u.toString,f=c.hasOwnProperty,d=l.call(Object);e.exports=r},1254:function(e,t,n){function r(e){return a(o(e,void 0,i),e+"")}var i=n(782),o=n(894),a=n(784);e.exports=r},1255:function(e,t,n){var r=n(1256),i=n(611),o=n(528),a=i?function(e,t){return i(e,"toString",{configurable:!0,enumerable:!1,value:r(t),writable:!0})}:o;e.exports=a},1256:function(e,t){function n(e){return function(){return e}}e.exports=n},1257:function(e,t){e.exports={ABOOK_ADD:"abook-add",ABOOK_DESELECT_ALL:"abook-deselect-all",ABOOK_MORE:"abook-more",ABOOK_OUT_OF_GROUP:"abook-outofgroup",ABOOK_REMOVE:"abook-remove",ABOOK_SELECT_ALL:"abook-select-all",ABOOK_TO_GROUP:"abook-togroup",ADD_TEMPLATE:"add-template",ARCHIVE:"archive",DELETE:"delete",DRAFT_FINISH:"draft-finish",EDIT:"edit",FILTERS_CREATE:"filters-create",FOLDERS_ACTIONS:"folders-actions",FORWARD:"forward",INFOLDER:"infolder",MARK_IMPORTANT:"mark-important",MARK_UNIMPORTANT:"mark-unimportant",LABEL:"label",LABELS_ACTIONS:"labels-actions",MAIN_DESELECT_ALL:"main-deselect-all",MAIN_SELECT_ALL:"main-select-all",MARK_AS_READ:"mark-as-read",MARK_AS_UNREAD:"mark-as-unread",MESSAGE_SOURCE:"message-source",MORE:"more",NOT_SPAM:"not-spam",REPLY_LATER:"reply-later",PIN:"pin",PRINT:"print",REPLY:"reply",REPLY_ALL:"reply-all",SENDON:"sendon",SPAM:"spam",TEMPLATE:"template",TOOLBAR_SETTINGS:"toolbar-settings",TRANSLATE:"translate",UNPIN:"unpin",UNSUBSCRIBE_ONE:"unsubscribe-one",UNSUBSCRIBE_ALL:"unsubscribe-all"}},1258:function(e,t){e.exports={MAX_MESSAGES_TO_FORWARD:30,MAX_MESSAGES_TO_PIN:15,MAX_MESSAGES_TO_REMOVE_OR_SPAM:20,MAX_MESSAGES_TO_SEND:Daria.IS_CORP?150:50,MAX_TOTAL_SIZE_OF_ATTACHMENTS:Daria.IS_CORP?100:24}},1259:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var i="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o=(function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}})(),a=console.assert.bind(console),s=Symbol("default"),u=(function(){function e(){r(this,e),this._scopes={}}return o(e,[{key:"add",value:function(e,t,n){a(t,"Unexpected empty key"),a(n,"Unexpected empty link");var r=this.scope(e);if(r[t])throw new Error("");r[t]=n}},{key:"get",value:function(e,t){a(t,"Unexpected empty key");var n=this.scope(e),r=n[t];if(r)return r;var i=n[s]||this.scope(s)[s];if(i)return i(e,t);throw new Error("Undefined key '"+t+"' in scope '"+e+"'")}},{key:"default",value:function(e,t){"function"==typeof e&&(t=e,e=null),void 0==e&&(e=s),a(t,"Unexpected empty callback"),this.scope(e)[s]=t}},{key:"scope",value:function(e,t){return a(e,"Unexpected empty scope"),"object"===(void 0===t?"undefined":i(t))&&a(!this._scopes[e],"Override of existing links scope"),this._scopes[e]||(this._scopes[e]=t||{}),this._scopes[e]}}]),e})();e.exports=new u},139:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.FoldersDisabledMoveInto=t.ReplyLaterDisabledFolders=t.SenderInfoDisabledFolders=t.ThreadSidebarDisabledFolders=t.LabelDisabledFolders=t.ClearEnabledFolders=t.SpecialHelpFolders=t.SpecialBarFolders=t.DragSpecialFolders=t.AttachmentWidgetsExcludeFoldersMax=t.AttachmentWidgetsExcludeFoldersMedium=t.AttachmentWidgetsExcludeFoldersLite=t.ThreadsDisabledFolders=t.SearchDisabledFolders=t.FiltersDisabledFolders=t.SilentFolders=t.SpamDisabledFoldersShort=t.SpamDisabledFolders=t.PinDisabledExtendedFolders=t.PinDisabledFolders=t.QuickReplyDisabledFolders=t.ReplyDisabledFolders=t.OutcomingFolders=t.LOMDisabledFolders=t.UnsubscribeDisabledAltFolders=t.UnsubscribeDisabledFolders=t.RecipientsSpecialFolders=t.InternalFolders=t.NotIncoming=t.UnreadHiddenFoldersShort=t.UnreadHiddenFolders=t.DraftTemplateLikeFoldersShort=t.DraftLikeFoldersShort=t.DraftLikeFolders=t.HiddenWhenEmptyFolders=t.SystemFolders=t.WellKnownFolderSymbol=void 0;var o;!(function(e){e.ARCHIVE="archive",e.DRAFT="draft",e.INBOX="inbox",e.OUTBOX="outbox",e.REPLY_LATER="reply_later",e.RESTORED="restored",e.SENT="sent",e.SPAM="spam",e.TEMPLATE="template",e.TRASH="trash"})(o=t.WellKnownFolderSymbol||(t.WellKnownFolderSymbol={})),t.SystemFolders=Object.values(o),t.HiddenWhenEmptyFolders=[o.OUTBOX,o.REPLY_LATER,o.RESTORED],t.DraftLikeFolders=[o.DRAFT,o.OUTBOX,o.TEMPLATE],t.DraftLikeFoldersShort=[o.DRAFT,o.OUTBOX],t.DraftTemplateLikeFoldersShort=[o.DRAFT,o.TEMPLATE],t.UnreadHiddenFolders=[o.SPAM,o.SENT,o.TRASH,o.DRAFT,o.TEMPLATE,o.OUTBOX],t.UnreadHiddenFoldersShort=[o.SPAM,o.TRASH],t.NotIncoming=[o.DRAFT,o.OUTBOX,o.SENT,o.SPAM,o.TRASH,o.TEMPLATE,o.ARCHIVE],t.InternalFolders=[o.DRAFT,o.OUTBOX,o.TEMPLATE,o.SENT],t.RecipientsSpecialFolders=[o.DRAFT,o.SENT],t.UnsubscribeDisabledFolders=[o.SENT,o.DRAFT,o.TEMPLATE],t.UnsubscribeDisabledAltFolders=[o.SENT,o.DRAFT,o.SPAM],t.LOMDisabledFolders=[o.TRASH,o.SPAM,o.DRAFT,o.TEMPLATE],t.OutcomingFolders=[o.SENT,o.OUTBOX],t.ReplyDisabledFolders=[o.SPAM,o.TRASH,o.DRAFT,o.SENT],t.QuickReplyDisabledFolders=[o.SPAM,o.TRASH,o.DRAFT],t.PinDisabledFolders=[o.SPAM,o.TRASH,o.REPLY_LATER],t.PinDisabledExtendedFolders=[o.TRASH,o.DRAFT,o.SPAM,o.TEMPLATE,o.REPLY_LATER],t.SpamDisabledFolders=[o.SPAM,o.DRAFT,o.OUTBOX,o.TEMPLATE,o.SENT],t.SpamDisabledFoldersShort=[o.DRAFT,o.TEMPLATE,o.SENT],t.SilentFolders=[o.DRAFT,o.OUTBOX,o.SENT,o.SPAM,o.TEMPLATE,o.TRASH,o.RESTORED],t.FiltersDisabledFolders=[o.OUTBOX,o.TRASH,o.RESTORED,o.REPLY_LATER],t.SearchDisabledFolders=[o.OUTBOX,o.SPAM],t.ThreadsDisabledFolders=[o.ARCHIVE,o.DRAFT,o.SPAM,o.TEMPLATE,o.TRASH],t.AttachmentWidgetsExcludeFoldersLite=[o.SPAM,o.TRASH],t.AttachmentWidgetsExcludeFoldersMedium=i(t.AttachmentWidgetsExcludeFoldersLite,[o.TEMPLATE]),t.AttachmentWidgetsExcludeFoldersMax=i(t.AttachmentWidgetsExcludeFoldersMedium,[o.DRAFT,o.SENT]),t.DragSpecialFolders=[o.SPAM,o.TRASH],t.SpecialBarFolders=[o.SPAM,o.TRASH,o.TEMPLATE],t.SpecialHelpFolders=[o.SPAM,o.TRASH],t.ClearEnabledFolders=[o.SPAM,o.TRASH],t.LabelDisabledFolders=[o.SPAM,o.TRASH],t.ThreadSidebarDisabledFolders=[o.SPAM,o.TRASH],t.SenderInfoDisabledFolders=[o.SPAM,o.TRASH],t.ReplyLaterDisabledFolders=[o.SPAM,o.TRASH,o.RESTORED],t.FoldersDisabledMoveInto=[o.REPLY_LATER]},152:function(e,t,n){"use strict";var r=n(8);t.a=new Promise(function(e){if("complete"===document.readyState)return void e();var t=Object(r.c)((function(){document.removeEventListener("DOMContentLoaded",t,!1),window.removeEventListener("load",t,!1),e()}));document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)})},160:function(e,t,n){"use strict";function r(e,t){Jane.ErrorLog.send({errorType:"polifill-error",name:e},t.message,t.stack)}try{n(102)}catch(e){r("babel-regenerator-runtime",e)}try{n(161)}catch(e){r("./element.remove.js",e)}try{n(162)}catch(e){r("./element.closest.js",e)}try{n(163)}catch(e){r("./nodeList.forEach.js",e)}try{n(164)}catch(e){r("core-js/modules/es.map.js",e)}try{n(167)}catch(e){r("core-js/modules/es.set.js",e)}try{n(168)}catch(e){r("classlist-polyfill",e)}try{n(169)}catch(e){r("whatwg-fetch",e)}try{n(170)}catch(e){r("core-js/modules/es.array.includes",e)}try{n(171)}catch(e){r("core-js/modules/es.string.code-point-at",e)}try{n(173)}catch(e){r("core-js/modules/es.string.from-code-point",e)}try{n(174)}catch(e){r("core-js/modules/es.string.starts-with",e)}try{n(178)}catch(e){r("intersection-observer",e)}},161:function(e,t){!(function(e){e.forEach((function(e){e.hasOwnProperty("remove")||Object.defineProperty(e,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){null!==this.parentNode&&this.parentNode.removeChild(this)}})}))})([Element.prototype,CharacterData.prototype,DocumentType.prototype])},162:function(e,t){Element.prototype.matches||(Element.prototype.matches=Element.prototype.msMatchesSelector||Element.prototype.webkitMatchesSelector),Element.prototype.closest||(Element.prototype.closest=function(e){var t=this;do{if(Element.prototype.matches.call(t,e))return t;t=t.parentElement||t.parentNode}while(null!==t&&1===t.nodeType);return null})},163:function(e,t){window.NodeList&&!NodeList.prototype.forEach&&(NodeList.prototype.forEach=Array.prototype.forEach)},164:function(e,t,n){"use strict";e.exports=n(118)("Map",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),n(120),!0)},165:function(e,t,n){e.exports=!n(7)((function(){return Object.isExtensible(Object.preventExtensions({}))}))},166:function(e,t,n){var r=n(4),i=n(73);e.exports=function(e,t,n){var o,a=t.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&r(o)&&i&&i(e,o),e}},167:function(e,t,n){"use strict";e.exports=n(118)("Set",(function(e){return function(){return e(this,arguments.length>0?arguments[0]:void 0)}}),n(120))},168:function(e,t){"document"in window.self&&("classList"in document.createElement("_")&&(!document.createElementNS||"classList"in document.createElementNS("http://www.w3.org/2000/svg","g"))||(function(e){"use strict";if("Element"in e){var t=e.Element.prototype,n=Object,r=String.prototype.trim||function(){return this.replace(/^\s+|\s+$/g,"")},i=Array.prototype.indexOf||function(e){for(var t=0,n=this.length;t<n;t++)if(t in this&&this[t]===e)return t;return-1},o=function(e,t){this.name=e,this.code=DOMException[e],this.message=t},a=function(e,t){if(""===t)throw new o("SYNTAX_ERR","An invalid or illegal string was specified");if(/\s/.test(t))throw new o("INVALID_CHARACTER_ERR","String contains an invalid character");return i.call(e,t)},s=function(e){for(var t=r.call(e.getAttribute("class")||""),n=t?t.split(/\s+/):[],i=0,o=n.length;i<o;i++)this.push(n[i]);this._updateClassName=function(){e.setAttribute("class",this.toString())}},u=s.prototype=[],c=function(){return new s(this)};if(o.prototype=Error.prototype,u.item=function(e){return this[e]||null},u.contains=function(e){return e+="",-1!==a(this,e)},u.add=function(){var e,t=arguments,n=0,r=t.length,i=!1;do{e=t[n]+"",-1===a(this,e)&&(this.push(e),i=!0)}while(++n<r);i&&this._updateClassName()},u.remove=function(){var e,t,n=arguments,r=0,i=n.length,o=!1;do{for(e=n[r]+"",t=a(this,e);-1!==t;)this.splice(t,1),o=!0,t=a(this,e)}while(++r<i);o&&this._updateClassName()},u.toggle=function(e,t){e+="";var n=this.contains(e),r=n?!0!==t&&"remove":!1!==t&&"add";return r&&this[r](e),!0===t||!1===t?t:!n},u.toString=function(){return this.join(" ")},n.defineProperty){var l={get:c,enumerable:!0,configurable:!0};try{n.defineProperty(t,"classList",l)}catch(e){void 0!==e.number&&-2146823252!==e.number||(l.enumerable=!1,n.defineProperty(t,"classList",l))}}else n.prototype.__defineGetter__&&t.__defineGetter__("classList",c)}})(window.self),(function(){"use strict";var e=document.createElement("_");if(e.classList.add("c1","c2"),!e.classList.contains("c2")){var t=function(e){var t=DOMTokenList.prototype[e];DOMTokenList.prototype[e]=function(e){var n,r=arguments.length;for(n=0;n<r;n++)e=arguments[n],t.call(this,e)}};t("add"),t("remove")}if(e.classList.toggle("c3",!1),e.classList.contains("c3")){var n=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(e,t){return 1 in arguments&&!this.contains(e)==!t?t:n.call(this,e)}}e=null})())},169:function(e,t){!(function(e){"use strict";function t(e){if("string"!=typeof e&&(e=String(e)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(e))throw new TypeError("Invalid character in header field name");return e.toLowerCase()}function n(e){return"string"!=typeof e&&(e=String(e)),e}function r(e){var t={next:function(){var t=e.shift();return{done:void 0===t,value:t}}};return g.iterable&&(t[Symbol.iterator]=function(){return t}),t}function i(e){this.map={},e instanceof i?e.forEach((function(e,t){this.append(t,e)}),this):e&&Object.getOwnPropertyNames(e).forEach((function(t){this.append(t,e[t])}),this)}function o(e){if(e.bodyUsed)return Promise.reject(new TypeError("Already read"));e.bodyUsed=!0}function a(e){return new Promise(function(t,n){e.onload=function(){t(e.result)},e.onerror=function(){n(e.error)}})}function s(e){var t=new FileReader;return t.readAsArrayBuffer(e),a(t)}function u(e){var t=new FileReader;return t.readAsText(e),a(t)}function c(){return this.bodyUsed=!1,this._initBody=function(e){if(this._bodyInit=e,"string"==typeof e)this._bodyText=e;else if(g.blob&&Blob.prototype.isPrototypeOf(e))this._bodyBlob=e;else if(g.formData&&FormData.prototype.isPrototypeOf(e))this._bodyFormData=e;else if(g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e))this._bodyText=e.toString();else if(e){if(!g.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(e))throw new Error("unsupported BodyInit type")}else this._bodyText="";this.headers.get("content-type")||("string"==typeof e?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):g.searchParams&&URLSearchParams.prototype.isPrototypeOf(e)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},g.blob?(this.blob=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this.blob().then(s)},this.text=function(){var e=o(this);if(e)return e;if(this._bodyBlob)return u(this._bodyBlob);if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)}):this.text=function(){var e=o(this);return e||Promise.resolve(this._bodyText)},g.formData&&(this.formData=function(){return this.text().then(d)}),this.json=function(){return this.text().then(JSON.parse)},this}function l(e){var t=e.toUpperCase();return m.indexOf(t)>-1?t:e}function f(e,t){t=t||{};var n=t.body;if(f.prototype.isPrototypeOf(e)){if(e.bodyUsed)throw new TypeError("Already read");this.url=e.url,this.credentials=e.credentials,t.headers||(this.headers=new i(e.headers)),this.method=e.method,this.mode=e.mode,n||(n=e._bodyInit,e.bodyUsed=!0)}else this.url=e;if(this.credentials=t.credentials||this.credentials||"omit",!t.headers&&this.headers||(this.headers=new i(t.headers)),this.method=l(t.method||this.method||"GET"),this.mode=t.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function d(e){var t=new FormData;return e.trim().split("&").forEach((function(e){if(e){var n=e.split("="),r=n.shift().replace(/\+/g," "),i=n.join("=").replace(/\+/g," ");t.append(decodeURIComponent(r),decodeURIComponent(i))}})),t}function h(e){var t=new i;return(e.getAllResponseHeaders()||"").trim().split("\n").forEach((function(e){var n=e.trim().split(":"),r=n.shift().trim(),i=n.join(":").trim();t.append(r,i)})),t}function p(e,t){t||(t={}),this.type="default",this.status=t.status,this.ok=this.status>=200&&this.status<300,this.statusText=t.statusText,this.headers=t.headers instanceof i?t.headers:new i(t.headers),this.url=t.url||"",this._initBody(e)}if(!e.fetch){var g={searchParams:"URLSearchParams"in e,iterable:"Symbol"in e&&"iterator"in Symbol,blob:"FileReader"in e&&"Blob"in e&&(function(){try{return new Blob,!0}catch(e){return!1}})(),formData:"FormData"in e,arrayBuffer:"ArrayBuffer"in e};i.prototype.append=function(e,r){e=t(e),r=n(r);var i=this.map[e];i||(i=[],this.map[e]=i),i.push(r)},i.prototype.delete=function(e){delete this.map[t(e)]},i.prototype.get=function(e){var n=this.map[t(e)];return n?n[0]:null},i.prototype.getAll=function(e){return this.map[t(e)]||[]},i.prototype.has=function(e){return this.map.hasOwnProperty(t(e))},i.prototype.set=function(e,r){this.map[t(e)]=[n(r)]},i.prototype.forEach=function(e,t){Object.getOwnPropertyNames(this.map).forEach((function(n){this.map[n].forEach((function(r){e.call(t,r,n,this)}),this)}),this)},i.prototype.keys=function(){var e=[];return this.forEach((function(t,n){e.push(n)})),r(e)},i.prototype.values=function(){var e=[];return this.forEach((function(t){e.push(t)})),r(e)},i.prototype.entries=function(){var e=[];return this.forEach((function(t,n){e.push([n,t])})),r(e)},g.iterable&&(i.prototype[Symbol.iterator]=i.prototype.entries);var m=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];f.prototype.clone=function(){return new f(this)},c.call(f.prototype),c.call(p.prototype),p.prototype.clone=function(){return new p(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new i(this.headers),url:this.url})},p.error=function(){var e=new p(null,{status:0,statusText:""});return e.type="error",e};var v=[301,302,303,307,308];p.redirect=function(e,t){if(-1===v.indexOf(t))throw new RangeError("Invalid status code");return new p(null,{status:t,headers:{location:e}})},e.Headers=i,e.Request=f,e.Response=p,e.fetch=function(e,t){return new Promise(function(n,r){function i(){return"responseURL"in a?a.responseURL:/^X-Request-URL:/m.test(a.getAllResponseHeaders())?a.getResponseHeader("X-Request-URL"):void 0}var o;o=f.prototype.isPrototypeOf(e)&&!t?e:new f(e,t);var a=new XMLHttpRequest;a.onload=function(){var e={status:a.status,statusText:a.statusText,headers:h(a),url:i()},t="response"in a?a.response:a.responseText;n(new p(t,e))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials&&(a.withCredentials=!0),"responseType"in a&&g.blob&&(a.responseType="blob"),o.headers.forEach((function(e,t){a.setRequestHeader(t,e)})),a.send(void 0===o._bodyInit?null:o._bodyInit)})},e.fetch.polyfill=!0}})("undefined"!=typeof self?self:this)},17:function(e,t,n){var r=n(57),i=n(32);e.exports=function(e){return r(i(e))}},170:function(e,t,n){"use strict";var r=n(71)(!0);n(11)({target:"Array",proto:!0},{includes:function(e){return r(this,e,arguments.length>1?arguments[1]:void 0)}}),n(60)("includes")},171:function(e,t,n){"use strict";var r=n(172);n(11)({target:"String",proto:!0},{codePointAt:function(e){return r(this,e)}})},172:function(e,t,n){var r=n(45),i=n(32);e.exports=function(e,t,n){var o,a,s=String(i(e)),u=r(t),c=s.length;return u<0||u>=c?n?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?n?s.charAt(u):o:n?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}},173:function(e,t,n){var r=n(72),i=String.fromCharCode,o=String.fromCodePoint,a=!!o&&1!=o.length;n(11)({target:"String",stat:!0,forced:a},{fromCodePoint:function(e){for(var t,n=[],o=arguments.length,a=0;o>a;){if(t=+arguments[a++],r(t,1114111)!==t)throw RangeError(t+" is not a valid code point");n.push(t<65536?i(t):i(55296+((t-=65536)>>10),t%1024+56320))}return n.join("")}})},174:function(e,t,n){"use strict";var r=n(30),i=n(175),o=n(177)("startsWith"),a="".startsWith;n(11)({target:"String",proto:!0,forced:!o},{startsWith:function(e){var t=i(this,e,"startsWith"),n=r(Math.min(arguments.length>1?arguments[1]:void 0,t.length)),o=String(e);return a?a.call(t,o,n):t.slice(n,n+o.length)===o}})},175:function(e,t,n){var r=n(176),i=n(32);e.exports=function(e,t,n){if(r(t))throw TypeError("String.prototype."+n+" doesn't accept regex");return String(i(e))}},176:function(e,t,n){var r=n(4),i=n(21),o=n(1)("match");e.exports=function(e){var t;return r(e)&&(void 0!==(t=e[o])?!!t:"RegExp"==i(e))}},177:function(e,t,n){var r=n(1)("match");e.exports=function(e){var t=/./;try{"/./"[e](t)}catch(n){try{return t[r]=!1,"/./"[e](t)}catch(e){}}return!1}},1773:function(e,t){(function(t){e.exports=t}).call(t,{})},1774:function(e,t,n){"use strict";var r=this&&this.__read||function(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a},i=this&&this.__spread||function(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(r(arguments[t]));return e};Object.defineProperty(t,"__esModule",{value:!0}),t.WhiteHashList=t.ScrollMemoizedPages=t.CustomPages=void 0;var o,a=n(139);!(function(e){e.COMPOSE="compose",e.CONTACTS="contacts",e.FOLDER="folder",e.LABEL="label",e.SETUP="setup",e.UNREAD="unread"})(o=t.CustomPages||(t.CustomPages={})),t.ScrollMemoizedPages=i(a.SystemFolders,[o.FOLDER,o.LABEL,o.UNREAD]),t.WhiteHashList=i(a.SystemFolders,[o.COMPOSE,o.CONTACTS,o.SETUP])},1775:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e){return function(){return d.compatible?e.apply(void 0,arguments):vow.Promise.resolve()}}function u(e,t){var n=e.scope===t.scope,r=Object.keys(d.ROLE).some((function(e){return d.ROLE[e]===t.type}));return n&&r}function c(e,t,n){var r=t;if(n){var i=Daria.getUrlParams();i.uid=i.uid||Daria.Config.uid;r=t+("?"+Daria.getParamsHash(i))}return navigator.serviceWorker.register(r,{scope:e})}function l(e){return function(){return Promise.reject("Unknown command: "+e)}}n.d(t,"a",(function(){return d}));var f,d=(function(){function e(t){var n=this;if(i(this,e),this._handleMessages=s((function(){navigator.serviceWorker.addEventListener("message",(function(e){return n._registration().then((function(t){return u(t,e.data)?n.rpc.handle(e.data).then((function(t){e.ports[0].postMessage(t)})).catch((function(t){e.ports[0].postMessage({error:t}),Jane.ErrorLog.send({errorType:"service-worker-not-handled-message",reason:t})})):void e.ports[0].postMessage(null)}))}))})),this._registration=s((function(){return navigator.serviceWorker.getRegistrations().then((function(e){return e.filter((function(e){var t=_.endsWith(e.scope,n._scope),r=e.active&&_.startsWith(e.active.scriptURL,location.origin+n._url);return t&&r}))[0]||null}))})),this._start=function(){return c(n._scope,n._url,n._shouldAddUrlParams)},this.stop=s((function(){return n._registration().then((function(e){if(e)return e.unregister()}))})),this.update=s((function(){return n._update||(n._update=n._registration().then((function(e){return e?(e.update(),e):n._start()}))),n._update})),this.settings=function(e){return n.rpc.message({command:"settings",data:e}).catch((function(){}))},this.debug=function(){return n.rpc.settings({debug:!0})},this._config=e.CONFIGS[t],!this._config)throw new Error('Unknown service worker config "'.concat(t,'"'));this._role=t,this._scope=this._config.scope,this._url=this._config.url,this._shouldAddUrlParams=this._config.shouldAddUrlParams,this._rpc=null,this._update=null,this._config.shouldHandleMessages&&this._handleMessages()}return a(e,[{key:"_reregister",value:function(e){return(e&&e.unregister()||vow.Promise.resolve()).then(this._start)}},{key:"rpc",get:function(){if(!this._rpc){var t=e.COMMANDS[this._role]||{};this._rpc=new e.RPC(this,t)}return this._rpc}}]),e})();d.ROLE={PUSH_MANAGER:"push-manager",CACHE_MANAGER:"cache-manager"},d.compatible=Boolean(navigator.serviceWorker&&navigator.serviceWorker.addEventListener&&navigator.serviceWorker.getRegistrations),d.RPC=function e(t,n){var r=this;i(this,e),this.handle=function(e){return Promise.resolve(e.data).then(r._commands[e.command]||l(e.command))},this.message=function(e,t){var n=Boolean(t);return t=n?Promise.resolve(t):r._worker.update(),t.then((function(t){if(!t)throw new Error("Can`t send message. Service Worker does not exists.");return t.active?new vow.Promise(function(n,r){var i=new MessageChannel;i.port1.onmessage=function(e){e.data&&e.data.error?r(e.data.error):n(e.data)},t.active.postMessage(e,[i.port2]),setTimeout((function(){r(new Error("Hanged postMessage"))}),3e3)}):vow.Promise.resolve()})).catch((function(e){return ns.forcedRequest("do-service-worker-log",{params:JSON.stringify({type:"error",reason:"message-error",message:e&&e.message||e,pageFocused:Jane.watcher.get("pageVisible"),registrationUpdate:!n,source:"u2709-push"})}),vow.Promise.reject(e)}))},this._worker=t,this._commands=n||{}},d.CONFIGS=(f={},r(f,d.ROLE.PUSH_MANAGER,{url:Daria.api["service-worker"],scope:(function(){return"/?uid="+Daria.Config.uid})(),shouldAddUrlParams:!0,shouldHandleMessages:!0}),r(f,d.ROLE.CACHE_MANAGER,{url:Daria.api["caching-service-worker"],scope:"/"}),f),d.COMMANDS=r({},d.ROLE.PUSH_MANAGER,{navigate:function(e){var t=/#(compose|setup|contacts)/,n=!t.test(location.hash);return n&&_.delay((function(){return window.location=e}),50),n}}),Daria.ServiceWorker=d},178:function(e,t){!(function(){"use strict";function e(e){try{return e.defaultView&&e.defaultView.frameElement||null}catch(e){return null}}function t(e){this.time=e.time,this.target=e.target,this.rootBounds=l(e.rootBounds),this.boundingClientRect=l(e.boundingClientRect),this.intersectionRect=l(e.intersectionRect||c()),this.isIntersecting=!!e.intersectionRect;var t=this.boundingClientRect,n=t.width*t.height,r=this.intersectionRect,i=r.width*r.height;this.intersectionRatio=n?Number((i/n).toFixed(4)):this.isIntersecting?1:0}function n(e,t){var n=t||{};if("function"!=typeof e)throw new Error("callback must be a function");if(n.root&&1!=n.root.nodeType&&9!=n.root.nodeType)throw new Error("root must be a Document or Element");this._checkForIntersections=i(this._checkForIntersections.bind(this),this.THROTTLE_TIMEOUT),this._callback=e,this._observationTargets=[],this._queuedEntries=[],this._rootMarginValues=this._parseRootMargin(n.rootMargin),this.thresholds=this._initThresholds(n.threshold),this.root=n.root||null,this.rootMargin=this._rootMarginValues.map((function(e){return e.value+e.unit})).join(" "),this._monitoringDocuments=[],this._monitoringUnsubscribes=[]}function r(){return window.performance&&performance.now&&performance.now()}function i(e,t){var n=null;return function(){n||(n=setTimeout((function(){e(),n=null}),t))}}function o(e,t,n,r){"function"==typeof e.addEventListener?e.addEventListener(t,n,r||!1):"function"==typeof e.attachEvent&&e.attachEvent("on"+t,n)}function a(e,t,n,r){"function"==typeof e.removeEventListener?e.removeEventListener(t,n,r||!1):"function"==typeof e.detatchEvent&&e.detatchEvent("on"+t,n)}function s(e,t){var n=Math.max(e.top,t.top),r=Math.min(e.bottom,t.bottom),i=Math.max(e.left,t.left),o=Math.min(e.right,t.right),a=o-i,s=r-n;return a>=0&&s>=0&&{top:n,bottom:r,left:i,right:o,width:a,height:s}||null}function u(e){var t;try{t=e.getBoundingClientRect()}catch(e){}return t?(t.width&&t.height||(t={top:t.top,right:t.right,bottom:t.bottom,left:t.left,width:t.right-t.left,height:t.bottom-t.top}),t):c()}function c(){return{top:0,bottom:0,left:0,right:0,width:0,height:0}}function l(e){return!e||"x"in e?e:{top:e.top,y:e.top,bottom:e.bottom,left:e.left,x:e.left,right:e.right,width:e.width,height:e.height}}function f(e,t){var n=t.top-e.top,r=t.left-e.left;return{top:n,left:r,height:t.height,width:t.width,bottom:n+t.height,right:r+t.width}}function d(e,t){for(var n=t;n;){if(n==e)return!0;n=h(n)}return!1}function h(t){var n=t.parentNode;return 9==t.nodeType&&t!=g?e(t):(n&&n.assignedSlot&&(n=n.assignedSlot.parentNode),n&&11==n.nodeType&&n.host?n.host:n)}function p(e){return e&&9===e.nodeType}if("object"==typeof window){if("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype)return void("isIntersecting"in window.IntersectionObserverEntry.prototype||Object.defineProperty(window.IntersectionObserverEntry.prototype,"isIntersecting",{get:function(){return this.intersectionRatio>0}}));var g=(function(t){for(var n=t,r=e(n);r;)n=r.ownerDocument,r=e(n);return n})(window.document),m=[],v=null,_=null;n.prototype.THROTTLE_TIMEOUT=100,n.prototype.POLL_INTERVAL=null,n.prototype.USE_MUTATION_OBSERVER=!0,n._setupCrossOriginUpdater=function(){return v||(v=function(e,t){_=e&&t?f(e,t):c(),m.forEach((function(e){e._checkForIntersections()}))}),v},n._resetCrossOriginUpdater=function(){v=null,_=null},n.prototype.observe=function(e){if(!this._observationTargets.some((function(t){return t.element==e}))){if(!e||1!=e.nodeType)throw new Error("target must be an Element");this._registerInstance(),this._observationTargets.push({element:e,entry:null}),this._monitorIntersections(e.ownerDocument),this._checkForIntersections()}},n.prototype.unobserve=function(e){this._observationTargets=this._observationTargets.filter((function(t){return t.element!=e})),this._unmonitorIntersections(e.ownerDocument),0==this._observationTargets.length&&this._unregisterInstance()},n.prototype.disconnect=function(){this._observationTargets=[],this._unmonitorAllIntersections(),this._unregisterInstance()},n.prototype.takeRecords=function(){var e=this._queuedEntries.slice();return this._queuedEntries=[],e},n.prototype._initThresholds=function(e){var t=e||[0];return Array.isArray(t)||(t=[t]),t.sort().filter((function(e,t,n){if("number"!=typeof e||isNaN(e)||e<0||e>1)throw new Error("threshold must be a number between 0 and 1 inclusively");return e!==n[t-1]}))},n.prototype._parseRootMargin=function(e){var t=e||"0px",n=t.split(/\s+/).map((function(e){var t=/^(-?\d*\.?\d+)(px|%)$/.exec(e);if(!t)throw new Error("rootMargin must be specified in pixels or percent");return{value:parseFloat(t[1]),unit:t[2]}}));return n[1]=n[1]||n[0],n[2]=n[2]||n[0],n[3]=n[3]||n[1],n},n.prototype._monitorIntersections=function(t){var n=t.defaultView;if(n&&-1==this._monitoringDocuments.indexOf(t)){var r=this._checkForIntersections,i=null,s=null;this.POLL_INTERVAL?i=n.setInterval(r,this.POLL_INTERVAL):(o(n,"resize",r,!0),o(t,"scroll",r,!0),this.USE_MUTATION_OBSERVER&&"MutationObserver"in n&&(s=new n.MutationObserver(r),s.observe(t,{attributes:!0,childList:!0,characterData:!0,subtree:!0}))),this._monitoringDocuments.push(t),this._monitoringUnsubscribes.push((function(){var e=t.defaultView;e&&(i&&e.clearInterval(i),a(e,"resize",r,!0)),a(t,"scroll",r,!0),s&&s.disconnect()}));var u=this.root&&(this.root.ownerDocument||this.root)||g;if(t!=u){var c=e(t);c&&this._monitorIntersections(c.ownerDocument)}}},n.prototype._unmonitorIntersections=function(t){var n=this._monitoringDocuments.indexOf(t);if(-1!=n){var r=this.root&&(this.root.ownerDocument||this.root)||g;if(!this._observationTargets.some((function(n){var i=n.element.ownerDocument;if(i==t)return!0;for(;i&&i!=r;){var o=e(i);if((i=o&&o.ownerDocument)==t)return!0}return!1}))){var i=this._monitoringUnsubscribes[n];if(this._monitoringDocuments.splice(n,1),this._monitoringUnsubscribes.splice(n,1),i(),t!=r){var o=e(t);o&&this._unmonitorIntersections(o.ownerDocument)}}}},n.prototype._unmonitorAllIntersections=function(){var e=this._monitoringUnsubscribes.slice(0);this._monitoringDocuments.length=0,this._monitoringUnsubscribes.length=0;for(var t=0;t<e.length;t++)e[t]()},n.prototype._checkForIntersections=function(){if(this.root||!v||_){var e=this._rootIsInDom(),n=e?this._getRootRect():c();this._observationTargets.forEach((function(i){var o=i.element,a=u(o),s=this._rootContainsTarget(o),l=i.entry,f=e&&s&&this._computeTargetAndRootIntersection(o,a,n),d=null;this._rootContainsTarget(o)?v&&!this.root||(d=n):d=c();var h=i.entry=new t({time:r(),target:o,boundingClientRect:a,rootBounds:d,intersectionRect:f});l?e&&s?this._hasCrossedThreshold(l,h)&&this._queuedEntries.push(h):l&&l.isIntersecting&&this._queuedEntries.push(h):this._queuedEntries.push(h)}),this),this._queuedEntries.length&&this._callback(this.takeRecords(),this)}},n.prototype._computeTargetAndRootIntersection=function(e,t,n){if("none"!=window.getComputedStyle(e).display){for(var r=t,i=h(e),o=!1;!o&&i;){var a=null,c=1==i.nodeType?window.getComputedStyle(i):{};if("none"==c.display)return null;if(i==this.root||9==i.nodeType)if(o=!0,i==this.root||i==g)v&&!this.root?!_||0==_.width&&0==_.height?(i=null,a=null,r=null):a=_:a=n;else{var l=h(i),d=l&&u(l),p=l&&this._computeTargetAndRootIntersection(l,d,n);d&&p?(i=l,a=f(d,p)):(i=null,r=null)}else{var m=i.ownerDocument;i!=m.body&&i!=m.documentElement&&"visible"!=c.overflow&&(a=u(i))}if(a&&(r=s(a,r)),!r)break;i=i&&h(i)}return r}},n.prototype._getRootRect=function(){var e;if(this.root&&!p(this.root))e=u(this.root);else{var t=p(this.root)?this.root:g,n=t.documentElement,r=t.body;e={top:0,left:0,right:n.clientWidth||r.clientWidth,width:n.clientWidth||r.clientWidth,bottom:n.clientHeight||r.clientHeight,height:n.clientHeight||r.clientHeight}}return this._expandRectByRootMargin(e)},n.prototype._expandRectByRootMargin=function(e){var t=this._rootMarginValues.map((function(t,n){return"px"==t.unit?t.value:t.value*(n%2?e.width:e.height)/100})),n={top:e.top-t[0],right:e.right+t[1],bottom:e.bottom+t[2],left:e.left-t[3]};return n.width=n.right-n.left,n.height=n.bottom-n.top,n},n.prototype._hasCrossedThreshold=function(e,t){var n=e&&e.isIntersecting?e.intersectionRatio||0:-1,r=t.isIntersecting?t.intersectionRatio||0:-1;if(n!==r)for(var i=0;i<this.thresholds.length;i++){var o=this.thresholds[i];if(o==n||o==r||o<n!=o<r)return!0}},n.prototype._rootIsInDom=function(){return!this.root||d(g,this.root)},n.prototype._rootContainsTarget=function(e){var t=this.root&&(this.root.ownerDocument||this.root)||g;return d(t,e)&&(!this.root||t==e.ownerDocument)},n.prototype._registerInstance=function(){m.indexOf(this)<0&&m.push(this)},n.prototype._unregisterInstance=function(){var e=m.indexOf(this);-1!=e&&m.splice(e,1)},window.IntersectionObserver=n,window.IntersectionObserverEntry=t}})()},179:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(180),i=n.n(r);i.a.refreshConvertFunction(Daria.Config.locale),Jane.i18n=Jane.i18n||{},Object.assign(Jane.i18n,i.a)},180:function(e,t,n){"use strict";var r=n(121);e.exports={if:function(e,t,n){return e?t:n},plural:function(e,t,n){return e>1?t:n},index:function(e,t){return e[Number(t)]},camelize:function(e){if(e&&e.length)return e.charAt(0).toUpperCase()+e.substr(1)},convert:r.ru,refreshConvertFunction:function(e){this.convert=r[e]||r.ru}}},19:function(e,t,n){var r=n(0),i=n(33),o=r["__core-js_shared__"]||i("__core-js_shared__",{});(e.exports=function(e,t){return o[e]||(o[e]=void 0!==t?t:{})})("versions",[]).push({version:"3.0.1",mode:n(26)?"pure":"global",copyright:" 2019 Denis Pushkarev (zloirock.ru)"})},20:function(e,t){e.exports={}},205:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3306);n.n(r);n(160),Jane.module("common.js",(function(){Jane.i18n=Jane.i18n||{},n(3307),n(3308),n(3310),n(3420),n(3427)}))},21:function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},24:function(e,t,n){var r=n(0),i=n(9),o=n(3),a=n(33),s=n(52),u=n(39),c=u.get,l=u.enforce,f=String(s).split("toString");n(19)("inspectSource",(function(e){return s.call(e)})),(e.exports=function(e,t,n,s){var u=!!s&&!!s.unsafe,c=!!s&&!!s.enumerable,d=!!s&&!!s.noTargetGet;if("function"==typeof n&&("string"!=typeof t||o(n,"name")||i(n,"name",t),l(n).source=f.join("string"==typeof t?t:"")),e===r)return void(c?e[t]=n:a(t,n));u?!d&&e[t]&&(c=!0):delete e[t],c?e[t]=n:i(e,t,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&c(this).source||s.call(this)}))},25:function(e,t){e.exports={}},26:function(e,t){e.exports=!1},27:function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},29:function(e,t,n){var r=n(19)("keys"),i=n(34);e.exports=function(e){return r[e]||(r[e]=i(e))}},3:function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},30:function(e,t,n){var r=n(45),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},31:function(e,t,n){var r=n(10).f,i=n(3),o=n(1)("toStringTag");e.exports=function(e,t,n){e&&!i(e=n?e:e.prototype,o)&&r(e,o,{configurable:!0,value:t})}},32:function(e,t){e.exports=function(e){if(void 0==e)throw TypeError("Can't call method on "+e);return e}},33:function(e,t,n){var r=n(0),i=n(9);e.exports=function(e,t){try{i(r,e,t)}catch(n){r[e]=t}return t}},3306:function(e,t){},3307:function(e,t){window.i18n=function(){var e=Array.prototype.slice.call(arguments),t=e.shift();t=t.substr(1);var n=Jane.i18n._dict[t];return n||alert("     id = "+t),"function"==typeof n?n.apply(null,e):n},window.i18n_unsafe=window.i18n},3308:function(e,t,n){"use strict";var r=Daria.Config.locale,i=n(3309)["project-id"],o=n(635);o.setTankerProjectId(i),o.addTranslation(r,Daria.tanker[r])},3309:function(e,t){e.exports={"project-id":"mail-liza",outputDir:"./locales/js","keyset-id":"statusline,subscriptions,compose-react,folders-tabs,message-viewer-env,suggest-react,promo-react,setup-backup,setup-beautiful-email,subscriptions-react,subscriptions-widget,settings-popup-react,react-messages,themes"}},3310:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3311);Daria.memoizeById=r.a,n(3312),n(3313),n(3314),n(3315),_.mixin({filterValuesContainingPropValue:function(e,t,n){var r=_.partial(_.contains,n),i=function(e){return e[t]},o=_.compose(r,i);return _.filter(e,o)}}),n(3316),n(3317),n(3318),n(3319),n(3320),n(3321),n(3322),n(3323),n(3324),n(3325),n(3326),n(3327),n(3328),n(3329),n(1234),n(3330),n(3332),n(3333),n(3337),n(3338),n(3339),n(3340),n(3341),n(843),n(3342),n(3343),n(3345),n(3346),n(3347),n(3348),n(3350),n(3351),n(179),n(3352),n(3353),n(3354),n(3361),n(3362),n(3363),n(3372),n(3373),n(3374),n(3375),n(3376),n(3377),n(3378),n(842),n(3379),n(3380),n(3381),n(3382),n(3383),n(3384),n(3413),n(3414),n(3415),n(3417),ns.page.lazyRefresh=_.debounce((function(){ns.page.go()}),Daria.Constants.TIMINGS.LAZY_UPDATE_DELAY),n(3418),n(3419)},3311:function(e,t,n){"use strict";function r(e,t,n){return function(){for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];var a=t.call.apply(t,[this].concat(i));e[a]||(e[a]=!0,n.call.apply(n,[this].concat(i)))}}t.a=r},3312:function(e,t){function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var r=(HTMLElement||Element||Node).prototype;try{r.attachShadow}catch(e){for(var i=r;i&&"object"===n(i)&&!i.hasOwnProperty("attachShadow");)i=Object.getPrototypeOf(i);if(i&&"object"===n(i)){var o=void 0;Object.defineProperty(i,"attachShadow",{configurable:!0,enumerable:!0,get:function(){return o},set:function(e){return o=e}})}}},3313:function(e,t){!(function(e,t){"use strict";function n(){var e=A.splice(0,A.length);for(Qe=0;e.length;)e.shift().call(null,e.shift())}function r(e,t){for(var n=0,r=e.length;n<r;n++)m(e[n],t)}function i(e){for(var t,n=0,r=e.length;n<r;n++)t=e[n],L(t,oe[a(t)])}function o(e){return function(t){Ne(t)&&(m(t,e),ae.length&&r(t.querySelectorAll(ae),e))}}function a(e){var t=ze.call(e,"is"),n=e.nodeName.toUpperCase(),r=ue.call(ie,t?te+t.toUpperCase():ee+n);return t&&-1<r&&!s(n,t)?-1:r}function s(e,t){return-1<ae.indexOf(e+'[is="'+t+'"]')}function u(e){var t=e.currentTarget,n=e.attrChange,r=e.attrName,i=e.target,o=e[q]||2,a=e[K]||3;!it||i&&i!==t||!t[z]||"style"===r||e.prevValue===e.newValue&&(""!==e.newValue||n!==o&&n!==a)||t[z](r,n===o?null:e.prevValue,n===a?null:e.newValue)}function c(e){var t=o(e);return function(e){A.push(t,e.target),Qe&&clearTimeout(Qe),Qe=setTimeout(n,1)}}function l(e){rt&&(rt=!1,e.currentTarget.removeEventListener(Q,l)),ae.length&&r((e.target||S).querySelectorAll(ae),e.detail===H?H:B),je&&p()}function f(e,t){var n=this;Ve.call(n,e,t),O.call(n,{target:n})}function d(e,t,n){var r=t.apply(e,n),o=a(r);return-1<o&&L(r,oe[o]),n.pop()&&ae.length&&i(r.querySelectorAll(ae)),r}function h(e,t){Pe(e,t),k?k.observe(e,Ke):(nt&&(e.setAttribute=f,e[R]=x(e),e[N](Z,O)),e[N](X,u)),e[Y]&&it&&(e.created=!0,e[Y](),e.created=!1)}function p(){for(var e,t=0,n=Be.length;t<n;t++)e=Be[t],se.contains(e)||(n--,Be.splice(t--,1),m(e,H))}function g(e){throw new Error("A "+e+" type is already registered")}function m(e,t){var n,r,i=a(e);-1<i&&(F(e,oe[i]),i=0,t!==B||e[B]?t!==H||e[H]||(e[B]=!1,e[H]=!0,r="disconnected",i=1):(e[H]=!1,e[B]=!0,r="connected",i=1,je&&ue.call(Be,e)<0&&Be.push(e)),i&&(n=e[t+$]||e[r+$])&&n.call(e))}function v(){}function _(e,t,n){var r=n&&n[U]||"",i=t.prototype,o=ke(i),a=t.observedAttributes||he,s={prototype:o};Re(o,Y,{value:function(){if(Ee)Ee=!1;else if(!this[ye]){this[ye]=!0,new t(this),i[Y]&&i[Y].call(this);var e=Ae[Me.get(t)];(!De||e.create.length>1)&&w(this)}}}),Re(o,z,{value:function(e){-1<ue.call(a,e)&&i[z]&&i[z].apply(this,arguments)}}),i[J]&&Re(o,W,{value:i[J]}),i[V]&&Re(o,G,{value:i[V]}),r&&(s[U]=r),e=e.toUpperCase(),Ae[e]={constructor:t,create:r?[r,xe(e)]:[e]},Me.set(t,e),S[j](e.toLowerCase(),s),D(e),Oe[e].r()}function b(e){var t=Ae[e.toUpperCase()];return t&&t.constructor}function y(e){return"string"==typeof e?e:e&&e.is||""}function w(e){for(var t,n=e[z],r=n?e.attributes:he,i=r.length;i--;)t=r[i],n.call(e,t.name||t.nodeName,null,t.value||t.nodeValue)}function D(e){return e=e.toUpperCase(),e in Oe||(Oe[e]={},Oe[e].p=new Ce(function(t){Oe[e].r=t})),Oe[e].p}function T(){we&&delete e.customElements,de(e,"customElements",{configurable:!0,value:new v}),de(e,"CustomElementRegistry",{configurable:!0,value:v});for(var t=E.get(/^HTML[A-Z]*[a-z]/),n=t.length;n--;(function(t){var n=e[t];if(n){e[t]=function(e){var t,r;return e||(e=this),e[ye]||(Ee=!0,t=Ae[Me.get(e.constructor)],r=De&&1===t.create.length,e=r?Reflect.construct(n,he,t.constructor):S.createElement.apply(S,t.create),e[ye]=!0,Ee=!1,r||w(e)),e},e[t].prototype=n.prototype;try{n.prototype.constructor=e[t]}catch(r){be=!0,de(n,ye,{value:e[t]})}}})(t[n]));S.createElement=function(e,t){var n=y(t);return n?qe.call(this,e,xe(n)):qe.call(this,e)},Ze||(tt=!0,S[j](""))}var S=e.document,C=e.Object,E=(function(e){var t,n,r,i,o=/^[A-Z]+[a-z]/,a=function(e){var t,n=[];for(t in u)e.test(t)&&n.push(t);return n},s=function(e,t){(t=t.toLowerCase())in u||(u[e]=(u[e]||[]).concat(t),u[t]=u[t.toUpperCase()]=e)},u=(C.create||C)(null),c={};for(n in e)for(i in e[n])for(r=e[n][i],u[i]=r,t=0;t<r.length;t++)u[r[t].toLowerCase()]=u[r[t].toUpperCase()]=i;return c.get=function(e){return"string"==typeof e?u[e]||(o.test(e)?[]:""):a(e)},c.set=function(e,t){return o.test(e)?s(e,t):s(t,e),c},c})({collections:{HTMLAllCollection:["all"],HTMLCollection:["forms"],HTMLFormControlsCollection:["elements"],HTMLOptionsCollection:["options"]},elements:{Element:["element"],HTMLAnchorElement:["a"],HTMLAppletElement:["applet"],HTMLAreaElement:["area"],HTMLAttachmentElement:["attachment"],HTMLAudioElement:["audio"],HTMLBRElement:["br"],HTMLBaseElement:["base"],HTMLBodyElement:["body"],HTMLButtonElement:["button"],HTMLCanvasElement:["canvas"],HTMLContentElement:["content"],HTMLDListElement:["dl"],HTMLDataElement:["data"],HTMLDataListElement:["datalist"],HTMLDetailsElement:["details"],HTMLDialogElement:["dialog"],HTMLDirectoryElement:["dir"],HTMLDivElement:["div"],HTMLDocument:["document"],HTMLElement:["element","abbr","address","article","aside","b","bdi","bdo","cite","code","command","dd","dfn","dt","em","figcaption","figure","footer","header","i","kbd","mark","nav","noscript","rp","rt","ruby","s","samp","section","small","strong","sub","summary","sup","u","var","wbr"],HTMLEmbedElement:["embed"],HTMLFieldSetElement:["fieldset"],HTMLFontElement:["font"],HTMLFormElement:["form"],HTMLFrameElement:["frame"],HTMLFrameSetElement:["frameset"],HTMLHRElement:["hr"],HTMLHeadElement:["head"],HTMLHeadingElement:["h1","h2","h3","h4","h5","h6"],HTMLHtmlElement:["html"],HTMLIFrameElement:["iframe"],HTMLImageElement:["img"],HTMLInputElement:["input"],HTMLKeygenElement:["keygen"],HTMLLIElement:["li"],HTMLLabelElement:["label"],HTMLLegendElement:["legend"],HTMLLinkElement:["link"],HTMLMapElement:["map"],HTMLMarqueeElement:["marquee"],HTMLMediaElement:["media"],HTMLMenuElement:["menu"],HTMLMenuItemElement:["menuitem"],HTMLMetaElement:["meta"],HTMLMeterElement:["meter"],HTMLModElement:["del","ins"],HTMLOListElement:["ol"],HTMLObjectElement:["object"],HTMLOptGroupElement:["optgroup"],HTMLOptionElement:["option"],HTMLOutputElement:["output"],HTMLParagraphElement:["p"],HTMLParamElement:["param"],HTMLPictureElement:["picture"],HTMLPreElement:["pre"],HTMLProgressElement:["progress"],HTMLQuoteElement:["blockquote","q","quote"],HTMLScriptElement:["script"],HTMLSelectElement:["select"],HTMLShadowElement:["shadow"],HTMLSlotElement:["slot"],HTMLSourceElement:["source"],HTMLSpanElement:["span"],HTMLStyleElement:["style"],HTMLTableCaptionElement:["caption"],HTMLTableCellElement:["td","th"],HTMLTableColElement:["col","colgroup"],HTMLTableElement:["table"],HTMLTableRowElement:["tr"],HTMLTableSectionElement:["thead","tbody","tfoot"],HTMLTemplateElement:["template"],HTMLTextAreaElement:["textarea"],HTMLTimeElement:["time"],HTMLTitleElement:["title"],HTMLTrackElement:["track"],HTMLUListElement:["ul"],HTMLUnknownElement:["unknown","vhgroupv","vkeygen"],HTMLVideoElement:["video"]},nodes:{Attr:["node"],Audio:["audio"],CDATASection:["node"],CharacterData:["node"],Comment:["#comment"],Document:["#document"],DocumentFragment:["#document-fragment"],DocumentType:["node"],HTMLDocument:["#document"],Image:["img"],Option:["option"],ProcessingInstruction:["node"],ShadowRoot:["#shadow-root"],Text:["#text"],XMLDocument:["xml"]}});"object"!=typeof t&&(t={type:t||"auto"});var A,O,M,x,k,P,F,L,I,j="registerElement",R="__"+j+(1e5*e.Math.random()>>0),N="addEventListener",B="attached",$="Callback",H="detached",U="extends",z="attributeChanged"+$,W=B+$,J="connected"+$,V="disconnected"+$,Y="created"+$,G=H+$,q="ADDITION",K="REMOVAL",X="DOMAttrModified",Q="DOMContentLoaded",Z="DOMSubtreeModified",ee="<",te="=",ne=/^[A-Z][A-Z0-9]*(?:-[A-Z0-9]+)+$/,re=["ANNOTATION-XML","COLOR-PROFILE","FONT-FACE","FONT-FACE-SRC","FONT-FACE-URI","FONT-FACE-FORMAT","FONT-FACE-NAME","MISSING-GLYPH"],ie=[],oe=[],ae="",se=S.documentElement,ue=ie.indexOf||function(e){for(var t=this.length;t--&&this[t]!==e;);return t},ce=C.prototype,le=ce.hasOwnProperty,fe=ce.isPrototypeOf,de=C.defineProperty,he=[],pe=C.getOwnPropertyDescriptor,ge=C.getOwnPropertyNames,me=C.getPrototypeOf,ve=C.setPrototypeOf,_e=!!C.__proto__,be=!1,ye="__dreCEv1",we=e.customElements,De=!/^force/.test(t.type)&&!!(we&&we.define&&we.get&&we.whenDefined),Te=C.create||C,Se=e.Map||function(){var e,t=[],n=[];return{get:function(e){return n[ue.call(t,e)]},set:function(r,i){e=ue.call(t,r),e<0?n[t.push(r)-1]=i:n[e]=i}}},Ce=e.Promise||function(e){function t(e){for(r=!0;n.length;)n.shift()(e)}var n=[],r=!1,i={catch:function(){return i},then:function(e){return n.push(e),r&&setTimeout(t,1),i}};return e(t),i},Ee=!1,Ae=Te(null),Oe=Te(null),Me=new Se,xe=function(e){return e.toLowerCase()},ke=C.create||function e(t){return t?(e.prototype=t,new e):this},Pe=ve||(_e?function(e,t){return e.__proto__=t,e}:ge&&pe?(function(){function e(e,t){for(var n,r=ge(t),i=0,o=r.length;i<o;i++)n=r[i],le.call(e,n)||de(e,n,pe(t,n))}return function(t,n){do{e(t,n)}while((n=me(n))&&!fe.call(n,t));return t}})():function(e,t){for(var n in t)e[n]=t[n];return e}),Fe=e.MutationObserver||e.WebKitMutationObserver,Le=e.HTMLAnchorElement,Ie=(e.HTMLElement||e.Element||e.Node).prototype,je=!fe.call(Ie,se),Re=je?function(e,t,n){return e[t]=n.value,e}:de,Ne=je?function(e){return 1===e.nodeType}:function(e){return fe.call(Ie,e)},Be=je&&[],$e=Ie.attachShadow,He=Ie.cloneNode,Ue=Ie.dispatchEvent,ze=Ie.getAttribute,We=Ie.hasAttribute,Je=Ie.removeAttribute,Ve=Ie.setAttribute,Ye=S.createElement,Ge=S.importNode,qe=Ye,Ke=Fe&&{attributes:!0,characterData:!0,attributeOldValue:!0},Xe=Fe||function(e){nt=!1,se.removeEventListener(X,Xe)},Qe=0,Ze=j in S&&!/^force-all/.test(t.type),et=!0,tt=!1,nt=!0,rt=!0,it=!0;if(Fe&&(I=S.createElement("div"),I.innerHTML="<div><div></div></div>",new Fe(function(e,t){if(e[0]&&"childList"==e[0].type&&!e[0].removedNodes[0].childNodes.length){I=pe(Ie,"innerHTML");var n=I&&I.set;n&&de(Ie,"innerHTML",{set:function(e){for(;this.lastChild;)this.removeChild(this.lastChild);n.call(this,e)}})}t.disconnect(),I=null}).observe(I,{childList:!0,subtree:!0}),I.innerHTML=""),Ze||(ve||_e?(F=function(e,t){fe.call(t,e)||h(e,t)},L=h):(F=function(e,t){e[R]||(e[R]=C(!0),h(e,t))},L=F),je?(nt=!1,(function(){var e=pe(Ie,N),t=e.value,n=function(e){var t=new CustomEvent(X,{bubbles:!0});t.attrName=e,t.prevValue=ze.call(this,e),t.newValue=null,t[K]=t.attrChange=2,Je.call(this,e),Ue.call(this,t)},r=function(e,t){var n=We.call(this,e),r=n&&ze.call(this,e),i=new CustomEvent(X,{bubbles:!0});Ve.call(this,e,t),i.attrName=e,i.prevValue=n?r:null,i.newValue=t,n?i.MODIFICATION=i.attrChange=1:i[q]=i.attrChange=0,Ue.call(this,i)},i=function(e){var t,n=e.currentTarget,r=n[R],i=e.propertyName;r.hasOwnProperty(i)&&(r=r[i],t=new CustomEvent(X,{bubbles:!0}),t.attrName=r.name,t.prevValue=r.value||null,t.newValue=r.value=n[i]||null,null==t.prevValue?t[q]=t.attrChange=0:t.MODIFICATION=t.attrChange=1,Ue.call(n,t))};e.value=function(e,o,a){e===X&&this[z]&&this.setAttribute!==r&&(this[R]={className:{name:"class",value:this.className}},this.setAttribute=r,this.removeAttribute=n,t.call(this,"propertychange",i)),t.call(this,e,o,a)},de(Ie,N,e)})()):Fe||(se[N](X,Xe),se.setAttribute(R,1),se.removeAttribute(R),nt&&(O=function(e){var t,n,r,i=this;if(i===e.target){t=i[R],i[R]=n=x(i);for(r in n){if(!(r in t))return M(0,i,r,t[r],n[r],q);if(n[r]!==t[r])return M(1,i,r,t[r],n[r],"MODIFICATION")}for(r in t)if(!(r in n))return M(2,i,r,t[r],n[r],K)}},M=function(e,t,n,r,i,o){var a={attrChange:e,currentTarget:t,attrName:n,prevValue:r,newValue:i};a[o]=e,u(a)},x=function(e){for(var t,n,r={},i=e.attributes,o=0,a=i.length;o<a;o++)t=i[o],"setAttribute"!==(n=t.name)&&(r[n]=t.value);return r})),S[j]=function(e,t){if(n=e.toUpperCase(),et&&(et=!1,Fe?(k=(function(e,t){function n(e,t){for(var n=0,r=e.length;n<r;t(e[n++]));}return new Fe(function(r){for(var i,o,a,s=0,u=r.length;s<u;s++)i=r[s],"childList"===i.type?(n(i.addedNodes,e),n(i.removedNodes,t)):(o=i.target,it&&o[z]&&"style"!==i.attributeName&&(a=ze.call(o,i.attributeName))!==i.oldValue&&o[z](i.attributeName,i.oldValue,a))})})(o(B),o(H)),P=function(e){return k.observe(e,{childList:!0,subtree:!0}),e},P(S),$e&&(Ie.attachShadow=function(){return P($e.apply(this,arguments))})):(A=[],S[N]("DOMNodeInserted",c(B)),S[N]("DOMNodeRemoved",c(H))),S[N](Q,l),S[N]("readystatechange",l),S.importNode=function(e,t){switch(e.nodeType){case 1:return d(S,Ge,[e,!!t]);case 11:for(var n=S.createDocumentFragment(),r=e.childNodes,i=r.length,o=0;o<i;o++)n.appendChild(S.importNode(r[o],!!t));return n;default:return He.call(e,!!t)}},Ie.cloneNode=function(e){return d(this,He,[!!e])}),tt)return tt=!1;if(-2<ue.call(ie,te+n)+ue.call(ie,ee+n)&&g(e),!ne.test(n)||-1<ue.call(re,n))throw new Error("The type "+e+" is invalid");var n,i,a=function(){return u?S.createElement(f,n):S.createElement(f)},s=t||ce,u=le.call(s,U),f=u?t[U].toUpperCase():n;return u&&-1<ue.call(ie,ee+f)&&g(f),i=ie.push((u?te:ee)+n)-1,ae=ae.concat(ae.length?",":"",u?f+'[is="'+e.toLowerCase()+'"]':f),a.prototype=oe[i]=le.call(s,"prototype")?s.prototype:ke(Ie),ae.length&&r(S.querySelectorAll(ae),B),a},S.createElement=qe=function(e,t){var n=y(t),r=n?Ye.call(S,e,xe(n)):Ye.call(S,e),i=""+e,o=ue.call(ie,(n?te:ee)+(n||i).toUpperCase()),a=-1<o;return n&&(r.setAttribute("is",n=n.toLowerCase()),a&&(a=s(i.toUpperCase(),n))),it=!S.createElement.innerHTMLHelper,a&&L(r,oe[o]),r}),v.prototype={constructor:v,define:De?function(e,t,n){if(n)_(e,t,n);else{var r=e.toUpperCase();Ae[r]={constructor:t,create:[r]},Me.set(t,r),we.define(e,t)}}:_,get:De?function(e){return we.get(e)||b(e)}:b,whenDefined:De?function(e){return Ce.race([we.whenDefined(e),D(e)])}:D},!we||/^force/.test(t.type))T();else if(!t.noBuiltIn)try{!(function(t,n,r){var i=new RegExp("^<a\\s+is=('|\")"+r+"\\1></a>$");if(n[U]="a",t.prototype=ke(Le.prototype),t.prototype.constructor=t,e.customElements.define(r,t,n),!i.test(S.createElement("a",{is:r}).outerHTML)||!i.test((new t).outerHTML))throw n})((function e(){return Reflect.construct(Le,[],e)}),{},"document-register-element-a")}catch(e){T()}if(!t.noBuiltIn)try{if(Ye.call(S,"a","a").outerHTML.indexOf("is")<0)throw{}}catch(e){xe=function(e){return{is:e.toLowerCase()}}}})(window)},3314:function(e,t,n){(function(e){function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}var i;(function(){function o(e,t){if(e!==t){var n=null===e,r=e===A,i=e===e,o=null===t,a=t===A,s=t===t;if(e>t&&!o||!i||n&&!a&&s||r&&s)return 1;if(e<t&&!n||!s||o&&!r&&i||a&&i)return-1}return 0}function a(e,t,n){for(var r=e.length,i=n?r:-1;n?i--:++i<r;)if(t(e[i],i,e))return i;return-1}function s(e,t,n){if(t!==t)return _(e,n);for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function u(e){return"function"==typeof e||!1}function c(e){return null==e?"":e+""}function l(e,t){for(var n=-1,r=e.length;++n<r&&t.indexOf(e.charAt(n))>-1;);return n}function f(e,t){for(var n=e.length;n--&&t.indexOf(e.charAt(n))>-1;);return n}function d(e,t){return o(e.criteria,t.criteria)||e.index-t.index}function h(e,t,n){for(var r=-1,i=e.criteria,a=t.criteria,s=i.length,u=n.length;++r<s;){var c=o(i[r],a[r]);if(c){if(r>=u)return c;var l=n[r];return c*("asc"===l||!0===l?1:-1)}}return e.index-t.index}function p(e){return ze[e]}function g(e){return We[e]}function m(e,t,n){return t?e=Ye[e]:n&&(e=Ge[e]),"\\"+e}function v(e){return"\\"+Ge[e]}function _(e,t,n){for(var r=e.length,i=t+(n?0:-1);n?i--:++i<r;){var o=e[i];if(o!==o)return i}return-1}function b(e){return!!e&&"object"==r(e)}function y(e){return e<=160&&e>=9&&e<=13||32==e||160==e||5760==e||6158==e||e>=8192&&(e<=8202||8232==e||8233==e||8239==e||8287==e||12288==e||65279==e)}function w(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;)e[n]===t&&(e[n]=V,o[++i]=n);return o}function D(e,t){for(var n,r=-1,i=e.length,o=-1,a=[];++r<i;){var s=e[r],u=t?t(s,r,e):s;r&&n===u||(n=u,a[++o]=s)}return a}function T(e){for(var t=-1,n=e.length;++t<n&&y(e.charCodeAt(t)););return t}function S(e){for(var t=e.length;t--&&y(e.charCodeAt(t)););return t}function C(e){return Je[e]}function E(e){function t(e){if(b(e)&&!xs(e)&&!(e instanceof y)){if(e instanceof i)return e;if(na.call(e,"__chain__")&&na.call(e,"__wrapped__"))return pr(e)}return new i(e)}function n(){}function i(e,t,n){this.__wrapped__=e,this.__actions__=n||[],this.__chain__=!!t}function y(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Ma,this.__views__=[]}function ze(){var e=new y(this.__wrapped__);return e.__actions__=rt(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=rt(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=rt(this.__views__),e}function We(){if(this.__filtered__){var e=new y(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}function Je(){var e=this.__wrapped__.value(),t=this.__dir__,n=xs(e),r=t<0,i=n?e.length:0,o=Yn(0,i,this.__views__),a=o.start,s=o.end,u=s-a,c=r?s:a-1,l=this.__iteratees__,f=l.length,d=0,h=Sa(u,this.__takeCount__);if(!n||i<U||i==u&&h==u)return rn(e,this.__actions__);var p=[];e:for(;u--&&d<h;){c+=t;for(var g=-1,m=e[c];++g<f;){var v=l[g],_=v.iteratee,b=v.type,y=_(m);if(b==W)m=y;else if(!y){if(b==z)continue e;break e}}p[d++]=m}return p}function Ve(){this.__data__={}}function Ye(e){return this.has(e)&&delete this.__data__[e]}function Ge(e){return"__proto__"==e?A:this.__data__[e]}function qe(e){return"__proto__"!=e&&na.call(this.__data__,e)}function Ke(e,t){return"__proto__"!=e&&(this.__data__[e]=t),this}function Xe(e){var t=e?e.length:0;for(this.data={hash:_a(null),set:new da};t--;)this.push(e[t])}function Qe(e,t){var n=e.data;return("string"==typeof t||Ii(t)?n.set.has(t):n.hash[t])?0:-1}function Ze(e){var t=this.data;"string"==typeof e||Ii(e)?t.set.add(e):t.hash[e]=!0}function et(e,t){for(var n=-1,r=e.length,i=-1,o=t.length,a=Uo(r+o);++n<r;)a[n]=e[n];for(;++i<o;)a[n++]=t[i];return a}function rt(e,t){var n=-1,r=e.length;for(t||(t=Uo(r));++n<r;)t[n]=e[n];return t}function it(e,t){for(var n=-1,r=e.length;++n<r&&!1!==t(e[n],n,e););return e}function ot(e,t){for(var n=e.length;n--&&!1!==t(e[n],n,e););return e}function at(e,t){for(var n=-1,r=e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function st(e,t,n,r){for(var i=-1,o=e.length,a=r,s=a;++i<o;){var u=e[i],c=+t(u);n(c,a)&&(a=c,s=u)}return s}function ut(e,t){for(var n=-1,r=e.length,i=-1,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[++i]=a)}return o}function ct(e,t){for(var n=-1,r=e.length,i=Uo(r);++n<r;)i[n]=t(e[n],n,e);return i}function lt(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}function ft(e,t,n,r){var i=-1,o=e.length;for(r&&o&&(n=e[++i]);++i<o;)n=t(n,e[i],i,e);return n}function dt(e,t,n,r){var i=e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function ht(e,t){for(var n=-1,r=e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function pt(e,t){for(var n=e.length,r=0;n--;)r+=+t(e[n])||0;return r}function gt(e,t){return e===A?t:e}function mt(e,t,n,r){return e!==A&&na.call(r,n)?e:t}function vt(e,t,n){for(var r=-1,i=Hs(t),o=i.length;++r<o;){var a=i[r],s=e[a],u=n(s,t[a],a,e,t);(u===u?u===s:s!==s)&&(s!==A||a in e)||(e[a]=u)}return e}function _t(e,t){return null==t?e:yt(t,Hs(t),e)}function bt(e,t){for(var n=-1,r=null==e,i=!r&&Qn(e),o=i?e.length:0,a=t.length,s=Uo(a);++n<a;){var u=t[n];s[n]=i?Zn(u,o)?e[u]:A:r?A:e[u]}return s}function yt(e,t,n){n||(n={});for(var r=-1,i=t.length;++r<i;){var o=t[r];n[o]=e[o]}return n}function wt(e,t,n){var i=r(e);return"function"==i?t===A?e:sn(e,t,n):null==e?Mo:"object"==i?$t(e):t===A?Io(e):Ht(e,t)}function Dt(e,t,n,r,i,o,a){var s;if(n&&(s=i?n(e,r,i):n(e)),s!==A)return s;if(!Ii(e))return e;var u=xs(e);if(u){if(s=Gn(e),!t)return rt(e,s)}else{var c=ia.call(e),l=c==Q;if(c!=ee&&c!=Y&&(!l||i))return Ue[c]?Kn(e,c,t):i?e:{};if(s=qn(l?{}:e),!t)return _t(s,e)}o||(o=[]),a||(a=[]);for(var f=o.length;f--;)if(o[f]==e)return a[f];return o.push(e),a.push(s),(u?it:Pt)(e,(function(r,i){s[i]=Dt(r,t,n,i,e,o,a)})),s}function Tt(e,t,n){if("function"!=typeof e)throw new Xo(J);return ha((function(){e.apply(A,n)}),t)}function St(e,t){var n=e?e.length:0,r=[];if(!n)return r;var i=-1,o=Wn(),a=o===s,u=a&&t.length>=U?mn(t):null,c=t.length;u&&(o=Qe,a=!1,t=u);e:for(;++i<n;){var l=e[i];if(a&&l===l){for(var f=c;f--;)if(t[f]===l)continue e;r.push(l)}else o(t,l,0)<0&&r.push(l)}return r}function Ct(e,t){var n=!0;return Ra(e,(function(e,r,i){return n=!!t(e,r,i)})),n}function Et(e,t,n,r){var i=r,o=i;return Ra(e,(function(e,a,s){var u=+t(e,a,s);(n(u,i)||u===r&&u===o)&&(i=u,o=e)})),o}function At(e,t,n,r){var i=e.length;for(n=null==n?0:+n||0,n<0&&(n=-n>i?0:i+n),r=r===A||r>i?i:+r||0,r<0&&(r+=i),i=n>r?0:r>>>0,n>>>=0;n<i;)e[n++]=t;return e}function Ot(e,t){var n=[];return Ra(e,(function(e,r,i){t(e,r,i)&&n.push(e)})),n}function Mt(e,t,n,r){var i;return n(e,(function(e,n,o){if(t(e,n,o))return i=r?n:e,!1})),i}function xt(e,t,n,r){r||(r=[]);for(var i=-1,o=e.length;++i<o;){var a=e[i];b(a)&&Qn(a)&&(n||xs(a)||Ei(a))?t?xt(a,t,n,r):lt(r,a):n||(r[r.length]=a)}return r}function kt(e,t){return Ba(e,t,to)}function Pt(e,t){return Ba(e,t,Hs)}function Ft(e,t){return $a(e,t,Hs)}function Lt(e,t){for(var n=-1,r=t.length,i=-1,o=[];++n<r;){var a=t[n];Li(e[a])&&(o[++i]=a)}return o}function It(e,t,n){if(null!=e){n!==A&&n in dr(e)&&(t=[n]);for(var r=0,i=t.length;null!=e&&r<i;)e=e[t[r++]];return r&&r==i?e:A}}function jt(e,t,n,r,i,o){return e===t||(null==e||null==t||!Ii(e)&&!b(t)?e!==e&&t!==t:Rt(e,t,jt,n,r,i,o))}function Rt(e,t,n,r,i,o,a){var s=xs(e),u=xs(t),c=G,l=G;s||(c=ia.call(e),c==Y?c=ee:c!=ee&&(s=Wi(e))),u||(l=ia.call(t),l==Y?l=ee:l!=ee&&(u=Wi(t)));var f=c==ee,d=l==ee,h=c==l;if(h&&!s&&!f)return $n(e,t,c);if(!i){var p=f&&na.call(e,"__wrapped__"),g=d&&na.call(t,"__wrapped__");if(p||g)return n(p?e.value():e,g?t.value():t,r,i,o,a)}if(!h)return!1;o||(o=[]),a||(a=[]);for(var m=o.length;m--;)if(o[m]==e)return a[m]==t;o.push(e),a.push(t);var v=(s?Bn:Hn)(e,t,n,r,i,o,a);return o.pop(),a.pop(),v}function Nt(e,t,n){var r=t.length,i=r,o=!n;if(null==e)return!i;for(e=dr(e);r--;){var a=t[r];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++r<i;){a=t[r];var s=a[0],u=e[s],c=a[1];if(o&&a[2]){if(u===A&&!(s in e))return!1}else{var l=n?n(u,c,s):A;if(!(l===A?jt(c,u,n,!0):l))return!1}}return!0}function Bt(e,t){var n=-1,r=Qn(e)?Uo(e.length):[];return Ra(e,(function(e,i,o){r[++n]=t(e,i,o)})),r}function $t(e){var t=Jn(e);if(1==t.length&&t[0][2]){var n=t[0][0],r=t[0][1];return function(e){return null!=e&&(e[n]===r&&(r!==A||n in dr(e)))}}return function(e){return Nt(e,t)}}function Ht(e,t){var n=xs(e),r=tr(e)&&ir(t),i=e+"";return e=hr(e),function(o){if(null==o)return!1;var a=i;if(o=dr(o),(n||!r)&&!(a in o)){if(null==(o=1==e.length?o:It(o,qt(e,0,-1))))return!1;a=Ar(e),o=dr(o)}return o[a]===t?t!==A||a in o:jt(t,o[a],A,!0)}}function Ut(e,t,n,r,i){if(!Ii(e))return e;var o=Qn(t)&&(xs(t)||Wi(t)),a=o?A:Hs(t);return it(a||t,(function(s,u){if(a&&(u=s,s=t[u]),b(s))r||(r=[]),i||(i=[]),zt(e,t,u,Ut,n,r,i);else{var c=e[u],l=n?n(c,s,u,e,t):A,f=l===A;f&&(l=s),l===A&&(!o||u in e)||!f&&(l===l?l===c:c!==c)||(e[u]=l)}})),e}function zt(e,t,n,r,i,o,a){for(var s=o.length,u=t[n];s--;)if(o[s]==u)return void(e[n]=a[s]);var c=e[n],l=i?i(c,u,n,e,t):A,f=l===A;f&&(l=u,Qn(u)&&(xs(u)||Wi(u))?l=xs(c)?c:Qn(c)?rt(c):[]:Hi(u)||Ei(u)?l=Ei(c)?qi(c):Hi(c)?c:{}:f=!1),o.push(u),a.push(l),f?e[n]=r(l,u,i,o,a):(l===l?l!==c:c===c)&&(e[n]=l)}function Wt(e){return function(t){return null==t?A:t[e]}}function Jt(e){var t=e+"";return e=hr(e),function(n){return It(n,e,t)}}function Vt(e,t){for(var n=e?t.length:0;n--;){var r=t[n];if(r!=i&&Zn(r)){var i=r;pa.call(e,r,1)}}return e}function Yt(e,t){return e+ba(Aa()*(t-e+1))}function Gt(e,t,n,r,i){return i(e,(function(e,i,o){n=r?(r=!1,e):t(n,e,i,o)})),n}function qt(e,t,n){var r=-1,i=e.length;t=null==t?0:+t||0,t<0&&(t=-t>i?0:i+t),n=n===A||n>i?i:+n||0,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Uo(i);++r<i;)o[r]=e[r+t];return o}function Kt(e,t){var n;return Ra(e,(function(e,r,i){return!(n=t(e,r,i))})),!!n}function Xt(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Qt(e,t,n){var r=Un(),i=-1;return t=ct(t,(function(e){return r(e)})),Xt(Bt(e,(function(e){return{criteria:ct(t,(function(t){return t(e)})),index:++i,value:e}})),(function(e,t){return h(e,t,n)}))}function Zt(e,t){var n=0;return Ra(e,(function(e,r,i){n+=+t(e,r,i)||0})),n}function en(e,t){var n=-1,r=Wn(),i=e.length,o=r===s,a=o&&i>=U,u=a?mn():null,c=[];u?(r=Qe,o=!1):(a=!1,u=t?[]:c);e:for(;++n<i;){var l=e[n],f=t?t(l,n,e):l;if(o&&l===l){for(var d=u.length;d--;)if(u[d]===f)continue e;t&&u.push(f),c.push(l)}else r(u,f,0)<0&&((t||a)&&u.push(f),c.push(l))}return c}function tn(e,t){for(var n=-1,r=t.length,i=Uo(r);++n<r;)i[n]=e[t[n]];return i}function nn(e,t,n,r){for(var i=e.length,o=r?i:-1;(r?o--:++o<i)&&t(e[o],o,e););return n?qt(e,r?0:o,r?o+1:i):qt(e,r?o+1:0,r?i:o)}function rn(e,t){var n=e;n instanceof y&&(n=n.value());for(var r=-1,i=t.length;++r<i;){var o=t[r];n=o.func.apply(o.thisArg,lt([n],o.args))}return n}function on(e,t,n){var r=0,i=e?e.length:r;if("number"==typeof t&&t===t&&i<=Pa){for(;r<i;){var o=r+i>>>1,a=e[o];(n?a<=t:a<t)&&null!==a?r=o+1:i=o}return i}return an(e,t,Mo,n)}function an(e,t,n,r){t=n(t);for(var i=0,o=e?e.length:0,a=t!==t,s=null===t,u=t===A;i<o;){var c=ba((i+o)/2),l=n(e[c]),f=l!==A,d=l===l;if(a)var h=d||r;else h=s?d&&f&&(r||null!=l):u?d&&(r||f):null!=l&&(r?l<=t:l<t);h?i=c+1:o=c}return Sa(o,ka)}function sn(e,t,n){if("function"!=typeof e)return Mo;if(t===A)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 3:return function(n,r,i){return e.call(t,n,r,i)};case 4:return function(n,r,i,o){return e.call(t,n,r,i,o)};case 5:return function(n,r,i,o,a){return e.call(t,n,r,i,o,a)}}return function(){return e.apply(t,arguments)}}function un(e){var t=new sa(e.byteLength);return new ga(t).set(new ga(e)),t}function cn(e,t,n){for(var r=n.length,i=-1,o=Ta(e.length-r,0),a=-1,s=t.length,u=Uo(s+o);++a<s;)u[a]=t[a];for(;++i<r;)u[n[i]]=e[i];for(;o--;)u[a++]=e[i++];return u}function ln(e,t,n){for(var r=-1,i=n.length,o=-1,a=Ta(e.length-i,0),s=-1,u=t.length,c=Uo(a+u);++o<a;)c[o]=e[o];for(var l=o;++s<u;)c[l+s]=t[s];for(;++r<i;)c[l+n[r]]=e[o++];return c}function fn(e,t){return function(n,r,i){var o=t?t():{};if(r=Un(r,i,3),xs(n))for(var a=-1,s=n.length;++a<s;){var u=n[a];e(o,u,r(u,a,n),n)}else Ra(n,(function(t,n,i){e(o,t,r(t,n,i),i)}));return o}}function dn(e){return _i((function(t,n){var r=-1,i=null==t?0:n.length,o=i>2?n[i-2]:A,a=i>2?n[2]:A,s=i>1?n[i-1]:A;for("function"==typeof o?(o=sn(o,s,5),i-=2):(o="function"==typeof s?s:A,i-=o?1:0),a&&er(n[0],n[1],a)&&(o=i<3?A:o,i=1);++r<i;){var u=n[r];u&&e(t,u,o)}return t}))}function hn(e,t){return function(n,r){var i=n?za(n):0;if(!rr(i))return e(n,r);for(var o=t?i:-1,a=dr(n);(t?o--:++o<i)&&!1!==r(a[o],o,a););return n}}function pn(e){return function(t,n,r){for(var i=dr(t),o=r(t),a=o.length,s=e?a:-1;e?s--:++s<a;){var u=o[s];if(!1===n(i[u],u,i))break}return t}}function gn(e,t){function n(){return(this&&this!==tt&&this instanceof n?r:e).apply(t,arguments)}var r=_n(e);return n}function mn(e){return _a&&da?new Xe(e):null}function vn(e){return function(t){for(var n=-1,r=Eo(fo(t)),i=r.length,o="";++n<i;)o=e(o,r[n],n);return o}}function _n(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ja(e.prototype),r=e.apply(n,t);return Ii(r)?r:n}}function bn(e){function t(n,r,i){i&&er(n,r,i)&&(r=A);var o=Nn(n,e,A,A,A,A,A,r);return o.placeholder=t.placeholder,o}return t}function yn(e,t){return _i((function(n){var r=n[0];return null==r?r:(n.push(t),e.apply(A,n))}))}function wn(e,t){return function(n,r,i){if(i&&er(n,r,i)&&(r=A),r=Un(r,i,3),1==r.length){n=xs(n)?n:fr(n);var o=st(n,r,e,t);if(!n.length||o!==t)return o}return Et(n,r,e,t)}}function Dn(e,t){return function(n,r,i){if(r=Un(r,i,3),xs(n)){var o=a(n,r,t);return o>-1?n[o]:A}return Mt(n,r,e)}}function Tn(e){return function(t,n,r){return t&&t.length?(n=Un(n,r,3),a(t,n,e)):-1}}function Sn(e){return function(t,n,r){return n=Un(n,r,3),Mt(t,n,e,!0)}}function Cn(e){return function(){for(var t,n=arguments.length,r=e?n:-1,o=0,a=Uo(n);e?r--:++r<n;){var s=a[o++]=arguments[r];if("function"!=typeof s)throw new Xo(J);!t&&i.prototype.thru&&"wrapper"==zn(s)&&(t=new i([],!0))}for(r=t?-1:n;++r<n;){s=a[r];var u=zn(s),c="wrapper"==u?Ua(s):A;t=c&&nr(c[0])&&c[1]==(j|P|L|R)&&!c[4].length&&1==c[9]?t[zn(c[0])].apply(t,c[3]):1==s.length&&nr(s)?t[u]():t.thru(s)}return function(){var e=arguments,r=e[0];if(t&&1==e.length&&xs(r)&&r.length>=U)return t.plant(r).value();for(var i=0,o=n?a[i].apply(this,e):r;++i<n;)o=a[i].call(this,o);return o}}}function En(e,t){return function(n,r,i){return"function"==typeof r&&i===A&&xs(n)?e(n,r):t(n,sn(r,i,3))}}function An(e){return function(t,n,r){return"function"==typeof n&&r===A||(n=sn(n,r,3)),e(t,n,to)}}function On(e){return function(t,n,r){return"function"==typeof n&&r===A||(n=sn(n,r,3)),e(t,n)}}function Mn(e){return function(t,n,r){var i={};return n=Un(n,r,3),Pt(t,(function(t,r,o){var a=n(t,r,o);r=e?a:r,t=e?t:a,i[r]=t})),i}}function xn(e){return function(t,n,r){return t=c(t),(e?t:"")+Ln(t,n,r)+(e?"":t)}}function kn(e){var t=_i((function(n,r){var i=w(r,t.placeholder);return Nn(n,e,A,r,i)}));return t}function Pn(e,t){return function(n,r,i,o){var a=arguments.length<3;return"function"==typeof r&&o===A&&xs(n)?e(n,r,i,a):Gt(n,Un(r,o,4),i,a,t)}}function Fn(e,t,n,r,i,o,a,s,u,c){function l(){for(var _=arguments.length,b=_,y=Uo(_);b--;)y[b]=arguments[b];if(r&&(y=cn(y,r,i)),o&&(y=ln(y,o,a)),p||m){var D=l.placeholder,T=w(y,D);if((_-=T.length)<c){var S=s?rt(s):A,C=Ta(c-_,0),E=p?T:A,O=p?A:T,k=p?y:A,P=p?A:y;t|=p?L:I,t&=~(p?I:L),g||(t&=~(M|x));var F=[e,t,n,k,E,P,O,S,u,C],j=Fn.apply(A,F);return nr(e)&&Wa(j,F),j.placeholder=D,j}}var R=d?n:this,N=h?R[e]:e;return s&&(y=cr(y,s)),f&&u<y.length&&(y.length=u),this&&this!==tt&&this instanceof l&&(N=v||_n(e)),N.apply(R,y)}var f=t&j,d=t&M,h=t&x,p=t&P,g=t&k,m=t&F,v=h?A:_n(e);return l}function Ln(e,t,n){var r=e.length;if(t=+t,r>=t||!wa(t))return"";var i=t-r;return n=null==n?" ":n+"",_o(n,va(i/n.length)).slice(0,i)}function In(e,t,n,r){function i(){for(var t=-1,s=arguments.length,u=-1,c=r.length,l=Uo(c+s);++u<c;)l[u]=r[u];for(;s--;)l[u++]=arguments[++t];return(this&&this!==tt&&this instanceof i?a:e).apply(o?n:this,l)}var o=t&M,a=_n(e);return i}function jn(e){var t=Vo[e];return function(e,n){return n=n===A?0:+n||0,n?(n=la(10,n),t(e*n)/n):t(e)}}function Rn(e){return function(t,n,r,i){var o=Un(r);return null==r&&o===wt?on(t,n,e):an(t,n,o(r,i,1),e)}}function Nn(e,t,n,r,i,o,a,s){var u=t&x;if(!u&&"function"!=typeof e)throw new Xo(J);var c=r?r.length:0;if(c||(t&=~(L|I),r=i=A),c-=i?i.length:0,t&I){var l=r,f=i;r=i=A}var d=u?A:Ua(e),h=[e,t,n,r,i,l,f,o,a,s];if(d&&(or(h,d),t=h[1],s=h[9]),h[9]=null==s?u?0:e.length:Ta(s-c,0)||0,t==M)var p=gn(h[0],h[2]);else p=t!=L&&t!=(M|L)||h[4].length?Fn.apply(A,h):In.apply(A,h);return(d?Ha:Wa)(p,h)}function Bn(e,t,n,r,i,o,a){var s=-1,u=e.length,c=t.length;if(u!=c&&!(i&&c>u))return!1;for(;++s<u;){var l=e[s],f=t[s],d=r?r(i?f:l,i?l:f,s):A;if(d!==A){if(d)continue;return!1}if(i){if(!ht(t,(function(e){return l===e||n(l,e,r,i,o,a)})))return!1}else if(l!==f&&!n(l,f,r,i,o,a))return!1}return!0}function $n(e,t,n){switch(n){case q:case K:return+e==+t;case X:return e.name==t.name&&e.message==t.message;case Z:return e!=+e?t!=+t:e==+t;case te:case ne:return e==t+""}return!1}function Hn(e,t,n,r,i,o,a){var s=Hs(e),u=s.length;if(u!=Hs(t).length&&!i)return!1;for(var c=u;c--;){var l=s[c];if(!(i?l in t:na.call(t,l)))return!1}for(var f=i;++c<u;){l=s[c];var d=e[l],h=t[l],p=r?r(i?h:d,i?d:h,l):A;if(!(p===A?n(d,h,r,i,o,a):p))return!1;f||(f="constructor"==l)}if(!f){var g=e.constructor,m=t.constructor;if(g!=m&&"constructor"in e&&"constructor"in t&&!("function"==typeof g&&g instanceof g&&"function"==typeof m&&m instanceof m))return!1}return!0}function Un(e,n,r){var i=t.callback||Ao;return i=i===Ao?wt:i,r?i(e,n,r):i}function zn(e){for(var t=e.name+"",n=Ia[t],r=n?n.length:0;r--;){var i=n[r],o=i.func;if(null==o||o==e)return i.name}return t}function Wn(e,n,r){var i=t.indexOf||Cr;return i=i===Cr?s:i,e?i(e,n,r):i}function Jn(e){for(var t=no(e),n=t.length;n--;)t[n][2]=ir(t[n][1]);return t}function Vn(e,t){var n=null==e?A:e[t];return Ni(n)?n:A}function Yn(e,t,n){for(var r=-1,i=n.length;++r<i;){var o=n[r],a=o.size;switch(o.type){case"drop":e+=a;break;case"dropRight":t-=a;break;case"take":t=Sa(t,e+a);break;case"takeRight":e=Ta(e,t-a)}}return{start:e,end:t}}function Gn(e){var t=e.length,n=new e.constructor(t);return t&&"string"==typeof e[0]&&na.call(e,"index")&&(n.index=e.index,n.input=e.input),n}function qn(e){var t=e.constructor;return"function"==typeof t&&t instanceof t||(t=Go),new t}function Kn(e,t,n){var r=e.constructor;switch(t){case re:return un(e);case q:case K:return new r(+e);case ie:case oe:case ae:case se:case ue:case ce:case le:case fe:case de:var i=e.buffer;return new r(n?un(i):i,e.byteOffset,e.length);case Z:case ne:return new r(e);case te:var o=new r(e.source,ke.exec(e));o.lastIndex=e.lastIndex}return o}function Xn(e,t,n){null==e||tr(t,e)||(t=hr(t),e=1==t.length?e:It(e,qt(t,0,-1)),t=Ar(t));var r=null==e?e:e[t];return null==r?A:r.apply(e,n)}function Qn(e){return null!=e&&rr(za(e))}function Zn(e,t){return e="number"==typeof e||Le.test(e)?+e:-1,t=null==t?Fa:t,e>-1&&e%1==0&&e<t}function er(e,t,n){if(!Ii(n))return!1;var i=r(t);if("number"==i?Qn(n)&&Zn(t,n.length):"string"==i&&t in n){var o=n[t];return e===e?e===o:o!==o}return!1}function tr(e,t){var n=r(e);return!!("string"==n&&Se.test(e)||"number"==n)||!xs(e)&&(!Te.test(e)||null!=t&&e in dr(t))}function nr(e){var n=zn(e),r=t[n];if("function"!=typeof r||!(n in y.prototype))return!1;if(e===r)return!0;var i=Ua(r);return!!i&&e===i[0]}function rr(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=Fa}function ir(e){return e===e&&!Ii(e)}function or(e,t){var n=e[1],r=t[1],i=n|r,o=i<j,a=r==j&&n==P||r==j&&n==R&&e[7].length<=t[8]||r==(j|R)&&n==P;if(!o&&!a)return e;r&M&&(e[2]=t[2],i|=n&M?0:k);var s=t[3];if(s){var u=e[3];e[3]=u?cn(u,s,t[4]):rt(s),e[4]=u?w(e[3],V):rt(t[4])}return s=t[5],s&&(u=e[5],e[5]=u?ln(u,s,t[6]):rt(s),e[6]=u?w(e[5],V):rt(t[6])),s=t[7],s&&(e[7]=rt(s)),r&j&&(e[8]=null==e[8]?t[8]:Sa(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}function ar(e,t){return e===A?t:ks(e,t,ar)}function sr(e,t){e=dr(e);for(var n=-1,r=t.length,i={};++n<r;){var o=t[n];o in e&&(i[o]=e[o])}return i}function ur(e,t){var n={};return kt(e,(function(e,r,i){t(e,r,i)&&(n[r]=e)})),n}function cr(e,t){for(var n=e.length,r=Sa(t.length,n),i=rt(e);r--;){var o=t[r];e[r]=Zn(o,n)?i[o]:A}return e}function lr(e){for(var t=to(e),n=t.length,r=n&&e.length,i=!!r&&rr(r)&&(xs(e)||Ei(e)),o=-1,a=[];++o<n;){var s=t[o];(i&&Zn(s,r)||na.call(e,s))&&a.push(s)}return a}function fr(e){return null==e?[]:Qn(e)?Ii(e)?e:Go(e):ao(e)}function dr(e){return Ii(e)?e:Go(e)}function hr(e){if(xs(e))return e;var t=[];return c(e).replace(Ce,(function(e,n,r,i){t.push(r?i.replace(Me,"$1"):n||e)})),t}function pr(e){return e instanceof y?e.clone():new i(e.__wrapped__,e.__chain__,rt(e.__actions__))}function gr(e,t,n){t=(n?er(e,t,n):null==t)?1:Ta(ba(t)||1,1);for(var r=0,i=e?e.length:0,o=-1,a=Uo(va(i/t));r<i;)a[++o]=qt(e,r,r+=t);return a}function mr(e){for(var t=-1,n=e?e.length:0,r=-1,i=[];++t<n;){var o=e[t];o&&(i[++r]=o)}return i}function vr(e,t,n){return(e?e.length:0)?((n?er(e,t,n):null==t)&&(t=1),qt(e,t<0?0:t)):[]}function _r(e,t,n){var r=e?e.length:0;return r?((n?er(e,t,n):null==t)&&(t=1),t=r-(+t||0),qt(e,0,t<0?0:t)):[]}function br(e,t,n){return e&&e.length?nn(e,Un(t,n,3),!0,!0):[]}function yr(e,t,n){return e&&e.length?nn(e,Un(t,n,3),!0):[]}function wr(e,t,n,r){var i=e?e.length:0;return i?(n&&"number"!=typeof n&&er(e,t,n)&&(n=0,r=i),At(e,t,n,r)):[]}function Dr(e){return e?e[0]:A}function Tr(e,t,n){var r=e?e.length:0;return n&&er(e,t,n)&&(t=!1),r?xt(e,t):[]}function Sr(e){return(e?e.length:0)?xt(e,!0):[]}function Cr(e,t,n){var r=e?e.length:0;if(!r)return-1;if("number"==typeof n)n=n<0?Ta(r+n,0):n;else if(n){var i=on(e,t);return i<r&&(t===t?t===e[i]:e[i]!==e[i])?i:-1}return s(e,t,n||0)}function Er(e){return _r(e,1)}function Ar(e){var t=e?e.length:0;return t?e[t-1]:A}function Or(e,t,n){var r=e?e.length:0;if(!r)return-1;var i=r;if("number"==typeof n)i=(n<0?Ta(r+n,0):Sa(n||0,r-1))+1;else if(n){i=on(e,t,!0)-1;var o=e[i];return(t===t?t===o:o!==o)?i:-1}if(t!==t)return _(e,i,!0);for(;i--;)if(e[i]===t)return i;return-1}function Mr(){var e=arguments,t=e[0];if(!t||!t.length)return t;for(var n=0,r=Wn(),i=e.length;++n<i;)for(var o=0,a=e[n];(o=r(t,a,o))>-1;)pa.call(t,o,1);return t}function xr(e,t,n){var r=[];if(!e||!e.length)return r;var i=-1,o=[],a=e.length;for(t=Un(t,n,3);++i<a;){var s=e[i];t(s,i,e)&&(r.push(s),o.push(i))}return Vt(e,o),r}function kr(e){return vr(e,1)}function Pr(e,t,n){var r=e?e.length:0;return r?(n&&"number"!=typeof n&&er(e,t,n)&&(t=0,n=r),qt(e,t,n)):[]}function Fr(e,t,n){return(e?e.length:0)?((n?er(e,t,n):null==t)&&(t=1),qt(e,0,t<0?0:t)):[]}function Lr(e,t,n){var r=e?e.length:0;return r?((n?er(e,t,n):null==t)&&(t=1),t=r-(+t||0),qt(e,t<0?0:t)):[]}function Ir(e,t,n){return e&&e.length?nn(e,Un(t,n,3),!1,!0):[]}function jr(e,t,n){return e&&e.length?nn(e,Un(t,n,3)):[]}function Rr(e,t,n,r){if(!(e?e.length:0))return[];null!=t&&"boolean"!=typeof t&&(r=n,n=er(e,t,r)?A:t,t=!1);var i=Un();return null==n&&i===wt||(n=i(n,r,3)),t&&Wn()===s?D(e,n):en(e,n)}function Nr(e){if(!e||!e.length)return[];var t=-1,n=0;e=ut(e,(function(e){if(Qn(e))return n=Ta(e.length,n),!0}));for(var r=Uo(n);++t<n;)r[t]=ct(e,Wt(t));return r}function Br(e,t,n){if(!(e?e.length:0))return[];var r=Nr(e);return null==t?r:(t=sn(t,n,4),ct(r,(function(e){return ft(e,t,A,!0)})))}function $r(){for(var e=-1,t=arguments.length;++e<t;){var n=arguments[e];if(Qn(n))var r=r?lt(St(r,n),St(n,r)):n}return r?en(r):[]}function Hr(e,t){var n=-1,r=e?e.length:0,i={};for(!r||t||xs(e[0])||(t=[]);++n<r;){var o=e[n];t?i[o]=t[n]:o&&(i[o[0]]=o[1])}return i}function Ur(e){var n=t(e);return n.__chain__=!0,n}function zr(e,t,n){return t.call(n,e),e}function Wr(e,t,n){return t.call(n,e)}function Jr(){return Ur(this)}function Vr(){return new i(this.value(),this.__chain__)}function Yr(e){for(var t,r=this;r instanceof n;){var i=pr(r);t?o.__wrapped__=i:t=i;var o=i;r=r.__wrapped__}return o.__wrapped__=e,t}function Gr(){var e=this.__wrapped__,t=function(e){return e.reverse()};if(e instanceof y){var n=e;return this.__actions__.length&&(n=new y(this)),n=n.reverse(),n.__actions__.push({func:Wr,args:[t],thisArg:A}),new i(n,this.__chain__)}return this.thru(t)}function qr(){return this.value()+""}function Kr(){return rn(this.__wrapped__,this.__actions__)}function Xr(e,t,n){var r=xs(e)?at:Ct;return n&&er(e,t,n)&&(t=A),"function"==typeof t&&n===A||(t=Un(t,n,3)),r(e,t)}function Qr(e,t,n){var r=xs(e)?ut:Ot;return t=Un(t,n,3),r(e,t)}function Zr(e,t){return os(e,$t(t))}function ei(e,t,n,r){var i=e?za(e):0;return rr(i)||(e=ao(e),i=e.length),n="number"!=typeof n||r&&er(t,n,r)?0:n<0?Ta(i+n,0):n||0,"string"==typeof e||!xs(e)&&zi(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&Wn(e,t,n)>-1}function ti(e,t,n){var r=xs(e)?ct:Bt;return t=Un(t,n,3),r(e,t)}function ni(e,t){return ti(e,Io(t))}function ri(e,t,n){var r=xs(e)?ut:Ot;return t=Un(t,n,3),r(e,(function(e,n,r){return!t(e,n,r)}))}function ii(e,t,n){if(n?er(e,t,n):null==t){e=fr(e);var r=e.length;return r>0?e[Yt(0,r-1)]:A}var i=-1,o=Gi(e),r=o.length,a=r-1;for(t=Sa(t<0?0:+t||0,r);++i<t;){var s=Yt(i,a),u=o[s];o[s]=o[i],o[i]=u}return o.length=t,o}function oi(e){return ii(e,Ma)}function ai(e){var t=e?za(e):0;return rr(t)?t:Hs(e).length}function si(e,t,n){var r=xs(e)?ht:Kt;return n&&er(e,t,n)&&(t=A),"function"==typeof t&&n===A||(t=Un(t,n,3)),r(e,t)}function ui(e,t,n){if(null==e)return[];n&&er(e,t,n)&&(t=A);var r=-1;return t=Un(t,n,3),Xt(Bt(e,(function(e,n,i){return{criteria:t(e,n,i),index:++r,value:e}})),d)}function ci(e,t,n,r){return null==e?[]:(r&&er(t,n,r)&&(n=A),xs(t)||(t=null==t?[]:[t]),xs(n)||(n=null==n?[]:[n]),Qt(e,t,n))}function li(e,t){return Qr(e,$t(t))}function fi(e,t){if("function"!=typeof t){if("function"!=typeof e)throw new Xo(J);var n=e;e=t,t=n}return e=wa(e=+e)?e:0,function(){if(--e<1)return t.apply(this,arguments)}}function di(e,t,n){return n&&er(e,t,n)&&(t=A),t=e&&null==t?e.length:Ta(+t||0,0),Nn(e,j,A,A,A,A,t)}function hi(e,t){var n;if("function"!=typeof t){if("function"!=typeof e)throw new Xo(J);var r=e;e=t,t=r}return function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=A),n}}function pi(e,t,n){function r(){h&&ua(h),c&&ua(c),g=0,c=h=p=A}function i(t,n){n&&ua(n),c=h=p=A,t&&(g=ms(),l=e.apply(d,u),h||c||(u=d=A))}function o(){var e=t-(ms()-f);e<=0||e>t?i(p,c):h=ha(o,e)}function a(){i(v,h)}function s(){if(u=arguments,f=ms(),d=this,p=v&&(h||!_),!1===m)var n=_&&!h;else{c||_||(g=f);var r=m-(f-g),i=r<=0||r>m;i?(c&&(c=ua(c)),g=f,l=e.apply(d,u)):c||(c=ha(a,r))}return i&&h?h=ua(h):h||t===m||(h=ha(o,t)),n&&(i=!0,l=e.apply(d,u)),!i||h||c||(u=d=A),l}var u,c,l,f,d,h,p,g=0,m=!1,v=!0;if("function"!=typeof e)throw new Xo(J);if(t=t<0?0:+t||0,!0===n){var _=!0;v=!1}else Ii(n)&&(_=!!n.leading,m="maxWait"in n&&Ta(+n.maxWait||0,t),v="trailing"in n?!!n.trailing:v);return s.cancel=r,s}function gi(e,t){if("function"!=typeof e||t&&"function"!=typeof t)throw new Xo(J);var n=function n(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a),a};return n.cache=new gi.Cache,n}function mi(e){if("function"!=typeof e)throw new Xo(J);return function(){return!e.apply(this,arguments)}}function vi(e){return hi(2,e)}function _i(e,t){if("function"!=typeof e)throw new Xo(J);return t=Ta(t===A?e.length-1:+t||0,0),function(){for(var n=arguments,r=-1,i=Ta(n.length-t,0),o=Uo(i);++r<i;)o[r]=n[t+r];switch(t){case 0:return e.call(this,o);case 1:return e.call(this,n[0],o);case 2:return e.call(this,n[0],n[1],o)}var a=Uo(t+1);for(r=-1;++r<t;)a[r]=n[r];return a[t]=o,e.apply(this,a)}}function bi(e){if("function"!=typeof e)throw new Xo(J);return function(t){return e.apply(this,t)}}function yi(e,t,n){var r=!0,i=!0;if("function"!=typeof e)throw new Xo(J);return!1===n?r=!1:Ii(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),pi(e,t,{leading:r,maxWait:+t,trailing:i})}function wi(e,t){return t=null==t?Mo:t,Nn(t,L,A,[e],[])}function Di(e,t,n,r){return t&&"boolean"!=typeof t&&er(e,t,n)?t=!1:"function"==typeof t&&(r=n,n=t,t=!1),"function"==typeof n?Dt(e,t,sn(n,r,3)):Dt(e,t)}function Ti(e,t,n){return"function"==typeof t?Dt(e,!0,sn(t,n,3)):Dt(e,!0)}function Si(e,t){return e>t}function Ci(e,t){return e>=t}function Ei(e){return b(e)&&Qn(e)&&na.call(e,"callee")&&!fa.call(e,"callee")}function Ai(e){return!0===e||!1===e||b(e)&&ia.call(e)==q}function Oi(e){return b(e)&&ia.call(e)==K}function Mi(e){return!!e&&1===e.nodeType&&b(e)&&!Hi(e)}function xi(e){return null==e||(Qn(e)&&(xs(e)||zi(e)||Ei(e)||b(e)&&Li(e.splice))?!e.length:!Hs(e).length)}function ki(e,t,n,r){n="function"==typeof n?sn(n,r,3):A;var i=n?n(e,t):A;return i===A?jt(e,t,n):!!i}function Pi(e){return b(e)&&"string"==typeof e.message&&ia.call(e)==X}function Fi(e){return"number"==typeof e&&wa(e)}function Li(e){return Ii(e)&&ia.call(e)==Q}function Ii(e){var t=r(e);return!!e&&("object"==t||"function"==t)}function ji(e,t,n,r){return n="function"==typeof n?sn(n,r,3):A,Nt(e,Jn(t),n)}function Ri(e){return $i(e)&&e!=+e}function Ni(e){return null!=e&&(Li(e)?aa.test(ta.call(e)):b(e)&&Fe.test(e))}function Bi(e){return null===e}function $i(e){return"number"==typeof e||b(e)&&ia.call(e)==Z}function Hi(e){var t;if(!b(e)||ia.call(e)!=ee||Ei(e)||!na.call(e,"constructor")&&"function"==typeof(t=e.constructor)&&!(t instanceof t))return!1;var n;return kt(e,(function(e,t){n=t})),n===A||na.call(e,n)}function Ui(e){return Ii(e)&&ia.call(e)==te}function zi(e){return"string"==typeof e||b(e)&&ia.call(e)==ne}function Wi(e){return b(e)&&rr(e.length)&&!!He[ia.call(e)]}function Ji(e){return e===A}function Vi(e,t){return e<t}function Yi(e,t){return e<=t}function Gi(e){var t=e?za(e):0;return rr(t)?t?rt(e):[]:ao(e)}function qi(e){return yt(e,to(e))}function Ki(e,t,n){var r=ja(e);return n&&er(e,t,n)&&(t=A),t?_t(r,t):r}function Xi(e){return Lt(e,to(e))}function Qi(e,t,n){var r=null==e?A:It(e,hr(t),t+"");return r===A?n:r}function Zi(e,t){if(null==e)return!1;var n=na.call(e,t);if(!n&&!tr(t)){if(t=hr(t),null==(e=1==t.length?e:It(e,qt(t,0,-1))))return!1;t=Ar(t),n=na.call(e,t)}return n||rr(e.length)&&Zn(t,e.length)&&(xs(e)||Ei(e))}function eo(e,t,n){n&&er(e,t,n)&&(t=A);for(var r=-1,i=Hs(e),o=i.length,a={};++r<o;){var s=i[r],u=e[s];t?na.call(a,u)?a[u].push(s):a[u]=[s]:a[u]=s}return a}function to(e){if(null==e)return[];Ii(e)||(e=Go(e));var t=e.length;t=t&&rr(t)&&(xs(e)||Ei(e))&&t||0;for(var n=e.constructor,r=-1,i="function"==typeof n&&n.prototype===e,o=Uo(t),a=t>0;++r<t;)o[r]=r+"";for(var s in e)a&&Zn(s,t)||"constructor"==s&&(i||!na.call(e,s))||o.push(s);return o}function no(e){e=dr(e);for(var t=-1,n=Hs(e),r=n.length,i=Uo(r);++t<r;){var o=n[t];i[t]=[o,e[o]]}return i}function ro(e,t,n){var r=null==e?A:e[t];return r===A&&(null==e||tr(t,e)||(t=hr(t),e=1==t.length?e:It(e,qt(t,0,-1)),r=null==e?A:e[Ar(t)]),r=r===A?n:r),Li(r)?r.call(e):r}function io(e,t,n){if(null==e)return e;var r=t+"";t=null!=e[r]||tr(t,e)?[r]:hr(t);for(var i=-1,o=t.length,a=o-1,s=e;null!=s&&++i<o;){var u=t[i];Ii(s)&&(i==a?s[u]=n:null==s[u]&&(s[u]=Zn(t[i+1])?[]:{})),s=s[u]}return e}function oo(e,t,n,r){var i=xs(e)||Wi(e);if(t=Un(t,r,4),null==n)if(i||Ii(e)){var o=e.constructor;n=i?xs(e)?new o:[]:ja(Li(o)?o.prototype:A)}else n={};return(i?it:Pt)(e,(function(e,r,i){return t(n,e,r,i)})),n}function ao(e){return tn(e,Hs(e))}function so(e){return tn(e,to(e))}function uo(e,t,n){return t=+t||0,n===A?(n=t,t=0):n=+n||0,e>=Sa(t,n)&&e<Ta(t,n)}function co(e,t,n){n&&er(e,t,n)&&(t=n=A);var r=null==e,i=null==t;if(null==n&&(i&&"boolean"==typeof e?(n=e,e=1):"boolean"==typeof t&&(n=t,i=!0)),r&&i&&(t=1,i=!1),e=+e||0,i?(t=e,e=0):t=+t||0,n||e%1||t%1){var o=Aa();return Sa(e+o*(t-e+ca("1e-"+((o+"").length-1))),t)}return Yt(e,t)}function lo(e){return(e=c(e))&&e.charAt(0).toUpperCase()+e.slice(1)}function fo(e){return(e=c(e))&&e.replace(Ie,p).replace(Oe,"")}function ho(e,t,n){e=c(e),t+="";var r=e.length;return n=n===A?r:Sa(n<0?0:+n||0,r),(n-=t.length)>=0&&e.indexOf(t,n)==n}function po(e){return e=c(e),e&&be.test(e)?e.replace(ve,g):e}function go(e){return e=c(e),e&&Ae.test(e)?e.replace(Ee,m):e||"(?:)"}function mo(e,t,n){e=c(e),t=+t;var r=e.length;if(r>=t||!wa(t))return e;var i=(t-r)/2,o=ba(i);return n=Ln("",va(i),n),n.slice(0,o)+e+n}function vo(e,t,n){return(n?er(e,t,n):null==t)?t=0:t&&(t=+t),e=wo(e),Ea(e,t||(Pe.test(e)?16:10))}function _o(e,t){var n="";if(e=c(e),(t=+t)<1||!e||!wa(t))return n;do{t%2&&(n+=e),t=ba(t/2),e+=e}while(t);return n}function bo(e,t,n){return e=c(e),n=null==n?0:Sa(n<0?0:+n||0,e.length),e.lastIndexOf(t,n)==n}function yo(e,n,r){var i=t.templateSettings;r&&er(e,n,r)&&(n=r=A),e=c(e),n=vt(_t({},r||n),i,mt);var o,a,s=vt(_t({},n.imports),i.imports,mt),u=Hs(s),l=tn(s,u),f=0,d=n.interpolate||je,h="__p += '",p=qo((n.escape||je).source+"|"+d.source+"|"+(d===De?xe:je).source+"|"+(n.evaluate||je).source+"|$","g"),g="//# sourceURL="+("sourceURL"in n?n.sourceURL:"lodash.templateSources["+ ++$e+"]")+"\n";e.replace(p,(function(t,n,r,i,s,u){return r||(r=i),h+=e.slice(f,u).replace(Re,v),n&&(o=!0,h+="' +\n__e("+n+") +\n'"),s&&(a=!0,h+="';\n"+s+";\n__p += '"),r&&(h+="' +\n((__t = ("+r+")) == null ? '' : __t) +\n'"),f=u+t.length,t})),h+="';\n";var m=n.variable;m||(h="with (obj) {\n"+h+"\n}\n"),h=(a?h.replace(he,""):h).replace(pe,"$1").replace(ge,"$1;"),h="function("+(m||"obj")+") {\n"+(m?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(o?", __e = _.escape":"")+(a?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+h+"return __p\n}";var _=Qs((function(){return Jo(u,g+"return "+h).apply(A,l)}));if(_.source=h,Pi(_))throw _;return _}function wo(e,t,n){var r=e;return(e=c(e))?(n?er(r,t,n):null==t)?e.slice(T(e),S(e)+1):(t+="",e.slice(l(e,t),f(e,t)+1)):e}function Do(e,t,n){var r=e;return e=c(e),e?(n?er(r,t,n):null==t)?e.slice(T(e)):e.slice(l(e,t+"")):e}function To(e,t,n){var r=e;return e=c(e),e?(n?er(r,t,n):null==t)?e.slice(0,S(e)+1):e.slice(0,f(e,t+"")+1):e}function So(e,t,n){n&&er(e,t,n)&&(t=A);var r=N,i=B;if(null!=t)if(Ii(t)){var o="separator"in t?t.separator:o;r="length"in t?+t.length||0:r,i="omission"in t?c(t.omission):i}else r=+t||0;if(e=c(e),r>=e.length)return e;var a=r-i.length;if(a<1)return i;var s=e.slice(0,a);if(null==o)return s+i;if(Ui(o)){if(e.slice(a).search(o)){var u,l,f=e.slice(0,a);for(o.global||(o=qo(o.source,(ke.exec(o)||"")+"g")),o.lastIndex=0;u=o.exec(f);)l=u.index;s=s.slice(0,null==l?a:l)}}else if(e.indexOf(o,a)!=a){var d=s.lastIndexOf(o);d>-1&&(s=s.slice(0,d))}return s+i}function Co(e){return e=c(e),e&&_e.test(e)?e.replace(me,C):e}function Eo(e,t,n){return n&&er(e,t,n)&&(t=A),e=c(e),e.match(t||Ne)||[]}function Ao(e,t,n){return n&&er(e,t,n)&&(t=A),b(e)?xo(e):wt(e,t)}function Oo(e){return function(){return e}}function Mo(e){return e}function xo(e){return $t(Dt(e,!0))}function ko(e,t){return Ht(e,Dt(t,!0))}function Po(e,t,n){if(null==n){var r=Ii(t),i=r?Hs(t):A,o=i&&i.length?Lt(t,i):A;(o?o.length:r)||(o=!1,n=t,t=e,e=this)}o||(o=Lt(t,Hs(t)));var a=!0,s=-1,u=Li(e),c=o.length;!1===n?a=!1:Ii(n)&&"chain"in n&&(a=n.chain);for(;++s<c;){var l=o[s],f=t[l];e[l]=f,u&&(e.prototype[l]=(function(t){return function(){var n=this.__chain__;if(a||n){var r=e(this.__wrapped__);return(r.__actions__=rt(this.__actions__)).push({func:t,args:arguments,thisArg:e}),r.__chain__=n,r}return t.apply(e,lt([this.value()],arguments))}})(f))}return e}function Fo(){return tt._=oa,this}function Lo(){}function Io(e){return tr(e)?Wt(e):Jt(e)}function jo(e){return function(t){return It(e,hr(t),t+"")}}function Ro(e,t,n){n&&er(e,t,n)&&(t=n=A),e=+e||0,n=null==n?1:+n||0,null==t?(t=e,e=0):t=+t||0;for(var r=-1,i=Ta(va((t-e)/(n||1)),0),o=Uo(i);++r<i;)o[r]=e,e+=n;return o}function No(e,t,n){if((e=ba(e))<1||!wa(e))return[];var r=-1,i=Uo(Sa(e,xa));for(t=sn(t,n,1);++r<e;)r<xa?i[r]=t(r):t(r);return i}function Bo(e){var t=++ra;return c(e)+t}function $o(e,t){return(+e||0)+(+t||0)}function Ho(e,t,n){return n&&er(e,t,n)&&(t=A),t=Un(t,n,3),1==t.length?pt(xs(e)?e:fr(e),t):Zt(e,t)}e=e?nt.defaults(tt.Object(),e,nt.pick(tt,Be)):tt;var Uo=e.Array,zo=e.Date,Wo=e.Error,Jo=e.Function,Vo=e.Math,Yo=e.Number,Go=e.Object,qo=e.RegExp,Ko=e.String,Xo=e.TypeError,Qo=Uo.prototype,Zo=Go.prototype,ea=Ko.prototype,ta=Jo.prototype.toString,na=Zo.hasOwnProperty,ra=0,ia=Zo.toString,oa=tt._,aa=qo("^"+ta.call(na).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),sa=e.ArrayBuffer,ua=e.clearTimeout,ca=e.parseFloat,la=Vo.pow,fa=Zo.propertyIsEnumerable,da=Vn(e,"Set"),ha=e.setTimeout,pa=Qo.splice,ga=e.Uint8Array,ma=Vn(e,"WeakMap"),va=Vo.ceil,_a=Vn(Go,"create"),ba=Vo.floor,ya=Vn(Uo,"isArray"),wa=e.isFinite,Da=Vn(Go,"keys"),Ta=Vo.max,Sa=Vo.min,Ca=Vn(zo,"now"),Ea=e.parseInt,Aa=Vo.random,Oa=Yo.NEGATIVE_INFINITY,Ma=Yo.POSITIVE_INFINITY,xa=4294967295,ka=xa-1,Pa=xa>>>1,Fa=9007199254740991,La=ma&&new ma,Ia={};t.support={};t.templateSettings={escape:ye,evaluate:we,interpolate:De,variable:"",imports:{_:t}};var ja=(function(){function e(){}return function(t){if(Ii(t)){e.prototype=t;var n=new e;e.prototype=A}return n||{}}})(),Ra=hn(Pt),Na=hn(Ft,!0),Ba=pn(),$a=pn(!0),Ha=La?function(e,t){return La.set(e,t),e}:Mo,Ua=La?function(e){return La.get(e)}:Lo,za=Wt("length"),Wa=(function(){var e=0,t=0;return function(n,r){var i=ms(),o=H-(i-t);if(t=i,o>0){if(++e>=$)return n}else e=0;return Ha(n,r)}})(),Ja=_i((function(e,t){return b(e)&&Qn(e)?St(e,xt(t,!1,!0)):[]})),Va=Tn(),Ya=Tn(!0),Ga=_i((function(e){for(var t=e.length,n=t,r=Uo(f),i=Wn(),o=i===s,a=[];n--;){var u=e[n]=Qn(u=e[n])?u:[];r[n]=o&&u.length>=120?mn(n&&u):null}var c=e[0],l=-1,f=c?c.length:0,d=r[0];e:for(;++l<f;)if(u=c[l],(d?Qe(d,u):i(a,u,0))<0){for(var n=t;--n;){var h=r[n];if((h?Qe(h,u):i(e[n],u,0))<0)continue e}d&&d.push(u),a.push(u)}return a})),qa=_i((function(e,t){t=xt(t);var n=bt(e,t);return Vt(e,t.sort(o)),n})),Ka=Rn(),Xa=Rn(!0),Qa=_i((function(e){return en(xt(e,!1,!0))})),Za=_i((function(e,t){return Qn(e)?St(e,t):[]})),es=_i(Nr),ts=_i((function(e){var t=e.length,n=t>2?e[t-2]:A,r=t>1?e[t-1]:A;return t>2&&"function"==typeof n?t-=2:(n=t>1&&"function"==typeof r?(--t,r):A,r=A),e.length=t,Br(e,n,r)})),ns=_i((function(e){return e=xt(e),this.thru((function(t){return et(xs(t)?t:[dr(t)],e)}))})),rs=_i((function(e,t){return bt(e,xt(t))})),is=fn((function(e,t,n){na.call(e,n)?++e[n]:e[n]=1})),os=Dn(Ra),as=Dn(Na,!0),ss=En(it,Ra),us=En(ot,Na),cs=fn((function(e,t,n){na.call(e,n)?e[n].push(t):e[n]=[t]})),ls=fn((function(e,t,n){e[n]=t})),fs=_i((function(e,t,n){var r=-1,i="function"==typeof t,o=tr(t),a=Qn(e)?Uo(e.length):[];return Ra(e,(function(e){var s=i?t:o&&null!=e?e[t]:A;a[++r]=s?s.apply(e,n):Xn(e,t,n)})),a})),ds=fn((function(e,t,n){e[n?0:1].push(t)}),(function(){return[[],[]]})),hs=Pn(ft,Ra),ps=Pn(dt,Na),gs=_i((function(e,t){if(null==e)return[];var n=t[2];return n&&er(t[0],t[1],n)&&(t.length=1),Qt(e,xt(t),[])})),ms=Ca||function(){return(new zo).getTime()},vs=_i((function(e,t,n){var r=M;if(n.length){var i=w(n,vs.placeholder);r|=L}return Nn(e,r,t,n,i)})),_s=_i((function(e,t){t=t.length?xt(t):Xi(e);for(var n=-1,r=t.length;++n<r;){var i=t[n];e[i]=Nn(e[i],M,e)}return e})),bs=_i((function(e,t,n){var r=M|x;if(n.length){var i=w(n,bs.placeholder);r|=L}return Nn(t,r,e,n,i)})),ys=bn(P),ws=bn(F),Ds=_i((function(e,t){return Tt(e,1,t)})),Ts=_i((function(e,t,n){return Tt(e,t,n)})),Ss=Cn(),Cs=Cn(!0),Es=_i((function(e,t){if(t=xt(t),"function"!=typeof e||!at(t,u))throw new Xo(J);var n=t.length;return _i((function(r){for(var i=Sa(r.length,n);i--;)r[i]=t[i](r[i]);return e.apply(this,r)}))})),As=kn(L),Os=kn(I),Ms=_i((function(e,t){return Nn(e,R,A,A,A,xt(t))})),xs=ya||function(e){return b(e)&&rr(e.length)&&ia.call(e)==G},ks=dn(Ut),Ps=dn((function(e,t,n){return n?vt(e,t,n):_t(e,t)})),Fs=yn(Ps,gt),Ls=yn(ks,ar),Is=Sn(Pt),js=Sn(Ft),Rs=An(Ba),Ns=An($a),Bs=On(Pt),$s=On(Ft),Hs=Da?function(e){var t=null==e?A:e.constructor;return"function"==typeof t&&t.prototype===e||"function"!=typeof e&&Qn(e)?lr(e):Ii(e)?Da(e):[]}:lr,Us=Mn(!0),zs=Mn(),Ws=_i((function(e,t){if(null==e)return{};if("function"!=typeof t[0]){var t=ct(xt(t),Ko);return sr(e,St(to(e),t))}var n=sn(t[0],t[1],3);return ur(e,(function(e,t,r){return!n(e,t,r)}))})),Js=_i((function(e,t){return null==e?{}:"function"==typeof t[0]?ur(e,sn(t[0],t[1],3)):sr(e,xt(t))})),Vs=vn((function(e,t,n){return t=t.toLowerCase(),e+(n?t.charAt(0).toUpperCase()+t.slice(1):t)})),Ys=vn((function(e,t,n){return e+(n?"-":"")+t.toLowerCase()})),Gs=xn(),qs=xn(!0),Ks=vn((function(e,t,n){return e+(n?"_":"")+t.toLowerCase()})),Xs=vn((function(e,t,n){return e+(n?" ":"")+(t.charAt(0).toUpperCase()+t.slice(1))})),Qs=_i((function(e,t){try{return e.apply(A,t)}catch(e){return Pi(e)?e:new Wo(e)}})),Zs=_i((function(e,t){return function(n){return Xn(n,e,t)}})),eu=_i((function(e,t){return function(n){return Xn(e,n,t)}})),tu=jn("ceil"),nu=jn("floor"),ru=wn(Si,Oa),iu=wn(Vi,Ma),ou=jn("round");return t.prototype=n.prototype,i.prototype=ja(n.prototype),i.prototype.constructor=i,y.prototype=ja(n.prototype),y.prototype.constructor=y,Ve.prototype.delete=Ye,Ve.prototype.get=Ge,Ve.prototype.has=qe,Ve.prototype.set=Ke,Xe.prototype.push=Ze,gi.Cache=Ve,t.after=fi,t.ary=di,t.assign=Ps,t.at=rs,t.before=hi,t.bind=vs,t.bindAll=_s,t.bindKey=bs,t.callback=Ao,t.chain=Ur,t.chunk=gr,t.compact=mr,t.constant=Oo,t.countBy=is,t.create=Ki,t.curry=ys,t.curryRight=ws,t.debounce=pi,t.defaults=Fs,t.defaultsDeep=Ls,t.defer=Ds,t.delay=Ts,t.difference=Ja,t.drop=vr,t.dropRight=_r,t.dropRightWhile=br,t.dropWhile=yr,t.fill=wr,t.filter=Qr,t.flatten=Tr,t.flattenDeep=Sr,t.flow=Ss,t.flowRight=Cs,t.forEach=ss,t.forEachRight=us,t.forIn=Rs,t.forInRight=Ns,t.forOwn=Bs,t.forOwnRight=$s,t.functions=Xi,t.groupBy=cs,t.indexBy=ls,t.initial=Er,t.intersection=Ga,t.invert=eo,t.invoke=fs,t.keys=Hs,t.keysIn=to,t.map=ti,t.mapKeys=Us,t.mapValues=zs,t.matches=xo,t.matchesProperty=ko,t.memoize=gi,t.merge=ks,t.method=Zs,t.methodOf=eu,t.mixin=Po,t.modArgs=Es,t.negate=mi,t.omit=Ws,t.once=vi,t.pairs=no,t.partial=As,t.partialRight=Os,t.partition=ds,t.pick=Js,t.pluck=ni,t.property=Io,t.propertyOf=jo,t.pull=Mr,t.pullAt=qa,t.range=Ro,t.rearg=Ms,t.reject=ri,t.remove=xr,t.rest=kr,t.restParam=_i,t.set=io,t.shuffle=oi,t.slice=Pr,t.sortBy=ui,t.sortByAll=gs,t.sortByOrder=ci,t.spread=bi,t.take=Fr,t.takeRight=Lr,t.takeRightWhile=Ir,t.takeWhile=jr,t.tap=zr,t.throttle=yi,t.thru=Wr,t.times=No,t.toArray=Gi,t.toPlainObject=qi,t.transform=oo,t.union=Qa,t.uniq=Rr,t.unzip=Nr,t.unzipWith=Br,t.values=ao,t.valuesIn=so,t.where=li,t.without=Za,t.wrap=wi,t.xor=$r,t.zip=es,t.zipObject=Hr,t.zipWith=ts,t.backflow=Cs,t.collect=ti,t.compose=Cs,t.each=ss,t.eachRight=us,t.extend=Ps,t.iteratee=Ao,t.methods=Xi,t.object=Hr,t.select=Qr,t.tail=kr,t.unique=Rr,Po(t,t),t.add=$o,t.attempt=Qs,t.camelCase=Vs,t.capitalize=lo,t.ceil=tu,t.clone=Di,t.cloneDeep=Ti,t.deburr=fo,t.endsWith=ho,t.escape=po,t.escapeRegExp=go,t.every=Xr,t.find=os,t.findIndex=Va,t.findKey=Is,t.findLast=as,t.findLastIndex=Ya,t.findLastKey=js,t.findWhere=Zr,t.first=Dr,t.floor=nu,t.get=Qi,t.gt=Si,t.gte=Ci,t.has=Zi,t.identity=Mo,t.includes=ei,t.indexOf=Cr,t.inRange=uo,t.isArguments=Ei,t.isArray=xs,t.isBoolean=Ai,t.isDate=Oi,t.isElement=Mi,t.isEmpty=xi,t.isEqual=ki,t.isError=Pi,t.isFinite=Fi,t.isFunction=Li,t.isMatch=ji,t.isNaN=Ri,t.isNative=Ni,t.isNull=Bi,t.isNumber=$i,t.isObject=Ii,t.isPlainObject=Hi,t.isRegExp=Ui,t.isString=zi,t.isTypedArray=Wi,t.isUndefined=Ji,t.kebabCase=Ys,t.last=Ar,t.lastIndexOf=Or,t.lt=Vi,t.lte=Yi,t.max=ru,t.min=iu,t.noConflict=Fo,t.noop=Lo,t.now=ms,t.pad=mo,t.padLeft=Gs,t.padRight=qs,t.parseInt=vo,t.random=co,t.reduce=hs,t.reduceRight=ps,t.repeat=_o,t.result=ro,t.round=ou,t.runInContext=E,t.size=ai,t.snakeCase=Ks,t.some=si,t.sortedIndex=Ka,t.sortedLastIndex=Xa,t.startCase=Xs,t.startsWith=bo,t.sum=Ho,t.template=yo,t.trim=wo,t.trimLeft=Do,t.trimRight=To,t.trunc=So,t.unescape=Co,t.uniqueId=Bo,t.words=Eo,t.all=Xr,t.any=si,t.contains=ei,t.eq=ki,t.detect=os,t.foldl=hs,t.foldr=ps,t.head=Dr,t.include=ei,t.inject=hs,Po(t,(function(){var e={};return Pt(t,(function(n,r){t.prototype[r]||(e[r]=n)})),e})(),!1),t.sample=ii,t.prototype.sample=function(e){return this.__chain__||null!=e?this.thru((function(t){return ii(t,e)})):ii(this.value())},t.VERSION=O,it(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){t[e].placeholder=t})),it(["drop","take"],(function(e,t){y.prototype[e]=function(n){var r=this.__filtered__;if(r&&!t)return new y(this);n=null==n?1:Ta(ba(n)||0,0);var i=this.clone();return r?i.__takeCount__=Sa(i.__takeCount__,n):i.__views__.push({size:n,type:e+(i.__dir__<0?"Right":"")}),i},y.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),it(["filter","map","takeWhile"],(function(e,t){var n=t+1,r=n!=W;y.prototype[e]=function(e,t){var i=this.clone();return i.__iteratees__.push({iteratee:Un(e,t,1),type:n}),i.__filtered__=i.__filtered__||r,i}})),it(["first","last"],(function(e,t){var n="take"+(t?"Right":"");y.prototype[e]=function(){return this[n](1).value()[0]}})),it(["initial","rest"],(function(e,t){var n="drop"+(t?"":"Right");y.prototype[e]=function(){return this.__filtered__?new y(this):this[n](1)}})),it(["pluck","where"],(function(e,t){var n=t?"filter":"map",r=t?$t:Io;y.prototype[e]=function(e){return this[n](r(e))}})),y.prototype.compact=function(){return this.filter(Mo)},y.prototype.reject=function(e,t){return e=Un(e,t,1),this.filter((function(t){return!e(t)}))},y.prototype.slice=function(e,t){e=null==e?0:+e||0;var n=this;return n.__filtered__&&(e>0||t<0)?new y(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==A&&(t=+t||0,n=t<0?n.dropRight(-t):n.take(t-e)),n)},y.prototype.takeRightWhile=function(e,t){return this.reverse().takeWhile(e,t).reverse()},y.prototype.toArray=function(){return this.take(Ma)},Pt(y.prototype,(function(e,n){var r=/^(?:filter|map|reject)|While$/.test(n),o=/^(?:first|last)$/.test(n),a=t[o?"take"+("last"==n?"Right":""):n];a&&(t.prototype[n]=function(){var t=o?[1]:arguments,n=this.__chain__,s=this.__wrapped__,u=!!this.__actions__.length,c=s instanceof y,l=t[0],f=c||xs(s);f&&r&&"function"==typeof l&&1!=l.length&&(c=f=!1);var d=function(e){return o&&n?a(e,1)[0]:a.apply(A,lt([e],t))},h={func:Wr,args:[d],thisArg:A},p=c&&!u;if(o&&!n)return p?(s=s.clone(),s.__actions__.push(h),e.call(s)):a.call(A,this.value())[0];if(!o&&f){s=p?s:new y(this);var g=e.apply(s,t);return g.__actions__.push(h),new i(g,n)}return this.thru(d)})})),it(["join","pop","push","replace","shift","sort","splice","split","unshift"],(function(e){var n=(/^(?:replace|split)$/.test(e)?ea:Qo)[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",i=/^(?:join|pop|replace|shift)$/.test(e);t.prototype[e]=function(){var e=arguments;return i&&!this.__chain__?n.apply(this.value(),e):this[r]((function(t){return n.apply(t,e)}))}})),Pt(y.prototype,(function(e,n){var r=t[n];if(r){var i=r.name+"";(Ia[i]||(Ia[i]=[])).push({name:n,func:r})}})),Ia[Fn(A,x).name]=[{name:"wrapper",func:A}],y.prototype.clone=ze,y.prototype.reverse=We,y.prototype.value=Je,t.prototype.chain=Jr,t.prototype.commit=Vr,t.prototype.concat=ns,t.prototype.plant=Yr,t.prototype.reverse=Gr,t.prototype.toString=qr,t.prototype.run=t.prototype.toJSON=t.prototype.valueOf=t.prototype.value=Kr,t.prototype.collect=t.prototype.map,t.prototype.head=t.prototype.first,t.prototype.select=t.prototype.filter,t.prototype.tail=t.prototype.rest,t}var A,O="3.10.1",M=1,x=2,k=4,P=8,F=16,L=32,I=64,j=128,R=256,N=30,B="...",$=150,H=16,U=200,z=1,W=2,J="Expected a function",V="__lodash_placeholder__",Y="[object Arguments]",G="[object Array]",q="[object Boolean]",K="[object Date]",X="[object Error]",Q="[object Function]",Z="[object Number]",ee="[object Object]",te="[object RegExp]",ne="[object String]",re="[object ArrayBuffer]",ie="[object Float32Array]",oe="[object Float64Array]",ae="[object Int8Array]",se="[object Int16Array]",ue="[object Int32Array]",ce="[object Uint8Array]",le="[object Uint8ClampedArray]",fe="[object Uint16Array]",de="[object Uint32Array]",he=/\b__p \+= '';/g,pe=/\b(__p \+=) '' \+/g,ge=/(__e\(.*?\)|\b__t\)) \+\n'';/g,me=/&(?:amp|lt|gt|quot|#39|#96);/g,ve=/[&<>"'`]/g,_e=RegExp(me.source),be=RegExp(ve.source),ye=/<%-([\s\S]+?)%>/g,we=/<%([\s\S]+?)%>/g,De=/<%=([\s\S]+?)%>/g,Te=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\n\\]|\\.)*?\1)\]/,Se=/^\w*$/,Ce=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\n\\]|\\.)*?)\2)\]/g,Ee=/^[:!,]|[\\^$.*+?()[\]{}|\/]|(^[0-9a-fA-Fnrtuvx])|([\n\r\u2028\u2029])/g,Ae=RegExp(Ee.source),Oe=/[\u0300-\u036f\ufe20-\ufe23]/g,Me=/\\(\\)?/g,xe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,ke=/\w*$/,Pe=/^0[xX]/,Fe=/^\[object .+?Constructor\]$/,Le=/^\d+$/,Ie=/[\xc0-\xd6\xd8-\xde\xdf-\xf6\xf8-\xff]/g,je=/($^)/,Re=/['\n\r\u2028\u2029\\]/g,Ne=(function(){var e="[A-Z\\xc0-\\xd6\\xd8-\\xde]",t="[a-z\\xdf-\\xf6\\xf8-\\xff]+";return RegExp(e+"+(?="+e+t+")|"+e+"?"+t+"|"+e+"+|[0-9]+","g")})(),Be=["Array","ArrayBuffer","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Math","Number","Object","RegExp","Set","String","_","clearTimeout","isFinite","parseFloat","parseInt","setTimeout","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap"],$e=-1,He={};He[ie]=He[oe]=He[ae]=He[se]=He[ue]=He[ce]=He[le]=He[fe]=He[de]=!0,He[Y]=He[G]=He[re]=He[q]=He[K]=He[X]=He[Q]=He["[object Map]"]=He[Z]=He[ee]=He[te]=He["[object Set]"]=He[ne]=He["[object WeakMap]"]=!1;var Ue={};Ue[Y]=Ue[G]=Ue[re]=Ue[q]=Ue[K]=Ue[ie]=Ue[oe]=Ue[ae]=Ue[se]=Ue[ue]=Ue[Z]=Ue[ee]=Ue[te]=Ue[ne]=Ue[ce]=Ue[le]=Ue[fe]=Ue[de]=!0,Ue[X]=Ue[Q]=Ue["[object Map]"]=Ue["[object Set]"]=Ue["[object WeakMap]"]=!1;var ze={"":"A","":"A","":"A","":"A","":"A","":"A","":"a","":"a","":"a","":"a","":"a","":"a","":"C","":"c","":"D","":"d","":"E","":"E","":"E","":"E","":"e","":"e","":"e","":"e","":"I","":"I","":"I","":"I","":"i","":"i","":"i","":"i","":"N","":"n","":"O","":"O","":"O","":"O","":"O","":"O","":"o","":"o","":"o","":"o","":"o","":"o","":"U","":"U","":"U","":"U","":"u","":"u","":"u","":"u","":"Y","":"y","":"y","":"Ae","":"ae","":"Th","":"th","":"ss"},We={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","`":"&#96;"},Je={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'","&#96;":"`"},Ve={function:!0,object:!0},Ye={0:"x30",1:"x31",2:"x32",3:"x33",4:"x34",5:"x35",6:"x36",7:"x37",8:"x38",9:"x39",A:"x41",B:"x42",C:"x43",D:"x44",E:"x45",F:"x46",a:"x61",b:"x62",c:"x63",d:"x64",e:"x65",f:"x66",n:"x6e",r:"x72",t:"x74",u:"x75",v:"x76",x:"x78"},Ge={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qe=Ve[r(t)]&&t&&!t.nodeType&&t,Ke=Ve[r(e)]&&e&&!e.nodeType&&e,Xe=qe&&Ke&&"object"==("undefined"==typeof global?"undefined":r(global))&&global&&global.Object&&global,Qe=Ve["undefined"==typeof self?"undefined":r(self)]&&self&&self.Object&&self,Ze=Ve["undefined"==typeof window?"undefined":r(window)]&&window&&window.Object&&window,et=Ke&&Ke.exports===qe&&qe,tt=Xe||Ze!==(this&&this.window)&&Ze||Qe||this,nt=E();"object"==r(n(1773))&&n(1773)?(tt._=nt,(i=function(){return nt}.call(t,n,t,e))!==A&&(e.exports=i)):qe&&Ke?et?(Ke.exports=nt)._=nt:qe._=nt:tt._=nt}).call(this)}).call(t,n(357)(e))},3315:function(e,t){!(function(){"use strict";function e(e){e=e||{};var t=r.v4().source,n=["(?:(?:(?:[a-z]+:)?//)|www\\.)(?:\\S+(?::\\S*)?@)?","(?:localhost|"+t+"|(?:(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)(?:\\.(?:[a-z\\u00a1-\\uffff0-9]-*)*[a-z\\u00a1-\\uffff0-9]+)*(?:\\.(?:[a-z\\u00a1-\\uffff]{2,})))","(?::\\d{2,5})?",'(?:[/?#][^\\s"]*)?'].join("");return e.exact?new RegExp("(?:^"+n+"$)","i"):new RegExp(n,"ig")}var t="(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])(?:\\.(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])){3}",n="(?:(?:[0-9a-fA-F:]){1,4}(?:(?::(?:[0-9a-fA-F]){1,4}|:)){2,7})+",r=function(e){return e=e||{},e.exact?new RegExp("(?:^"+t+"$)|(?:^"+n+"$)"):new RegExp("(?:"+t+")|(?:"+n+")","g")};r.v4=function(e){return e=e||{},e.exact?new RegExp("^"+t+"$"):new RegExp(t,"g")},r.v6=function(e){return e=e||{},e.exact?new RegExp("^"+n+"$"):new RegExp(n,"g")},window.Daria.urlRegex=e})()},3316:function(e,t){function n(e){"@babel/helpers - typeof";return(n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}!(function(e,t,r){function i(e,t){return n(e)===t}function o(e){var t=C.className,n=T._config.classPrefix||"";if(E&&(t=t.baseVal),T._config.enableJSClass){var r=new RegExp("(^|\\s)"+n+"no-js(\\s|$)");t=t.replace(r,"$1"+n+"js$2")}T._config.enableClasses&&(t+=" "+n+e.join(" "+n),E?C.className.baseVal=t:C.className=t)}function a(e,t){if("object"==n(e))for(var r in e)M(e,r)&&a(r,e[r]);else{e=e.toLowerCase();var i=e.split("."),s=T[i[0]];if(2==i.length&&(s=s[i[1]]),void 0!==s)return T;t="function"==typeof t?t():t,1==i.length?T[i[0]]=t:(!T[i[0]]||T[i[0]]instanceof Boolean||(T[i[0]]=new Boolean(T[i[0]])),T[i[0]][i[1]]=t),o([(t&&0!=t?"":"no-")+i.join("-")]),T._trigger(e,t)}return T}function s(){return"function"!=typeof t.createElement?t.createElement(arguments[0]):E?t.createElementNS.call(t,"http://www.w3.org/2000/svg",arguments[0]):t.createElement.apply(t,arguments)}function u(e,t){return!!~(""+e).indexOf(t)}function c(e){return e.replace(/([a-z])-([a-z])/g,(function(e,t,n){return t+n.toUpperCase()})).replace(/^-/,"")}function l(e,t){return function(){return e.apply(t,arguments)}}function f(e,t,n){var r;for(var o in e)if(e[o]in t)return!1===n?e[o]:(r=t[e[o]],i(r,"function")?l(r,n||t):r);return!1}function d(e){return e.replace(/([A-Z])/g,(function(e,t){return"-"+t.toLowerCase()})).replace(/^ms-/,"-ms-")}function h(t,n,r){var i;if("getComputedStyle"in e){i=getComputedStyle.call(e,t,n);var o=e.console;if(null!==i)r&&(i=i.getPropertyValue(r));else if(o){var a=o.error?"error":"log";o[a].call(o,"getComputedStyle returning null, its possible modernizr test results are inaccurate")}}else i=!n&&t.currentStyle&&t.currentStyle[r];return i}function p(){var e=t.body;return e||(e=s(E?"svg":"body"),e.fake=!0),e}function g(e,n,r,i){var o,a,u,c,l="modernizr",f=s("div"),d=p();if(parseInt(r,10))for(;r--;)u=s("div"),u.id=i?i[r]:l+(r+1),f.appendChild(u);return o=s("style"),o.type="text/css",o.id="s"+l,(d.fake?d:f).appendChild(o),d.appendChild(f),o.styleSheet?o.styleSheet.cssText=e:o.appendChild(t.createTextNode(e)),f.id=l,d.fake&&(d.style.background="",d.style.overflow="hidden",c=C.style.overflow,C.style.overflow="hidden",C.appendChild(d)),a=n(f,e),d.fake?(d.parentNode.removeChild(d),C.style.overflow=c,C.offsetHeight):f.parentNode.removeChild(f),!!a}function m(t,n){var i=t.length;if("CSS"in e&&"supports"in e.CSS){for(;i--;)if(e.CSS.supports(d(t[i]),n))return!0;return!1}if("CSSSupportsRule"in e){for(var o=[];i--;)o.push("("+d(t[i])+":"+n+")");return o=o.join(" or "),g("@supports ("+o+") { #modernizr { position: absolute; } }",(function(e){return"absolute"==h(e,null,"position")}))}return r}function v(e,t,n,o){function a(){f&&(delete N.style,delete N.modElem)}if(o=!i(o,"undefined")&&o,!i(n,"undefined")){var l=m(e,n);if(!i(l,"undefined"))return l}for(var f,d,h,p,g,v=["modernizr","tspan","samp"];!N.style&&v.length;)f=!0,N.modElem=s(v.shift()),N.style=N.modElem.style;for(h=e.length,d=0;d<h;d++)if(p=e[d],g=N.style[p],u(p,"-")&&(p=c(p)),N.style[p]!==r){if(o||i(n,"undefined"))return a(),"pfx"!=t||p;try{N.style[p]=n}catch(e){}if(N.style[p]!=g)return a(),"pfx"!=t||p}return a(),!1}function _(e,t,n,r,o){var a=e.charAt(0).toUpperCase()+e.slice(1),s=(e+" "+j.join(a+" ")+a).split(" ");return i(t,"string")||i(t,"undefined")?v(s,t,r,o):(s=(e+" "+O.join(a+" ")+a).split(" "),f(s,t,n))}function b(e,t,n){return _(e,r,r,t,n)}var y=[],w=[],D={_version:"3.6.0",_config:{classPrefix:"",enableClasses:!0,enableJSClass:!0,usePrefixes:!0},_q:[],on:function(e,t){var n=this;setTimeout((function(){t(n[e])}),0)},addTest:function(e,t,n){w.push({name:e,fn:t,options:n})},addAsyncTest:function(e){w.push({name:null,fn:e})}},T=function(){};T.prototype=D,T=new T,T.addTest("blobconstructor",(function(){try{return!!new Blob}catch(e){return!1}}),{aliases:["blob-constructor"]}),T.addTest("geolocation","geolocation"in navigator),T.addTest("filereader",!!(e.File&&e.FileList&&e.FileReader));var S=D._config.usePrefixes?" -webkit- -moz- -o- -ms- ".split(" "):["",""];D._prefixes=S;var C=t.documentElement;T.addTest("classlist","classList"in C);var E="svg"===C.nodeName.toLowerCase(),A="Moz O ms Webkit",O=D._config.usePrefixes?A.toLowerCase().split(" "):[];D._domPrefixes=O;var M;!(function(){var e={}.hasOwnProperty;M=i(e,"undefined")||i(e.call,"undefined")?function(e,t){return t in e&&i(e.constructor.prototype[t],"undefined")}:function(t,n){return e.call(t,n)}})(),D._l={},D.on=function(e,t){this._l[e]||(this._l[e]=[]),this._l[e].push(t),T.hasOwnProperty(e)&&setTimeout((function(){T._trigger(e,T[e])}),0)},D._trigger=function(e,t){if(this._l[e]){var n=this._l[e];setTimeout((function(){var e;for(e=0;e<n.length;e++)(0,n[e])(t)}),0),delete this._l[e]}},T._q.push((function(){D.addTest=a}));var x=(function(){function e(e,t){var i;return!!e&&(t&&"string"!=typeof t||(t=s(t||"div")),e="on"+e,i=e in t,!i&&n&&(t.setAttribute||(t=s("div")),t.setAttribute(e,""),i="function"==typeof t[e],t[e]!==r&&(t[e]=r),t.removeAttribute(e)),i)}var n=!("onblur"in t.documentElement);return e})();D.hasEvent=x,T.addTest("cssgradients",(function(){for(var e,t="background-image:",n="",r=0,i=S.length-1;r<i;r++)e=0===r?"to ":"",n+=t+S[r]+"linear-gradient("+e+"left top, #9f9, white);";T._config.usePrefixes&&(n+=t+"-webkit-gradient(linear,left top,right bottom,from(#9f9),to(white));");var o=s("a"),a=o.style;return a.cssText=n,(""+a.backgroundImage).indexOf("gradient")>-1}));var k=s("input"),P="autocomplete autofocus list placeholder max min multiple pattern required step".split(" "),F={};T.input=(function(t){for(var n=0,r=t.length;n<r;n++)F[t[n]]=!!(t[n]in k);return F.list&&(F.list=!(!s("datalist")||!e.HTMLDataListElement)),F})(P);var L="CSS"in e&&"supports"in e.CSS,I="supportsCSS"in e;T.addTest("supports",L||I);var j=D._config.usePrefixes?A.split(" "):[];D._cssomPrefixes=j;var R={elem:s("modernizr")};T._q.push((function(){delete R.elem}));var N={style:R.elem.style};T._q.unshift((function(){delete N.style}));D.testProp=function(e,t,n){return v([e],r,t,n)};D.testAllProps=_,D.testAllProps=b,T.addTest("cssanimations",b("animationName","a",!0)),T.addTest("borderimage",b("borderImage","url() 1",!0)),T.addTest("csstransforms",(function(){return-1===navigator.userAgent.indexOf("Android 2.")&&b("transform","scale(1)",!0)})),T.addTest("csstransforms3d",(function(){return!!b("perspective","1px",!0)})),T.addTest("csstransitions",b("transition","all",!0)),T.addTest("cssmask",b("maskRepeat","repeat-x",!0)),(function(){var e,t,n,r,o,a,s;for(var u in w)if(w.hasOwnProperty(u)){if(e=[],t=w[u],t.name&&(e.push(t.name.toLowerCase()),t.options&&t.options.aliases&&t.options.aliases.length))for(n=0;n<t.options.aliases.length;n++)e.push(t.options.aliases[n].toLowerCase());for(r=i(t.fn,"function")?t.fn():t.fn,o=0;o<e.length;o++)a=e[o],s=a.split("."),1===s.length?T[s[0]]=r:(!T[s[0]]||T[s[0]]instanceof Boolean||(T[s[0]]=new Boolean(T[s[0]])),T[s[0]][s[1]]=r),y.push((r?"":"no-")+s.join("-"))}})(),o(y),delete D.addTest,delete D.addAsyncTest;for(var B=0;B<T._q.length;B++)T._q[B]();e.Modernizr=T})(window,document)},3317:function(e,t){Modernizr.addTest("highresdisplay",(function(){if(window.matchMedia){var e=window.matchMedia("only screen and (-moz-min-device-pixel-ratio: 1.3), only screen and (-o-min-device-pixel-ratio: 2.6/2), only screen and (-webkit-min-device-pixel-ratio: 1.3), only screen and (min-device-pixel-ratio: 1.3), only screen and (min-resolution: 1.3dppx)");if(e&&e.matches||window.screen.deviceXDPI/window.screen.logicalXDPI>=1.3)return!0}}))},3318:function(e,t){Modernizr.addTest("is-pdd",(function(){return!!Daria.Config.pddDomain})),Modernizr.addTest("draganddrop",(function(){var e=document.createElement("div");return"draggable"in e||"ondragstart"in e&&"ondrop"in e})),Modernizr.addTest("draganddrop-files",(function(){return Boolean(Modernizr.draganddrop&&window.FormData&&Modernizr.filereader)})),Modernizr.addTest("input-multiple",(function(){return Boolean(Modernizr.input.multiple&&window.FormData&&Modernizr.filereader)})),Modernizr.addTest("classlist-second-arg",(function(){if(!Modernizr.classlist)return!1;var e=document.createElement("div");return e.classList.add("cl1","cl2"),"cl1"!==e.className}))},3319:function(e,t){Modernizr.addTest("msie",(function(){return"MSIE"===Daria.UA.BrowserName&&document.documentMode})),Modernizr.addTest("webkit",(function(){return"WebKit"===Daria.UA.BrowserEngine&&Daria.UA.BrowserEngineVersion})),Modernizr.addTest("opera",(function(){return"Opera"===Daria.UA.BrowserName&&Daria.UA.BrowserVersion})),Modernizr.addTest("mozilla",(function(){return"Gecko"===Daria.UA.BrowserEngine&&Daria.UA.BrowserEngineVersion})),Modernizr.addTest("edge",(function(){return"Edge"===Daria.UA.BrowserEngine&&Daria.UA.BrowserEngineVersion})),Modernizr.addTest("safari",(function(){return"Safari"===Daria.UA.BrowserName})),Modernizr.addTest("ie9",(function(){return"MSIE"===Daria.UA.BrowserName&&9===document.documentMode})),Modernizr.addTest("ie10",(function(){return"MSIE"===Daria.UA.BrowserName&&10===document.documentMode})),Modernizr.addTest("ie11",(function(){return"MSIE"===Daria.UA.BrowserName&&11===document.documentMode})),Modernizr.addTest("ielt11",(function(){return"MSIE"===Daria.UA.BrowserName&&document.documentMode<11})),Modernizr.addTest("ios",(function(){return"iOS"===Daria.UA.OSFamily})),Modernizr.addTest("mac",(function(){return"MacOS"===Daria.UA.OSFamily}))},3320:function(e,t){!(function(e){e.atob=e.atob||function(e){e=String(e);var t,n=0,r=[],i=0,o=0;if(e=e.replace(/\s/g,""),e.length%4==0&&(e=e.replace(/=+$/,"")),e.length%4==1)throw new Error("InvalidCharacterError");if(/[^+/0-9A-Za-z]/.test(e))throw new Error("InvalidCharacterError");for(;n<e.length;)t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(n)),i=i<<6|t,o+=6,24===o&&(r.push(String.fromCharCode(i>>16&255)),r.push(String.fromCharCode(i>>8&255)),r.push(String.fromCharCode(255&i)),o=0,i=0),n+=1;return 12===o?(i>>=4,r.push(String.fromCharCode(255&i))):18===o&&(i>>=2,r.push(String.fromCharCode(i>>8&255)),r.push(String.fromCharCode(255&i))),r.join("")}})(this)},3321:function(e,t){(function(e){"use strict";e.Transitions={_names:{transition:"transitionend",OTransition:"oTransitionEnd",WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend"},_parseTimes:function(e){for(var t,n=e.split(/,\s*/),r=0;r<n.length;r++)t=n[r],n[r]=parseFloat(t),t.match(/\ds/)&&(n[r]=1e3*n[r]);return n},getEvent:function(){var e=!1;for(var t in this._names)if(void 0!==document.body.style[t]){e=this._names[t];break}return this.getEvent=function(){return e},e},animFrame:function(e){var t=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.msRequestAnimationFrame;return this.animFrame=t?function(e){return t.call(window,e)}:function(e){return setTimeout(e,10)},this.animFrame(e)},isSupported:function(){return!1!==this.getEvent()}},e.extend(e.fn,{afterTransition:function(t,n){if(void 0===n&&(n=t,t=1),!e.Transitions.isSupported()){for(var r=0;r<this.length;r++)n.call(this[r],{type:"aftertransition",elapsedTime:0,propertyName:"",currentTarget:this[r]});return this}for(var r=0;r<this.length;r++){var i=e(this[r]),o=i.css("transition-property").split(/,\s*/),a=i.css("transition-duration"),s=i.css("transition-delay");a=e.Transitions._parseTimes(a),s=e.Transitions._parseTimes(s);for(var u,c,l,f,d,h=0;h<o.length;h++)u=o[h],c=a[1==a.length?0:h],l=s[1==s.length?0:h],f=l+c*t,d=c*t/1e3,(function(t,r,i,o){setTimeout((function(){e.Transitions.animFrame((function(){n.call(t[0],{type:"aftertransition",elapsedTime:o,propertyName:r,currentTarget:t[0]})}))}),i)})(i,u,f,d)}return this},transitionEnd:function(t){for(var n=0;n<this.length;n++)this[n].addEventListener(e.Transitions.getEvent(),(function(e){t.call(this,e)}));return this}})}).call(this,jQuery)},3322:function(e,t){vow.Queue=(function(){function e(e){this._pendingTasks=[],this._params=n(r,e),this._curWeight=0,this._isRunScheduled=!1,this._isStopped=!0,this._processedBuffer=[],this._stats={pendingTasksCount:0,processingTasksCount:0,processedTasksCount:0}}var t=_.defer,n=function(){for(var e={},t=0,n=arguments.length;t<n;t++){var r=arguments[t];if(r)for(var i in r)r.hasOwnProperty(i)&&(e[i]=r[i])}return e},r={weightLimit:100},i={weight:1,priority:1};return e.prototype={enqueue:function(e,t){var n=this._buildTask(e,t);if(n.params.weight>this._params.weightLimit)throw Error("task with weight of "+n.params.weight+" can't be performed in queue with limit of "+this._params.weightLimit);return this._enqueueTask(n),this._isStopped||this._scheduleRun(),n.defer.promise().always((function(){this._stats.processingTasksCount--,this._stats.processedTasksCount++}),this),n.defer.promise()},start:function(){if(this._isStopped){this._isStopped=!1;var e=this._processedBuffer;e.length&&(this._processedBuffer=[],t((function(){for(;e.length;)e.shift()()}))),this._hasPendingTasks()&&this._scheduleRun()}},stop:function(){this._isStopped=!0},isStarted:function(){return!this._isStopped},setParams:function(e){void 0!==e.weightLimit&&(this._params.weightLimit=e.weightLimit,this._scheduleRun())},getStats:function(){return this._stats},_buildTask:function(e,t){return{fn:e,params:n(i,t),defer:vow.defer()}},_enqueueTask:function(e){var t=this._pendingTasks,n=t.length;for(this._stats.pendingTasksCount++;n;){if(t[n-1].params.priority>=e.params.priority)return void(n===t.length?t.push(e):t.splice(n,0,e));n--}t.unshift(e)},_scheduleRun:function(){this._isRunScheduled||(this._isRunScheduled=!0,t(this._run.bind(this)))},_run:function(){for(this._isRunScheduled=!1;this._hasPendingTasks()&&this._allowRunTask(this._pendingTasks[0]);)this._runTask(this._pendingTasks.shift())},_hasPendingTasks:function(){return!!this._pendingTasks.length},_allowRunTask:function(e){return this._curWeight+e.params.weight<=this._params.weightLimit},_runTask:function(e){this._curWeight+=e.params.weight,this._stats.pendingTasksCount--,this._stats.processingTasksCount++;var t=vow.invoke(e.fn);t.progress(e.defer.notify,e.defer).always((function(){this._curWeight-=e.params.weight,this._isStopped?this._processedBuffer.push((function(){e.defer.resolve(t)})):(e.defer.resolve(t),this._scheduleRun())}),this)}},e})()},3323:function(e,t){Jane.Common={},Jane.Common.n=function(e){return e<10?"0"+Number(e):String(e)},Jane.Common.nop=function(){},Jane.Common._true=function(){return!0},Jane.Common._false=function(){return!1},Jane.Common.keyCode={ENTER:13,LEFT:37,UP:38,RIGHT:39,DOWN:40,DEL:46,TAB:9,RETURN:13,ESC:27,COMMA:188,SEMI:Modernizr.msie?186:59,PAGEUP:33,PAGEDOWN:34,BACKSPACE:8,SHIFT:16,CTRL:17,ALT:18,META:91,COMMA_CHAR:44,SEMI_CHAR:59,SPACE_CHAR:32,L_CHAR:76,A_CHAR:65}},3324:function(e,t){!(function(){function e(t,n){var r=this;$.extend(this,e.DEFAULT_OPTS,n),nb&&t instanceof nb.Block?(this.nbInput=t,this.input=t.$control):this.input=$(t),["show","hide","hideIfClickOutside","keydownHandler","selectDate"].forEach((function(e){"function"==typeof r[e]&&(r[e]=r[e].bind(r))})),this.selectDateLazy=_.throttle((function(){r.visible&&r.selectDate()}),50,{trailing:!0}),$(document).on("hide-calendar",this.hide),this.build(),this.selectDate(),this.hide()}e.DEFAULT_OPTS={usePosition:!1,container:"body",start_of_week:1,hideOnScroll:!1,autoOrientation:!1,visible:!1},e.prototype={build:function(){var e=this;this.$popup=$(Jane.tt("common:calendar")),this.$nav=this.$popup.find(".js-navigation"),this.tbody=this.$popup.find(".js-table-body"),this.yearNameSpan=this.$nav.find(".b-mail-calendar__controls__year-name"),this.monthNameSpan=this.$nav.find(".b-mail-calendar__controls__month-name");for(var t="",n=0;n<7;n++){t+="<th class='b-mail-calendar__table__cell"+(0==n?" b-mail-calendar__table__cell_first":6==n?" b-mail-calendar__table__cell_last":"")+"'>"+this.dayName((n+e.start_of_week)%7)+"</th>"}this.$popup.find(".js-row-h").html(t),$(this.container).append(this.$popup),this.$popup.on("click",".prev:not(.b-link_disabled)",(function(){e.moveMonthBy(-1)})).on("click",".next:not(.b-link_disabled)",(function(){e.moveMonthBy(1)})).on("click",".b-mail-calendar__table__cell:not(.b-mail-calendar__table__cell_disabled)",(function(t){e.changeInput($(t.currentTarget).attr("date"))})).on("mousedown click",(function(e){e.preventDefault(),e.stopPropagation()})),this.input.on("keydown keyup change",(function(){e.selectDateLazy()})),this.hideOnScroll&&$(document).on("scroll",this.hide)},updateOptions:function(e){$.extend(this,e),this._needRepaint=!0},selectMonth:function(e){var t=new Date(e.getFullYear(),e.getMonth(),1);if(this._needRepaint||!this.currentMonth||this.currentMonth.getFullYear()!==t.getFullYear()||this.currentMonth.getMonth()!==t.getMonth()){this._needRepaint=!1,this.currentMonth=t;for(var n=this.rangeStart(e),r=this.rangeEnd(e),i=this.daysBetween(n,r),o="",a=this.getRangeDate(this.minDate),s=this.getRangeDate(this.maxDate),u=0;u<=i;u++){var c=new Date(n.getFullYear(),n.getMonth(),n.getDate()+u,12,0),l=this.isDayOff(c)?" b-mail-calendar__table__cell_day-off":"";this.isFirstDayOfWeek(c)&&(o+="<tr class='b-mail-calendar__table__row'>"),a&&c<a||s&&c>s?o+='<td class="b-mail-calendar__table__cell b-mail-calendar__table__cell_disabled"><a class="b-mail-calendar__table__i">'+c.getDate()+"</a></td>":c.getMonth()==e.getMonth()?o+='<td class="b-mail-calendar__table__cell'+l+'" date="'+this.dateToString(c)+'"><a class="b-mail-calendar__table__i">'+c.getDate()+"</a></td>":o+='<td class="b-mail-calendar__table__cell b-mail-calendar__table__cell_inactive" date="'+this.dateToString(c)+'"><a class="b-mail-calendar__table__i">'+c.getDate()+"</a></td>",this.isLastDayOfWeek(c)&&(o+="</tr>")}this.tbody.empty().append(o),this.$popup.removeClass("UNUSED"),this.monthNameSpan.empty().append(this.monthName(e.getMonth())),this.yearNameSpan.empty().append(this.currentMonth.getFullYear());var f;a&&(f=this.currentMonth>(a&&a.setDate(1)&&a.setHours(0)),this.$nav.find(".prev").toggleClass("b-link_disabled",!f)),s&&(f=this.currentMonth<(s&&s.setDate(1)&&s.setHours(0)),this.$nav.find(".next").toggleClass("b-link_disabled",!f)),$('td[date="'+this.dateToString(new Date)+'"]',this.tbody).addClass("b-mail-calendar__table__cell_today")}$(".b-mail-calendar__table__cell_selected",this.tbody).removeClass("b-mail-calendar__table__cell_selected"),$('td[date^="'+this.selectedDateString.substr(0,10)+'"]',this.tbody).addClass("b-mail-calendar__table__cell_selected")},getRangeDate:function(e){var t,n,r;if(e instanceof Date)return t=e.getFullYear()||!1,n=e.getMonth()||!1,r=e.getDate()||!1,new Date(t,n,r,12,0)},selectDate:function(e){void 0===e&&(e=this.stringToDate(this.getInputVal())),e||(e=new Date),this.selectedDate=e,this.selectedDateString=this.dateToString(this.selectedDate),this.selectMonth(this.selectedDate)},changeInput:function(e){this.setInputVal(e),this.selectDate(),this.onSelect(e),this.hide()},setInputVal:function(e){this.nbInput?this.nbInput.setValue(e):this.input.val(e),this.onSelect&&this.onSelect(e)},getInputVal:function(){return this.nbInput?this.nbInput.getValue():this.input.val()},show:function(){ns.events.trigger("date-input:close-calendar"),ns.events.on("date-input:close-calendar",this.hide),this.visible=!0,this.$popup.css("display","block"),$([window,document.body]).click(this.hideIfClickOutside),this.input.off(".date-input"),$(document.body).keydown(this.keydownHandler),this.selectDate(),this.setPosition()},hide:function(){this.visible=!1,this.$popup.css("display","none"),$([window,document.body]).off("click",this.hideIfClickOutside),this.input.on("focus.date-input click.date-input",this.show),$(document.body).off("keydown",this.keydownHandler),ns.events.off("date-input:close-calendar",this.hide)},hideIfClickOutside:function(e){var t=this.nbInput?this.nbInput.$control[0]:this.input[0],n=this.$popup[0];t===e.target||$.contains(t,e.target)||n===e.target||$.contains(n,e.target)||this.hide()},keydownHandler:function(e){var t=Jane.Common.keyCode,n=e.keyCode;if(n===t.TAB)this.hide();else if(n===t.ESC)this.hide(),e.stopPropagation();else if(this.useKeyboard){switch(n){case t.ENTER:this.changeInput(this.selectedDateString);break;case t.PAGEUP:this.moveDateMonthBy(e.ctrlKey?-12:-1);break;case t.PAGEDOWN:this.moveDateMonthBy(e.ctrlKey?12:1);break;case t.UP:this.moveDateBy(-7);break;case t.DOWN:this.moveDateBy(7);break;case t.LEFT:this.moveDateBy(-1);break;case t.RIGHT:this.moveDateBy(1)}e.preventDefault()}},stringToDate:function(e){var t;if(this.isSimpleDateFormat){if(t=e.trim().match(/^(\d{1,2})\.(\d{1,2})\.(\d{4})$/))return new Date(t[3],Number(t[2])-1,t[1],12)}else if(t=e.match(/^(\d{1,2}) ([^\s]+) (\d{4})$/))return new Date(t[3],this.monthName(t[2]),t[1],12);return null},dateToString:function(e){if(this.isSimpleDateFormat){var t=Jane.Common.n;return t(e.getDate())+"."+t(e.getMonth()+1)+"."+e.getFullYear()}return e.getDate()+" "+this.shortMonthName(e.getMonth())+" "+e.getFullYear()},setPosition:function(){var e=0,t=0,n=Boolean(this.nbInput);n&&(e=7,t=1);var r,i=n?this.nbInput.$node:this.input;r=this.usePosition?i.position():i.offset();var o=r.left+t,a=r.top+i.outerHeight()+e,s=$(window),u=s.width();if(this.autoOrientation){var c=s.scrollTop(),l=c+s.height(),f=this.$popup.outerHeight();i.offset().top+f+6>l&&(a=r.top-f-e)}var d=this.$popup.outerWidth();o+d>u&&(o=u-d-15),this.$popup.css($.extend({},this.addStyle,{top:a,left:o})),this.ieframe&&this.ieframe.css({width:this.$popup.outerWidth(),height:this.$popup.outerHeight()})},moveDateBy:function(e){var t=new Date(this.selectedDate.getFullYear(),this.selectedDate.getMonth(),this.selectedDate.getDate()+e);this.selectDate(t)},moveDateMonthBy:function(e){var t=new Date(this.selectedDate.getFullYear(),this.selectedDate.getMonth()+e,this.selectedDate.getDate());t.getMonth()==this.selectedDate.getMonth()+e+1&&t.setDate(0),this.selectDate(t)},moveMonthBy:function(e){var t=new Date(this.currentMonth.getFullYear(),this.currentMonth.getMonth()+e,this.currentMonth.getDate());this.selectMonth(t)},monthName:function(e){return Jane.Date.monthName(e)},shortMonthName:function(e){return Jane.Date.shortMonthName(e)},dayName:function(e){return Jane.Date.weekDay(e)},indexFor:function(e,t){for(var n=0;n<e.length;n++)if(t==e[n])return n},daysBetween:function(e,t){return e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),((t=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()))-e)/864e5},changeDayTo:function(e,t,n){var r=n*(Math.abs(t.getDay()-e-7*n)%7);return new Date(t.getFullYear(),t.getMonth(),t.getDate()+r)},rangeStart:function(e){return this.changeDayTo(this.start_of_week,new Date(e.getFullYear(),e.getMonth()),-1)},rangeEnd:function(e){return this.changeDayTo((this.start_of_week-1)%7,new Date(e.getFullYear(),e.getMonth()+1,0),1)},isFirstDayOfWeek:function(e){return e.getDay()==this.start_of_week},isLastDayOfWeek:function(e){return e.getDay()==(this.start_of_week-1)%7},isDayOff:function(e){return 6==e.getDay()||0==e.getDay()},onSelect:function(){}},$.fn.date_input=function(t){return this.each((function(){new e(this,t)}))},Jane.DateInput=e})()},3325:function(e,t){$.fn.frameSubmit=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=this,n=$.Deferred(),r=n.promise();if(1!==t.length||!t.is("form"))return n.reject({}),r;var i=_.uniqueId("frame-submit-"),o=$("<iframe>").css("display","none").attr("name",i).appendTo("body").on("load",(function(e){try{var t=JSON.parse(e.target.contentDocument.body.textContent);n.resolve(t)}catch(e){n.reject({})}o.remove()}));if(t.attr("target",i),e.data)for(var a in e.data)$("<input>").attr({type:"hidden",name:a,value:e.data[a]}).appendTo(t);return t.submit(),r}},3326:function(e,t){!(function(e){var t={comma:188,backspace:8,tab:9,cmd:Modernizr.opera?17:Modernizr.mozilla?224:[91,93],enter:13,pause:19,capslock:20,esc:27,space:32,pageup:33,pagedown:34,end:35,home:36,left:37,up:38,right:39,down:40,insert:45,delete:46,f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123,"?":191,minus:Modernizr.opera?[109,45]:Modernizr.mozilla?109:[189,109],plus:Modernizr.opera?[61,43,107,187]:Modernizr.mozilla?[61,107]:[187,107]},n={keydown:{}};n.keydown[t.enter]=!0,n.keydown[t.esc]=!0;var r={},i={},o=null,a=[],s={},u={},c=!1,l=function(t,n){var r=t;n.ctrl&&(r+="_ctrl"),n.meta&&!Modernizr.msie&&(r+="_meta"),n.alt&&(r+="_alt"),n.shift&&(r+="_shift");var i=function(e,t){return t&&16!==t&&17!==t&&18!==t&&91!==t&&(e+="_"+t),e};if(e.isArray(n.which)){var o=[];return e.each(n.which,(function(e,t){o.push(i(r,t))})),o}return i(r,n.which)},f=function(n){var r={},i=n.split("+");return e.each(i,(function(e,n){"ctrl"===n||"meta"===n||"alt"===n||"shift"===n?r[n]=!0:r.which=t[n]||n.toUpperCase().charCodeAt()})),r},d=function(t){var n=t.tagName.toLowerCase(),r=t.type,i=["button","reset","submit","radio","checkbox"];return"input"===n&&e.inArray(r,i)<0||"textarea"===n},h=function(e,t){return void 0===t||-1!==e.className.indexOf(t)},p=function(e,t){if(void 0===t||!t instanceof Array)return!0;for(var n=0;n<t.length;n++)if(e.className.indexOf(t[n])>-1)return!1;return!0},g=function(e){for(var t in i)if(i[t].hasOwnProperty(e))return i[t][e]},m=function(t,n){if(i){var r={ctrl:n.ctrlKey,meta:n.metaKey,alt:n.altKey,shift:n.shiftKey,which:n.which},o=l(t,r),a=g(o),t=ns.page.current.page;if(a&&!(e.Shortcuts.isFrozen()||nb.isAnySelectOpened()||nb.isAnyModalOpened())){var s=d(n.target),u=!1;e.each(a,(function(r,i){if(e.isArray(i.disableAt))for(var o=i.disableAt,r=0,a=o.length;r<a;r++)if(o[r]==t)return;if(!s||i.enableInInput&&h(n.target,i.namedInput)&&p(n.target,i.filterInput)){ns.events.trigger("daria:shortcuts:beforeShortcut");var c=i.action,l=null;l=c?ns.action.run(c,{}):i.handler(n),!0===l||u||(n.preventDefault(),u=!0);var f=document.activeElement;return!s&&f&&"A"===f.nodeName&&e(f).blur(),l}}))}}};e.Shortcuts={_frozen:!1},e.Shortcuts.freeze=function(){this._frozen=!0},e.Shortcuts.unfreeze=function(){this._frozen=!1},e.Shortcuts.isFrozen=function(){return this._frozen},e.Shortcuts.switchList=function(t){var n=i;null!==o&&(n=o);for(var a in n)s.hasOwnProperty(a)||a===t||delete n[a];if(!r[t])return!1;e.Shortcuts.enableList(t)},e.Shortcuts.modalListOn=function(e){if(!r[e])return!1;null===o&&(o=i),i={},i[e]=r[e]},e.Shortcuts.modalListOff=function(t){null!==o&&(i=o,o=null,e.Shortcuts.refresh(t))},e.Shortcuts.modalListPush=function(e){return!!r[e]&&(a.push(i),i={},i[e]=r[e],!0)},e.Shortcuts.modalListPop=function(t){i[t]&&(a.length?(i=a.pop(),e.Shortcuts.refresh()):Jane.ErrorLog.sendException("unnecessary_modal_list_pop",new Error("listsStack.length is already 0")))},e.Shortcuts.disableList=function(e){if(!r[e])return!1;i.hasOwnProperty(e)&&delete i[e]},e.Shortcuts.enableList=function(e){if(!r[e])return!1;null!==o&&(o[e]=r[e]),i[e]=r[e]},e.Shortcuts.loadList=function(t,n){var i=t.global||!1,o=t.shortcuts||{},a=t.name||"default";r[a]||(r[a]={});for(var u in o){var c=o[u];c.list=a,c.type=c.type||"down",n&&void 0!==c.altMask&&(c.mask=c.altMask),e.Shortcuts.add(c)}i&&(s[a]=1,e.Shortcuts.enableList(a))},e.Shortcuts.start=function(t){if(!c)return e(document).on("keydown.shortcuts",(function(e){("true"!==e.target.getAttribute("contenteditable")||e.target!==document.activeElement||n.keydown[e.which])&&("keypress"===e.type&&e.which>=97&&e.which<=122&&(e.which=e.which-32),u[e.which]||m("down",e),u[e.which]=!0,m("hold",e),[e.which===Jane.Common.keyCode.A_CHAR&&(e.metaKey||e.ctrlKey),e.which===Jane.Common.keyCode.BACKSPACE&&e.metaKey].some((function(e){return e}))&&(u[e.which]=!1))})),e(document).on("keyup.shortcuts",(function(e){"true"===e.target.getAttribute("contenteditable")||(u[e.which]=!1,m("up",e))})),c=!0,this},e.Shortcuts.stop=function(){return e(document).off("keypress.shortcuts keydown.shortcuts keyup.shortcuts"),c=!1,this},e.Shortcuts.refresh=function(t){e.Shortcuts.stop(),e.Shortcuts.start(t)},e.Shortcuts.add=function(t){if(!t.mask)throw new Error("$.Shortcuts.add: required parameter 'params.mask' is undefined.");if(!t.handler&&!t.action)throw new Error("$.Shortcuts.add: required parameter 'params.handler' or 'params.action' is undefined.");var n=t.type||"down",i=t.list?t.list.replace(/\s+/g,"").split(","):["default"];return e.each(i,(function(i,o){r[o]||(r[o]={});var a=r[o],s=t.mask.toLowerCase().replace(/\s+/g,"").split(",");e.each(s,(function(r,i){var o=f(i),s=l(n,o);e.isArray(s)||(s=[s]),e.each(s,(function(e,n){a[n]||(a[n]=[]),a[n].push(t)}))}))})),this},e.Shortcuts.remove=function(t){if(!t.mask)throw new Error("$.Shortcuts.remove: required parameter 'params.mask' is undefined.");var n=t.type||"down",i=t.list?t.list.replace(/\s+/g,"").split(","):["default"];return e.each(i,(function(i,o){if(!r[o])return!0;var a=t.mask.toLowerCase().replace(/\s+/g,"").split(",");e.each(a,(function(t,i){var a=f(i),s=l(n,a);e.isArray(s)||(s=[s]),e.each(s,(function(e,t){delete r[o][t]}))}))})),this}})(jQuery)},3327:function(e,t){!(function(e){var t=/select|textarea/i,n=/text|password|checkbox|hidden|number/i,r=/checkbox/i,i=/radio/i;e.fn.serializeObject=function(){var o={};return this.map((function(){return this.elements?jQuery.makeArray(this.elements):this})).filter((function(){return this.name&&!this.disabled&&(t.test(this.nodeName)||n.test(this.type)||i.test(this.type)&&this.checked)})).each((function(){var t=r.test(this.type)&&!this.checked?"":e(this).val(),n=this.name;void 0!==o[n]?e.isArray(o[n])?o[n].push(t):o[n]=[o[n],t]:o[n]=t})),o}})(jQuery)},3328:function(e,t){!(function(e,t,n){var r={client:{},full:{},scroll:{}},i=(function(){if("onmousewheel"in n)return"mw";try{var e=t.createEvent("MouseScrollEvents");e.initMouseEvent("DOMMouseScroll",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null);var i=e.HORIZONTAL_AXIS,o=e.VERTICAL_AXIS;return r.client[i]="clientWidht",r.client[o]="clientHeight",r.full[i]="scrollWidth",r.full[o]="scrollHeight",r.scroll[i]="scrollLeft",r.scroll[o]="scrollTop",r.x=i,r.y=o,e=null,"mpx"}catch(e){if(t.addEventListener)return"dms"}return"none"})(),o={mpx:function(e,t,n){this.addEventListener("DOMMouseScroll",(function(e){var t=e.axis,n=this[r.full[t]],i=this[r.client[t]],o=this[r.scroll[t]]+e.detail;o>0&&o<n-i&&e.preventDefault()}),!1),this.addEventListener("MozMousePixelScroll",(function(e){var t=e.detail,i=e.axis;this[r.scroll[i]]=this[r.scroll[i]]+t,n.call(this,u(e))}),!1)},dms:function(e,t,n){this.addEventListener("DOMMouseScroll",(function(e){n.call(this,u(e))}),!1)}},a={};a.mw=a.mpx=a.dms=function(e){e.handler=s(e.handler)},e.event.special.mousewheel={setup:o[i],add:a[i]};var s=function(e){return function(t){var n="wheelDeltaX"in t?t.wheelDeltaX:t.originalEvent.wheelDeltaX,r="wheelDeltaY"in t?t.wheelDeltaY:t.originalEvent.wheelDeltaY;e.call(this,t,t.wheelDelta,n,r)}},u=function(t){var n=0-t.detail,i=t.axis,t=e.event.fix(t);return t.type="mousewheel",t.wheelDelta=n,t.wheelDeltaX=i===r.x?n:0,t.wheelDeltaY=i===r.y?n:0,t}})(jQuery,document,window)},3329:function(e,t){!(function(){function e(e){var t="focus"===e.type?"focusin":"focusout",n=new window.CustomEvent(t,{bubbles:!0,cancelable:!1});n.c1Generated=!0,e.target.dispatchEvent(n)}function t(n){n.c1Generated||(r.removeEventListener("focus",e,!0),r.removeEventListener("blur",e,!0),r.removeEventListener("focusin",t,!0),r.removeEventListener("focusout",t,!0)),setTimeout((function(){r.removeEventListener("focusin",t,!0),r.removeEventListener("focusout",t,!0)}))}var n=window,r=n.document;void 0!==n.onfocusin&&null!==n.onfocusin||(r.addEventListener("focus",e,!0),r.addEventListener("blur",e,!0),r.addEventListener("focusin",t,!0),r.addEventListener("focusout",t,!0))})()},3330:function(e,t,n){!(function(){"use strict";Jane.String={},n(3331),Jane.String.countLines=function(e){return e?String(e).split("\n").length:0},Jane.String.countActualLines=function(e){return e?String(e).split("\n").filter((function(e){return!Jane.String.REG.NON_PRINTERED_CHARS.test(e)})).length:0},Jane.String.rtrim=function(e){return e.replace(Jane.String.REG.RTRIM,"")},Jane.String.ltrim=function(e){return e.replace(Jane.String.REG.LTRIM,"")},Jane.String.removeNonLetterString=function(e){return e.replace(Jane.String.REG.MULTILINE,Jane.String._removeNonLetterStringTrim).replace(Jane.String.REG.NEWLINE_DUPLICATE,"\n")},Jane.String._removeNonLetterStringTrim=function(e){return e.trim()},Jane.String.substrWord=function(e,t,n){if(e.length<=t+n)return e;var r=e.lastIndexOf(" ",t+n);return-1!==r?e.substring(t,r):e.substr(t,n)}})()},3331:function(e,t){!(function(){Jane.String.REG={},Jane.String.REG.NONLETTER_STR=new RegExp("^[^\\u0041-\\u005A\\u0061-\\u007A\\u00AA\\u00B5\\u00BA\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02C1\\u02C6-\\u02D1\\u02E0-\\u02E4\\u02EC\\u02EE\\u0370-\\u0374\\u0376\\u0377\\u037A-\\u037D\\u0386\\u0388-\\u038A\\u038C\\u038E-\\u03A1\\u03A3-\\u03F5\\u03F7-\\u0481\\u048A-\\u0527\\u0531-\\u0556\\u0559\\u0561-\\u0587\\u05D0-\\u05EA\\u05F0-\\u05F2\\u0620-\\u064A\\u066E\\u066F\\u0671-\\u06D3\\u06D5\\u06E5\\u06E6\\u06EE\\u06EF\\u06FA-\\u06FC\\u06FF\\u0710\\u0712-\\u072F\\u074D-\\u07A5\\u07B1\\u07CA-\\u07EA\\u07F4\\u07F5\\u07FA\\u0800-\\u0815\\u081A\\u0824\\u0828\\u0840-\\u0858\\u08A0\\u08A2-\\u08AC\\u0904-\\u0939\\u093D\\u0950\\u0958-\\u0961\\u0971-\\u0977\\u0979-\\u097F\\u0985-\\u098C\\u098F\\u0990\\u0993-\\u09A8\\u09AA-\\u09B0\\u09B2\\u09B6-\\u09B9\\u09BD\\u09CE\\u09DC\\u09DD\\u09DF-\\u09E1\\u09F0\\u09F1\\u0A05-\\u0A0A\\u0A0F\\u0A10\\u0A13-\\u0A28\\u0A2A-\\u0A30\\u0A32\\u0A33\\u0A35\\u0A36\\u0A38\\u0A39\\u0A59-\\u0A5C\\u0A5E\\u0A72-\\u0A74\\u0A85-\\u0A8D\\u0A8F-\\u0A91\\u0A93-\\u0AA8\\u0AAA-\\u0AB0\\u0AB2\\u0AB3\\u0AB5-\\u0AB9\\u0ABD\\u0AD0\\u0AE0\\u0AE1\\u0B05-\\u0B0C\\u0B0F\\u0B10\\u0B13-\\u0B28\\u0B2A-\\u0B30\\u0B32\\u0B33\\u0B35-\\u0B39\\u0B3D\\u0B5C\\u0B5D\\u0B5F-\\u0B61\\u0B71\\u0B83\\u0B85-\\u0B8A\\u0B8E-\\u0B90\\u0B92-\\u0B95\\u0B99\\u0B9A\\u0B9C\\u0B9E\\u0B9F\\u0BA3\\u0BA4\\u0BA8-\\u0BAA\\u0BAE-\\u0BB9\\u0BD0\\u0C05-\\u0C0C\\u0C0E-\\u0C10\\u0C12-\\u0C28\\u0C2A-\\u0C33\\u0C35-\\u0C39\\u0C3D\\u0C58\\u0C59\\u0C60\\u0C61\\u0C85-\\u0C8C\\u0C8E-\\u0C90\\u0C92-\\u0CA8\\u0CAA-\\u0CB3\\u0CB5-\\u0CB9\\u0CBD\\u0CDE\\u0CE0\\u0CE1\\u0CF1\\u0CF2\\u0D05-\\u0D0C\\u0D0E-\\u0D10\\u0D12-\\u0D3A\\u0D3D\\u0D4E\\u0D60\\u0D61\\u0D7A-\\u0D7F\\u0D85-\\u0D96\\u0D9A-\\u0DB1\\u0DB3-\\u0DBB\\u0DBD\\u0DC0-\\u0DC6\\u0E01-\\u0E30\\u0E32\\u0E33\\u0E40-\\u0E46\\u0E81\\u0E82\\u0E84\\u0E87\\u0E88\\u0E8A\\u0E8D\\u0E94-\\u0E97\\u0E99-\\u0E9F\\u0EA1-\\u0EA3\\u0EA5\\u0EA7\\u0EAA\\u0EAB\\u0EAD-\\u0EB0\\u0EB2\\u0EB3\\u0EBD\\u0EC0-\\u0EC4\\u0EC6\\u0EDC-\\u0EDF\\u0F00\\u0F40-\\u0F47\\u0F49-\\u0F6C\\u0F88-\\u0F8C\\u1000-\\u102A\\u103F\\u1050-\\u1055\\u105A-\\u105D\\u1061\\u1065\\u1066\\u106E-\\u1070\\u1075-\\u1081\\u108E\\u10A0-\\u10C5\\u10C7\\u10CD\\u10D0-\\u10FA\\u10FC-\\u1248\\u124A-\\u124D\\u1250-\\u1256\\u1258\\u125A-\\u125D\\u1260-\\u1288\\u128A-\\u128D\\u1290-\\u12B0\\u12B2-\\u12B5\\u12B8-\\u12BE\\u12C0\\u12C2-\\u12C5\\u12C8-\\u12D6\\u12D8-\\u1310\\u1312-\\u1315\\u1318-\\u135A\\u1380-\\u138F\\u13A0-\\u13F4\\u1401-\\u166C\\u166F-\\u167F\\u1681-\\u169A\\u16A0-\\u16EA\\u1700-\\u170C\\u170E-\\u1711\\u1720-\\u1731\\u1740-\\u1751\\u1760-\\u176C\\u176E-\\u1770\\u1780-\\u17B3\\u17D7\\u17DC\\u1820-\\u1877\\u1880-\\u18A8\\u18AA\\u18B0-\\u18F5\\u1900-\\u191C\\u1950-\\u196D\\u1970-\\u1974\\u1980-\\u19AB\\u19C1-\\u19C7\\u1A00-\\u1A16\\u1A20-\\u1A54\\u1AA7\\u1B05-\\u1B33\\u1B45-\\u1B4B\\u1B83-\\u1BA0\\u1BAE\\u1BAF\\u1BBA-\\u1BE5\\u1C00-\\u1C23\\u1C4D-\\u1C4F\\u1C5A-\\u1C7D\\u1CE9-\\u1CEC\\u1CEE-\\u1CF1\\u1CF5\\u1CF6\\u1D00-\\u1DBF\\u1E00-\\u1F15\\u1F18-\\u1F1D\\u1F20-\\u1F45\\u1F48-\\u1F4D\\u1F50-\\u1F57\\u1F59\\u1F5B\\u1F5D\\u1F5F-\\u1F7D\\u1F80-\\u1FB4\\u1FB6-\\u1FBC\\u1FBE\\u1FC2-\\u1FC4\\u1FC6-\\u1FCC\\u1FD0-\\u1FD3\\u1FD6-\\u1FDB\\u1FE0-\\u1FEC\\u1FF2-\\u1FF4\\u1FF6-\\u1FFC\\u2071\\u207F\\u2090-\\u209C\\u2102\\u2107\\u210A-\\u2113\\u2115\\u2119-\\u211D\\u2124\\u2126\\u2128\\u212A-\\u212D\\u212F-\\u2139\\u213C-\\u213F\\u2145-\\u2149\\u214E\\u2183\\u2184\\u2C00-\\u2C2E\\u2C30-\\u2C5E\\u2C60-\\u2CE4\\u2CEB-\\u2CEE\\u2CF2\\u2CF3\\u2D00-\\u2D25\\u2D27\\u2D2D\\u2D30-\\u2D67\\u2D6F\\u2D80-\\u2D96\\u2DA0-\\u2DA6\\u2DA8-\\u2DAE\\u2DB0-\\u2DB6\\u2DB8-\\u2DBE\\u2DC0-\\u2DC6\\u2DC8-\\u2DCE\\u2DD0-\\u2DD6\\u2DD8-\\u2DDE\\u2E2F\\u3005\\u3006\\u3031-\\u3035\\u303B\\u303C\\u3041-\\u3096\\u309D-\\u309F\\u30A1-\\u30FA\\u30FC-\\u30FF\\u3105-\\u312D\\u3131-\\u318E\\u31A0-\\u31BA\\u31F0-\\u31FF\\u3400-\\u4DB5\\u4E00-\\u9FCC\\uA000-\\uA48C\\uA4D0-\\uA4FD\\uA500-\\uA60C\\uA610-\\uA61F\\uA62A\\uA62B\\uA640-\\uA66E\\uA67F-\\uA697\\uA6A0-\\uA6E5\\uA717-\\uA71F\\uA722-\\uA788\\uA78B-\\uA78E\\uA790-\\uA793\\uA7A0-\\uA7AA\\uA7F8-\\uA801\\uA803-\\uA805\\uA807-\\uA80A\\uA80C-\\uA822\\uA840-\\uA873\\uA882-\\uA8B3\\uA8F2-\\uA8F7\\uA8FB\\uA90A-\\uA925\\uA930-\\uA946\\uA960-\\uA97C\\uA984-\\uA9B2\\uA9CF\\uAA00-\\uAA28\\uAA40-\\uAA42\\uAA44-\\uAA4B\\uAA60-\\uAA76\\uAA7A\\uAA80-\\uAAAF\\uAAB1\\uAAB5\\uAAB6\\uAAB9-\\uAABD\\uAAC0\\uAAC2\\uAADB-\\uAADD\\uAAE0-\\uAAEA\\uAAF2-\\uAAF4\\uAB01-\\uAB06\\uAB09-\\uAB0E\\uAB11-\\uAB16\\uAB20-\\uAB26\\uAB28-\\uAB2E\\uABC0-\\uABE2\\uAC00-\\uD7A3\\uD7B0-\\uD7C6\\uD7CB-\\uD7FB\\uF900-\\uFA6D\\uFA70-\\uFAD9\\uFB00-\\uFB06\\uFB13-\\uFB17\\uFB1D\\uFB1F-\\uFB28\\uFB2A-\\uFB36\\uFB38-\\uFB3C\\uFB3E\\uFB40\\uFB41\\uFB43\\uFB44\\uFB46-\\uFBB1\\uFBD3-\\uFD3D\\uFD50-\\uFD8F\\uFD92-\\uFDC7\\uFDF0-\\uFDFB\\uFE70-\\uFE74\\uFE76-\\uFEFC\\uFF21-\\uFF3A\\uFF41-\\uFF5A\\uFF66-\\uFFBE\\uFFC2-\\uFFC7\\uFFCA-\\uFFCF\\uFFD2-\\uFFD7\\uFFDA-\\uFFDC0-9]+$","i"),Jane.String.REG.NON_PRINTERED_CHARS=/^[\s\uFEFF\xA0]*$/,Jane.String.REG.NON_EMPTY_STRING=/[^\n\r\t\x20]+/,Jane.String.REG.RTRIM=/[ \s\xA0]+$/g,Jane.String.REG.LTRIM=/^[ \s\xA0]+/g,Jane.String.REG.MULTILINE=/.*/gm,Jane.String.REG.NEWLINE_DUPLICATE=/[\r\n]+/gm,Jane.String.REG.CLASS_SEP=/[\t\r\n\f]/g})()},3332:function(e,t){Jane.Array={remove:function(e,t){var n=e.indexOf(t);return n>-1&&e.splice(n,1),n}}},3333:function(e,t,n){!(function(e){function t(e,t,n){for(void 0===n&&(n=10),void 0===t&&(t=0);n>parseInt(e,10)&&n>1;n/=10)e=t.toString()+e;return e.toString()}var r=/^%(Date_[a-zA-Z0-9_]+|[#\^]?[v]|[cDFrRTxXGnpPtuUwYzZs%]|[#\^!~]{0,2}[aAbBfh]|[0\-_]?[CdegHIjmMSVWyl])$/,i=n(3334);e.Date={},n(3336),e.Date.SECOND=1e3,e.Date.MINUTE=60*e.Date.SECOND,e.Date.HOUR=60*e.Date.MINUTE,e.Date.DAY=24*e.Date.HOUR,e.Date.WEEK=7*e.Date.DAY,e.Date.MONTH=30*e.Date.DAY,e.Date.YEAR=365*e.Date.DAY,e.Date.format=function(e,t,n){if(!r.test(e))throw new Error("     ,         ");return"string"==typeof t&&(t=/^\d+$/.test(t)?Number(t):new Date(t)),i(e,t,n)},e.Date.monthName=function(e){return i18n("%Months_2",e)},e.Date.shortMonthName=function(e){return i18n("%Months_3",e)},e.Date.weekDay=function(e){return i18n("%Week_Day_Capital",e)},e.Date.monthName=function(e){return i18n("%Months_2",e)},e.Date.shortMonthName=function(e){return i18n("%Months_3",e)},e.Date.weekDay=function(e){return i18n("%Week_Day_Capital",e)},e.Date.humanDate=function(n){var r=new Date;r.setHours(0),r.setMinutes(0),r.setSeconds(0);var i=new Date(r.getTime()+864e5);return n>r&&n<i?i18n("%Today_At_Time",n.getHours(),t(n.getMinutes())):e.Date.format("%Date_dmY__dot",n)},e.Date.getInterval=function(e){"string"==typeof e&&(e=Number(e)),"number"==typeof e&&(e=new Date(e));var t=new Date(Daria.now()),n=t.getDate(),r=t.getMonth(),i=t.getFullYear(),o=e.getDate(),a=e.getMonth(),s=e.getFullYear(),u=i-s,c=r-a;c<0&&(u--,c=12+c);var l=n-o;l<0&&(c--,l=new Date(i,r,0).getDate()+l);var f=[];return u>0&&f.push(i18n("%N_years",u)),c>0&&f.push(i18n("%N_months",c)),l>0&&f.push(i18n("%N_days",l)),f.join(", ")};var o=[["","","","","","","","","","","",""],["","","","","","","","","","","",""],["","","","","","","","","","","",""],["","","","","","","","","","","",""],["jan","feb","mar","apr","may","jun","jul","aug","sep","oct","nov","dec"],["january","february","march","april","may","june","july","august","september","october","november","december"],["Yanvar","Fevral","Mart","Aprel","May","yun","yul","Avqust","Sentyabr","Oktyabr","Noyabr","Dekabr"],["","","","","","","","","","","",""],["","","","","","","","","","","",""],["","","","","","","","","","","",""],["Ocak","ubat","Mart","Nisan","Mays","Haziran","Temmuz","Austos","Eyll","Ekim","Kasm","Aralk"],["ianuarie","februarie","martie","aprilie","mai","iunie","iulie","august","septembrie","octombrie","noiembrie","decembrie"],["","","","","","","","","","","",""],["","","","","","","","","","","",""],["","","","","","","","","","","",""]].map((function(e){return e.map((function(e){return e.toLowerCase()}))}));e.Date.getMonthByName=function(e){e=e.replace(/\.$/,"").toLowerCase();for(var t=-1,n=0,r=o.length;n<r&&-1===(t=o[n].indexOf(e));n++);return t},e.Date.daysIntervalLocalization=function(e,t){var n={weeks:function(e){return t?i18n("%N_weeks_genitive",e):i18n("%N_weeks",e)},days:function(e){return t?i18n("%N_days_genitive",e):i18n("%N_days",e)},hours:function(e){return t?i18n("%N_hours_genitive",e):i18n("%N_hours",e)},minutes:function(e){return t?i18n("%N_minutes_genitive",e):i18n("%N_minutes",e)}};return _(n).keys().map((function(t){return e[t]?n[t](e[t]):null})).compact().value().join(" ")},e.Date.getDaysInterval=function(t,n){var r=n.getTime()-t.getTime(),i=Math.floor(r/e.Date.DAY);r-=i*e.Date.DAY;var o=Math.floor(r/e.Date.HOUR);r-=o*e.Date.HOUR;var a=Math.round(r/e.Date.MINUTE),s={days:i,hours:o,minutes:a};return this.daysIntervalLocalization(s)},e.Date.dateWithCustomTimeZone=function(t,n){var r=n*e.Date.HOUR,i=function(){return-new Date(t).getTimezoneOffset()*e.Date.MINUTE},o=t+r-i(),a=new Date(o);return _.extend(a,{isCustomTimezone:!0,timezoneHours:n,timezoneMs:r,getTimezoneOffset:function(){return-this.timezoneMs/e.Date.MINUTE},getTime:function(){return this._getTime()+(this._getUserTimezone()-this.timezoneMs)},_getUserTimezone:i,_getTime:a.getTime}),a},e.Date.clone=function(t){return t instanceof Date?t.isCustomTimezone?e.Date.dateWithCustomTimeZone(t.getTime(),t.timezoneHours):t instanceof e.Date.LocalDate?e.Date.LocalDate.convertDate(t):new Date(t.getTime()):_.clone(t)},e.Date.toCalendarISODate=function(t){return"string"!=typeof t&&(t instanceof Date&&(t=t.getTime()),t+=60*Daria.tz_offset*1e3,t=e.Date.format("%Date_iso",t)+"Z"),t},e.Date.isDateTheDayBeforeNow=function(e){var t=new Date(Daria.now());return e=new Date(e),t.getTime()-e.getTime()>=864e5},e.Date.dateToDay=function(e){return e instanceof Date||(e=new Date(e)),new Date(e.getFullYear(),e.getMonth(),e.getDate())},e.Date.isSameDay=function(e,t){return e.getFullYear()===t.getFullYear()&&e.getMonth()===t.getMonth()&&e.getDate()===t.getDate()},e.Date.daysBetween=function(e,t){return e=Date.UTC(e.getFullYear(),e.getMonth(),e.getDate()),((t=Date.UTC(t.getFullYear(),t.getMonth(),t.getDate()))-e)/864e5},e.Date.parseCalendarDate=function(e){if("number"==typeof e)return new Date(e);if(e=String(e||""),e.match(/^\d+$/))return new Date(parseInt(e,10));var t=e.match(/(\d{4})-(\d{2})-(\d{2}) (\d{2}):(\d{2}):(\d{2})/);return t&&7===t.length?new Date(parseInt(t[1],10),parseInt(t[2],10)-1,parseInt(t[3],10),parseInt(t[4],10),parseInt(t[5],10),parseInt(t[6],10)):null},e.Date.getHours=function(e){return e.getHours()+e.getMinutes()/60},e.Date.toHumanFormat=function(t){var n=new Date(Daria.passportNow()),r=t.getFullYear(),i=t.getMonth(),o=t.getDate();return r===n.getFullYear()&&i===n.getMonth()&&o===n.getDate()?i18n("%Compose_"):e.Date.format("%Date_dBY_year",t)}})(Jane)},3334:function(e,t,n){"use strict";function r(e,t,n){var r=t;if(void 0===r&&(r=new Date),"number"==typeof r&&(r=new Date(r)),!(r instanceof Date)||"Invalid Date"===String(r))return null;n&&(r=new Date(r.getTime()+6e4*r.getTimezoneOffset())),i.date=r;for(var o=5;e.match(c)&&o;)e=e.replace(u,i),o--;return e.replace(l,i)}function i(e,t,n,r,o,a){t=String(t),n=String(n),t=t.replace(/^[#_0\^\-!~]+/,"");var s=f[t];if(!s)return e;var u=!1;return-1===n.indexOf("!")&&1===t.length&&(n.indexOf("~")>-1||"bBf".indexOf(t)>-1&&/%[0\-_]?d[\s]+$/.test(a.substr(0,o)))&&(u=!0),s(i.date,n,r,u)}function o(e,t,n,r){if("-"===t)return e;for("_"===t&&(t=" "),void 0===n&&(n=0),void 0===r&&(r=10),void 0!==t&&""!==t||(t=n);r>e|0&&r>1;r/=10)e=t.toString()+e;return e.toString()}function a(e,t){return e=String(e),t=String(t),t.indexOf("#")>-1?e.toLowerCase():t.indexOf("^")>-1?e.toUpperCase():e.substr(0,1).toUpperCase()+e.substr(1)}var s=n(3335),u=/%(Date_[a-zA-Z0-9_]+|([#\^]?)[v]|[cDFrRTxX])/g,c=/%(Date_[a-zA-Z0-9_]+|[#\^]?[v]|[cDFrRTxX])/,l=/%(([#\^!~]{0,2})[aAbBfh]|([0\-_]?)[CdegHIjmMSVWyl]|[GnpPtuUwYzZs%])/g,f={a:function(e,t){return a(s.a[e.getDay()],t)},A:function(e,t){return a(s.A[e.getDay()],t)},b:function(e,t,n,r){return a(s[r?"bg":"b"][e.getMonth()],t)},h:function(e,t,n,r){return f.b(e,t,n,r)},f:function(e,t,n,r){return a(s[r?"fg":"f"][e.getMonth()],t)},B:function(e,t,n,r){return a(s[r?"Bg":"B"][e.getMonth()],t)},c:function(){return s.c},C:function(e,t,n){return o(e.getFullYear()/100|0,n,0)},d:function(e,t,n){return o(e.getDate(),n,0)},D:function(){return"%m/%d/%y"},e:function(e,t,n){return o(e.getDate(),n," ")},F:function(){return"%Y-%m-%d"},g:function(e,t,n){return o(f.G(e)%100,n,0)},G:function(e){var t=0|e.getFullYear(),n=0|f.V(e),r=0|f.W(e);return r>n?t++:0===r&&n>=52&&t--,t},H:function(e,t,n){return o(e.getHours(),n,0)},I:function(e,t,n){var r=e.getHours()%12;return o(0===r?12:r,n,0)},j:function(e,t,n){return o(1+(e-new Date(e.getFullYear(),0,1))/6e4/60/24|0,n,0,100)},m:function(e,t,n){return o(e.getMonth()+1,n,0)},M:function(e,t,n){return o(e.getMinutes(),n,0)},n:function(){return"\n"},p:function(e){var t=e.getHours()>=12?1:0;return String(s.P[t]).toUpperCase()},P:function(e){var t=e.getHours()>=12?1:0;return String(s.P[t])},r:function(){return s.r},R:function(){return"%H:%M"},S:function(e,t,n){return o(e.getSeconds(),n,0)},t:function(){return"\t"},T:function(){return"%H:%M:%S"},u:function(e){var t=e.getDay();return 0===t?7:t},U:function(e){return o(((0|f.j(e))+(6-e.getDay()))/7|0,0)},V:function(e,t,n){var r=0|f.W(e),i=new Date(String(e.getFullYear())+"/1/1").getDay(),a=r+(i>4||i<=1?0:1);return 53===a&&new Date(String(e.getFullYear())+"/12/31").getDay()<4?a=1:0===a&&(a=f.V(new Date(String(e.getFullYear()-1)+"/12/31"))),o(a,n,0)},w:function(e){return e.getDay()},W:function(e,t,n){return o(((0|f.j(e))+(7-f.u(e)|0))/7|0,n,0,10)},x:function(){return s.x},X:function(){return s.X},y:function(e,t,n){return o(e.getFullYear()%100,n,0)},Y:function(e){return e.getFullYear()},z:function(e){var t=e.getTimezoneOffset(),n=o(0|Math.abs(t/60),0),r=o(t%60,0);return(t>0?"-":"+")+n+r},l:function(e,t,n){var r=e.getHours()%12;return o(0===r?12:r,n," ")},s:function(e){return e.getTime()/1e3|0},"%":function(){return"%"},v:function(e,t){var n=new Date,r=e.getTime()+6e4*e.getTimezoneOffset(),i=n.getTime()+6e4*n.getTimezoneOffset(),o=Math.ceil((r-i)/6e4/60/24)+1;return s.day[o]?a(s.day[o],t):"%d %"+t+"B"},Date_iso:function(){return"%Y-%m-%dT%H:%M:%S"},Date_dBY_year_in_HM:function(){return s.Date_dBY_year_in_HM},Date_Format_dBY_short_year_in_HM:function(){return s.Date_Format_dBY_short_year_in_HM},Date_dBY_year:function(){return s.Date_dBY_year},Date_dBY:function(){return s.Date_dBY},Date_dBA:function(){return s.Date_dBA},Date_AdBY:function(){return s.Date_AdBY},Date_df_in_HM:function(){return s.Date_df_in_HM},Date_dfY:function(){return s.Date_dfY},Date_dB_in_HM:function(){return s.Date_dB_in_HM},Date_dmY__dot:function(){return"%d.%m.%Y"},Date_dB:function(){return s.Date_dB},Date_df:function(){return s.Date_df},Date_FT:function(){return"%F %T"},Date_dmY__minus:function(){return"%d-%m-%Y"},Date_Ymd__minus:function(){return"%Y-%m-%d"},Date_dm__dot:function(){return s.Date_dm__dot},Date_HM__colon:function(){return s.Date_HM__colon},Date_today_at_HM:function(){return s.Date_today_at_HM},Date_dmy_at_HM:function(){return s.Date_dmy_at_HM},Date_db_in_HM:function(){return s.Date_db_in_HM},Date_db:function(){return"%-d %#b"},Date_dmy__dot:function(){return s.Date_dmy__dot},Date_Ymd:function(){return"%Y%m%d"}};e.exports=r},3335:function(e,t){e.exports={a:i18n("%@wd_short_capital"),A:i18n("%@wd"),b:i18n("%@months_short_capital"),B:i18n("%@months_nominative"),f:i18n("%@months_short"),c:"%Y-%m-%d %H:%M:%S",P:i18n("%@date_semiday"),r:"%I:%M:%S %p",x:"%m/%d/%y",X:"%H:%M:%S",day:i18n("%@date_user_day"),Bg:i18n("%@months_genitive"),bg:i18n("%@months_short_capital_genitive"),fg:i18n("%@months_short_genitive"),Date_dBY_year_in_HM:i18n("%Date_Format_dBY_year_in_HM"),Date_Format_dBY_short_year_in_HM:i18n("%Date_Format_dBY_short_year_in_HM"),Date_dBY_year:i18n("%Date_Format_dBY_year"),Date_dBY:i18n("%Date_Format_dBY"),Date_AdBY:i18n("%Date_Format_AdBY"),Date_dBA:i18n("%Date_Format_dBA"),Date_df_in_HM:i18n("%Date_Format_df_in_HM"),Date_dfY:i18n("%Date_Format_dfY"),Date_dB_in_HM:i18n("%Date_Format_dB_in_HM"),Date_dB:i18n("%Date_Format_dB"),Date_df:i18n("%Date_Format_df"),Date_dm__dot:i18n("%Date_Format_dm__dot"),Date_HM__colon:i18n("%Date_Format_HM__colon"),Date_today_at_HM:i18n("%Date_Format_today_at_HM"),Date_dmy_at_HM:i18n("%Date_Format_dmy_at_HM"),Date_db_in_HM:i18n("%Date_Format_db_in_HM"),Date_dmy__dot:i18n("%Date_Format_dmy__dot")}},3336:function(e,t){!(function(){var e=function(){var e=Date.UTC.apply(this,arguments);this._utcDate=new Date(e)},t=function(){};t.prototype=Date.prototype,e.prototype=new t,e.prototype.constructor=e,e.parseISOTime=function(t){var n=/(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2}):(\d{2})/,r=t.match(n);return new e(r[1],r[2]-1,r[3],r[4]||0,r[5]||0,r[6]||0,r[7]||0)},e.parseDate=function(t){var n=/^(\d{4})-(\d{2})-(\d{2})$/,r=String(t).match(n);return new e(r[1],r[2]-1,r[3],0,0,0,0)},e.completeDigit=function(e){if(Math.abs(e)<10){return(e<0?"-":"")+"0"+e}return String(e)},e.convertDate=function(t){return new e(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds())};var n=function(t){var n,r=["FullYear","Month","Date","Hours","Minutes","Seconds","Milliseconds"],i=r.length;for(n=0;n<i;n++){var o=r[n],a=t+o,s=t+"UTC"+o;!(function(t){e.prototype[a]=function(){return this._utcDate[t].apply(this._utcDate,arguments)}})(s)}};n("get"),n("set"),e.prototype.getTime=function(){return this._utcDate.getTime()},e.prototype.toString=function(){return this.toISOString()},e.prototype.toISOString=function(){return this.getFullYear()+"-"+e.completeDigit(this.getMonth()+1)+"-"+e.completeDigit(this.getDate())+"T"+e.completeDigit(this.getHours())+":"+e.completeDigit(this.getMinutes())+":"+e.completeDigit(this.getSeconds())},Jane.Date.LocalDate=e})()},3337:function(e,t){!(function(){"use strict";Jane.DOM={};var e=Jane.DOM;e.BLOCK_NODES=["ADDRESS","BLOCKQUOTE","CENTER","DIV","FIELDSET","FORM","H1","H2","H3","H4","H5","H6","HR","ISINDEX","MENU","OL","P","PRE","TABLE","UL"],e.classRemove=function(e,t){if(1===e.nodeType){var n=Array.prototype.slice.call(arguments);if(n.shift(),!Modernizr.classlist||n.length>1&&!Modernizr["classlist-second-arg"]){for(var r,i=e.className?(" "+e.className+" ").replace(Jane.String.REG.CLASS_SEP," "):"",o=!1,a=0;r=n[a++];)for(;-1!==i.indexOf(" "+r+" ");)i=i.replace(" "+r+" "," "),o=!0;o&&(e.className=i.trim())}else e.classList.remove.apply(e.classList,n)}},e.classAdd=function(e,t){if(1===e.nodeType){var n=Array.prototype.slice.call(arguments);if(n.shift(),!Modernizr.classlist||n.length>1&&!Modernizr["classlist-second-arg"]){for(var r,i=e.className?(" "+e.className+" ").replace(Jane.String.REG.CLASS_SEP," "):" ",o=!1,a=0;r=n[a++];)-1===i.indexOf(" "+r+" ")&&(i+=r+" ",o=!0);o&&(e.className=i.trim())}else e.classList.add.apply(e.classList,n)}},e.classToggle=function(t,n){1===t.nodeType&&(t.classList&&t.classList.toggle?t.classList.toggle(n):e.classContains(t,n)?e.classRemove(t,n):e.classAdd(t,n))},e.classContains=function(e,t){return 1===e.nodeType&&(e.classList?e.classList.contains(t):-1!==(" "+e.className+" ").replace(Jane.String.REG.CLASS_SEP," ").indexOf(" "+t+" "))},e.hasAttribute=function(e,t){var n=e.nodeType;return 3!==n&&8!==n&&2!==n&&e.hasAttribute(t)},e.isEmptyText=function(e){return Jane.String.REG.NON_PRINTERED_CHARS.test(e)},e.isEmptyTextNode=function(t){return 3===t.nodeType&&e.isEmptyText(t.nodeValue)},e.isEmptyPreNode=function(t){var n=t.childNodes.length;return 1===t.nodeType&&"PRE"===t.nodeName&&(0===n||1===n&&e.isEmptyTextNode(t.firstChild))},e.isBr=function(e){return 1===e.nodeType&&"BR"===e.nodeName},e.isDiv=function(e){return 1===e.nodeType&&"DIV"===e.nodeName},e.isBlockquote=function(e){return 1===e.nodeType&&"BLOCKQUOTE"===e.nodeName},e.isBlockNode=function(t){return 1===t.nodeType&&-1!==e.BLOCK_NODES.indexOf(t.nodeName)},e.isNewlineNode=function(t){return 1===t.nodeType&&(-1!==["BR","HR","IMG"].indexOf(t.nodeName)||e.isBlockNode(t))},e.isParent=function(e,t){return!!e&&e.contains(t)},e.insertBefore=function(e,t){return e.parentNode.insertBefore(t,e)},e.insertAfter=function(e,t){return e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e.parentNode.appendChild(t)},e.removeNode=function(e){if(e.parentNode)return e.parentNode.removeChild(e)},e.replaceNode=function(e,t){return!(!e||!e.parentNode)&&(e.parentNode.replaceChild(t,e),!0)},e.passByParents=function(t,n,r){r=r||t.ownerDocument;for(var i=t.parentNode;i&&i!==r&&e.isParent(r,i);){if(!n(i))return!1;i=i.parentNode}return!0},e._preventEventHandler=function(e){e.preventDefault(),e.stopPropagation()},e.preventClicks=function(t){t.addEventListener("click",e._preventEventHandler),t.addEventListener("contextmenu",e._preventEventHandler)},e._urlClickHandler=function(t,n){window.open(t,"_blank"),e._preventEventHandler(n)},e.setUrlClickHandler=function(t,n){t.addEventListener("click",e._urlClickHandler.bind(null,n))},e._testTextWrap=function(t,n){return 3===t.nodeType?!!Jane.String.REG.NON_EMPTY_STRING.test(t.nodeValue)||void 0!==n&&(n&&t.previousSibling?e._testTextWrap(t.previousSibling):!(n||!t.nextSibling)&&e._testTextWrap(t.nextSibling)):!e.isNewlineNode(t)},e.bubblingDivContent=function(t,n){if(!t.hasChildNodes())return t;n=n||function(){return!0};for(var r,i,o,a,s,u,c,l,f,d=[t.firstChild],h=t.ownerDocument.createElement("br");r=d.shift();){if(s=[],i=r.nextSibling,u=r.parentNode,e.isDiv(r))if(l=n(r),f=r.hasChildNodes(),l&&u){if(o=r.previousSibling,o&&o!==a&&e._testTextWrap(o,!0)&&(a=o,u.insertBefore(h.cloneNode(!1),r)),f)for(;r.firstChild;)c=i?u.insertBefore(r.firstChild,i):u.appendChild(r.firstChild),e.isDiv(c)&&s.push(c);i&&e._testTextWrap(i,!1)&&u.insertBefore(h.cloneNode(!1),i),u.removeChild(r)}else if(f){c=r.firstChild;do{e.isDiv(c)&&s.push(c)}while(c=c.nextSibling)}i&&-1===d.indexOf(i)&&s.push(i),d=s.concat(d)}return h=null,t},e.eachBefore=function(t,n,r){var i,o;do{if(r&&!e.isParent(r,t))return;for(i=t;i=i.previousSibling;)if(void 0!==(o=e.eachInnerPrevious(i,n))&&!o)return!1}while(t=t.parentNode)},e.eachBeforeText=function(t,n,r){var i="",o=/[\n\r]+/g;e.eachBefore(t,(function(t){return 3===t.nodeType?i=t.nodeValue.replace(o," ")+i:e.isNewlineNode(t)&&(i="\n"+i),!n||n(t,i)}),r)},e.eachAfter=function(t,n,r){var i,o;do{if(r&&!e.isParent(r,t))return;for(i=t;i=i.nextSibling;)if(void 0!==(o=e.eachInnerFollowing(i,n))&&!o)return!1}while(t=t.parentNode)},e.eachInnerFollowing=function(e,t){for(var n,r,i,o=[e];n=o.pop();){if(void 0!==(r=t&&t(n,o))&&!r)return!1;if("next"!==r&&(1===n.nodeType&&n.hasChildNodes()))for(i=n.childNodes.length;i--;)o.push(n.childNodes[i])}return!0},e.eachInnerFollowingText=function(t,n){var r="",i=/[\n\r]+/g,o=t.ownerDocument.createElement("br");e.eachInnerFollowing(t,(function(a,s){return a===t||(3===a.nodeType?r+=a.nodeValue.replace(i," "):e.isNewlineNode(a)&&(a.hasChildNodes()?(a.previousSibling&&e._testTextWrap(a.previousSibling,!0)&&(r+="\n"),a.nextSibling&&s.push(o.cloneNode(!1))):r+="\n"),!n||n(a,r))})),o=null},e.eachInnerPrevious=function(e,t){for(var n,r,i,o,a=[e];n=a.pop();){if(void 0!==(r=t&&t(n,a))&&!r)return!1;if("next"!==r&&(1===n.nodeType&&n.hasChildNodes()))for(o=n.childNodes.length,i=0;i<o;i++)a.push(n.childNodes[i])}return!0},e.removeEmptyNodeBefore=function(t,n,r){for(var i,o,a,s,u,c;t;){if(r&&!e.isParent(r,t))return!0;for(i=t.previousSibling,t=t.parentNode;i;)for(o=[i],i=i.previousSibling;u=o.pop();)if(3!==u.nodeType){if(void 0!==(c=n&&n(u))&&!c)return!1;if("next"!==c)if(u.hasChildNodes())for(s=u.childNodes.length,o.push(u),a=0;a<s;a++)o.push(u.childNodes[a]);else u.parentNode.removeChild(u)}else{if(!e.isEmptyTextNode(u))return;u.parentNode.removeChild(u)}}return!0},e.removeEmptyNodeAfter=function(t,n,r){for(var i,o,a,s,u;t;){if(r&&!e.isParent(r,t))return!0;for(i=t.nextSibling,t=t.parentNode;i;)for(o=[i],i=i.nextSibling;s=o.pop();)if(3!==s.nodeType){if(void 0!==(u=n&&n(s))&&!u)return!1;if("next"!==u)if(s.hasChildNodes())for(a=s.childNodes.length,o.push(s);a--;)o.push(s.childNodes[a]);else s.parentNode.removeChild(s)}else{if(!e.isEmptyTextNode(s))return;s.parentNode.removeChild(s)}}return!0},e.refineNode=function(e,t){for(var n,r,i=[e];i.length;){if(n=i.pop(),n.hasChildNodes())for(r=n.childNodes.length;r--;)i.push(n.childNodes[r]);n.nodeType===n.ELEMENT_NODE?Array.isArray(t)&&(function(e,t){t.forEach((function(t){e.removeAttribute(t)}))})(n,t):Jane.DOM.removeNode(n)}},e.createRefinedNode=function(e,t){var n=e.cloneNode(!0);return this.refineNode(n,t),n},e.deleteRangeContents=function(t,n){if(t.compareDocumentPosition){var r=t.compareDocumentPosition(n);if(r&&r!==Node.DOCUMENT_POSITION_FOLLOWING)return!1}else if(e.isParent(t,n)||e.isParent(n,t))return!1;if(t===n)return t.parentNode.removeChild(t),!0;var i=(function(){for(var r,i,o,a=t;a;)for(i=a,r=a.nextSibling,a=a.parentNode,i.childNodes.length&&i!==t||i.parentNode.removeChild(i);r;){if(i=r,r=r.nextSibling,i===n)return i.parentNode.removeChild(i),!0;if(e.isParent(i,n)){o=i;break}i.parentNode.removeChild(i)}return o})();if(!i)return!1;if(!0===i)return!0;for(var o,a,s,u=n;(o=u.parentNode)&&(s=u.previousSibling,u!==i);)for(u.childNodes.length&&u!==n||u.parentNode.removeChild(u),u=o;s;)a=s.previousSibling,s.parentNode.removeChild(s),s=a;return!0},e.scrollIntoView=function(e,t){t=t||{},Modernizr.mozilla>=36?e.scrollIntoView(t):e.scrollIntoView("start"===t.block)},e.placeInViewport=function(e,t,n,r){var i=$(e);t=t||{},n=n||{nodePositionBelow:"bottom",nodePositionAbove:"top"},r=r||window;var o=$(r),a=i.offset().top,s=a+i.outerHeight(),u=(r===window?o.scrollTop():o.offset().top)+(t.top||0);s>u+o.height()-(t.bottom||0)?this._scrollToViewportEdge(e,t,n.nodePositionBelow,r):a<u&&this._scrollToViewportEdge(e,t,n.nodePositionAbove,r)},e._scrollToViewportEdge=function(e,t,n,r){"top"===n?this._scrollToViewPortTop(e,t,r):"bottom"===n&&this._scrollToViewPortBottom(e,t,r)},e._scrollToViewPortTop=function(e,t,n){var r=t&&t.top||0,i=$(n||window),o=i.offset(),a=o?o.top:0;i.scrollTop($(e).offset().top-a-r)},e._scrollToViewPortBottom=function(e){e.scrollIntoView(!1)}})()},3338:function(e,t){Jane.watcher={_watches:{},_checking:{}},ns.events.on("watcher.check",(function(e,t){Jane.watcher.set(t),delete Jane.watcher._checking[t]})),Jane.watcher.$=function(e){var t=this._watches[e];return t||(t=this._watches[e]={checklist:{},deps:[]}),t},Jane.watcher.watch=function(e,t){t=$.extend(this.$(e),t);var n=this;return $.each(t.deps,(function(t,r){n.$(r).checklist[e]=1})),t.debug&&(ns.events.off(e+".change",Jane.watcher._debug),ns.events.on(e+".change",Jane.watcher._debug)),t},Jane.watcher._debug=function(e,t){console.log(e,": ",t.oldValue," -> ",t.value)},Jane.watcher.set=function(e,t,n){var r=this.$(e);n=n||{};var i=n.lock,o=n.force;if(!r.locked||void 0!==i){void 0!==i&&(r.locked=i);var a=r.value;void 0===t&&r.get&&(t=r.get()),void 0===t&&(t=r.value),r.value=t,n.silent||this._compare(e,t,a,o)}},Jane.watcher._compare=function(e,t,n,r){var i=this.$(e);if(i.strict&&t!==n||t!=n||r){var o={value:t,oldValue:n};ns.events.trigger(e+".change",o,!0);var a=this;$.each(i.checklist,(function(e){a.check(e)}))}},Jane.watcher.check=function(e){var t=this._checking;t[e]||(t[e]=!0,ns.events.trigger("watcher.check",e,!0))},Jane.watcher.get=function(e){return this.$(e).value}},3339:function(e,t){Jane.watcher.watch("pageKey"),Jane.watcher.watch("selectedCount"),Jane.watcher.watch("selected",{get:function(){return Daria.is3pane()&&ns.page.current.params.ids||"message"===ns.page.current.page||"compose"===ns.page.current.page||Jane.watcher.get("selectedCount")>0},deps:["selectedCount","pageKey"],value:!1})},3340:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e){"@babel/helpers - typeof";return(a="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function s(e){if(e.target&&"IMG"===e.target.tagName){var t=e.target,n=t.src;if(!p.some((function(e){return e.src&&e.src.test(n)}))){for(var r={},o=[],s=t,g=null;s;){var m=(function(){var e=u(s);if(p.some((function(e){return e.selector&&e.selector.test(n)})))return{v:void 0};h.forEach((function(t){(t.selector&&t.selector.test(e)||t.src&&t.src.test(n))&&(r[t.flag]=1,t.fallback&&(r.fallback=1,g=t.fallback))}),[]),o.unshift(e),s=s.parentNode})();if("object"===a(m))return m.v}g&&(t.onload=null,t.src=d[g]),Jane.ErrorLog.send(i({errorType:"imgError",selector:o.join(" ").slice(-300),src:n,flb:g||0},r)),c.a.hasActiveScenario(l.d)&&r.mbody&&c.a.getActiveScenario(l.d).logError(f.b)}}}function u(e){var t=e.tagName||"";e.id&&(t+="#"+e.id);var n=(e.className||"").trim();if(n){t+="."+(n.split(/\s+/).filter((function(e){return/^js-/.test(e)})).join(".")||n.replace(/\s+/g,".").slice(0,20))}return t}Object.defineProperty(t,"__esModule",{value:!0});var c=n(425),l=n(384),f=n(610),d={pixel:"data:image/png;base64,".concat("iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAYAAAAfFcSJAAAADUlEQVR42mNk+M9QDwADhgGAWjR9awAAAABJRU5ErkJggg==")},h=[{selector:/\.js-layout-left(\.|$)/,flag:"aside"},{selector:/\.js-mail-layout-content(\.|$)/,flag:"content"},{selector:/\.js-message-snippet-userpic(\.|$)/,flag:"userpic"},{selector:/\.js-message-body-content(\.|$)/,flag:"mbody"},{selector:/\.js-message-bigimage(\.|$)/,flag:"widget-bigimage",fallback:"pixel"},{src:/^https:\/\/resize\.yandex\.net/,flag:"resizer"},{src:/yastatic\.net/,flag:"cdn"}],p=[{selector:/\.js-message-body-content(\.|$)/,src:/image\.subscribe\.gosuslugi\.ru/},{selector:/#linkalert-box/}];document.addEventListener&&document.addEventListener("error",s,!0)},3341:function(e,t){Jane.Services.__needUpdate=!1,Jane.Services.__updateTimer=null,Jane.Services.hasNewVersion=function(){return this.__needUpdate},Jane.Services.setUpdateNeeded=function(e){var t="number"==typeof e?e:12e4;this.__updateTimer||(this.__updateTimer=window.setTimeout(function(){this.__needUpdate=!0}.bind(this),t))}},3342:function(e,t){$(window).on("beforeunload",(function(){var e=Daria.addUnloadText._texts=[];if(ns.events.trigger("beforeunload"),e.length)return e.join("\n")})),Daria.addUnloadText=function(e){var t=Daria.addUnloadText._texts;e&&$.isArray(t)&&t.push(e)}},3343:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(3344),i=n(640),o=n(1235),a=n(1212),s=n(962),u=n.n(s);!(function(e,t){function n(t){var n=null;return t&&(n=t.getBoundingClientRect(),null==n.width&&(n=e.extend({},n,{width:n.right-n.left,height:n.bottom-n.top}))),n}e.fn.rect=function(){return n(this[0])},t._getModelsJsonView=function(t,n,r){return e.isPlainObject(r.models)||(r.models={}),t=Array.isArray(n)?t.map((function(t,r){return e.isPlainObject(n[r])?{model:t,params:n[r]}:{model:t}})):t.map((function(e){return{model:e,params:n}})),t.forEach((function(e){r.models[e.model]={status:"ok"},r.models[e.model][e.model]=ns.Model.get(e.model,e.params).getData()})),r},Jane.tt=function(e,n,r,i){i=i||{},n=n||{};var o,a,s=e.split(":");1===s.length?(o=e,a="common"):(a=s[0]||"common",o=s.slice(1).join(":")||""),Array.isArray(r)&&r.length&&(n=t._getModelsJsonView(r,i,n)),t.DEBUG&&console.log("Jane.tt:",'mode="'+e+'"','-> module="'+a+'"','mode="'+o+'"',"data=",n);var u=document.createElement("div");try{return u.innerHTML=yr.run(a,n,o),u.firstChild}catch(e){return Jane.ErrorLog.sendException("yate.run",e,{"yate-mode":o,"yate-module":a}),t.loaded||""!==o||Jane.onFatalError("yate.run"),u}},Jane.extend=function(e,t){var n=function(){};n.prototype=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.superClass=t.prototype,t.prototype.constructor===Object.prototype.constructor&&(t.prototype.constructor=t)},t.extend=Jane.extend,t._debugClientPromoTimestamp=0,t.now=i.a,t.getPassportTzOffset=function(){return t.timify({minutes:(new Date).getTimezoneOffset()-t.tz_offset})},t.passportNow=function(){return t.now()+t.getPassportTzOffset()},t.getPassportDate=function(e){return new Date(e.getTime()+t.getPassportTzOffset())},t.convertPassportDateToTimestamp=function(e){return e.getTime()-t.getPassportTzOffset()},t.promoNow=function(){return 0===t._debugClientPromoTimestamp&&(t._debugClientPromoTimestamp=u()(t.urlParams.debugClientPromoDate)),t._debugClientPromoTimestamp||t.now()},t.array2obj=function(t,n){n=!(arguments.length>1)||n;var r={};return e.each(t,(function(e,t){r[t]=n})),r},t.lowerifyObjectKeys=function(e){var t={};for(var n in e)e.hasOwnProperty(n)&&(t[n.toLowerCase()]=e[n]);return t},t.parseQuery=function(t){t=t||"";for(var n=t.split("&"),r={},i=0;i<n.length;i++){var o=n[i].split("="),a=o.shift();if(a){var s=o.join("=");try{s=decodeURIComponent(s)}catch(e){s=/%\D/.test(s)?s:""}a in r?e.isArray(r[a])?r[a].push(s):r[a]=[r[a],s]:r[a]=s}}return r},t.setSelection=function(e,t,n){if(t=t||0,n=n||t,e.setSelectionRange)e.setSelectionRange(t,n);else if(e.createTextRange){var r=e.createTextRange();r.collapse(!0),r.moveStart("character",t),r.moveEnd("character",n-t),r.select()}},t.getSelection=function(e){var t,n,r,i,o,a=0,s=0;try{e.selectionStart&&e.selectionEnd?(a=e.selectionStart,s=e.selectionEnd):(n=document.selection.createRange())&&n.parentElement()===e&&(i=e.value.length,t=e.value.replace(/\r\n/g,"\n"),r=e.createTextRange(),r.moveToBookmark(n.getBookmark()),o=e.createTextRange(),o.collapse(!1),r.compareEndPoints("StartToEnd",o)>-1?a=s=i:(a=-r.moveStart("character",-i),a+=t.slice(0,a).split("\n").length-1,r.compareEndPoints("EndToEnd",o)>-1?s=i:(s=-r.moveEnd("character",-i),s+=t.slice(0,s).split("\n").length-1)))}catch(e){return{start:0,end:0}}return{start:a,end:s}},t.supplant=function(e,t,n){return e.replace(/{([^{}]*)}/g,(function(e,r){var i;if(r.indexOf(":")>=0){var o=r.split(/:|\|/),a=o[0];if(!a)return e;if("number"!=typeof(i=t[a]))return e;var s=i%10,u=i%100;return 1===s&&11!==u?o[1]:s>1&&s<5&&(u<10||u>20)?o[2]:o[3]}return i=t[r],"string"==typeof i||"number"==typeof i?n?String(i):_.escape(String(i)):e}))},t.getRandomNumber=function(){return Math.round(1e6*Math.random())},t.randomInteger=function(e,t,n){var r=e+Math.random()*(t+1-e);return r=Math.floor(r),r===n&&(r=r+1>=t?r-1:r+1),r},t.getRandomString=function(){return Math.random().toString(36).substr(2)},t.getRandomName=function(){for(var e=Math.floor(5*Math.random())+5,t="";e--;)t+=String.fromCharCode(97+Math.floor(26*Math.random()));return t},t.capitalize=function(e){return e.substr(0,1).toUpperCase()+e.substr(1)},t.forceReloadPage=function(){e(document).off("hashchange"),e(window).off("beforeunload"),window.location.reload()},Jane.doLogin=function(e){Jane.ErrorLog.send({event:"doLogin",from:e||""}),setTimeout((function(){t.forceReloadPage()}),100)},t.removeDropdowns=function(t){e(t).find(".b-mail-dropdown").each((function(){var t=e(this),n=t.data("dropdown-content");n&&e(n).remove(),t.removeData("dropdown-content")}))},t.invalidateMailHandlers=function(e,n){t.DEBUG&&console.log("[Daria]","invalidateMailHandlers by",n);var r=["filter-search","message-thread-nearest","message-nearest","messages-pager"];ns.Model.invalidateAll(r),e&&ns.Model.traverse("messages-checked",(function(e){e.resetChecked()}));var i=ns.Model.get("messages",ns.page.current.params);i.isFakeMessages()&&(i=ns.Model.get("messages",_.extend({allow_empty:!0},ns.page.current.params)));var o=[];"yes"===i.params.threaded&&(o=i.models.map((function(e){return e.getThreadId()}))),ns.Model.invalidate("messages",(function(e){return e.params.thread_id?!_.includes(o,e.params.thread_id):e!==i}));var a=["folders","labels"];t.areFoldersTabsEnabled()&&a.push("tabs"),ns.forcedRequest(a,ns.page.current.params),!i.isUnreadMessagesCollection()||"xiva.invalid_lcn"!==n&&"xiva.lcn_changed_after_offline"!==n?i.refresh():i.loadMore(!0)}})(jQuery,Daria),Jane.getHumanSize=function(e){var t=parseInt(e,10);if(isNaN(t))return"";var n,r,i=i18n("%File_size");return t<128?(n=t,r=i[0]):t<1048576?(n=t/1024,r=i[1]):t<1073741824?(n=t/1048576,r=i[2]):(n=t/1073741824,r=i[3]),n=n<10?Math.round(10*n)/10:Math.round(n),(n=n.toString().replace(".",","))+" "+r},Jane.locate=function(e){window.location=e||"/"},Daria.isCtrlPressed=function(e){if(!e)return!1;var t=e.originalEvent&&e.originalEvent.key;return e.ctrlKey||e.metaKey||"Control"===t},Daria.isLeftClickWithCtrl=function(e){var t=Modernizr.mac?"metaKey":"ctrlKey";return 1===e.which&&e[t]},Daria.isLeftButton=function(e){return 1===e.which&&(!Modernizr.mac||!e.ctrlKey)||Modernizr.msie&&"click"===e.type&&0===e.which},Daria.isMiddleButton=function(e){return 2===e.which},Daria.is3pane=o.is3pane,Daria.is3pv=o.is3pv,Daria.is3ph=o.is3ph,Daria.is2pane=o.is2pane,Daria.isMessagePage=function(){return"message"===ns.page.current.page},Daria.isFoldersTabPage=function(e){var t=e||ns.page.current.params;return Boolean(t.tabId)&&Daria.areFoldersTabsEnabled()},Daria.isMessageOpenedInList=function(e){return e=e||ns.page.current,"messages"===e.page&&Daria.Page.isParamsForMessage(e.params)},Daria.isMessageOpened=function(e){return e=e||ns.page.current,Daria.Page.isParamsForMessage(e.params)},Daria.isMessagesListPage=function(e){return e=e||ns.page.current,"messages"===e.page},Daria.isThreadPage=function(){var e=ns.page.current.params;return Daria.isMessagesListPage()&&Daria.Page.isParamsForSingleThread(e)},Daria.isThreadOpenedInList=function(){var e=ns.page.current.params;return Daria.isMessageOpenedInList()&&Daria.Page.isParamsForThread(e)},Daria.is3paneThread=function(){var e=ns.page.current.params;return Daria.is3pane()&&Daria.isMessagesListPage()&&Daria.isMessageOpened()&&Daria.Page.isParamsForThread(e)},Daria.is3paneMessage=function(){var e=ns.page.current.params;return Daria.is3pane()&&Daria.isMessagesListPage()&&Daria.isMessageOpened()&&!Daria.Page.isParamsForThread(e)},Daria.isFullThreadPage=function(){var e=ns.page.current.params;return Daria.isThreadPage()&&Boolean(e.full)},Daria.isComposePage=function(){return"compose2"===ns.page.current.page},Daria.isSettingsPage=function(e){return/^setup*/.test((e||ns.page.current).page)},Daria.isSearchPage=function(e){return e=e||ns.page.current,"search"===e.params.search},Daria.isAbookPage=function(e){return e=e||ns.page.current,"abook"===e.page},Daria.isRetina=function(){return window.devicePixelRatio>1},Daria.isDevEnv=function(){return Daria.Config.dev||Daria.DEBUG},Daria.isPageWithResizableLeftColumn=function(){return"abook"!==ns.page.current.page},Daria.goHomePage=function(){window.location.href=window.location.pathname+window.location.search},Daria.toIntFlag=function(e){switch(e){case 1:case"1":case!0:case"true":return 1;default:return 0}},Daria.isInnerMailLinkHostname=function(e){return location.hostname===e},Daria.getPrevPageSearchContext=function(){var e,t=0,n=ns.page.history.getPrevious(t),r=ns.page.current;if(r.params.fromNotification)return null;for(;n&&(e=ns.router(n),"messages"!==e.page||"search"!==e.params.search);)n="message"===r.page&&"message"===e.page&&r.params.ids===e.params.ids?ns.page.history.getPrevious(++t):void 0;if(!n)return null;var i={url:n,page:e},o=e.params.request;if(o){if("rpopinfo"===e.params.scope){var a=ns.Model.get("collectors").getById(o);a&&(o=a.email)}i.request=o}return i},Daria.hasSid=function(e){return-1!==Daria.SIDS.indexOf(String(e))},Daria.addSid=function(e){Daria.hasSid(e)||Daria.SIDS.push(String(e))},Daria.tid2mid=function(e){return"t"===e.charAt(0)?e.substr(1):e},Daria.showPriorityLabel=function(){return!Daria.IS_CORP&&(ns.Model.get("settings").getSign("priority_mail")||Daria.hasSid(669))},Daria.arrangeMatchingFirstInline=function(e,t){ns.assert("function"==typeof t,"Daria.arrangeMatchingFirstInline","matcher should be a function");for(var n=0,r=0;r<e.length;r++)t(e[r])&&(r!==n&&e.splice(n,0,e.splice(r,1)[0]),n++);return e},Daria.getParamsHash=function(e){return e=e||{},Object.keys(e).sort().map((function(t){return t+"="+encodeURIComponent(e[t])})).join("&")},Daria.getUrlParams=function(){for(var e,t=/\+/g,n=/([^&=]+)=?([^&]*)/g,r=window.location.search.substring(1),i=function(e){return decodeURIComponent(e.replace(t," "))},o={};e=n.exec(r);)o[i(e[1])]=i(e[2]);return o},Daria.showGoToThreadControl=function(){return Daria.IS_CORP&&Daria.is3pane()&&Daria.isSearchPage()&&ns.Model.get("settings").isThreaded()},Daria.checkTimelineAvailable=function(){return Boolean(Daria.IS_CORP||Daria.Config.pddDomain||Daria.Config.workspace)},Daria.toggleSearchAppMode=function(e){$(".js-mail-App").toggleClass("mail-App-Search",e),$(".mail-Header .js-mail-search").toggleClass("is-folded",!e),ns.events.trigger("daria:search:toggled",e)},Daria.toggleAdvancedSearchAppMode=function(e){$(".js-mail-App").toggleClass("mail-App-Advanced-Search",e)},Daria.toggleHorizontalScrollBar=function(e){var t=$(".js-page");e?t.addClass("mail-Page_no_hscroll"):t.removeClass("mail-Page_no_hscroll")},Daria.toggleVerticalScrollBar=function(e){var t=$(".js-page"),n=$(".when-page-no-vscroll-fix");if(e){var r=t.outerWidth();t.addClass("mail-Page_no_vscroll");var i=t.outerWidth()-r;i>0&&(t.css({"padding-right":i}),n.css({"margin-right":i}))}else t.removeClass("mail-Page_no_vscroll"),t.css({"padding-right":0}),n.css({"margin-right":0})},Daria.clamp=r.a,Daria.getAttachPreviewData=function(e,t,n,r){if(e.message)return{type:"eml",previewQuery:ns.params2query({mid:e.mid||t,hid:e.bid,subj:e.filename||e.name})};if(e.external_transformer)return{type:"docviewer",href:Daria.url.docviewer(e,t)};var i,o=Boolean(e["browser-supports"]),a=e["preview-href"]||Daria.url.attachment(e,t,{no_disposition:o,thumb:!1,exif_rotate:!0}),s=t||n;if(o&&s){var u={mid:s,hid:e.hid};r&&(u["message-hid"]=r),i=ns.params2query(u)}return{type:e.class,href:a,previewQuery:i}},Daria.memoizeClearCache=function(e){return!!e.cache&&(e.cache=new _.memoize.Cache,!0)},Daria.hasProInterface=function(){return ns.Model.get("settings").getSetting("has_pro_interface")},Daria.dispatchEvent=a.customDispatchEvent},3344:function(e,t,n){"use strict";t.a=function(e,t,n){return Math.max(t,Math.min(n,e))}},3345:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(139);n.n(r);!(function(e){e.Metric={},e.Metric.getPath=function(e){var t=ns.page.current.params,n=ns.Model.get("messages",t);if(t){if(t.current_folder){var i=ns.Model.get("folders").getFolderById(t.current_folder)||{};return i?i.symbol===r.WellKnownFolderSymbol.ARCHIVE?"System folder":i.user?["User folder"]:"System folder":["No folder"]}if(t.search)return e&&n.isSearchTopResult(e.get(".mid"))?["Search Top Results"]:["Search"];if(t.important)return["Filter Important"];if(t.unread)return["Filter Unread"];if(t.attachments)return["Filter Attachments"];if(t.current_label){var o=ns.Model.get("labels"),a=o.getWaitingForReplyLabel();return t.current_label===a.lid?["Filter Waiting Answer"]:["Labels"]}return["No folder"]}return["No folder"]}})(Daria)},3346:function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}Object.defineProperty(t,"__esModule",{value:!0});var i=n(139);n.n(i);!(function(e){e.contextHelpPages={RUS:{message:1113120,contacts:1113487,compose:1113122,trash:1113223,search:1113140,spam:1113148,setup:{interface:1113091,sender:1113397,collectors:1113142,security:1113446,folders:1113138,filters:1113121,"filters-create":1113121,abook:1113487,chat:1113272,client:1113199,journal:1113469}},TUR:{message:1121442,contacts:1121408,compose:1121420,search:1121447,spam:1121451,setup:{interface:1121406,sender:1121429,collectors:1121433,security:1121453,folders:1121445,filters:1121443,"filters-create":1121443,abook:1121408,client:1118704,journal:1121407}},INT:{message:1114243,contacts:1114216,compose:1114252,trash:1114276,search:1114248,spam:1114262,setup:{interface:1114213,sender:1114258,collectors:1114250,folders:1114245,filters:1114244,"filters-create":1114244,abook:1114216,security:1114267,client:1114232,journal:1114215}}};var t;ns.events.on("help-link.forceUpdate",(function(e,n){void 0===n&&(n=t||"")})),ns.events.on("ns-page-after-load",(function(){var n=ns.page.current.page,o=ns.page.current.params,a=e.contextHelpPages;a=a&&a[Daria.Config.product]?a[Daria.Config.product]:{};var s,u=0,c=ns.Model.get("folders");if(a&&a[n]&&(s=a[n],u="object"===r(s)?s[o.tab]||0:s),"messages"===n&&"search"===o.search)u=a.search;else if(o.current_folder)for(var l=o.current_folder,f=i.SpecialHelpFolders,d=0,h=f.length;d<h;d++)if(c.isFolder(l,f[d])){u=a[f[d]];break}var p=Daria.Config["pdd-custom-help"];p||(p="/mail/"+(u?"?id="+u:"")),t=p}))})(Jane)},3347:function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return encodeURIComponent(e).replace(/[!'()*]/g,(function(e){return"%"+e.charCodeAt(0).toString(16)}))}function o(e){return decodeURIComponent(e)}Daria.yCookie={getExpirationDate:function(e){return Math.round(Date.now()/1e3+24*e*60*60)},getDefaultYpCookieParams:function(){return{expires:new Date("Tue Jan 1 00:00:00 2038").toGMTString(),domain:".yandex."+Daria.Config["domain-options"].domain,path:"/"}},ypRead:function(){for(var e=Daria.getCookie("yp",!0),t=e?e.split("#"):[],n=new Date/1e3,r={},i=0,a=t.length;i<a;i++){var s=t[i].split("."),u=s[0],c=s[1],l=s.slice(2).join(".");u>n&&(r[c]={value:o(l),expires:u})}return r},ypWrite:function(e){for(var t,n=[],r=0,o=Object.keys(e),a=o.length;r<a;r++)t=e[o[r]],n.push([t.expires,o[r],!1===t.encode?t.value:i(t.value)].join("."));Daria.setCookie("yp",n.join("#"),Object.assign({dont_encode:!0},this.getDefaultYpCookieParams()))},ypRemove:function(e){var t=this.ypRead();e&&t[e]&&(delete t[e],this.ypWrite(t))},ypHas:function(e){var t=this.ypRead();return e&&t[e]},yp:function(e,t,n){var i={};"object"===r(e)&&(i=e,e=i.name,t=i.value,n=i.expires);var o=this.ypRead(),a=o[e];return void 0===t?a&&a.value:(a||(a={}),a.value=t,a.expires=n||a.expires||this.getExpirationDate(7),a.encode=i.encode,o[e]=a,this.ypWrite(o))}}},3348:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var i=n(3349);!(function(){function e(e){for(var t=e.pop();e.length;)t=r({},e.pop(),t);return t}function t(e){if(!Array.isArray(e))return[e];for(var t=[];e.length;)t=t.concat(e.shift());return t}Daria.metrikaGroup={_paramsQueue:[],addCount:function(n){this._paramsQueue.push(e(t(n))),this._sendParamsOnIdle()},addGroupedCount:function(e){this._paramsGrouper.push(t(e)),this._sendParamsOnIdle()},sendAllImmediate:function(){this._sendParamsOnIdle.forceExecute()},_sendParamsOnIdle:Object(i.a)((function(){return Daria.metrikaGroup._sendParamsPortion()}),{delay:1e3,idleTimeout:900,runMode:"once",logName:"Daria.metrikaGroup"}),_sendParamsPortion:function(){if(this._paramsGrouper.isEmpty()&&!this._paramsQueue.length)return!1;var e=this._paramsGrouper.release(127),t=127-e.length;t>0&&(e=e.concat(this._paramsQueue.splice(0,t))),e.push({version:Daria.Config.version});try{Jane.Metrika.counter.params(e)}catch(e){}return!this._paramsGrouper.isEmpty()||Boolean(this._paramsQueue.length)}},Daria.metrikaGroup._paramsGrouper={SPLIT_SYMBOL:"__",_metrikaIds:{},_uniqueParamsCount:0,_groupMaxQuantity:128,push:function(e){var t=this._paramsToString(e);if(Array.isArray(this._metrikaIds[t])){var n=this._metrikaIds[t].length-1;this._metrikaIds[t][n]>=this._groupMaxQuantity?this._metrikaIds[t].push(1):this._metrikaIds[t][n]+=1}else this._metrikaIds[t]=[1],this._uniqueParamsCount+=1},isEmpty:function(){return this._uniqueParamsCount<=0},release:function(e){var t=this,n=[];return this.isEmpty()?n:((!e||e<0||e>this._uniqueParamsCount)&&(e=this._uniqueParamsCount),_.forOwn(this._metrikaIds,(function(r,i){if(e<=0)return!1;var o=t._pop(i);if(!o)return!0;n.push(o),e-=1})),n)},_pop:function(e){var t=this._metrikaIds[e];if(!Array.isArray(t)||!t.length)return delete this._metrikaIds[e],null;t.length>1&&t.push(t.pop(),t.pop());var n=this._paramsToObj(e,t.pop());return t.length||(delete this._metrikaIds[e],this._uniqueParamsCount-=1),n},_paramsToString:function(e){return e.join(this.SPLIT_SYMBOL)},_paramsToObj:function(t,n){var r=t.split(this.SPLIT_SYMBOL),i=r.length-1;return n>1&&(r[i]=_.fill(Array(n),r[i])),e(r)}}})()},3349:function(e,t,n){"use strict";function r(e,t){function n(){return window.requestIdleCallback((function(n){o=null;var i;if(n.didTimeout)i=e();else if(t.runOnce)i=e();else for(i=!0;n.timeRemaining()>0&&i;)i=e();i&&r()}),{timeout:t.idleTimeout})}function r(){i||o||(i=setTimeout((function(){i=null,o=n()}),t.delay))}var i,o;return r.cancel=function(){o&&(window.cancelIdleCallback(o),o=null),i&&(clearTimeout(i),i=null)},r.forceExecute=function(){var t=100;this.cancel();for(var n=!0;n&&t--;)n=e();n&&r()},r}t.a=r},3350:function(e,t){function n(e){return o(e)||i(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function o(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}!(function(e){e.c=function(){return t.count.apply(t,arguments),""},e.groupedCount=function(){t.groupedCount.apply(t,arguments)};var t={inited:!1,counts:[],groupedCounts:[],counter:null,init:function(t){var r=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(!t)return this.clear();var o=setTimeout((function(){r.clear(),e.ErrorLog.send({metrika:"init_timeout"})}),1e4);Daria.Libs("Ya.Metrika",(function(){i=Object.assign({ut:"noindex",trackLinks:!0,trackHash:!0,sendTitle:!1},i),i.id=t;try{r.counter=window["yaCounter"+t]=new Ya.Metrika(i)}catch(e){return r.clear()}clearTimeout(o),r.inited=!0,r.groupedCounts.slice().forEach((function(e){return r.groupedCount.apply(r,n(e))})),r.groupedCounts=[],r.counts.slice().forEach((function(e){return r.count.apply(r,n(e))})),r.counts=[],window.addEventListener("beforeunload",(function(){Daria.metrikaGroup.sendAllImmediate()}),!1)}))},count:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!this.inited)return this.counts.push(t);Daria.metrikaGroup.addCount(t)},groupedCount:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];if(!this.inited)return this.groupedCounts.push(t);Daria.metrikaGroup.addGroupedCount(t)},clear:function(){this.count=_.noop,this.groupedCount=_.noop,this.counts=[],this.groupedCounts=[]}};e.Metrika=t})(Jane)},3351:function(e,t,n){"use strict";function r(e,t,n,r,i){var o=Daria.Config["clck-url"]+"/"+e+"/dtype="+n+"/"+t.join("/");return i||(o+="/rnd="+($.now()+Daria.getRandomNumber())),o+="/*"+(r||location.href)}Daria.searchClickCounter=function(e){(new Image).src=r("click",e,"PS",null,!0)}},3352:function(e,t){!(function(e,t){function n(e){var t=r[e];return!(!t.status&&!Boolean(t.ref()))||t.status}var r={};t.Libs=function(t,i){"string"==typeof t&&(t=[t]),i=i||_.noop;var o={n:0,libs:{}},a=e(o);if(e.each(t,(function(e,t){var i=n(t);i||(r[t].loaders.push(a),o.n++,o.libs[t]=void 0===i)})),!o.n)return i.call();a.on("daria-libs-loaded",(function(e,t){if(void 0!==o.libs[t]&&o.n--,!o.n)return i.call()})),e.each(o.libs,(function(t,n){var i=r[t];if(n){i.status=!1;var o=i.url;e.getScript(o,(function(){e.each(i.loaders,(function(e,n){n.trigger("daria-libs-loaded",t)})),i.loaders=null,i.status=!0}))}}))},t.Libs.add=function(n){e.each(n,(function(e,n){if(!(e in r)){r[e]=n;var i=n.url;/^(http|\/)/.test(i)||(n.url=t.Config.staticRoot+"/"+i),n.loaders=[]}}))}})(jQuery,Daria)},3353:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(139);n.n(r);Daria.lom={},Daria.lom._cache=null,Daria.lom.get=function(){if(!this._cache){try{var e=ns.Model.get("settings");this._cache=JSON.parse(decodeURIComponent(e.getSetting("last_open_msg")||"{}"))}catch(e){}this._cache=_.isPlainObject(this._cache)?this._cache:{}}return this._cache},Daria.lom._validParams=function(e){return Daria.messages.params4SimplePath(e)&&!ns.Model.get("folders").isFolder(e.current_folder,r.LOMDisabledFolders)},Daria.lom.save=_.debounce((function(e){if(this._validParams(e)){var t=ns.Model.get("folders"),n=this.get();for(var r in n)t.getFolderById(r)||delete n[r];n[e.current_folder]=e.ids||e.thread_id,ns.Model.get("settings").setSettings({last_open_msg:encodeURIComponent(JSON.stringify(n))})}}),500),Daria.lom.deleteFid=function(e){delete this.get()[e]}},3354:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(139),i=(n.n(r),n(1774)),o=(n.n(i),n(3355)),a=n.n(o),s=i.ScrollMemoizedPages.map((function(e){return"#".concat(e)})).join("|"),u=Daria.Page={hash:null,forceHashChange:null,type:null,key:null,selected:!1,selects:{},params:{},loadingHash:null,specialPages:new RegExp("^(".concat(s,")($|\\W)+"))};u.forceReload=function(e){var t=window.location;$(document).off("hashchange"),t.replace(e||t.hash),t.reload()},Daria.gotNewMail=0,u.fixEmptyImage=function(e,t){var r=$(e);if(1===r.width()||1===r.height())switch(e.onload=$.noop,t){case"message-right":r.parent().addClass("g-hidden error"),ns.events.trigger("message-right.avatar-error",e);break;case"message-right-single":r.attr("src",n(3358));break;case"message-right-link":r.attr("src",n(3359));break;case"collectors":r.attr("src",n(3360));break;case"Link-Earth":var i=r.parent().find(".js-icon-stub:eq(0)");r.remove(),i.removeClass("g-hidden");break;default:r.addClass("g-hidden")}},u.isParamsForSearch=function(e){return"search"in e},u.isParamsForSingleThread=function(e){var t=_.keys(e),n=1===t.length&&"thread_id"===t[0],r=2===t.length&&"thread_id"in e&&Boolean(e.full);return n||r},u.isParamsForMessage=function(e){return Boolean(e.ids||e.thread_id)},u.isParamsForThread=function(e){return Boolean(e.thread_id)},u.generateUrl={},u.generateUrl.closeMessage=function(){var e=_.omit(ns.page.current.params,["ids"]);return Daria.Page.isParamsForSingleThread(e)||delete e.thread_id,ns.router.generateUrl("messages",e)},u.generateUrl.contentMessage2pane=function(e,t){var n=Daria.Page.generateUrl.contentMessageCompose(e,t);if(n)return n;var r,i=_.extend({},t),o=e.mid;if(e.count>1)r="messages",i.thread_id=o;else{if(r="message",this._isFakeThread(e))return this._logFakeThreadErrorOnce(e),"";if(o&&"t"===o.charAt(0)&&o.length>1){var a=ns.Model.get("messages",{thread_id:o});i.ids=a.models[0]&&a.models[0].params.ids||e.last_mid}else i.ids=o}return ns.router.generateUrl(r,i)},u.generateUrl.contentMessage3pane=function(e,t){var n=Daria.Page.generateUrl.contentMessageCompose(e,t);if(n)return n;if(this._isFakeThread(e))return this._logFakeThreadErrorOnce(e),"";var r,i=_.extend({},t),o=ns.page.current.params,a=ns.Model.get("folders"),s=e.mid,u=e.count>1||e.tid===e.mid;return o.current_folder?(r=_.pick(o,["datePager","extra_cond"]),o.tabId&&_.assign(r,_.pick(o,["tabId"])),_.assign(i,r)):o.current_label?i.current_label=o.current_label:"search"===o.search?_.extend(i,o):o.thread_id&&(i.thread_id=o.thread_id),(o.attachments||o.unread)&&no.extend(i,o),u?i.thread_id=s:i.ids=s,"setup"===ns.page.current.page&&(i.current_folder=e.fid),!this._hasFolder(i)&&this._isMessagesPageWithFolder(o)&&(this._fixFolderInParams(i,o.current_folder,e),this._hasFolder(i)||this._logCurrentFolderLost(a,e)),ns.router.generateUrl("messages",i)},u.generateUrl._hasFolder=function(e){return Boolean(e.current_folder||e.default_folder)},u.generateUrl._isMessagesPageWithFolder=function(e){var t="attachments"===e.attachments,n="unread"===e.unread,r="important"===e.important,i="remind"===e.remind,o="priority"===e.priority,a="search"===e.search,s=Boolean(e.current_label);return!(t||n||r||i||o||a||s)},u.generateUrl._fixFolderInParams=function(e,t,n){var r,i=ns.Model.get("folders");t&&(r=i.getFolderById(t)||i.getFolderBySymbol(t)),r||(r=i.getFolderById(n.fid)),r?r.symbol?e.default_folder=r.symbol:e.current_folder=r.fid:(t&&(e.current_folder=t),this._logFolderNotFoundOnce(i))},u.generateUrl._logFolderNotFoundOnce=_.once((function(e){var t=ns.page.current.params;Jane.ErrorLog.send({errorType:"debug.folder-not-found",current_folder:t.current_folder,mFoldersStatus:e.status,mFoldersData:JSON.stringify(e.getData())})})),u.generateUrl._logCurrentFolderLost=function(e,t){Jane.ErrorLog.send({errorType:"current_folder_lost",pageParams:JSON.stringify(ns.page.current.params),mFoldersStatus:e.status,messageMid:t.mid,messageFid:t.fid})},u.generateUrl._logFakeThreadErrorOnce=_.once((function(e){Jane.ErrorLog.send({type:"fake_thread_url_error",message:JSON.stringify(e),pageParams:JSON.stringify(ns.page.current.params)})})),u.generateUrl._isFakeThread=function(e){return e.mid&&"t"===e.mid||!e.mid&&Boolean(e.FAKE_THREAD_DATA)},u.generateUrl.contentMessageCompose=function(e){var t=ns.Model.get("folders"),n=e.fid,i=e.mid,o=e.count>1;if(t.isFolder(n,r.DraftLikeFolders)&&!o)return ns.router.generateUrl("compose2",{ids:i})},u.generateUrl.contentMessage=function(e,t){var n=ns.Model.get("settings").isSet("open-message-list");return Daria.is3pane()||n?Daria.Page.generateUrl.contentMessage3pane(e,t):Daria.Page.generateUrl.contentMessage2pane(e,t)},u.getMessageId=function(e){return e.ids||e.thread_id},u.isSamePageTransition=function(){var e=ns.Model.get("settings").isSet("open-message-list");if((Daria.is3pane()||e)&&Daria.Page.referrerUrl&&"messages"===ns.page.current.page){var t=ns.router(Daria.Page.referrerUrl,{preventSideEffects:!0});if(t&&t.page!==ns.R.REDIRECT){return ns.router.generateUrl(t.page,a()(t.params,"ids"))===ns.router.generateUrl(ns.page.current.page,a()(ns.page.current.params,"ids"))}}return ns.page.currentUrl===Daria.Page.referrerUrl}},3355:function(e,t,n){var r=n(517),i=n(1236),o=n(3356),a=n(465),s=n(462),u=n(3357),c=n(1254),l=n(890),f=c((function(e,t){var n={};if(null==e)return n;var c=!1;t=r(t,(function(t){return t=a(t,e),c||(c=t.length>1),t})),s(e,l(e),n),c&&(n=i(n,7,u));for(var f=t.length;f--;)o(n,t[f]);return n}));e.exports=f},3356:function(e,t,n){function r(e,t){return t=i(t,e),null==(e=a(e,t))||delete e[s(o(t))]}var i=n(465),o=n(893),a=n(1252),s=n(443);e.exports=r},3357:function(e,t,n){function r(e){return i(e)?void 0:e}var i=n(1253);e.exports=r},3358:function(e,t,n){e.exports=n.p+"_/9de170af75031898edeba5eb86591d86-unknown-50.png"},3359:function(e,t,n){e.exports=n.p+"_/4d2474a6ef1cb0a2c3814f496dcff96e-external.png"},3360:function(e,t,n){e.exports=n.p+"_/4024a537c261f2eb73700ab5db15b396-mailbox.png"},3361:function(e,t){!(function(e,t){if("hidden"in e||"msHidden"in e||"mozHidden"in e||"webkitHidden"in e){var n=function(){t.watcher.set("pageVisible",!(e.hidden||e.msHidden||e.mozHidden||e.webkitHidden))};n(),e.addEventListener("visibilitychange",n,!1),e.addEventListener("msvisibilitychange",n,!1),e.addEventListener("mozvisibilitychange",n,!1),e.addEventListener("webkitvisibilitychange",n,!1)}else{var r=!Modernizr.webkit&&"hasFocus"in e,i=function(n){var i=null;if(r)try{i=e.hasFocus()}catch(e){}null===i&&(i=!n||!("blur"===n.type||"focusout"===n.type)),t.watcher.set("pageVisible",i)};i(),Modernizr.msie?$(e).on("focusout focusin",i):$(window).on("blur focus",i)}})(document,Jane)},3362:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(139);n.n(r);Daria.router={},Daria.router.addThreadedParam=function(e){var t=ns.Model.get("folders"),n=t.symbols(),r=e.current_folder,i=r&&r!==n.spam&&r!==n.trash&&r!==n.draft&&r!==n.template;ns.Model.get("settings").isThreaded()&&!e.extra_cond&&!e.datePager&&i?e.threaded="yes":delete e.threaded},Daria.router.symbolToFid=function(e){var t=ns.Model.get("folders");if(e.default_folder){var n=t.getFolderBySymbol(e.default_folder);n||(n=t.getFolderBySymbol(r.WellKnownFolderSymbol.INBOX)),e.current_folder=n.fid,delete e.default_folder}}},3363:function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Daria.Constants=(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e})({ACTION_SOURCE:n(508),AVATARS:n(3364),CONTACTS:n(3365),DIRECTION:n(637),LAYOUT_3PANE:n(3366),LEFT_COLUMN:n(3367),TIMINGS:n(3368),TOOLBAR_BUTTONS:n(1257),DATASYNC:n(3369)},n(1258),{},n(3370),{},n(3371))},3364:function(e,t){e.exports={DEFAULT_SIZE:30,VALID_SIZES:[16,20,22,26,28,30,32,36,42,50,100,150]}},3365:function(e,t){e.exports={DELIMITER:", "}},3366:function(e,t){e.exports={MIN_WIDTH_FIRST_PANE_3PV:250,MIN_WIDTH_SECOND_PANE_3PV:570,MIN_HEIGHT_FIRST_PANE_3PH:88}},3367:function(e,t){e.exports={LAYOUT_MIN_WIDTH:150,LAYOUT_MAX_WIDTH:350,LAYOUT_COMPACT_WIDTH:60}},3368:function(e,t){e.exports={LAZY_UPDATE_DELAY:51}},3369:function(e,t){e.exports={CLIENT_ID:"web_mail"}},3370:function(e,t){e.exports={HTTP_REG_EX:/^https?:/}},3371:function(e,t){e.exports={UPDATE:1}},3372:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(617);!(function(){function e(e,t,n){return e<t?t:e>n?n:e}function t(e,t){if(e.data("center-aligned-resize")){var n=e.rect(),r=n.width+2*(t-n.right);return Math.min(r,$(window).width())}}var n=Daria.Constants.LEFT_COLUMN.LAYOUT_MIN_WIDTH,i=Daria.Constants.LEFT_COLUMN.LAYOUT_MAX_WIDTH,o=Daria.Constants.LEFT_COLUMN.LAYOUT_COMPACT_WIDTH,a=Daria.Constants.LAYOUT_3PANE.MIN_WIDTH_FIRST_PANE_3PV,s=Daria.Constants.LAYOUT_3PANE.MIN_WIDTH_SECOND_PANE_3PV,u=Daria.Constants.LAYOUT_3PANE.MIN_HEIGHT_FIRST_PANE_3PH;!(function(){if($&&$.ui&&$.ui.resizable){var e=$.ui.resizable.prototype._respectSize;$.ui.resizable.prototype._respectSize=function(n,r){return n.width=t($(this.ui().originalElement),r.clientX)||n.width,e.apply(this,arguments)}}})(),Daria.resize={elements:{leftPane:{selector:".js-layout-left",type:"h",params:{handles:"e",minWidth:n,maxWidth:i},settingName:"size-layout-left",callback:function(){ns.events.trigger("daria:vApp:changeLeftColumWidth")},events:{resize:function(e,t){ns.events.trigger("daria:vApp:changeLeftColumWidth",t),ns.events.trigger("daria:vApp:changeRightColumSize"),ns.events.trigger("react:dimensions:changeLayoutLeft",t.size)}}},is3paneVertical:{selector:".js-layout-first-pane",type:"h",params:{handles:"e",minWidth:a},events:{start:function(){Daria.resize._doNotKeepProportions=!0,Daria.resize._updateLeftColumnMaxWidthFor3pv(),Daria.resize._updateFirstPaneMaxWidthFor3pv()},resize:function(){ns.events.trigger("daria:vApp:changeRightColumSize"),Daria.resize._saveColumnsProportionFor3pv()}},settingName:"size-first-pane-3pv"},is3paneHorizontal:{selector:".js-layout-first-pane",scrollAreaSelector:".js-messages-scroll-area",type:"v",params:{handles:{s:".js-Mail-MessagesWrap .js-resizer-of-messages-list"},minHeight:u,maxHeightCoefficient:.6},settingName:"size-first-pane-3ph",callback:function(){$(".js-Mail-MessagesWrap .js-resizer-of-messages-list").removeClass("is-hidden"),Daria.resize._updateResizeHandleFor3ph()},events:{start:function(){Daria.resize._doNotKeepProportions=!0},resize:function(){Daria.resize._updateResizeHandleFor3ph(),ns.events.trigger("daria:vApp:changeRightColumSize"),Daria.resize._saveColumnsProportionFor3ph()}}}},setMaximumSizes:function(e){function t(t){var i=$(t.selector);t.params.maxWidthCoefficient&&(t.params.maxWidth=parseInt(n*t.params.maxWidthCoefficient,10),e&&i.resizable("option","maxWidth",t.params.maxWidth)),t.params.maxHeightCoefficient&&(t.params.maxHeight=parseInt(r*t.params.maxHeightCoefficient,10),e&&i.resizable("option","maxHeight",t.params.maxHeight))}var n=window.innerWidth,r=window.innerHeight;_.forEach(this._resizableElements,(function(e){t(e)}))},expandToViewport:function(){if(-1!==this._resizableElements.indexOf(this.elements.layout)){var e=parseInt(ns.Model.get("settings").getSetting("size-view-app2"),10)||"100%";this.$layout.css({width:e})}},resetExpandToViewport:function(){if(-1!==this._resizableElements.indexOf(this.elements.layout)){var e=this.elements.layout;this.setSizesFromSettings(this.$layout,e.type,e.settingName)}},init:function(){var e=this,t=this;this._resizeHandler=this._resizeHandler.bind(this),this._saveSettingsDelayed=_.debounce(this._saveSettings.bind(this),1e3),this.setMaximumSizes(),this.bindResizeEvent(),this.$layout=$(".mail-Layout"),this.$layoutInner=$(".mail-Layout-Inner"),this.$midgets=$(".ns-view-midgets-box"),this.$layoutPanes=$(".js-mail-Layout-Panes"),this.$layoutLeft=$(".js-layout-left"),this.$firstPane=$(".js-layout-first-pane"),this.$secondPane=$(".js-layout-second-pane"),this.$header=$(".mail-Header-Wrapper");var n=this._resizableElements=[];n.push(this.elements.leftPane),Daria.is3pv()?n.push(this.elements.is3paneVertical):Daria.is3ph()&&n.push(this.elements.is3paneHorizontal),n.forEach((function(t){return e._turnOnResize(t)})),this.adjustLeftColumnWidth(),Daria.isPageWithResizableLeftColumn()&&(Daria.is3pv()&&(this._updateLeftColumnMaxWidthFor3pv(),this._updateFirstPaneMaxWidthFor3pv(),this._saveColumnsProportionFor3pv(),ns.events.on("daria:vApp:changeAppWidth",this.onAppWidthChange.bind(this))),Daria.is3ph()&&(this._updateLeftColumnMaxWidthFor3ph(),this._saveColumnsProportionFor3ph(),ns.events.on("daria:vApp:changeAppWidth",this.onAppHeightChange.bind(this)),Daria.hasFeature("web-midgets")&&ns.events.on("daria:vApp:changeAppWidth",this.onAppWidthChangeFor3ph.bind(this))),Daria.is2pane()&&Daria.hasFeature("web-midgets")&&ns.events.on("daria:vApp:changeAppWidth",this.onAppWidthChangeFor2pane.bind(this))),Daria.hasFeature("web-midgets")&&(ns.events.on("ns-page-after-load",this._updateHeaderMaxWidth.bind(this)),ns.events.on("daria:vApp:changeAppWidth",this._updateHeaderMaxWidth.bind(this))),ns.Model.get("settings").on("ns-model-changed.liza_minified",this.adjustToCompactMode.bind(this)),ns.Model.get("settings").on("ns-model-changed.liza_minified_header",this.adjustToCompactMode.bind(this)),_.defer((function(){t.adjustToCompactMode()}))},adjustLeftColumnWidth:function(){var e=this.$layoutLeft.width();if(!(e>=n&&e<=i||e<=o)){var t=e>i?i:n;this.$layoutLeft.width(t),this.saveSizeOnSettings(this.elements.leftPane,this.$layoutLeft)}},dispose:function(){(this._resizableElements||[]).forEach((function(e){var t=$(e.selector);t.data().uiResizable&&t.resizable("destroy")})),ns.Model.get("dimensions").off("resize",this._resizeHandler)},_resizeHandler:function(e,t){this.setMaximumSizes(!0),ns.events.trigger("daria:vApp:changeAppWidth",{saveRightColumnWidthSettings:!0,saveRightColumnHeightSetting:!0,isLeftResized:$(t.target).hasClass("js-layout-left")}),ns.events.trigger("daria:vApp:changeLeftColumWidth"),ns.events.trigger("daria:vApp:changeRightColumSize")},bindResizeEvent:function(){ns.Model.get("dimensions").on("resize",this._resizeHandler)},_saveColumnsProportionFor3pv:function(){var e=this.$firstPane.width(),t=this.$secondPane.width();this._3pvColumnsProportion=e/(e+t)},_saveColumnsProportionFor3ph:function(){var e=this.$firstPane.height(),t=this.$secondPane.height();this._3phColumnsProportion=e/(e+t)},_updateLeftColumnMaxWidthFor3pv:function(){var t=this.$layoutInner.width(),r=t-a-s;r=e(r,n,i),this.$layoutLeft.resizable("option","maxWidth",r)},_updateLeftColumnMaxWidthFor3ph:function(){var t=this.$layout.width(),r=this.$midgets.width(),o=t-r-620;o=e(o,n,i),this.$layoutLeft.resizable("option","maxWidth",o)},_updateFirstPaneMaxWidthFor3pv:function(){var e=this.$layoutInner.width(),t=this.$layoutLeft.width(),n=this.$layoutLeft.resizable("option","maxWidth");t>n&&(t=n);var r=e-t-s;r=Math.max(r,a),this.$firstPane.resizable("option","maxWidth",r)},_updateResizeHandleFor3ph:function(){var e=this.elements.is3paneHorizontal,t=$(e.scrollAreaSelector),n=$(".js-Mail-MessagesWrap .js-resizer-of-messages-list");n.css({top:t.scrollTop()+t.height()-n.height()})},getLeftColumnWidth:function(t){var n=this.$layoutLeft.width(),r=this.$layoutLeft.resizable("option","maxWidth"),i=parseInt(ns.Model.get("settings").getSetting("size-layout-left"),10),a=n;return t.isLeftResized||n<i&&(a=i),a=e(a,Daria.resize.isWithCompactLeftColumn&&o,r)},_updateHeaderMaxWidth:function(){Daria.CompactMode.isCompactHeader()&&this.$header.css("max-width",Object(r.isWidgetsEnabled)()?this.$layoutInner.width():"none")},onAppWidthChange:function(t,n){if(!this._doNotKeepProportions){this._updateLeftColumnMaxWidthFor3pv(),this._updateFirstPaneMaxWidthFor3pv(),n=n||{};var r=this.$layout.width(),i=this.$firstPane.resizable("option","maxWidth"),o=this.getLeftColumnWidth(n),u=Math.floor((r-o)*this._3pvColumnsProportion);u=e(u,a,i),u=Math.min(u,r-o-s),this.$layoutLeft.width(o),this.$firstPane.width(u),n.saveRightColumnWidthSettings&&this._saveRightColumnWidthSettingFor3pv(),ns.events.trigger("daria:vApp:changeLeftColumWidth"),ns.events.trigger("daria:vApp:changeRightColumSize")}},onAppWidthChangeFor2pane:function(t,r){if(!this._doNotKeepProportions){r=r||{};var o=this.$layout.width(),a=this.$midgets.width(),s=o-a-587;s=e(s,n,i),this.$layoutLeft.resizable("option","maxWidth",s);var u=this.getLeftColumnWidth(r);this.$layoutLeft.width()!==u&&(this.$layoutLeft.width(u),ns.events.trigger("daria:vApp:changeLeftColumWidth"))}},onAppWidthChangeFor3ph:function(e,t){if(!this._doNotKeepProportions){t=t||{},this._updateLeftColumnMaxWidthFor3ph();var n=this.getLeftColumnWidth(t);this.$layoutLeft.width()!==n&&(this.$layoutLeft.width(n),ns.events.trigger("daria:vApp:changeLeftColumWidth"))}},onAppHeightChange:function(e,t){if(!this._doNotKeepProportions){var n=this.$layoutPanes.height();t=t||{};var r=Math.floor(n*Math.min(this._3phColumnsProportion,.8));r=Math.max(r,u),this.$firstPane.height(r),this._updateResizeHandleFor3ph(),t.saveRightColumnHeightSetting&&this._saveRightColumnHeightSettingFor3ph(),ns.events.trigger("daria:vApp:changeRightColumSize")}},reinit3paneHorizontalResizer:function(){this._clearOldSizes(),this._turnOnResize(this.elements.is3paneHorizontal)},reinit3paneVerticalResizer:function(){this._turnOnResize(this.elements.is3paneVertical)},_clearOldSizes:function(){var e=$(".js-resizer-of-messages-list");e.addClass("is-hidden").removeClass("ui-resizable-handle ui-resizable-s");var t=this.$firstPane;t.hasClass("ui-resizable")&&t.resizable("destroy"),Daria.is3pv()?t.css({height:"auto"}):Daria.is3ph()?t.css({width:"auto"}):t.css({height:"auto",width:"auto"}),e.addClass("ui-resizable-handle ui-resizable-s")},_turnOnResize:function(e){var t=$(e.selector);this.setSizesFromSettings(t,e.type,e.settingName);var n=e.events||{};n.stop=this._onResizeStop.bind(this,e,t),t.resizable($.extend(e.params,n)),e.callback&&e.callback()},_onResizeStop:function(e,t){Daria.is3pv()&&(this._updateLeftColumnMaxWidthFor3pv(),this._updateFirstPaneMaxWidthFor3pv(),this._saveRightColumnWidthSettingFor3pv(),this._doNotKeepProportions=!1),Daria.is3ph()&&(this._updateResizeHandleFor3ph(),this._saveRightColumnHeightSettingFor3ph(),this._doNotKeepProportions=!1),this.saveSizeOnSettings(e,t),this._clearGlobalCursorStyle()},_clearGlobalCursorStyle:function(){$("body").css("cursor","")},setSizesFromSettings:function(e,t,n){var r=parseInt(ns.Model.get("settings").getSetting(n),10);if(r)if("h"===t)e.width(r);else if("v"===t)e.height(r);else{var i=r.split("|");e.width(i[0]),e.height(i[1])}},saveSizeOnSettings:function(e,t){var n=e.settingName;"size-view-app"===n&&Daria.CompactMode.isCompactMessagesList()&&(n="size-view-app2");var r={};"h"===e.type?r[n]=t.width():"v"===e.type?r[n]=t.height():r[n]=t.width()+"|"+t.height(),this._setSettingsWithDelay(r)},_settingsDiff:null,_setSettingsWithDelay:function(e){this._settingsDiff=_.extend(this._settingsDiff||{},e),this._saveSettingsDelayed()},_saveSettings:function(){if(this._settingsDiff){ns.Model.get("settings").setSettings(this._settingsDiff),this._settingsDiff=null}},_saveRightColumnWidthSettingFor3pv:function(){var e=this.elements.is3paneVertical,t=$(e.selector);this.saveSizeOnSettings(e,t)},_saveRightColumnHeightSettingFor3ph:function(){var e=this.elements.is3paneHorizontal,t=$(e.selector);this.saveSizeOnSettings(e,t)},adjustToCompactMode:function(){var e=Daria.CompactMode;e.isCompactHeader()||e.isCompactMessagesList()?this.expandToViewport():this.resetExpandToViewport(),Daria.resize.isWithCompactLeftColumn&&this.$layoutLeft.resizable("disable"),e.isCompactHeader()?document.documentElement.classList.add("mail-Page_minified"):document.documentElement.classList.remove("mail-Page_minified"),ns.events.trigger("daria:vApp:changeAppWidth")}}})()},3373:function(e,t){!(function(){function e(){return"messages"===ns.page.current.page?ns.Model.getKeyAndParams("messages",ns.page.current.params).params:null}function t(){var e;return"message"===ns.page.current.page?(e=ns.Model.getKeyAndParams("message",ns.page.current.params).params,e.mid=e.ids,delete e.ids,e):null}function n(){var e=ns.page.current.page,t=null;return"abook"===e&&(t=ns.Model.getKeyAndParams("abook-contacts",ns.page.current.params).params),t}Daria.params={toolbarButtons:function(){var r=ns.page.current.page,i=e()||t()||n()||{};return _.extend(i,{layout:r})},messagesChecked:function(n){return n.mid?{mid:n.mid}:e()||t()||{}}}})()},3374:function(e,t){!(function(){Daria.Clipboard=function(e,t){this._lock=!1,this._needDestroy=!1,this._target=$(e),this._destroyed=!1,this._clipboard=null,this._text="",this._options=_.assign({hoverClass:"hover"},t),_.bindAll(this,["_onLoad","_onMouseenter","_onMouseleave","_onMousedown","_getText"]),this._target.on("mouseenter.clipboard",this._onMouseenter).on("mouseleave.clipboard",this._onMouseleave).on("mousedown.clipboard",this._onMousedown),Jane.Services.runModules(["clipboard.js"],this._onLoad)},no.extend(Daria.Clipboard.prototype,ns.Events),Daria.Clipboard.canUse=(function(){var e;try{e=document.queryCommandSupported("copy"),e&&!Modernizr.msie&&document.execCommand("copy")}catch(t){e=!1}return e?"native":!(!window.swfobject||!window.swfobject.hasFlashPlayerVersion("11.0.0"))&&"flash"})(),Daria.Clipboard.prototype.EV={SUCCESS:"success",ERROR:"error",COMPLETE:"complete",READY:"ready"},Daria.Clipboard.prototype.destroy=function(){if(this._lock)return void(this._needDestroy=!0);this._needDestroy=!1,this._destroyed=!0,this._text="";for(var e in this.EV)this.off(this.EV[e]);this._target&&(this._target.off(".clipboard"),this._target=null),this._clipboard&&(this._clipboard.destroy(),this._clipboard=null)},Daria.Clipboard.prototype.setText=function(e){this._text=e},Daria.Clipboard.prototype._onLoad=function(){if(!this._destroyed){var e;e="native"===Daria.Clipboard.canUse?this._clipboardInit():"flash"===Daria.Clipboard.canUse?this._zeroClipboardInit():vow.reject(),e.then((function(){this.trigger(this.EV.SUCCESS)}),(function(){this.trigger(this.EV.ERROR)}),this).always((function(){this._lock=!1,this._needDestroy&&this.destroy(),this.atrigger(this.EV.COMPLETE)}),this)}},Daria.Clipboard.prototype._onMouseenter=function(){this._target.addClass(this._options.hoverClass)},Daria.Clipboard.prototype._onMouseleave=function(){this._target.removeClass(this._options.hoverClass)},Daria.Clipboard.prototype._onMousedown=function(){this._lock=!0},Daria.Clipboard.prototype._getText=function(){return this._text},Daria.Clipboard.prototype._clipboardInit=function(){return new vow.Promise(function(e,t){this._clipboard=new Clipboard(this._target[0],{text:this._getText}),this._clipboard.onClick=function(e){Clipboard.prototype.onClick.call(this,e),this.clipboardAction.fakeElem&&this.clipboardAction.fakeElem.blur()},this._clipboard.on("success",e),this._clipboard.on("error",t),this.atrigger(this.EV.READY)}.bind(this))},Daria.Clipboard.prototype._zeroClipboardInit=function(){return new vow.Promise(function(e,t){var n=this;this._clipboard=new ZeroClipboard(this._target[0]),this._clipboard.on("ready",(function(){n.atrigger(n.EV.READY)})),this._clipboard.on("copy",(function(){n._clipboard.setText(n._getText()),e()})),this._clipboard.on("error",t)}.bind(this))}})()},3375:function(e,t,n){"use strict";function r(e,t){ns.forcedRequest("do-service-worker-log",{params:JSON.stringify({reason:t,type:"error",message:e&&e.message||e,source:"u2709-cache-manager"})})}Object.defineProperty(t,"__esModule",{value:!0});var i,o=n(87),a=(n.n(o),n(1775));try{i=new a.a(a.a.ROLE.CACHE_MANAGER)}catch(e){r(e,"cache-manager-setup")}var s=_.bindAll({compatible:Boolean(i&&a.a.compatible),_worker:i,start:function(){this._worker.update().catch((function(e){r(e,"cache-manager-start")}))},stop:function(){this._worker.stop()},init:function(){if(this.compatible){if(!("1"===Daria.urlParams.nosw)){var e,t="1"===Daria.urlParams.cachesw;e=Daria.Config.dev?t:Object(o.hasFeature)(o.Features.CACHING_SERVICE_WORKER)&&!Modernizr.edge||t,e?this.start():this.stop()}}}});Daria.CacheManager=s},3376:function(e,t,n){"use strict";function r(){var e="granted"===h.permission,t="denied"===h.permission;return e||t?vow.Promise.resolve(e):i()}function i(){return new vow.Promise(function(e){h.requestPermission((function(t){var n=Daria.PushManager.permissionCode(t);return ns.events.trigger("daria:PushManager:permissionResolved",n),ns.forcedRequest("do-service-worker-log",{params:JSON.stringify({type:"info",reason:"decision-resolved",value:n,source:"u2709-push"})}),e(n===Daria.PushManager.PERMISSION.GRANTED)}))})}function o(e){if(!Daria.LS.compatible||!e||!e.subscription)return!1;var t=Daria.LS.getItem("push-subscription-data"),n=Daria.LS.getItem("push-subscription-time")||0,r=t===JSON.stringify(e),i=Date.now()-n<d;return r&&i}function a(){return ns.forcedRequest("push-vapid").then((function(e){var t=e[0].getData();return s(window.atob(t))}))}function s(e){for(var t=new Uint8Array(e.length),n=0;n<e.length;++n)t[n]=e.charCodeAt(n);return t}function u(e){return function(t){return vow.Promise.resolve(void 0===t?e:t)}}function c(e){return function(t){return ns.forcedRequest("do-service-worker-log",{params:JSON.stringify({type:"error",reason:e,message:t&&t.message||t,source:"u2709-push"})}),u(!1)()}}Object.defineProperty(t,"__esModule",{value:!0});var l,f=n(1775),d=864e5,h=window.Notification,p=window.PushManager,g=Boolean(p)&&Boolean(h)&&(function(){return"Gecko"!==Daria.UA.BrowserEngine||Daria.UA.BrowserVersion>=46})()&&f.a.compatible;try{l=new f.a(f.a.ROLE.PUSH_MANAGER)}catch(c){ns.forcedRequest("do-service-worker-log",{params:JSON.stringify({type:"error",reason:"push-setup",message:c&&c.message||c,source:"u2709-push"})})}var m=_.bindAll({PERMISSION:{SKIPPED:0,DENIED:1,GRANTED:2},compatible:Boolean(l&&g),_worker:l,_pending:null,_subscribed:null,permission:function(){return h&&h.permission||""},permissionCode:function(e){return{denied:Daria.PushManager.PERMISSION.DENIED,granted:Daria.PushManager.PERMISSION.GRANTED}[e]||Daria.PushManager.PERMISSION.SKIPPED},_subscription:function(e){return e?e.pushManager.getSubscription():u(null)()},subscribe:function(e,t,n){return g?!0!==this._subscribed||n?(this._subscribed=!0,this._folders=e||[],this._tabs=t||[],this._pending=this._pending?this._pending.then(this._subscribe):this._subscribe(),this._pending):this._pending:u(!1)()},_subscribe:function(){var e=this;return r().then((function(t){return t?e._worker.update().then(e._makeSubscription).then(e._saveSubscription).then(u(!0)):(e._subscribed=null,u(!1)())}),c("subscribe"))},_makeSubscription:function(e){var t=this;return this._subscription(e).then((function(n){return o(t._getSubscriptionData(n))?u(null)():n?u(n)():a().then((function(t){return e.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:t})}))}))},_saveSubscription:function(e){if(!e)return u(!0)();var t=this._getSubscriptionData(e);return ns.forcedRequest("do-push-subscribe",t).then((function(){Daria.LS.setItem("push-subscription-data",JSON.stringify(t)),Daria.LS.setItem("push-subscription-time",Date.now()),ns.events.trigger("daria:PushManager:subscriptionUpdated",t)}))},_getSubscriptionData:function(e){return{folders:JSON.stringify(this._folders),tabs:JSON.stringify(this._tabs),subscription:JSON.stringify(e)}},unsubscribe:function(e){return!1===this._subscribed?this._pending:(this._subscribed=!1,this._pending=this._unsubscribe(e),this._pending)},_unsubscribe:function(e){return this._worker.stop(),Daria.LS.getItem("push-subscription-data","")||e?(Daria.LS.setItem("push-subscription-data",""),Daria.LS.setItem("push-subscription-time",""),ns.forcedRequest("do-push-unsubscribe").then(u(!0),c("unsubscribe"))):u(!1)()},requestPermission:i,resetSubscriptionDatetime:function(){Daria.LS.setItem("push-subscription-data",""),Daria.LS.setItem("push-subscription-time","")},settings:function(e){return this._worker.settings(e)}});Daria.PushManager=m},3377:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e){return function(t){return new Promise(function(n){if(!t)return n(!1);e(n)})}}var s=(function(){function e(t){var n=this;r(this,e),this._isXivaSubscriptionAllowed=a((function(e){n._api.isXivaSubscriptionAllowed(n._uid,e)})),this._denySubscriptionToXiva=a((function(e){n._api.denySubscriptionToXiva(n._uid,(function(){return e(!0)}))})),this._allowNotifications=a((function(e){n._api.allowNotifications((function(){return e(!0)}))})),this._setNotificationSetting=a((function(e){var t=Daria.PushManager.permissionCode(Notification.permission);ns.events.trigger("daria:PushManager:permissionConverted",t),e(!0)})),this._logError=function(e){Daria.monitoring.workflow.ipush({action:"error",message:e.message||e,stack:e.stack})},this._uid=t,this._api=window.yandex&&window.yandex.yamail,this._conversion=null,this._compatible=Boolean(Daria.PushManager.compatible&&this._api&&this._api.isXivaSubscriptionAllowed)}return o(e,[{key:"convert",value:function(){return this._conversion?this._conversion:this._conversion=Promise.resolve(this._compatible).then(this._isXivaSubscriptionAllowed).then(this._denySubscriptionToXiva).then(this._allowNotifications).then(this._setNotificationSetting).catch(this._logError)}}]),e})();ns.events.on("pageinit",(function(){return new s(Daria.uid).convert()}))},3378:function(e,t,n){"use strict";Object.defineProperty(Jane,"HAS_AD",{configurable:!0,get:function(){var e=Daria.now()>ns.Model.get("settings").getSign("mute_ad_until")||Daria.isAdvertisementOnWithProMail(),t=Boolean(Daria.Config.mayHaveAdv&&e);return ns.Model.get("messages",ns.page.current.params).isValid()&&Object.defineProperty(Jane,"HAS_AD",{value:t}),t}})},3379:function(e,t){Daria.assert=function(e,t,n,r){n=n||null;var i,o,a,s=Daria.DEBUG,u=e?"PASS":"FAIL";switch(s){case n:a="assert-namespace";break;case"obtrusive-assertions":case"all-assertions":a=s;break;default:a=s?"default-debug":"disable-debug"}var c=function(e){return!$.isArray(e)&&arguments.length&&(e=Array.prototype.slice.call(arguments)),function(t,n){t=t||null,n=n||[],$.each(e,(function(e,r){$.isFunction(r)&&r.apply(t,n)}))}},l=function(e,t){if(console.assert)console.assert("PASS"===e,t);else if("FAIL"===e)throw new Error(t+": "+e)},f=function(e,t){alert(t+": "+e)},d=function(){};r=r||function(e,t){if("FAIL"===e)throw new Error(t+": "+e)};var h={"obtrusive-assertions:PASS":c(l),"obtrusive-assertions:FAIL":c(f,l),"all-assertions:PASS":c(l),"all-assertions:FAIL":c(l),"assert-namespace:PASS":c(r,l),"assert-namespace:FAIL":c(r,f,l),"default-debug:PASS":c(l),"default-debug:FAIL":c(l),"disable-debug:PASS":d,"disable-debug:FAIL":d};i=[a,u].join(":"),(o=h[i])(null,[u,t])}},3380:function(e,t){!(function(){var e=/[_-]/g,t={"-":"+",_:"/"};Daria.base64UrlDecode=function(n){return n=window.atob(n.replace(e,(function(e){return t[e]}))),decodeURIComponent(escape(n))}})()},3381:function(e,t){!(function(){var e={},t=function(e){return e=e||ns.page.current.params,_.pick(e,"current_label","current_folder","extra_cond")},n=function(e){switch(e){case"abook":case"compose2":break;default:Daria.scrollRestore.getScrollArea().scrollTop(0)}},r=function(){var t=ns.page.current.page;_.method(t)(e)||n(t),e[t]=no.true};Daria.scrollRestore={},Daria.scrollRestore.getScrollArea=function(){var e;return Daria.is3pane()&&(e=$(".js-messages-scroll-area")),e&&e.length?e:$(window)},Daria.scrollRestore.restore=function(e){if(Daria.scrollRestore._disabled)return!1;var r=ns.page.current.page,i=ns.page.current.params,o=t(),a=Daria.scrollRestore.getScrollArea();switch(r){case"messages":if(!Boolean(Daria.is2pane()&&Daria.isMessageOpenedInList()&&!Daria.Page.isParamsForSingleThread(i))){var s=0;!_.isEmpty(e)&&_.isEqual(e.params,o)&&(s=e.position),a.scrollTop(s)}break;default:n(r)}return!0},Daria.scrollRestore.save=function(e){if(!Daria.scrollRestore._disabled)return{params:t(e),position:Daria.scrollRestore.getScrollArea().scrollTop()}},Daria.scrollRestore.disable=function(){Daria.scrollRestore._disabled=!0},Daria.scrollRestore.enable=function(){Daria.scrollRestore._disabled=!1},ns.events.on("ns-page-before-load",(function(n,r){if(!_.isEqual(r[0],r[1])&&("messages"!==r[0].page||"messages"!==r[1].page||_.isEmpty(r[0].params)||_.isEmpty(r[1].params)||!_.isEqual(t(r[0].params),t(r[1].params)))){var i=r[0].page&&Daria.scrollRestore.save(r[0].params);i&&(e[r[0].page]=_.once(Daria.scrollRestore.restore.bind(null,i)))}})),ns.events.on("ns-page-after-load",r),ns.events.on("ns-page-error-load",r)})()},3382:function(e,t){Daria.timify=function(e,t){t=t||"milliseconds";var n,r={milliseconds:1,seconds:Jane.Date.SECOND,timestamp:1e3,minutes:Jane.Date.MINUTE,hours:Jane.Date.HOUR,days:Jane.Date.DAY,weeks:Jane.Date.WEEK,months:Jane.Date.MONTH,years:31104e6};if(!e)throw new Error("Not provided any time parameter");var i=_.chain(e).pairs().reduce((function(e,t){var n=t[0],i=t[1],o=r[n];if(o)return e+o*i;throw new TypeError("Unknow time entity in timeSettings")}),0).value();if(!r[t])throw new TypeError("Unknow time entity in timeSettings");return n=r[t],i/n}},3383:function(e,t){Daria.WMI={},Daria.WMI.ERROR_CODES={AUTH_NO_AUTH:"2001",AUTH_NO_MAILBOX:"2003",AUTH_NO_PASSWORD:"2008",NO_SUCH_MESSAGE:"5000"}},3384:function(e,t,n){Jane.LAYOUTS=["2pane","3pane-horizontal","3pane-vertical"],n(3385),n(3386),n(3387),(function(e,t){var r=t.Config;Modernizr["input-multiple"]&&(r["input-multiple"]=!0),t.IS_CORP&&(r["is-corp"]=!0),r["timeline-yandex-host"]=r["calendar-url"],r["timeline-yandex-host-event"]=r["timeline-yandex-host"]+"/event",r["timeline-yandex-host-week"]=r["timeline-yandex-host"]+"/week",r["is-timeline"]=Boolean("RUS"===r.product),n(3388),n(3389),n(3390),n(3391),n(3392),n(3393),n(3394),n(3396),e.ajaxSetup({cache:!0,traditional:!0}),n(3407),n(3409)})(jQuery,Daria)},3385:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(676),i=n.n(r);!(function(e,t){var n=Jane.Common.keyCode,r=function t(n){this._onKeyInputBinded=this._onKeyInput.bind(this),this._onFocusBinded=this._onFocus.bind(this),this._onFocusOutBinded=this._onFocusOut.bind(this),this._onClickBinded=this._onClick.bind(this),this.options=e.extend({},t.defaults,n),this.sections=this.options.sections||[],this.results=[],this.requests=[],this.$body=null,this.selected=null,this.prevVal="",this.currentValue="",this.selectedIdx=-1,this.firstRender=!0,this.isVisible=!1,this.hasFocus=0,this.lastKeyPressCode=null,this.timeout=null,this.bodyClass="",this.cache={},this._id="autocomplete"+e.now(),e(this.init.bind(this))};r.utils={trimWords:function(e,t){if(!e)return[""];var n;return n=t.lastWord?/\s/:t.multipleSeparator,e.split(n).map((function(e){return e.trim()}))},lastWord:function(e,t){if(!t.multiple&&!t.lastWord)return e;var n=this.trimWords(e,t);return _(n).last()},selection:function(e,n,r){e.offsetHeight&&(t.setSelection(e,n,r),e.focus())},highlight:function(e,t){t=i()(t);var n=new RegExp("(?!<[^<>]*)(\\s|>)("+t+")(?![^<>]*>)","i");return e.replace(n,"$1<strong>$2</strong>")}},r.defaults={sections:[],container:document.body,selectFirst:!0,multiple:!1,multipleSeparator:",",excludeSelected:!1,matchCase:!0,minChars:1,delay:100,cacheSize:50,doubleOrient:!1,scroll:!1,blockSubmit:!0,abortRequests:!0,hideOnScroll:!1,topOffset:0,saveSelectionOnBlur:!0,fakeRequestParams:!0},e.extend(r.prototype,{init:function(){this.appendBody(),this.$body&&this.bindResults()},getCache:function(e){return this.cache[e]},setCache:function(e,t){var n=this.cache;Object.keys(n).length>this.options.cacheSize&&this.flushCache(),n[e]=t},flushCache:function(){this.cache={}},appendBody:function(){this.$body=e(this.options.tpl).appendTo(this.options.container),this.$body&&this.$body.length&&(this.bodyClass=this.$body[0].className)},bindResults:function(){var t=this.options,n=this;this.$body.on("mousedown",t.item,(function(r){r.preventDefault(),r.stopPropagation(),e(this).addClass(t.activeClass),n.select(this,r),n.hide()})).on("mouseenter",t.item,(function(){n.$body.find(t.item).removeClass(t.activeClass),e(this).addClass(t.activeClass)})),t.saveSelectionOnBlur||this.$body.on("mouseleave",t.item,(function(){e(this).removeClass(t.activeClass)}))},_selectIfVisible:function(e,t,n){(this.isVisible||n)&&t.preventDefault(),this.isVisible?this.select(e,t):this.onChange()},select:function(t,n){var i,o,a=this.options,s=this.$body.find(a.item),u=s.length,c="",l=[];if("number"==typeof t)t>u-1?t=0:t<0&&(t=u-1);else if((t=e.inArray(t||s.filter("."+a.activeClass)[0],s))>-1){if(!(i=this.results[t]))return;if(c=(a.formatResult||i.section.formatResult||_.noop).call(this,i.data,s[t],n,{dataContext:i}),i.section.onselect&&i.section.onselect.call(this,i.data,t),"string"==typeof c&&a.multiple&&(l=r.utils.trimWords(this.$input.val(),a),l.length>1&&(c=l.slice(0,l.length-1).join(a.multipleSeparator+" ")+a.multipleSeparator+" "+c),c+=a.multipleSeparator+" "),this.prevVal=c,this.abort(),o=this.$input.val(),"string"==typeof c){if(a.lastWord){var f=r.utils.lastWord(o,a),d=o.lastIndexOf(f);c=o.substr(0,d)+c+o.substr(d+f.length)}this.$input.val(c),r.utils.selection(this.$input[0],c.length,c.length)}var h=!0;i.section.onresult&&(h=!i.section.onresult(i.data,i.$item,n)),a.onresult&&h&&a.onresult.call(this,i.data,n),i.section.isStatic||this.$input.trigger("result",[i.data,i.$item,n,o])}if(this.selected=s[t],this.selectedIdx=t,s.removeClass(a.activeClass),e(this.selected).addClass(a.activeClass),a.scroll&&this.selected){var p=this.$body.find(a.scrollElem)[0],g=p.offsetHeight,m=this.selected.offsetTop+this.selected.offsetHeight;m-p.scrollTop>g?p.scrollTop=m-g:this.selected.offsetTop<p.scrollTop&&(p.scrollTop=this.selected.scrollTop)}},bindField:function(t){var n=t.field;!n||this.$input&&n===this.$input[0]||(this.$input&&this.destroy(),this.options.hideOnScroll&&e(document).on("scroll."+this._id,this.hide.bind(this)),this.$input=e(n),this.prevVal=this.$input.val(),this.currentValue=t.currentValue,this.hasFocus=t.focus||0,this.$input.on("keydown.autocomplete",this._onKeyInputBinded).on("focusin.autocomplete",this._onFocusBinded).on("focusout.autocomplete",this._onFocusOutBinded).on("click.autocomplete",this._onClickBinded))},_onKeyInput:function(t){if(this.lastKeyPressCode=t.which,this.options.multiple&&","===e.trim(this.options.multipleSeparator)&&(t.which===n.COMMA_CHAR||t.which===n.SEMI_CHAR||t.which===n.SPACE_CHAR&&1===this.results.length))return this._selectIfVisible(null,t);switch(this.lastKeyPressCode){case n.UP:this._selectIfVisible(this.selectedIdx-1,t);break;case n.DOWN:this._selectIfVisible(this.selectedIdx+1,t);break;case n.PAGEUP:this._selectIfVisible(this.selectedIdx-8,t,!0);break;case n.PAGEDOWN:this._selectIfVisible(this.selectedIdx+8,t,!0);break;case n.RETURN:this.isVisible&&(this.options.blockSubmit&&t.preventDefault(),this.select(null,t),this.hide());break;case n.TAB:this.isVisible&&(t.preventDefault(),this.select(null,t),this.hide());break;case n.ESC:this.options.dontProcessEscape||(t.preventDefault(),this.hide());break;case n.CTRL:case n.SHIFT:case n.ALT:case n.META:break;default:var r=this;this.keyPressed=!0,clearTimeout(this.timeout),this.timeout=setTimeout((function(){r.onChange(t.type),r.keyPressed=!1}),this.options.delay)}},_onFocus:function(){this.hasFocus=1},_onFocusOut:function(){this.hasFocus=0,setTimeout(this.hide.bind(this),1.5*this.options.delay)},_onClick:function(){var e=_.isNumber(this.options.minClickCount)?this.options.minClickCount:1;this.hasFocus++>=e&&!this.isVisible&&this.onChange()},onChange:function(e){if(this.lastKeyPressCode===n.DEL&&"keypress"!==e)return void this.hide();var t=this.$input.val();""!==t&&t===this.prevVal&&this.isVisible||(this.prevVal=t,t.length>=this.options.minChars&&this.$input.is(":focus")?(this.options.matchCase||(t=t.toLowerCase()),this.fetch(t)):this.hide())},show:function(){var e=this.$body,t=this.options;"width"in t&&e.css("width",null==t.width?"":t.width),"additionalClass"in t&&e.attr("class",this.bodyClass+" "+(t.additionalClass||"")),this.firstRender&&!this.isVisible&&(this.firstRender=!1,this.setPosition(e,t)),this.$sectionsAnchor.html(this.$sectionsBuffer.children()),this.$sectionsAnchor.add(e).show().removeClass("UNUSED"),this.setPosition(e,t),this.isVisible=!0,t.onrender&&t.onrender(e),t.onshow&&t.onshow.call(this)},hide:function(){this.$body.hide(),this.isVisible=!1,this.selected=null,this.selectedIdx=-1,clearTimeout(this.timeout)},fetch:function(t){this.options.matchCase||(t=t.toLowerCase());var n=this;if(t&&t in this.cache)return void this.receiveData(t,this.getCache(t));this.abort();var i=this.requests;this.sections.sort((function(r){return e.isFunction(r.beforeRequest)&&!r.beforeRequest(t,n)?1:0})),e.each(this.sections,(function(){if("string"==typeof this.url&&this.url.length){if(e.isFunction(this.beforeRequest)&&!this.beforeRequest(t,n))return;var o={},a=this.extraParams||{};e.isFunction(this.contextExtraParams)&&(a=e.extend({},a,this.contextExtraParams())),o[this.param]=_.isFunction(this.getParamFromTerm)?this.getParamFromTerm(t,n.options):r.utils.lastWord(t,n.options);var s={};e.extend(o,a);var u=this.fakeRequestParams?".0":"";for(var c in o)s[c+u]=o[c];this.fakeRequestParams&&ns.request.addRequestParams(s),i.push(e.ajax({dataType:this.dataType,jsonp:this.jsonp,scriptCharset:this.scriptCharset,cache:!1,url:this.url,data:s}))}else if(!this.url&&this.isStatic){var l=e.Deferred();l.resolve([[{term:t}]]),i.push(l)}})),e.when.apply(this,i).then((function(){if(arguments.length){for(var e=[],r=i.length,o=0,a=arguments.length;o<a&&!(o>=r);o++){var s=n.sections[o],u=(r>1?arguments[o][0]:arguments[o])||[],c=s.parse?s.parse(u,t,n):n.parse(u,s,t);e.push(c)}n.setCache(t,e),n.receiveData(t,e)}}))},abort:function(){if(this.options.abortRequests)for(var e=0,t=this.requests.length;e<t;e++){var n=this.requests[e];4!==n.readyState&&"abort"in n&&n.abort()}this.requests=[]},destroy:function(t){this.abort(),this.timeout&&clearTimeout(this.timeout),this.$input&&(this.$input.off(".autocomplete"),this.$input=null),this.options.hideOnScroll&&e(document).off("scroll."+this._id),t?this.$body.remove():this.hide()},receiveData:function(t,n){var r=this.options;if(n&&n.length&&this.hasFocus){if(r.excludeSelected&&e.isFunction(r.filterItem)){n=[].concat.call(n);for(var i=0,o=n.length;i<o;i++)n[i]=e.grep(n[i],r.filterItem.bind(this))}this.render(t,n),r.selectFirst&&this.select(0)}else this.hide()},render:function(t,n){var r=!1;this.$sectionsAnchor=this.$body.find(".js-sections"),this.$sectionsBuffer=e("<div>"),this.results=[],this.$body.removeClass("b-mail-suggest_domain");for(var i=0;i<n.length;i++){var o=this.sections[i];if(!o.dontShow){var a,s=n[i],u=!1,c=e(o.tpl||'<div class="js-section-items"></div>');a=c.hasClass("js-section-items")?c:c.find(".js-section-items"),o.onfetch&&o.onfetch.call(this,n,!s.length);for(var l=0;l<s.length;l++){var f=s[l];f.$item&&f.$item.length&&(f.section=o,this.results.push(f),u||-1!==f.data.id||(a.append('<div class="b-mail-suggest__notify">'+i18n("%Suggest_notify")+"</div>"),this.$body.addClass("b-mail-suggest_domain")),a.append(f.$item),u=!0)}u&&(r=!0,this.$sectionsBuffer.append(c),o.onshow&&o.onshow())}}r?this.show():this.hide()},setPosition:function(t,n){if(t.css({top:"",bottom:"",left:"",right:""}),n.position&&n.position.at&&n.position.my)t.position(n.position),t.css("left","+=1");else{var r,i=this.$input.offset(),o=this.$input[0].offsetHeight,a=document.body.scrollHeight,s=t.outerHeight();r=n.doubleOrient&&i.top+o+n.topOffset+s+3>=a&&i.top>=s?i.top-n.topOffset-s-2:n.doubleOrientWinHeight&&(n.doubleOrientWinHeightAlwaysOnTop||i.top+o+n.topOffset+this.$input.height()>=e(window).height())?i.top-n.topOffset-s+1:i.top+o+n.topOffset+2;var u=e.extend(n.position||{left:i.left,right:"auto"},{top:r});t.css(u)}},parse:function(t,n,r){for(var i=[],o=0,a=t.length;o<a&&o!==n.max;o++){var s=t[o];if(s){var u=n.formatItem(s,r);i.push({data:s,$item:u?e(u):null})}}return i},setOptions:function(e){_.extend(this.options,e)}}),t.Autocompleter=r,t.Autocompleter.getRegion=function(){var n;n=-1!==e.inArray(t.Config.locale,["ru","uk","be","tt","tr","en"])?t.Config.locale:"INT"===t.Config.product?"en":"ru";var i=ns.Model.get("languages").get('.languages.lang[.abbr=="'+n+'"].locale_short')[0];return t.Autocompleter.__regionInstance||(t.Autocompleter.__regionInstance=new r({tpl:'<div class="mail-Region-Autocompleter"><div class="mail-Region-Autocompleter_inner"><ul class="mail-Region-Autocompleter-List js-sections"></ul></div></div>',activeClass:"mail-Region-Autocompleter-List-Item_hover",hideOnScroll:!0,doubleOrient:!0,abortRequests:!1,fakeRequestParams:!1,minChars:2,item:".mail-Region-Autocompleter-List-Item",sections:[{url:"//suggest-maps.yandex.ru/suggest-geo",dataType:"jsonp",param:"part",jsonp:"callback",extraParams:{lang:i,n:10,search_type:"weather",v:8,bases:"weather"},scriptCharset:"utf-8",max:5,tpl:'<div class="js-section-items"></div>',formatItem:function(e){return'<li class="mail-Region-Autocompleter-List-Item">'+e.name+"</li>"},parse:function(t,n){var r=this,i=t[1].map((function(t){var i=r.formatItem(t,n);return{data:t,$item:i?e(i):null}}));return r.max?_.take(i,r.max):i},onresult:function(e){t.Autocompleter.__regionInstance.$input.val(e.name),ns.Model.get("settings").setSettings({geoid:e.geoid}),ns.Model.get("theme-weather").getWeather()}}]})),t.Autocompleter.__regionInstance}})(jQuery,Daria)},3386:function(e,t){function n(e){return"string"!=typeof e?"":e.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}var r=/^<[^<]*>/;Jane.FormValidation={reEmail:/^[^@\s,;]+@[^\.\s,;]+(\.[^\.]+)*\.[^@\.\s,;]{2,}$/i,splitContacts:function(e){if(!e)return[];e=e.replace(/[\s,;]*$/,",");for(var t,n=[],i=!1,o=0,a=0,s=e.length;a<s;++a){var u=e[a];if("<"===u){var c=e.substring(a).match(r),l=Array.isArray(c)&&c[0];l&&(a=a+l.length-1)}else","!==u&&";"!==u||i?'"'===u&&"\\"!==e[a-1]&&'"'!==e[a+1]&&(i=!i):(t=e.substring(o,a),t=$.trim(t),t&&(t=this.contact2obj(t),n.push(t)),o=a+1)}if(!n.length){var f=e.match(/<(.*?)>/);f&&n.push({email:f[1],name:f[1]})}return n},splitPhones:function(){return(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"").split(/[,;]/).map((function(e){return e.trim()})).filter(_.identity)},getEmailFromString:function(e){var t=e.match(/[--a-z0-9._]+@[--a-z0-9._]+/i);return t?t[0]:""},contact2obj:function(e){var t=/^"(.*)"\s*<([^>]+)>$/,n=/^(.*)<([^>]+)>$/,r=e.match(t)||e.match(n),i=r&&r[2]||e,o=i.replace(/\s/g,""),a=this.checkEmail(o);return r?{name:$.trim(r[1].replace(/\\"/g,'"').replace(/\\\\/g,"\\")),email:a?o:$.trim(r[2])}:{email:a&&o.replace(/^['"]|['"]$/g,"")||e}},obj2contact:function(e){if(!e.email)return"";var t="<".concat(e.email,">");return e.name&&e.name.full?'"'.concat(n(e.name.full),'" ').concat(t):e.name?'"'.concat(n(e.name),'" ').concat(t):t},checkEmail:function(e){var t=Daria.Recipients.isEmailValid(e);return"boolean"==typeof t?t:!(e.indexOf("@")<0||e.indexOf(".")<0)&&this.reEmail.test(e)},checkContacts:function(e){var t=this.splitContacts(e),n=t.length;if(!n)return!1;for(var r=0;r<n;r+=1)if(!this.checkEmail(t[r].email))return!1;return!0},checkPhoneNumber:function(e){var t=e.replace(/^\+\s?(\d)/,"$1").replace(/\s|\D/g,"");return 11===t.length||12===t.length},checkExternalEmail:function(e){return!!Daria.IS_CORP&&(!!(e||"").match(/@([^.]+)/)&&!Daria.email.isCorp(e)&&!Daria.email.isSupport(e))},isUrl:function(e,t){return"string"==typeof e&&(t=_.isPlainObject(t)?t:{},Daria.urlRegex(_.extend({exact:!0},t)).test(_.trim(e)))}}},3387:function(e,t){!(function(){function e(e){var t,r,i,o=[],a=[];for(t=e[0]||"",o.push(t),i=1;i<e.length;++i)((r=e[i])!==n.INLINE||t!==n.INLINE&&t!==n.BLOCK)&&(r===n.BLOCK&&t===n.INLINE?(o[o.length-1]=n.BLOCK,t=n.BLOCK):(o.push(r),t=r));for(t=o[0]||"",a.push(t),i=1;i<o.length;++i)(r=o[i])===n.BLOCK&&t===n.BLOCK||(t=r,a.push(r));for(i=0;i<a.length;++i)a[i]===n.BLOCK?a[i]="\n":a[i]===n.INLINE&&(a[i]=" ");return a.join("")}function t(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];_.isArray(n)?Array.prototype.push.apply(e,n):e.push(n)}}var n={BLOCK:1,INLINE:2},r={ELEMENT_NODE:1,TEXT_NODE:3},i={html2text:function(t){if(!t)return"";var n=document.implementation.createHTMLDocument("").body;n.innerHTML=t,this._isTextInserted=!1;var r=[];return this._convertChildNodes(n,r),e(r).replace(/^[\u0020\u00a0]+$/gm,"").replace(/^\n/,"").replace(/\n$/,"")},text2html:function(e,t){t=t||"div";var n="<"+t+">",r="</"+t+">",i=_.escape(e).replace(/^--[\u0020\u00a0]$/gm,"--&nbsp;");return i=n+i+r,i=i.replace(/\n/g,r+n)},quoteText:function(e){return e=this.normalize(e),e.replace(/^.?/gm,(function(e){return">"===e?">"+e:e?"> "+e:">"}))},quoteHtml:function(e){return'<blockquote type="cite">'+e+"</blockquote>"},normalize:function(e){return e=e.replace(/\u0020+/g," ").replace(/^\u0020+|[\u0020\u00a0]+$/gm,"").replace(/\n{3,}/g,"\n\n").replace(/^[\u0020\n\r\t]+|[\u0020\u00a0\n\r\t]+$/g,"")},_convertChildNodes:function(e,t){for(var n=0;n<e.childNodes.length;++n)this._convertNode(e.childNodes[n],t)},_isBufferContainText:function(e){for(var t=0;t<e.length;t++)if(e[t].length)return!0;return!1},_convertNode:function(i,o){var a;if(i.nodeType===r.ELEMENT_NODE){if(Jane.DOM.isBlockquote(i)||Jane.DOM.classContains(i,"b-quote"))return t(o,n.BLOCK),a=[],this._convertChildNodes(i,a),void t(o,n.BLOCK,this.quoteText(e(a)),n.BLOCK);if(Jane.DOM.classContains(i,"b-quote__show"))return;if(Jane.DOM.classContains(i,"normalize"))return a=[],this._convertChildNodes(i,a),void t(o,this.normalize(e(a)),n.BLOCK);switch(i.tagName.toLowerCase()){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":case"pre":case"p":case"ol":case"ul":case"dl":case"table":return this._isTextInserted||this._isBufferContainText(o)?t(o,n.BLOCK,"",n.BLOCK):(t(o,n.BLOCK),this._isTextInserted=!0),this._convertChildNodes(i,o),void t(o,n.BLOCK);case"div":case"address":case"fieldset":case"form":case"dt":case"dd":case"tr":return t(o,n.BLOCK),this._convertChildNodes(i,o),void t(o,n.BLOCK);case"br":return void t(o,"",n.BLOCK);case"hr":return void t(o,n.BLOCK,"----------------------------------------",n.BLOCK);case"li":return t(o,n.BLOCK,"* "),this._convertChildNodes(i,o),void t(o,n.BLOCK);case"td":case"th":return t(o,n.INLINE),this._convertChildNodes(i,o),void t(o,n.INLINE);default:return void this._convertChildNodes(i,o)}}else i.nodeType===r.TEXT_NODE&&t(o,i.data.replace(/[\u0020\n\r\t]+/g," "))},flatDOMHtml:function(e){var t=document.createElement("div");return t.innerHTML=e,this.flatDOM(t).innerHTML.replace(/^\s+|\s+$/gm,"")},flatDOM:function(e){"normalize"in e&&e.normalize();var t,n=document.createElement("div"),r=[],i=function(e,t,r){for(var i=0;i<r.length;i++)r[i].specified&&t.setAttribute(r[i].nodeName,r[i].value);return e&&e.nextSibling?e.parentNode.insertBefore(t,e.nextSibling):e?e.parentNode.appendChild(t):n.appendChild(t)};r.push([e,n.appendChild(document.createTextNode("")),[]]);for(var o=1e3;(t=r.pop())&&o;){for(var a=null,s=0,u=t[0].childNodes.length;s<u;s++){var c=t[0].childNodes[s],l=c.tagName&&c.tagName.toLowerCase();1!==c.nodeType||"div"!==l&&"p"!==l?(a||(a=document.createElement("div")),a.appendChild(c.cloneNode(!0))):(a&&(t[1]=i(t[1],a,t[2],t[3])),r.push([c,t[1],c.attributes,c.style.cssText]),a=null)}a&&(i(t[1],a,t[2],t[3]),a=null),o--}return o?n:e}};Daria.Html2Text=i})()},3388:function(e,t){function n(){try{navigator.registerProtocolHandler("mailto",location.protocol+"//"+location.host+"/compose?mailto=%s",i18n("%Title_mail"))}catch(e){Jane.ErrorLog.sendException("registerProtocolHandler",e)}}Daria.IS_CORP||Daria.hasYaBar||Daria.Config.NO_SETTINGS||!navigator.registerProtocolHandler||ns.events.on("pageinit",(function(){var e=Modernizr.mozilla&&"mozilla"||Modernizr.opera&&"opera"||Modernizr.webkit&&"webkit",t=ns.Model.get("settings");if(e)return"webkit"===e?(n(),void t.recordAttemptToRegisterMAILTOProtocolHandler(e,!0)):Daria.LS.getItem("rph")?void t.recordAttemptToRegisterMAILTOProtocolHandler(e,!0):void(t.recordAttemptToRegisterMAILTOProtocolHandler(e,!0)&&window.setTimeout(n,3e3))})),ns.events.on("pageinit",(function(){var e=new Date,t=ns.Model.get("account-information").getData(),n=(e.getTime()-Daria.now())/6e4,r=e.getTimezoneOffset()-t.tz_offset;(Math.abs(n)>10||0!==Math.abs(r))&&Jane.ErrorLog.send({name:"wrongUserTimeAndTimezone",userTime:e.toString(),difference:Math.round(n),passportTZ:t.timezone,diffTZ:r,regionId:Daria.Config.region_id})})),ns.events.on("pageinit",(function(){var e=navigator.userAgent.match(/YaBrowser\/([.\d]+)/);if(e&&e[1]){var t=parseFloat(e[1].split(".").slice(0,2).join(".")),n="1"!==Daria.getCookie("yabrowser-mail-notif");t>=1.7&&n&&Daria.setCookie("yabrowser-mail-notif","1")}})),ns.events.on("pageinit",(function(){Daria.Config.NO_SETTINGS&&Jane.c("tech"," ")})),ns.events.on("pageinit",(function(){_.isArray(Daria.Config["exp-test-ids"])&&Daria.Config["exp-test-ids"].forEach((function(e){Jane.c("stat","eexp",e)})),Jane.c("stat","puid",Daria.uid),Jane.c("lang",Daria.Config.locale)})),ns.events.on("pageinit",(function(){Jane.c("tabs",Daria.areFoldersTabsEnabled()?"yes":"no")})),ns.events.on("pageinit",(function(){Daria.Config["pdd-metrika-mark"]&&Jane.c("user",Daria.Config["pdd-metrika-mark"])})),ns.events.on("pageinit",(function(){Daria.CacheManager.init()}))},3389:function(e,t){ns.action.define("dialog.cancel",(function(e,t,n,r){ns.events.trigger("dialog.cancel",t,n,r)})),ns.action.define("dialog.action",(function(e,t,n,r){var i=$(n).data("dialogAction");ns.events.trigger(i,t,n,r)})),Daria.Dialog={_isInit:!1,_isOpen:!1,_classHidden:null,_timeoutPosition:null,init:function(){this.webkitWrapper=$("<div></div>").appendTo(document.body),this.$paranja=$('<div class="b-paranja b-paranja_mail"><iframe></iframe></div>').addClass("g-hidden").appendTo(this.webkitWrapper);var e=Jane.tt("common:dialog",{});this.$dialog=$(e),this._classHidden?this.$dialog.addClass(this._classHidden):this.$dialog.hide(),this.$dialog.appendTo(this.webkitWrapper),this.$title=this.$dialog.find(".b-popup__header"),this.$body=this.$dialog.find(".b-popup__body"),this.$buttons=this.$dialog.find(".b-popup__confirm"),this._isInit=!0,this._closeBinded=this.close.bind(this),this.bindHandlers()},bindHandlers:function(){ns.events.on("dialog.close",this._closeBinded),ns.events.on("ns-page-before-changed",this._closeBinded),$(window).scroll(this.handleScroll.bind(this))},toggleClosingOnPageChange:function(e){e!==this._closingOnPageGo&&(ns.events[e?"on":"off"]("ns-page-before-changed",this._closeBinded),this._closingOnPageGo=e)},enableEasyClose:function(){var e=this;$("body").on("click.dialog",(function(t){$(t.target).is(".b-popup__box, .b-popup__box *")||e.close()})),this.$paranja.addClass("g-hidden")},isOpen:function(){return this._isOpen},open:function(e){var t=this;if(this._isInit||this.init(),this._isOpen?this.close():ns.events.trigger("dialog.close"),!e.body)throw new Error('Daria.Dialog.open: required parameter "params.body" is missing or undefined.');$(document).trigger("b-mail-dropdown-closeall"),this._isOpen=!0,this.params=e||{},this.params.width=this.params.width||320,this.params.nbInit=!1!==this.params.nbInit,e.title?this.$title.html(e.title).show():this.$title.hide(),this._additionalClass&&($.each(this._additionalClass,(function(e,n){t.$dialog.removeClass(n)})),this._additionalClass=null),e.additionalClass&&($.isArray(e.additionalClass)||(e.additionalClass=[e.additionalClass]),this._additionalClass=e.additionalClass,$.each(this._additionalClass,(function(e,n){t.$dialog.addClass(n)}))),this.toggleClosingOnPageChange(!e.dontCloseOnPageGo),(e.onTarget&&!1!==e.easyclose||e.easyclose)&&this.enableEasyClose(),this.updateBody(this.params),this._makeActions(),this._makeButtons(),this.$dialog.removeAttr("style"),this.$body.removeAttr("style"),this.position(),this.params.onTarget||e.easyclose||this.$paranja.removeClass("g-hidden"),this._classHidden?this.$dialog.removeClass(this._classHidden):this.$dialog.show();var n=this.$dialog.find(".b-popup__focus-me");n.length||(n=this.$buttons.find(".nb-button")),n[0]&&n[0].focus(),this.params.noShortcuts||$.Shortcuts.modalListOn("dialog");var r=this.$dialog.find(".b-popup__close");return r.removeData("crossClose"),this.params.hideCrossClose&&r.is(":visible")&&(r.addClass("g-hidden"),r.data("crossClose",!0)),$.isFunction(e.onopen)&&e.onopen(this),ns.events.trigger("dialog.open"),(e.onInit||$.noop).call(this),this},updateBody:function(e){this.replaceBody(e.body)},replaceBody:function(e){this.params.nbInit&&nb.destroy(this.$body),this.$body.html(e),this.params.nbInit&&nb.init(this.$body)},_makeButtons:function(){var e,t=this.params.buttons||[],n=t.length;if(0===n)return void this.$buttons.hide();for(var r=0;r<n;r+=1){var i,o,a=t[r],s="";a.action?(e=$(Jane.tt("common:dialog-buttons",{button:a})),$.isFunction(a.onclick)&&ns.events.on(a.action,a.onclick)):($.isFunction(a.onclick)?(i=a.value||i18n("%"),o="dialog."+a.name,ns.events.on(o,a.onclick)):(i=a.value||i18n("%"),o="dialog.cancel"),a.focus&&(s=" b-popup__focus-me"),e=$(Jane.tt("common:dialog-buttons",{button:a,title:i,action:o,focusClass:s}))),e.appendTo(this.$buttons)}this.$buttons.show()},getButton:function(e){return this.$buttons.find('.nb-button[data-dialog-action="dialog.'+e+'"]')},toggleButton:function(e,t){this.getButton(e).toggleClass("g-hidden",!t)},setButtonText:function(e,t){this.getButton(e).each((function(){var e=nb.block(this);e&&e.setContent(t)}))},disableButton:function(e){Jane.disableButton(this.getButton(e))},enableButton:function(e){Jane.enableButton(this.getButton(e))},close:function(e,t,n){if("ns-page-before-changed"!==e||!n&&!t||!/#compose\/+/.test(t)&&!/#compose\/+/.test(n)){if(!this._isOpen)return this;if($.isFunction(this.params.onclose)){var r=Array.prototype.slice.call(arguments);r.unshift(this),this.params.onclose.apply(void 0,r)}var i=this.$dialog.find(".b-popup__close");return i.data("crossClose")&&(i.removeClass("g-hidden"),i.removeData("crossClose")),this.$dialog.find(".nb-select").each((function(){var e=nb.block(this);e&&e.close()})),this._classHidden?this.$dialog.addClass(this._classHidden):this.$dialog.hide(),this.params.onTarget||this.$paranja.addClass("g-hidden"),$("body").off("click.dialog"),$(document).trigger("b-mail-dropdown-closeall"),Daria.removeDropdowns(this.$body[0]),this.$title.empty(),this.hideBody(),this.$buttons.empty(),this._deleteActions(),$.Shortcuts.modalListOff(ns.page.current.page),this._isOpen=!1,ns.events.trigger("dialog.close"),this}},hideBody:function(){this.params.nbInit&&nb.destroy(this.$body),this.$body.empty()},cancel:function(){this.params&&$.isFunction(this.params.oncancel)&&this.params.oncancel(this),this.close()},_makeActions:function(){ns.events.on("dialog.cancel",this.cancel.bind(this))},_deleteActions:function(){(this.params.buttons||[]).forEach((function(e){$.isFunction(e.onclick)&&ns.events.off("dialog."+e.name)})),ns.events.off("dialog.cancel")},position:function(e){if(this._isOpen){this.$dialog.find(".nb-select").each((function(){var e=nb.block(this);e&&e.close()}));var t,n,r,i=$(window),o=i.height(),a=i.scrollTop();if(this.params.onTarget&&/^(top|right|bottom|left)$/.test(this.params.onTarget.side)){var s=$.extend({},this.params.onTarget);if(s.pos=s.pos||("left"===s.side?"bottom":"left"),s.target){var u=$(s.target),c=u.offset(),l=u.width(),f=u.height();s.x=c.left+(s.hasOwnProperty("x")?s.x:0),"top"===s.side||"bottom"===s.side?s.x+=l/2:"left"===s.side&&(s.x+=l),s.y=c.top+(s.hasOwnProperty("y")?s.y:0),"left"===s.side||"right"===s.side?s.y+=f/2:"top"===s.side&&(s.y+=f)}this.$paranja.removeClass("b-paranja_mail b-paranja_fade").addClass("b-paranja_transparent"),this.$dialog.addClass("b-popup_contextual"),this.$dialog.css({width:this.params.width}),this.$dialog.find(".b-popup__tail").length?!1===s.needTail&&this.$dialog.find(".b-popup__tail").remove():!1!==s.needTail&&$('<div class="b-popup__tail"><div class="b-popup__tail__i"></div>').appendTo(this.$dialog);var d=this.$dialog.find(".b-popup__tail");d.css({top:"",left:""}),d.removeClass().addClass("b-popup__tail b-popup__tail_"+s.side);var h=0,p=0;t=this.$dialog.height(),n=this.$dialog.width(),"top"!==s.side&&"bottom"!==s.side||(h="left"===s.pos?20:"right"===s.pos?n-30:n/2-10,s.x-=h+12),"left"===s.side&&(h=-10,s.x+=10),"right"===s.side&&(h=n+10,s.x-=h-2),s.tailX&&(h=s.tailX),s.tailY&&(p=s.tailY),"left"!==s.side&&"right"!==s.side||(p="top"===s.pos?20:"bottom"===s.pos?t-30:t/2-10,s.y-=p+10),"top"===s.side&&(p=-10,s.y+=8),"bottom"===s.side&&(p=t,s.y-=p+8);var g=s.y;s.newTop&&(g=s.newTop),this.$dialog.css({left:s.x+"px",top:g+"px"}),d.css({left:h+"px",top:p+"px"}),r=s.y}else{this.$dialog.removeClass("b-popup_contextual"),this.$dialog.find(".b-popup__tail").remove();var m=this.params.paranjaFade?"b-paranja_fade":"b-paranja_mail";this.$paranja.addClass(m).removeClass("b-paranja_transparent"),this.params.noPosition||(this.$dialog.css({width:this.params.width,"margin-right":-Math.round(this.params.width/2)}),this.params.isMaxHeight&&this.$body.css({position:"relative","max-height":o-80,overflow:"auto"})),t=this.$dialog.height(),r=t<o?(o-t)/2:0}if(!(this.params.noPosition||this.params.onTarget&&this.params.onTarget.target)){var v=this.params.notFixed?0:a;e?this.$dialog.animate({top:v+Math.round(r)},{queue:!1}):this.$dialog.css({top:v+Math.round(r)})}}},confirm:function(e){var t=this,n=[{name:"submit",value:e.okValue,onclick:function(){t.close("submit"),$.isFunction(e.okHandler)&&e.okHandler()}},{name:"cancel",value:e.cancelValue}];$.extend(e||{},{buttons:n}),this.open(e)},notice:function(e){var t=[{name:"submit",value:i18n("%")}];$.extend(e||{},{buttons:t}),this.open(e)},handleScroll:function(){this._timeoutPosition&&(window.clearTimeout(this._timeoutPosition),this._timeoutPosition=null),$(document).trigger("b-mail-dropdown-closeall-onscroll"),this.isOpen()&&(this.params.hideOnScroll?this.close():this.params.onTarget||(this._timeoutPosition=window.setTimeout(function(){this.position(!0)}.bind(this),200)))}}},3390:function(e,t){!(function(){var e,t,n,r,i,o,a,s,u,c=$(document),l=$(window),f=function(e){if(!e||!$.isFunction(e.find))throw new Error("Error(Daria.Dropdown): Node is not jQuery object");return e.find(".b-mail-dropdown__handle, .js-dropdown-handle")},d=function(e){return e.hasClass("b-mail-dropdown_disabled")},h=function(e){return f(e).hasClass("b-mail-dropdown__handle_open")},p=function(){ns.events.trigger("daria:dropdown:close","current"),o&&D(o)},g=function(e){27!==e.keyCode||e.metaKey||e.ctrlKey||e.altKey||e.shiftKey||v()},m=function(e,t){var n=$(e.target),r=t&&t.selectors;(!n.is(".b-mail-dropdown__box *")&&!n.is(r)||n.is(".b-mail-dropdown__close"))&&v(),n=null},v=function(){ns.events.trigger("daria:dropdown:close","all");var e=Boolean(o);clearTimeout(u),M(),p(),e&&ns.events.trigger("dropdowns-closed")},_=function(){o&&!o.hasClass("js-not-hide-onscroll")&&v()},b=function(){e||(e=$('<div class="b-mail-dropdown__box"></div>'),t=$('<div class="b-popup__tail b-popup__tail_top"><div class="b-popup__tail__i"></div></div>').appendTo(e),r=$('<div class="b-popup__tail b-popup__tail_right"><div class="b-popup__tail__i"></div></div>').appendTo(e),n=$('<div class="b-popup__tail b-popup__tail_bottom"><div class="b-popup__tail__i"></div></div>').appendTo(e),i=$('<div class="b-popup__tail b-popup__tail_left"><div class="b-popup__tail__i"></div></div>').appendTo(e),e.appendTo(document.body))},y=function(a,s,u){u=u||{},s=s||{},s.horiz=s.horiz||"down",e.width("auto");var c;o&&(c=$(o.data("dropdown-content")).find(".b-mail-dropdown__box__wrapper"),c.css({height:"auto","max-height":"none"}));var f,d=a.offset(),h=a.innerWidth(),p=a.innerHeight(),g=e.innerWidth(),m=e.innerHeight(),v=l.width();switch(s.horiz){case"up":f=d.top-m;break;case"center":f=d.top-(m-p)/2;break;case"top":f=d.top;break;case"bottom":f=d.top+p-m;break;default:f=d.top+p+10}Modernizr.opera&&a.closest(".b-toolbar").hasClass("b-toolbar_fixed")&&(f-=40);var _;switch(s.vert){case"inright":_=d.left+h+20;break;case"inleft":_=d.left-g-20,s.maxright&&_+g>s.maxright&&(_=s.maxright-g);break;case"left":_=d.left;break;default:_=d.left-(g-h)/2}if(_+g+7>v){_=v-g-(u.noRightIndent?0:7)}if(u.alignToolbar){var b=$(".b-service-tabs"),y=b.offset().top+b.innerHeight();f=d.top+p+10<y?y:f}if(c&&f<0&&(c.height(Math.round(c.height())+f-10),f=10),e.css({top:Math.round(f),left:Math.round(_)}),e.width(e.width()),c){var w=$(window).height()-e.rect().top-70;c.css("max-height",w).scrollTop(0)}if(c&&"up"===s.horiz&&c.height(c.height()),"hide-tail"in s)t.hide(),n.hide(),r.hide(),i.hide();else{var D;switch(s.tailvert){case"left":D=0;break;case"boxcenter":D=g/2-11;break;default:D=d.left-_+h/2-12}"up"===s.horiz?(n.css({left:Math.round(D)}).show(),t.hide(),r.hide(),i.hide()):(t.css({left:Math.round(D)}).show(),n.hide(),r.hide(),i.hide()),"inleft"===s.vert&&(t.hide(),n.hide(),i.hide(),"bottom"===s.tailhotiz?r.css({bottom:21,top:"auto"}).show():"top"===s.tailhoriz?r.css({top:11,bottom:"auto"}).show():r.css({top:m/2-11,bottom:"auto"}).show()),"inright"===s.vert&&(t.hide(),n.hide(),r.hide(),"bottom"===s.tailhotiz?i.css({bottom:21,top:"auto"}).show():"top"===s.tailhoriz?i.css({top:11,bottom:"auto"}).show():i.css({top:m/2-11,bottom:"auto"}).show())}},w=function(t,n){b(),v();var r,i=!n.content&&t.data("dropdown-content"),a=Daria.parseQuery(t.attr("data-params"));if(i?r=$(i):(r=n.content?n.content.appendTo(e):t.find(".b-mail-dropdown__box__content").appendTo(e),t.data("dropdown-content",r[0]),r.data("dropdown-handle",t[0])),r.length){r.add(e).show();var s=n.handle||f(t),u=t.hasClass("b-mail-dropdown_up"),l=$.extend({horiz:u?"up":"down"},a);o=t,y(s,l,n),r.removeClass("UNUSED"),s.addClass("b-mail-dropdown__handle_open"),c.on("keydown.dropdown",g).on("click.dropdown",(function(e){m(e,n)})).on("b-mail-dropdown-closeall",v).on("b-mail-dropdown-closeall-onscroll",_),t.trigger("b-mail-dropdown-open"),y(s,l,n),r.find("input:first").focus()}},D=function(t){f(t).removeClass("b-mail-dropdown__handle_open");var n=t.data("dropdown-content");$(n).find(".nb-select").each((function(){var e=nb.block(this);e&&e.close()})),$(n).hide(),e.hide(),Modernizr.msie>8&&$("html").removeClass("UNUSED"),ns.events.trigger("b-mail-dropdown-closed",t),c.off("keydown.dropdown click.dropdown").off("b-mail-dropdown-closeall",v),o=null,t.trigger("b-mail-dropdown-close")},T=function(e,t){t=t||{};var n=t.dropdown||$(e).closest(".b-mail-dropdown");return o&&o[0]===n[0]&&h(n)?void D(n):d(n)?void ns.events.trigger("daria:dropdown:disabled",n):void w(n,t)},S=function(){clearTimeout(u)},C=function(){O()},E=function(e,t,n){n=n||{},clearTimeout(u),a&&a[0]===e||(u=setTimeout((function(){A(e,t,n.location),n.counter&&Jane.c(n.counter.cid,n.counter.path),n.callback&&n.callback()}),n.timeout||500))},A=function(t,n,r){b(),v();var i=$(t),o=$(n).appendTo(e).show(),u={vert:"left",tailvert:"boxcenter"};y(i,r||u),e.on("mouseenter",S).on("mouseleave",C).show(),c.on("keydown.dropdown",g).on("click.dropdown",m).on("b-mail-dropdown-closeall",v),a=i,s=o},O=function(){clearTimeout(u),u=setTimeout((function(){M()}),500)},M=function(){a&&(e.hide().off("mouseenter",S).off("mouseleave",C),c.off("keydown.dropdown click.dropdown").off("b-mail-dropdown-closeall",v),s.remove(),a=null,s=null)},x=function(){return o},k=function(){return e};Daria.Dropdown={toggle:T,showHover:E,hideHover:O,closeCurrent:p,closeAll:v,getCurrent:x,getBox:k,getHandleNode:f},ns.events.on("ns-page-before-changed",v),$(window).on("resize",(function(){$(document).trigger("b-mail-dropdown-closeall")}))})()},3391:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(87);n.n(r);!(function(e,t){function n(t){d.is_draggable&&(t&&t.preventDefault(),p.on("mousemove",g).on("mouseover",v).on("mouseup",_).on("focusout",m),Modernizr.msie||e(window).on("blur",_))}var i,o,a=e.contains,s=function(){var t=e(".b-drag-helper:eq(0)");return 0===t.length?(this.$control=e('<div class="b-drag-helper g-hidden"><div class="b-drag-helper__box"><div class="b-drag-helper__box__content"><div class="b-drag-helper__content"><div class="b-drag-helper__item b-drag-helper__item_message"></div></div></div></div></div>'),e("body").append(this.$control)):this.$control=t,this.$control.removeClass("b-drag-helper_few").removeClass("b-drag-helper_many"),this.$message=this.$control.find(".b-drag-helper__item_message").html(""),this};s.prototype.alignByEvent=function(e,t){t=t||{animate:!1};var n=Math.min(e.pageY+5,i-this.height+e.pageY-e.clientY),r=Math.min(e.pageX+5,o-this.width+e.pageX-e.clientX-2),a={left:r,top:n};t.animate?this.$control.animate(a,function(){this.hide()}.bind(this)):this.$control.css(a)},s.prototype.show=function(){this.$control.removeClass("g-hidden"),this.evaluateDimensions()},s.prototype.evaluateDimensions=function(){this.height=this.$control.height(),this.width=this.$control.width()},s.prototype.hide=function(){this.$control.addClass("g-hidden")},s.prototype.setText=function(e){this.$message.text(e)};var u=function(){};u.prototype.init=function(){return this.is_active=!1,this.is_draggable=!1,this};var c=function(){};c.prototype={traction:20,init:function(){},getTargetData:function(){return{valid:!1}},testTarget:function(e,t){for(var n,r,i={valid:!1},o=0,a=e.length;o<a;o++)if(n=e[o],r=n.test(t))return i={valid:!0,name:n.name,target:r};return i},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onDragEnter:function(){},onDragLeave:function(){},onDragOver:function(){},onDrop:function(){},hilite:function(t){e(t).hasClass("mail-DropArea-Section")||e(t).addClass("g-drop-place_hover")},nohilite:function(t){e(t).removeClass("g-drop-place_hover")},hiliteAll:function(){},nohiliteAll:function(){},getLabelText:function(t){return e(t).attr("data-title")}};var l,f=function(n){for(var r=e(n.target),i=t.DragNDrop._tests,o=0,a=i.length;o<a;o++){var s=i[o],c=s.test(n,r);if(c)return s.result(n,c)}return(new u).init()},d=!1,h=!1,p=e(document),g=function(t){if(!d.is_draggable)return!1;if(h||v(t),t.preventDefault(),d.is_active)d.onDrag(t,h);else{var n=Math.pow(t.clientX-d.evt.clientX,2),r=Math.pow(t.clientY-d.evt.clientY,2);Math.sqrt(n+r)>=d.traction&&(i=e(window).height(),o=e(window).width(),d.onDragStart(t))}},m=function(e){null===e.toElement&&_.call(this,e)},v=function(e){if(!d.is_active)return!1;var t=d.getTargetData(e.target);t.valid?h?t.target[0]!==h.target[0]&&(d.onDragLeave(e,h),h=t,d.onDragEnter(e,h)):(h=t,d.onDragEnter(e,h)):h&&h.target[0]&&!a(h.target[0],e.target)&&(d.onDragLeave(e,h),h=!1)},_=function t(n){d.is_active&&(h?d.onDrop(n,h):d.onDragEnd(n)),p.off("mousemove",g).off("mouseover",v).off("mouseup",t).off("focusout",m),Modernizr.msie||e(window).off("blur",t),d=(new u).init(),h=!1},b=function(e){1===e.which&&2!==e.buttons&&(d=f(e),n(e))};t.DragNDrop={_tests:[],add:function(t){e.isArray(t)?this._tests=this._tests.concat(t):this._tests.push(t)},EmptyDrag:c,getDragMessageArea:function(){return l||(l=new s),l},startDrag:b,setDragData:function(e){d=e},bindDragEvents:n,_enabled:!1,enable:function(){Object(r.hasFeature)(r.Features.REACT_LEFT_COLUMN)||(this._enabled||(p.on("mousedown.daria-dnd",b),ns.Model.get("folders").logDragndropAbility()),this._enabled=!0)},disable:function(){p.off("mousedown.daria-dnd"),this._enabled=!1},isEnabled:function(){return this._enabled}}})(jQuery,Jane)},3392:function(e,t){!(function(){function e(){}var t;Daria.nbFormCacher=function(e,t){this.init(e,t)},Daria.nbFormCacher.prototype={root:null,cache:null,dependenceController:null,changedControls:null,hasChangedControls:0,hasFocusedControls:!1,instanceId:null,dirtyStateClass:"b-setup__inner_show-submit",normalStateClass:"b-setup__inner_no-submit",inputCheckboxClass:"b-form-element__checkbox__input",inputRadioClass:"b-form-element__radio__input",inputTextClass:"b-form-element__input-text",textareaClass:"b-form-element__textarea",resetLinkSelector:".b-setup__inner__reset",init:function(e,t){var n=this;this.root=e,this.instanceId=t;var r=this.root.find(".daria-form-changeble");r.length&&(this.cache={},this.changedControls=[],r.each((function(){n.addControl(this)})),ns.events.on("cachedvalue.change",function(e,t){t.instance===this.instanceId&&this.onControlChange(t.control)}.bind(this)),this.root.find(this.resetLinkSelector).click(function(e){e.preventDefault(),e.stopPropagation(),this.cancelChanges()}.bind(this)),this.root.find("form").on("onSave",function(){this.applyChanges()}.bind(this)))},addControl:function(t){function n(){e("focus",this),i.hasFocusedControls=i.cache[a].focused=!0,i.changeDisplayMode()}function r(){e("blur",this),i.hasFocusedControls=i.cache[a].focused=!1,i.changeDisplayMode()}var i=this,o=nb.block(t),a=i.getControlName(o),s=o.getType();i._add(a,o),e(a,o.getType()),"input"!==s&&"textarea"!==s||(o.on("nb-focused",n),o.on("focusin",n.bind(o)),o.on("nb-blured",r),o.on("focusout",r.bind(o))),o.on("nb-changed",(function(){i.onControlChange(o)}))},updateControls:function(){var e=this;this.root.find(".daria-form-changeble").each((function(t,n){var r=nb.block(n),i=e.getControlName(r);e.cache[i]||e.addControl(n)}))},onControlChange:function(e){var t=this.getControlName(e),n=this.cache[t],r=this.getControlValue(n.control);n.value===r?n.changed&&(n.changed=!1,this.hasChangedControls--):n.changed||(n.changed=!0,this.hasChangedControls++),this.changeDisplayMode()},applyChanges:function(){function e(e){e.blur()}for(var t in this.cache){var n=this.cache[t];n.changed&&(n.value=this.getControlValue(n.control),n.changed=!1,this.hasChangedControls--),n.focused&&n.control.forEach(e)}this.changeDisplayMode()},cancelChanges:function(){var e=this.cache;for(var t in e){var n=e[t];n.changed&&(this.setControlValue(n.control,n.value),n.changed=!1)}this.changeDisplayMode()},changeDisplayMode:function(){var e=this;if(this.hasChangedControls||this.hasFocusedControls){t&&clearTimeout(t),this.root.removeClass(this.normalStateClass).addClass(this.dirtyStateClass);var n=Object.keys(this.cache).map((function(t){return e.cache[t].changed||null}));ns.events.trigger("form-cacher.changed",{instance:this.instanceId,changed:n})}else t=setTimeout((function(){e.root.addClass(e.normalStateClass).removeClass(e.dirtyStateClass),ns.events.trigger("form-cacher.unchanged",{instance:e.instanceId})}),0)},isFormDirty:function(){return Boolean(this.hasChangedControls)},getForm:function(){return this._prepareForm(this.root.find("form"))},getControlValue:function(e){e=$.makeArray(e);var t,n=e[0].getType();switch(n){case"checkbox":e.length>1?(t=$.map($.grep(e,(function(e){return e.isChecked()})),(function(e){return e.getValue()||""})),t=t.join("|")):t=e[0].isChecked();break;case"radio":$.each(e,(function(e,n){n.isChecked()&&(t=n.getValue())}));break;case"select":$.each(e,(function(e,n){t=n.getState().value}));break;default:$.each(e,(function(e,n){t=n.getValue()}))}return t},setControlValue:function(e,t){e=$.makeArray(e);var n=e[0].getType(),r=this,i=[];if("radio"===n)$.each(e,(function(e,n){n.getValue()===t?(n.isChecked()||i.push(n),n.check()):(n.isChecked()&&i.push(n),n.uncheck())})),$.each(i,(function(e,t){t.$node.hasClass("daria-dependence-parent")&&ns.events.trigger("dependence.change",{block:t,instance:r.instanceId})}));else if("checkbox"===n){if(1===e.length){var o=e[0];t?(o.isChecked()||i.push(o),o.check()):(o.isChecked()&&i.push(o),o.uncheck())}else{var a=new RegExp(t);$.each(e,(function(e,n){t&&a.test(n.getValue())?(n.isChecked()||i.push(n),n.check()):(n.isChecked()&&i.push(n),n.uncheck())}))}$.each(i,(function(e,t){t.$node.hasClass("daria-dependence-parent")&&ns.events.trigger("dependence.change",{block:t,instance:r.instanceId})}))}else"select"===n?$.each(e,(function(e,n){n.setState({value:t})})):$.each(e,(function(e,n){n.setValue(t)}))},_add:function(e,t){if(this.cache[e]){var n=this.cache[e];n.control.push(t),"radio"===t.getType()&&n.value||(n.value=this.getControlValue(n.control))}else this.cache[e]={control:[t],value:this.getControlValue(t),changed:!1,focused:!1}},getControlName:function(e){var t=e.getName();return t&&"input"===e.getType()&&(t+="_"+e.id),e.$node.attr("cacher-id")||t},_prepareForm:function(e){var t=["disable_yabbles"],n=$(e);return _.each(t,(function(e){var t=n.find("[name="+e+"]");t.is(":checked")?t.attr("checked",!1):t.attr("checked",!0)})),e}}})()},3393:function(e,t){function n(e){return o(e)||i(e)||r()}function r(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function i(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function o(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}!(function(e){var t={"compose.go":"compose","mailbox.check":"check",reply:"reply","reply-tmpl":"auto answer","reply-all":"reply all","reply-later":"reply later",forward:"forward",remove:"remove","folder-delete":"delete folder","add-template":"create template",tospam:"spam",notspam:"not spam",mark:"read",unmark:"unread","mark-important":["Important","add"],"mark-unimportant":["Important","remove"],"folder-mark-as-read":"read (for folder)","folder-mark-as-unread":"unread (for folder)",ignore:"ignore",unignore:"unignore",archive:"archive",sendon:"sendon",move:"in folder",infolder:"in folder","folders.move-in-folder":"in folder",label:"label",template:"auto answer","unsubscribe-one":"unsubscribe one","unsubscribe-all":"unsubscribe all","toolbar-settings":"toolbar settings","toolbar-add-button":"add toolbar button",print:"print",pin:"pin",unpin:"unpin",translate:"translate","filters-create":"create filter","message-source":"message properties","abook.select-all":"Click Select all","abook.compose-go":"Click Compose","mail-common.person-popup":"Click on Add contact","abook.remove-contacts":"remove contact","abook.groups-dropdown":"Click add to group","abook.remove-contacts-from-group":"Click remove from group","abook.toolbar-more-actions":"Click More"};e.ToolbarMetric={},e.ToolbarMetric.tb=function(n){if(!t[n.buttonView.action])return!0;e.ToolbarMetric.messagesListToolbar(null,t[n.buttonView.action])},e.ToolbarMetric.messageToolbar=function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];i=i.length?i:["click"],e.c.apply(e,["Toolbar","Toolbar: unfolded message",Daria.is2pane()?"2pane":"3pane",Daria.Metric.getPath(),"Message in messages list",t].concat(n(i)))},e.ToolbarMetric.messageThreadToolbar=function(t){for(var r=arguments.length,i=new Array(r>1?r-1:0),o=1;o<r;o++)i[o-1]=arguments[o];i=i.length?i:["click"],e.c.apply(e,["Toolbar","Toolbar: thread",Daria.is2pane()?"2pane":"3pane",Daria.Metric.getPath(),"Message in messages list",t].concat(n(i)))},e.ToolbarMetric.messagesListToolbar=function(t,r){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];o=o.length?o:["click"],e.c.apply(e,["Toolbar","Toolbar: messages list",Daria.is2pane()?"2pane":"3pane",Daria.Metric.getPath(t),r].concat(n(o)))},e.ToolbarMetric.messageControlsToolbar=function(t,r){for(var i=arguments.length,o=new Array(i>2?i-2:0),a=2;a<i;a++)o[a-2]=arguments[a];o=o.length?o:["click"],e.c.apply(e,["Toolbar","Toolbar: folded message",Daria.is2pane()?"2pane":"3pane",Daria.Metric.getPath(t),r].concat(n(o)))},e.ToolbarMetric.abook=function(e){Daria.vAbook.Metrika.c("Toolbar: abook",e)},e.ToolbarMetric.setMetricsForToolbars=function(n,r,i){n&&t[r]&&("abook-toolbar"===n?e.ToolbarMetric.abook(t[r]):"message-toolbar"===n?e.ToolbarMetric.messageToolbar(t[r]):"toolbar"===n?e.ToolbarMetric.messagesListToolbar(i,t[r]):"thread-toolbar"===n&&e.ToolbarMetric.messageThreadToolbar(t[r]))},e.ToolbarMetric.setToolbarMetrics=function(t,n,r,i){(n=n||ns.action.getParams(t.currentTarget))&&n.source&&e.ToolbarMetric.setMetricsForToolbars(n.source,r,i)},e.ToolbarMetric.ub=function(t){if(!ns.page.current.page)return!1;var n=["folders","labels","filters"];return Daria.IS_CORP||n.push("collectors"),ns.request(n,{}).then((function(){var n=["User Button"];if(ns.Model.get("folders").getCountUserFolders()>0){if(!/(03|13|23|33|43)$/.test(Daria.uid))return;n.push("  ")}else if(ns.Model.get("filters").getCountEnableFilters()>0)n.push("  ");else if(ns.Model.get("labels").getUserLabelsCount()>2){if(!/(03|13|23|33|43)$/.test(Daria.uid))return;n.push("  ")}else if(!Daria.IS_CORP&&ns.Model.get("collectors").getCount()>0)n.push("  ");else{if(!/61$/.test(Daria.uid))return;n.push(" ")}switch(ns.page.current.page){case"messages":n.push("Inbox");break;case"message":n.push("Compose");break;default:return}n=n.concat($.makeArray(t)),e.c(n)})),!0}})(Jane)},3394:function(e,t,n){"use strict";function r(e,t){return a(e)||o(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function a(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0});var s=n(87),u=(n.n(s),n(3395));Daria.SendMail={__callback:{},send:function(e){var t=this,n="frame"+(new Date).getTime()+Daria.getRandomNumber(),r={frameId:n,_connection_id:Daria.Config.connection_id,_ckey:Daria.ckey,_uid:Daria.uid,_eexp:Daria.Config["eexp-boxes"]};e.params&&$.extend(r,e.params);var i={};$.isFunction(e.success)&&(i.success=e.success),$.isFunction(e.error)&&(i.error=e.error),this.addCallback(n,i),$.ajax({type:"POST",data:r,url:Daria.api["do-send"]+"?request="+n,complete:function(e,r){if(e&&200===e.status)t.callback(n,e.responseText);else{var i=e&&413===e.status;Jane.ErrorLog.send({errorType:"sendmail.send",status:e&&e.status,statustext:r},!i&&e.responseText),i?t.callback(n,'{"status":"attachment_too_big"}'):t.callback(n,"http_status_0")}}})},callback:function(e,t){var n=this.__callback[e];n&&(n.data=t,this._onload(e))},_onload:function(e){window.setTimeout(function(){this._runCallback(e)}.bind(this),100)},_runCallback:function(e){var t=this.__callback[e];if(t)if(this.stop(e),t.data){if(t.success)if("{"===t.data.charAt(0)){var n;try{n=JSON.parse(t.data)}catch(e){return void this._callOnError("BadData",t,"no_data")}Daria.parseLoginInfo(n)?t.success(n):this._callOnError("NoAuth",t,"no_data")}else this._callOnError("Exception",t,t.data)}else this._callOnError("NoResponse",t,"no_data")},_callOnError:function(e,t,n){Jane.ErrorLog.send({errorType:"sendmail.process_response",status:e,ckey:Daria.ckey,data:t.data}),t.error&&t.error(n||e)},addCallback:function(e,t){this.__callback[e]=t},stop:function(e){delete this.__callback[e],$("#"+e).empty().remove()},getUndoSendTime:function(){var e=ns.Model.get("settings"),t=Number(e.getSetting("undo_send_time")||0);return Object(s.hasFeature)(s.Features.UNDO_SEND)&&t>0?1e3*t:0},shouldShowUndoSend:function(){return Boolean(Daria.SendMail.getUndoSendTime())},showSendingMessage:function(e){e=e||{};var t={name:"sending_message",hideOnTimeout:!1,shouldSkipAnimation:!0,onClose:e.onClose,params:{}};Daria.SendMail.shouldShowUndoSend()&&e.onCancel&&(t.hideOnClick=!1,t.params.onCancel=function(){Daria.Statusline.hide("sending_message"),e.onCancel()}),Daria.Statusline.show(t)},showMessageSent:function(e,t){if(t=t||{},e){Daria.SendMail.getUndoSendLogger(e).cancelled=!1}var n={name:"message_sent",shouldSkipAnimation:!0,hideOnClick:!1,timeout:3e3,onClose:t.onClose,params:{}};this._addCancelOptions(e,"message_sent",n,t,!1),Daria.Statusline.show(n)},showMessageSentDelayed:function(e,t,n){n=n||{},Daria.SendMail.getUndoSendLogger(e).cancelled=!1;var r={name:"message_sent_delayed",shouldSkipAnimation:!0,hideOnClick:!1,timeout:5e3,onClose:n.onClose,params:{sendTime:t}};this._addCancelOptions(e,"message_sent_delayed",r,n,!0),Daria.Statusline.show(r)},showMessageSentCancelling:function(){Daria.Statusline.show({name:"message_sent_cancelling",shouldSkipAnimation:!0,isCloseButtonVisible:!1,hideOnTimeout:!1,hideOnClick:!1})},showTryAgainPopup:function(e){e=e||{},ns.assert(e.message,"Daria.SendMail.showTryAgainPopup","should specify message to show"),Daria.Dialog.confirm({title:e.title,body:'<div class="b-popup__p">'.concat(e.message,"</div>"),width:360,okValue:e.isDelayed?i18n("%_"):i18n("%"),cancelValue:i18n("%"),okHandler:e.onRetry,oncancel:e.onCancel})},_addCancelOptions:function(e,t,n,r,i){var o=this,a=Daria.SendMail.getUndoSendTime();e&&a>0&&(n.timeout=a,n.params.onCancel=function(){r.onCancel&&r.onCancel(),o.cancelSendMessage(e,t,i)},n.params.hideCancelAfter=a)},_cancelSend:function(e,t,n){var i={ids:e},o=n?"do-cancel-send-delayed":"do-cancel-send-undo";return this.getUndoSendLogger(e).cancelled=!0,ns.forcedRequest([o,"message"],i).fail((function(e){var t=[].concat(e.invalid||[],e.valid||[]).reduce((function(e,t){return e[t.id]=t,e}),{});return[t[o],t.message]})).then((function(n){var a=r(n,2),s=a[0],u=a[1];if("ok"===s.get(".status"))return!0!==s.get(".allDone")&&(ns.forcedRequest(o,i),Jane.ErrorLog.send({errorType:"cancel_send_second_request",modelId:o,mid:e,statusline:t})),void(u.isValid()&&u.moveToDrafts());var c=s.getError()||{error:"".concat(o," request failed")};return Jane.ErrorLog.send({errorType:"cancel_send_failed",modelId:o,mid:e,statusline:t,error:JSON.stringify(c)}),Daria.Statusline.show({name:"cancel_send_failed"}),vow.reject("cancel_send_failed")}))},cancelSendMessage:function(e,t,n){return Daria.Statusline.hide(t),this._cancelSend(e,t,n).then((function(){return ns.page.go(ns.router.generateUrl("compose2",{ids:e}))}))},_undoSendLoggers:{},getUndoSendLogger:function(e){return this._undoSendLoggers[e]||(this._undoSendLoggers[e]=new u.a),this._undoSendLoggers[e]}}},3395:function(e,t,n){"use strict";function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}n.d(t,"a",(function(){return a}));var a=(function(){function e(){r(this,e),this._startTime=Date.now(),this._loggedActions={},this.cancelled=!1,this.composeLoaded=!1}return o(e,[{key:"_getTime",value:function(){return Math.round((Date.now()-this._startTime)/1e3)}},{key:"_log",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=Jane).c.apply(e,["Undo ","  "].concat(n))}},{key:"resetStartTime",value:function(){this._startTime=Date.now()}},{key:"logShow",value:function(){this._log("")}},{key:"logClose",value:function(){this._log("  ","  ",this._getTime())}},{key:"logCancel",value:function(){this.cancelled=!0,this._loggedActions={},this._log("  ","  ",this._getTime())}},{key:"logActionOnceAfterCancel",value:function(e){this.cancelled&&this.composeLoaded&&!this._loggedActions[e]&&(this._loggedActions[e]=!0,this._log(" ",e))}}]),e})()},3396:function(e,t,n){n(3397),n(3398),n(3399),n(3400),n(3401),n(3402),n(3403),n(3405),n(3406)},3397:function(e,t){ns.action.define("common.trigger",(function(e,t,n,r){var i={event:r,params:t},o=i.params.event,a=i.params.noprevent,s=$.extend({$event:i.event},i.params);if("string"==typeof o&&ns.events.trigger(o,s),a)return!0})),ns.action.define("common.back",(function(){ns.page.history.back()})),ns.action.define("common.go",(function(e,t,n,r){var i={params:t,event:r},o=i.event&&i.event.currentTarget&&"A"===i.event.currentTarget.tagName,a=n&&"A"===n.tagName;if(i.params.hasOwnProperty("new_window")&&(o||a)){var s=o?i.event.currentTarget:n,u=$(s),c={href:u.attr("href")||null,target:u.attr("target")||null};return u.attr({href:i.params.url,target:"_blank"}),setTimeout((function(){u.attr(c)}),1e3),!0}ns.page.go(i.params.url)})),ns.action.define("common.hide",(function(e,t,n,r){var i={params:t,event:r};i.params.selector&&$(i.params.selector).hide()})),ns.action.define("common.clck",(function(e,t){return t&&t.metrika&&Jane.c(t.metrika.split(":")),!0})),ns.action.define("common.change-lang",(function(e,t){var n=t.lang,r=encodeURIComponent(document.location.href),i=Number(t.promo);if(i){var o;1===i||2===i?(ns.Model.get("settings").setSettings({lang_promo:1}),o=[" "," ",1===i?"  "+n:"    "+n]):3===i&&(ns.Model.get("settings").setSettings({lang_promo:2}),o=[" "," ","    "+n]),Jane.c(o)}var a=window.location;Daria.IS_CORP?ns.forcedRequest(["do-staff-settings"],{lang_ui:n}).then((function(e){"ok"===e[0].get(".status")&&window.location.reload(!0)})):ns.request(["secret-key"]).then((function(e){var t=Daria.Config["tune-url"],i=e[0].get(".key");try{a.href=t+"/?intl="+n+"&retpath="+r+"&sk="+i}catch(e){Jane.ErrorLog.send({errorType:"cancel_beforeunload_ie"})}}))})),ns.action.define("common.ignore",(function(e,t,n,r){({params:t,event:r}).event.preventDefault()})),ns.action.define("common.copy",(function(e,t){var n=$(t.container).find('[data-click-action="common.copy"]');if(n.length){if(!Daria.Clipboard.canUse)return void n.addClass("g-hidden");var r=new Daria.Clipboard(n);r.on("ready",(function(){this.setText(t.text)})),r.on("complete",(function(){this.destroy(),t.onmouseup&&t.onmouseup()}))}})),ns.action.define("common.close-dropdown-if-current-page",(function(e,t,n,r){var i={params:t,event:r},o=i.event.currentTarget.href.split("#")[1];return Jane.c(i.params.metrika.split(":")),!(ns.page.getCurrentUrl().indexOf(o)>-1)||(Daria.Dropdown.closeAll(),!1)})),ns.action.define("common.show-themes-selector",(function(e,t,n,r){r.preventDefault(),Jane.c(t.metrika.split(":")),ns.Model.get("themes-selector").open(),ns.page.go()})),ns.action.define("common.show-unsubscribe-popup",(function(e,t,n,r){r.preventDefault(),Jane.c(t.metrika.split(":")),ns.events.trigger("daria:unsubscribe-popup:show",t)})),ns.action.define("common.lang-promo-close",(function(e,t,n,r){var i={params:t,event:r};Jane.c([" "," "," "]),$(i.event.currentTarget).closest(".b-promo-lang").remove()})),ns.action.define("common.exitAll",(function(e,t,n,r){var i=r.currentTarget.href;Jane.c("Login header.Right part","Menu behind login",'Showed dialog "Sign out from all devices"'),Daria.Dialog.open({title:i18n("%Exit_all_dialog_title"),body:Jane.tt("mail:js-exit-all-dialog",{"exitall-url":i}),width:380,oncancel:function(){Jane.c("Login header.Right part","Menu behind login",'Dialog "Sign out from all devices" clicked Cancel')}})})),ns.action.define("common.toggle-birthday-background",(function(){ns.Model.get("settings").toggleSetting("no-birthday-skin",(function(e){if(e){var t=$("html");t.hasClass("m-skin-birthday-bg")?Jane.c({" ":"  "}):Jane.c({" ":" "}),t.toggleClass("m-skin-birthday-bg")}}))})),ns.action.define("common.scroll-top",(function(){$("html, body").animate({scrollTop:"0px"},"fast")})),ns.action.define("common.messagesRecalculate",(function(){ns.events.trigger("daria:vMessages:recalculate")}))},3398:function(e,t){ns.action.define("common.show-hint",(function(e,t,n){var r="42em";window.opener&&(r="30em"),t.text||(t=Daria.parseQuery($(n).data("params"))),Daria.Dialog.open({body:t.text,hideOnScroll:t["hide-on-scroll"],onTarget:{target:n,side:t&&t.side||"top",pos:t&&t.pos||"center"},width:t&&t.width?t.width:r})}))},3399:function(e,t){ns.action.define("sound.message",(function(e,t,n,r){if(t.setup){nb.$block($(r.target).closest(".js-sound-message")).isChecked()||Daria.Sound.play("message")}else Daria.Sound.play("message");return!0}))},34:function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},3400:function(e,t){ns.action.define("unsubscribe-popup.show",(function(e,t){ns.events.trigger("daria:unsubscribe-popup:show",t)})),ns.action.define("unsubscribe-popup.hide",(function(e,t){ns.events.trigger("daria:unsubscribe-popup:hide",t)}))},3401:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(421);ns.action.define("compose.go",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};Daria.composeParams=t,Daria.composeGo(t)})),ns.action.define("compose.edit",(function(e,t){Daria.composeGo({ids:t.ids})})),ns.action.define("compose.click",(function(e,t,n,i){if(!(i.ctrlKey||i.metaKey&&Modernizr.mac)){if(Daria.isAbookPage()){i.preventDefault(),i.stopPropagation();var o=ns.Model.get("abook-selected",ns.page.current.params||{type:"normal"});return Daria.COPS["abook.compose-go"](o)}Daria.isComposePage()&&(i.preventDefault(),i.stopPropagation(),ns.events.trigger("daria:vLeftColToolbar:composeClick")),Daria.startScenarioForCompose(r.b),Daria.isReactiveCompose()&&(i.preventDefault(),i.stopPropagation(),Daria.composeGo())}}))},3402:function(e,t){ns.action.define("dropdown.toggle",(function(e,t,n,r){n=n||r.currentTarget,Daria.Dropdown.toggle(n),_.isPlainObject(t)&&(t["dropdown-charset"]&&Jane.c({"Message view":{"Expanded header":'click "Change encoding"'}}),t.metrika&&Jane.c(t.metrika.split(":")))})),ns.action.define("dropdown.adaptive-toggle",(function(e,t,n,r){n=n||r.currentTarget;var i=$(n).closest(".b-mail-dropdown"),o=i.offset(),a=o.top,s=$(window).height()-i.height()-o.top;i.attr("data-params","horiz="+(a>s?"up":"down")),Daria.Dropdown.toggle(n)})),ns.action.define("dropdown.close-current",(function(){Daria.Dropdown.closeCurrent()}))},3403:function(e,t,n){"use strict";function r(e,t){return a(e)||o(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function a(e){if(Array.isArray(e))return e}Object.defineProperty(t,"__esModule",{value:!0});var s=n(3404);!(function(){ns.action.define("mailbox.check",(function(e,t){t&&t.hasOwnProperty("from-logo")&&Jane.c("Login header.Left part","Logo",'Click on "Mail"'),t&&t.hasOwnProperty("scroll")&&Object(s.a)(),ns.events.trigger("fake-loader");var n=ns.page.home;if("messages"===ns.page.current.page)if(Daria.is2pane()){var i=Daria.Page.generateUrl.closeMessage();n=ns.page.go.bind(ns.router,i)}else n=ns.page.go,ns.Model.get("focus").setPreventOpenOnFocus();"compose2"===ns.page.current.page&&(n=ns.page.go);var o=ns.Model.get("skin-saver-state");return o.isPreviewMode()&&o.togglePreviewMode(!1),ns.request("get_user_activity").then((function(e){return r(e,1)[0].syncLcn().then((function(e){e&&Daria.invalidateMailHandlers(!0,"mailbox.check")}),(function(){Daria.invalidateMailHandlers(!0,"mailbox.check")})).then((function(){n()}))}))}))})()},3404:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){if(Daria.is2pane()){var e=ns.page.current.page;ns.Model.get("toolbar",{layout:e}).isFixed()&&ns.Model.get("scroller-messages").setScrollTop(0,!1)}else{0!==ns.Model.get("scroller-left").getScroller().scrollTop()&&ns.Model.get("scroller-left").setScrollTop(0,!0);0!==ns.Model.get("scroller-messages").getScroller().scrollTop()&&ns.Model.get("scroller-messages").setScrollTop(0,!0)}}},3405:function(e,t){ns.action.define("collector.create",(function(e,t,n,r){r&&r.preventDefault();var i=$(n).closest("form"),o=t.checkType,a=t.owner,s=t.modelParams;(Daria.Collectors.Checker.shouldSkipClientCheck(o)||$.data(i[0],"settings").validate())&&(ns.Model.get("collectors").getCount()<10?Daria.Collectors.Creator.run(i,a,s,o):Daria.Dialog.notice({title:i18n("%Setup_Collector_Dialog_Create_title"),body:i18n("%Setup_Collector_Dialog_Create_body")}))}))},3406:function(e,t){function n(e,t){return o(e)||i(e,t)||r()}function r(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function i(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function o(e){if(Array.isArray(e))return e}ns.action.define("setting.on",(function(e,t){ns.Model.get("settings").setSettingOn(t.name)})),ns.action.define("setting.off",(function(e,t){ns.Model.get("settings").setSettingOff(t.name)})),ns.action.define("settings.set",(function(e,t){var r=ns.Model.get("settings");Object.entries(t).forEach((function(e){var t=n(e,2),i=t[0],o=t[1];r.setIfChanged("."+i,o)}))}))},3407:function(e,t,n){Daria.Libs.add({Atom:{url:"//yastatic.net/daas/atom.js",ref:function(){return window.Atom}},"Ya.Metrika":{url:"//mc.yandex.ru/metrika/watch.js",ref:function(){return window.Ya&&Ya.Metrika}},"Ya.Maps":{url:(function(){return"//api-maps.yandex.ru/2.1/?lang="+Daria.Config.locale+"_"+Daria.Config["domain-options"].region})(),ref:function(){return window.ymaps}},Wookmark:{url:n(3408),ref:function(){return $.fn.wookmark}},DiskWidgetSaveApi:{url:"//yastatic.net/disk/widget-save/api/0.3.6/widget-save-api.min.js",ref:function(){return window.WidgetSaveApi}},PageTranslator:{url:"//translate.yandex.net/v2.139.1487074262/js/tr_page.js",ref:function(){return(window.yt||{}).PageTranslator}}})},3408:function(e,t,n){e.exports=n.p+"_/e18a943cfe0c8517d7fcdd108c465cf8-jquery.wookmark.min.js"},3409:function(e,t,n){var r=n(677),i=r.getMessageCallbacks;Daria.Transport=function(e){this.url=e,this._queue=new vow.Queue({weightLimit:1}),this._msgQueue=[],this._enqueue=_.debounce(this._enqueue,200),this._onConnectBackend=this._onConnectBackend.bind(this),this._onDisconnectBackend=this._onDisconnectBackend.bind(this)},Daria.Transport.prototype={onmessage:function(e){Daria.Transport.log("new message",e);var t;try{t=JSON.parse(e),"calendar"===t.service&&(t.message=JSON.parse(t.message)),t.raw_data&&(t.raw_data=JSON.parse(t.raw_data))}catch(t){return Jane.ErrorLog.send({errorType:"xiva.json_parse"},e),this._socket.sendConfirm(),!1}return"ping"===t.operation?(t["server-interval-sec"]&&this._socket.updatePingEventTimeout(t["server-interval-sec"]),!1):(this._socket.sendConfirm(t),this.processMessage(t,e),!0)},processMessage:function(e,t){if(e.uid&&e.uid!==Daria.uid){if(e.raw_data&&"transfer"===e.raw_data.operation)return;return void("insert"===e.operation?ns.events.trigger("xiva.mail.multi.insert",e):ns.events.trigger("xiva.mail.multi.update",e))}_.contains(["calendar","mail"],e.service)&&Jane.ErrorLog.send({ts:Date.now(),msg:JSON.stringify(_.omit(e,["raw_data","message"])),type:"xivaMsg"});var n=i(),r=!0;if(n.forEach((function(t){t(e)&&(r=!1)})),"calendar"===e.service)return void this.sendCommonEvent(e);if("mail"===e.service&&e.operation&&e.lcn){if(this.hasObsoleteLcn(e.lcn))return;return void this.enqueue(e)}r&&(Daria.Transport.log("unknown message",t),Jane.ErrorLog.send({errorType:"xiva.unknown.message"},t))},hasObsoleteLcn:function(e){var t=parseInt(e,10),n=Daria.lcn;return Boolean(n&&t<n)},enqueue:function(e){this._msgQueue.push(e),this._enqueue()},sendCommonEvent:function(e){var t=["xiva",e.service,e.operation].join(".");ns.events.trigger(t,e)},abort:function(){return this._socket&&(this._socket.abort(),delete this._socket),this},connect:function(){Daria.Transport.Backend.test()||Jane.ErrorLog.send({event:"xiva.no_websocket"}),Daria.Transport.log("Transport","create"),this._socket=new Daria.Transport.Backend(this.url,this.onmessage.bind(this)),this._socket.on("connect",this._onConnectBackend),this._socket.on("disconnect",this._onDisconnectBackend)},onLine:function(){return _.get(this._socket,"_opened",!1)},_enqueue:function(){this._queue.stop(),this._msgQueue.forEach((function(e){var t=Daria.Xiva.handlers[e.operation];if(!_.isFunction(t))return void Jane.ErrorLog.send({event:"xiva.mail.unhandled",data:JSON.stringify(e)});this._queue.enqueue(t.bind(Daria.Xiva.handlers,e),{weight:1,priority:-e.lcn})}),this),this._msgQueue=[],this._queue.start()},_onConnectBackend:function(){this.atrigger("online")},_onDisconnectBackend:function(){this.atrigger("offline")}},no.extend(Daria.Transport.prototype,ns.Events),Daria.Transport.__instance=null,Daria.Transport.getInstance=function(e){if(null===Daria.Transport.__instance&&!1!==e||e){Daria.Transport.abortInstance();var t=new Daria.Transport(e);t.connect(),Daria.Transport.__instance=t}return Daria.Transport.__instance},Daria.Transport.hasInstance=function(){return Boolean(Daria.Transport.__instance)},Daria.Transport.abortInstance=function(){Daria.Transport.__instance&&(Daria.Transport.__instance.abort(),Daria.Transport.__instance=null)},Daria.Transport.LOG_MAX_ENTRIES=100,Daria.Transport.LOG=[],Daria.Transport.log=function(e,t){var n={msg:t,tm:(new Date).toString(),type:e||""};Daria.Transport.LOG.push(n),Daria.Transport.LOG.length>Daria.Transport.LOG_MAX_ENTRIES&&Daria.Transport.LOG.splice(0,1)},n(3410),n(3411),n(3412)},3410:function(e,t){Daria.Transport.Backend=function(e,t){this.url=e,this.msgProcessor=t,this._aborted=!1,this._reconnectCnt=0,this._reconnectTimer=null,this._pingEventTimer=null,this._pingEventTimeout=65e3,this._opened=!1,this.__onOpenTimer=null,this.__ON_OPEN_TIMEOUT=6e4,this._onWindowFocus=null,this._watchWindowFocus(),this.reconnect(!0)},Daria.Transport.Backend.prototype={sendConfirm:function(e){var t={reaction:"ack",parsed:Boolean(e)};e&&"server_notify_id"in e&&(t.server_notify_id=e.server_notify_id),this.sendMessage(t)},updatePingEventTimeout:function(e){this._pingEventTimeout=1e3*(e+5)},__successConnect:function(){this._reconnectCnt=0},_onOpen:function(e){this.__clearReconnectTimer(),this.__clearOnOpenTimer(),this.__onOpenTimer=window.setTimeout(this.__successConnect.bind(this),this.__ON_OPEN_TIMEOUT);var t=this._opened;this._opened=!0,this._aborted=!1,t||this.atrigger("connect"),e&&ns.Model.get("get_user_activity").syncLcn()},_watchWindowFocus:function(){this._onWindowFocus=function(){if(this._aborted)return void $(window).off("focus",this._onWindowFocus);this._opened||this.reconnect(!0)}.bind(this),$(window).on("focus",this._onWindowFocus)},_unwatchWindowFocus:function(){this._onWindowFocus&&($(window).off("focus",this._onWindowFocus),this._onWindowFocus=null)},_onClose:function(){var e=this._opened;this._opened=!1,this.__clearOnOpenTimer(),this.__clearReconnectTimer(),this.disablePingEventCheck(),e&&this.atrigger("disconnect")},abort:function(){this._aborted=!0,this._closeConnection(),this._unwatchWindowFocus(),this.off("connect"),this.off("disconnect")},_closeConnection:function(){this._onClose(),this.transportAbort()},reconnect:function(e){if(!this._aborted){this._closeConnection();var t;e?t=0:(t=this._reconnectCnt?Math.min(3e4+3e3*this._reconnectCnt,6e4):0,this._reconnectCnt++),this._reconnectTimer=window.setTimeout(function(){this.connect(!e)}.bind(this),t)}},enablePingEventCheck:function(){this.disablePingEventCheck(),this._pingEventTimer=window.setTimeout(function(e){return function(){Daria.Transport.log("Backend","reconnect because ping"),e.reconnect()}}(this),this._pingEventTimeout)},disablePingEventCheck:function(){null!==this._pingEventTimer&&window.clearTimeout(this._pingEventTimer),this._pingEventTimer=null},__clearOnOpenTimer:function(){null!==this.__onOpenTimer&&window.clearTimeout(this.__onOpenTimer),this.__onOpenTimer=null},__clearReconnectTimer:function(){null!==this._reconnectTimer&&window.clearTimeout(this._reconnectTimer),this._reconnectTimer=null},connect:function(e){if(!this.ws||!this._opened){this.ws=new WebSocket(this.url.toString());var t=this;this.ws.onopen=function(){Daria.Transport.log("WebSocket","open"),t._onOpen(e)},this.ws.onmessage=function(e){t.enablePingEventCheck(),t.msgProcessor(e.data)},this.ws.onclose=function(){Daria.Transport.log("WebSocket","close"),t.reconnect()},this.ws.onerror=function(){Daria.Transport.log("WebSocket:error",arguments),t.reconnect()},this.enablePingEventCheck()}},sendMessage:function(e){this.ws&&this.ws.send(JSON.stringify(e))},transportAbort:function(){this.ws&&(this.ws.onopen=this.ws.onmessage=this.ws.onclose=this.ws.onerror=null);try{this.ws&&this.ws.close(1e3)}catch(e){}this.ws=null}},no.extend(Daria.Transport.Backend.prototype,ns.Events),Daria.Transport.Backend.test=function(){return Boolean(window.WebSocket)}},3411:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(617),i=n(677);Daria.TransportWrapper=function(){var e=["mail","calendar"],t=Object(r.getXivaServices)(Object(r.getWidgets)()),n=Array.from(new Set(e.concat(t)));Object(i.setCurrentXivaServices)(n),(function(){Daria.Transport.abortInstance();var e=[];e.push(Daria.uid),ns.Model.get("account-information").getMA().forEach((function(t){e.push(t.uid)}));var t=$.url("");t.path("/v1/subscribe/").proto("wss").host(Daria.Config.xivaHost).addParam("uid",e.join(",")).addParam("service",n.join(",")).addParam("client","u2709").addParam("session",Daria.Config.connection_id),Daria.Transport.getInstance(t)})()},ns.events.on("pageinit",(function(){Daria.TransportWrapper()}))},3412:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(898);!(function(e){e.extend({url:function(e){return new r.a(e)}})})(jQuery)},3413:function(e,t){ns.events.on("daria-before-init",(function(){var e={experiments:Daria.Config.metrikaExps};!Daria.IS_CORP&&!Daria.Config.pddDomain&&!Daria.Config.workspace&&(e.tns={account:"yandex_ru",tmsec:"yandex_mail"}),Jane.Metrika.init(Daria.Config.metricaID,e)})),ns.events.on("daria-before-init",(function(){var e=Daria.is2pane()?" ":Daria.is3pv()?" ":" ";Jane.c("theme","u2709",e,Daria.themeId)})),ns.events.on("daria-before-init",(function(){Jane.DragNDrop.enable()})),ns.events.on("daria-before-init",(function(){Daria.currentSkin&&(ns.Model.get("themes").getCurrentTheme().setCurrentSkin(Daria.currentSkin),delete Daria.currentSkin)})),ns.events.on("daria-before-init",(function(){"1"===Daria.getUrlParams().enable_domain&&ns.page.go(" #setup/beautiful-email?enabledomain=1","replace")})),ns.events.on("daria-before-init",(function(){if(window.URLSearchParams){var e=new URLSearchParams(window.location.search);e.has("flow-me")&&e.delete("flow-me"),e.has("flow-me-darker")&&e.delete("flow-me-darker")}}))},3414:function(e,t,n){"use strict";function r(e,t){return a(e)||o(e,t)||i()}function i(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function o(e,t){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}function a(e){if(Array.isArray(e))return e}function s(e,t,n,r,i,o,a){try{var s=e[o](a),u=s.value}catch(e){return void n(e)}s.done?t(u):Promise.resolve(u).then(r,i)}function u(e){return Boolean(no.jpath(".data.problem",e))}ns.events.on("pageinit",(function(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){function o(e){s(u,r,i,o,a,"next",e)}function a(e){s(u,r,i,o,a,"throw",e)}var u=e.apply(t,n);o(void 0)})}})(regeneratorRuntime.mark((function e(){var t,n,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Daria.Config.NO_SETTINGS){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,ns.request("system-status");case 4:if(t=e.sent,n=r(t,1),i=n[0],!u(i)){e.next=9;break}return e.abrupt("return");case 9:return e.next=11,ns.request("module-promo");case 11:case"end":return e.stop()}}),e)}))))},3415:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}Object.defineProperty(t,"__esModule",{value:!0});var a=n(3416),s=n(410),u=(n.n(s),n(139)),c=(n.n(u),n(494)),l=n(678);n.n(l);ns.router.regexps.any=".+?",ns.router.regexps.int="-?[0-9]+",ns.router.regexps.uint="[0-9]+",ns.router.regexps.anyWithQuestionMark=".+",ns.router.regexps.search_type="discount|news|password|people|social|ticket";var f=["abook","client","filters","filters-create","folders","interface","journal","other","security","sender"];Daria.IS_CORP||f.push("collector","collectors","beautiful-email","backup"),ns.router.regexps["setup-tab"]=f.join("|"),ns.router.regexps.TFolderDefault=u.SystemFolders.join("|"),ns.router.regexps["TMessage-right-tab"]="attachments|history|links|thread",ns.router.regexps.TThreadID="t[0-9]+",ns.router.regexps["folders-tabs"]="relevant|news|social",ns.router.routes={redirect:i({"#":"#inbox","#message/{ids:int}.*":function(e){if(Daria.is3pane()){var t=e.ids,n=ns.Model.get("message",{ids:t}).getFolderId();return ns.router.generateUrl("messages",{current_folder:n||ns.Model.get("folders").getFidBySymbol(u.WellKnownFolderSymbol.INBOX)})+"/message/"+t}return!1},"#setup":function(){if(Daria.Config.NO_SETTINGS)return"#inbox"},"#setup/interface":function(){return Daria.Config.NO_SETTINGS?"#inbox":"#setup/interface/"+Daria.Config.layout},"#setup/{tab:setup-tab}/":function(e){if(Daria.Config.NO_SETTINGS)return"#inbox";var t=Object(s.isAvailable)(),n=Object(s.isPossibleToEnable)(),r=t||Boolean(e.enabledomain)&&n;return("beautiful-email"!==e.tab||r)&&("backup"!==e.tab||Object(c.isBackupVisible)())?void 0:ns.router.url("#setup")},"#folder/{current_folder:int}":function(e){if(!ns.Model.get("folders").getFolderById(e.current_folder))return ns.router.url("#404")},"#folder/{current_folder:int}/push/{tabId:folders-tabs}":function(e,t){return Daria.areFoldersTabsEnabled()?"#tabs/".concat(t.tabId):"#folder/".concat(t.current_folder)},"#folder/{current_folder:int}/push/{tabId:folders-tabs}/message/{ids:int}":function(e){return Daria.areFoldersTabsEnabled()?"#tabs/".concat(e.tabId,"/message/").concat(e.ids):"#folder/".concat(e.current_folder,"/message/").concat(e.ids)},"#folder/{current_folder:int}/push/{tabId:folders-tabs}/thread/{thread_id:TThreadID}":function(e){return Daria.areFoldersTabsEnabled()?"#tabs/".concat(e.tabId,"/thread/").concat(e.thread_id):"#folder/".concat(e.current_folder,"/thread/").concat(e.thread_id)},"#{default_folder:TFolderDefault}":function(e){Daria.router.symbolToFid(e)},"#.*thread/\\d+":function(){return ns.page.getCurrentUrl().replace(/thread\/(\d+)/,"thread/t$1")},"#done":function(){var e=!1,t=ns.Model.isDefined("done")&&ns.Model.get("done");return t&&t.isDoneAllowed()||(e="#"),e},"#inbox":function(){if(Daria.areFoldersTabsEnabled())return"#tabs/relevant"},"#inbox/thread/{thread_id:TThreadID}":function(e){var t=ns.Model.get("message",{ids:e.thread_id}).getTabId();if(Daria.areFoldersTabsEnabled()&&t)return"#tabs/".concat(t,"/thread/").concat(e.thread_id)},"#inbox/message/{ids:int}":function(e){var t=ns.Model.get("message",{ids:e.ids}).getTabId();if(Daria.areFoldersTabsEnabled()&&t)return"#tabs/".concat(t,"/message/").concat(e.ids)},"#tabs/default":function(){return Daria.areFoldersTabsEnabled()?"#tabs/relevant":"#inbox"},"#tabs/{tabId:folders-tabs}":function(){if(!Daria.areFoldersTabsEnabled())return"#inbox"},"#tabs/{tabId:folders-tabs}/message/{ids:int}":function(e){if(!Daria.areFoldersTabsEnabled())return"#inbox/message/".concat(e.ids)},"#tabs/{tabId:folders-tabs}/thread/{thread_id:TThreadID}":function(e){if(!Daria.areFoldersTabsEnabled())return"#inbox/thread/".concat(e.thread_id)},"#search-options":"#inbox"},a.a),rewriteUrl:{},route:_.extend(Daria.IS_CORP?{}:{"#setup/{tab:setup-tab==collector}/":"setup-collector"},i({},a.b,{"#done":"done","#contacts/group{tid:int}/{q:any}":"abook","#contacts/group{tid:int}":"abook","#contacts/all/{q:any}":"abook","#contacts/all":"abook","#contacts/shared{shared:int=1}":"abook","#contacts":"abook","#{attachments==attachments}/{ids:int}":"messages","#{attachments==attachments}":"messages","#{unread==unread}/{ids:int}":"messages","#{unread==unread}":"messages","#{important==important}/{ids:int}":"messages","#{important==important}":"messages","#{remind==remind}/{ids:int}":"messages","#{remind==remind}":"messages","#{priority==priority}/{ids:int}":"messages","#{priority==priority}":"messages","#tabs/{tabId:folders-tabs}/message/{ids:int}":"messages","#tabs/{tabId:folders-tabs}/thread/{thread_id:TThreadID}":"messages","#tabs/{tabId:folders-tabs}":"messages","#{search==search}/{thread_id:TThreadID}":"messages","#{search==search}/{ids:int}":"messages","#{search==search}":"messages","#{default_folder:TFolderDefault}/message/{ids:int}":"messages","#{default_folder:TFolderDefault}/thread/{thread_id:TThreadID}":"messages","#folder/{current_folder:int}/message/{ids:int}":"messages","#folder/{current_folder:int}/thread/{thread_id:TThreadID}":"messages","#folder/{current_folder:int}/push/{tabId:folders-tabs}/message/{ids:int}":"messages","#folder/{current_folder:int}/push/{tabId:folders-tabs}/thread/{thread_id:TThreadID}":"messages","#folder/{current_folder:int}/push/{tabId:folders-tabs}":"messages","#label/{current_label:int}/message/{ids:int}":"messages","#label/{current_label:int}/thread/{thread_id:TThreadID}":"messages","#folder/{current_folder:int}":"messages","#label/{current_label:int}":"messages","#thread/{thread_id:TThreadID}/message/{ids:int}":"messages","#thread/{thread_id:TThreadID}":"messages","#message/{ids:int}":"message","#message/{ids:TThreadID}":"message","#no-message":"no-message","#setup/{tab:setup-tab==sender}/":"setup-sender","#setup/{tab:setup-tab==filters-create}/id={id:int}":"setup","#setup/{tab:setup-tab==filters-create}/folder={folder:int}":"setup","#setup/{tab:setup-tab==filters-create}/label={label:any}":"setup","#setup/{tab:setup-tab==filters-create-simple}/":"setup","#setup/{tab:setup-tab==filters-create-simple}/{action:any}":"setup","#setup/{tab:setup-tab}/":"setup","#setup":"setup"})),rewriteParams:{messages:function(e){if(e.search)return e;if(e.tabId){var t=ns.Model.get("folders").getFidBySymbol(u.WellKnownFolderSymbol.INBOX);e.current_folder=t}var n=Daria.is2pane();if(Daria.router.symbolToFid(e),e.datePager&&!/^(((1[0-2])|(0[0-9]))\.)?((19[7-9][0-9])|(20[0-9]{2}))$/.test(e.datePager)&&delete e.datePager,e.attachments&&(e.extra_cond="only_atta",e.goto="all"),e.unread&&(e.extra_cond="only_new",e.goto="all"),e.important&&(e.current_label=ns.Model.get("labels").getImportantLID()),e.remind){var r=ns.Model.get("labels").getLabelBySymbolicName(l.WellKnownLabels.REMIND_NO_ANSWER);e.current_label=r?r.lid:null}if(e.priority){var i=ns.Model.get("labels").getLabelBySymbolicName(l.WellKnownLabels.PRIORITY);e.current_label=i?i.lid:null}Daria.router.addThreadedParam(e);var o=/\d{2}\.\d{2}\.\d{4}/;return!e.search&&!e.threaded&&o.test(e.from)&&o.test(e.to)&&n&&(e.datePagerSearch="yes"),e},abook:function(e){if(!e.lang){var t=_(["ru","tt","uk","be","ka"]).contains(Daria.Config.locale)?"ru":"en";e.lang=ns.Model.get("settings").getSetting("abook-switch-lang")||t}return e.type||(e.type="normal"),"shared"in e&&(e.shared=Daria.toIntFlag(e.shared)),e},compose:function(e){return e.mailto&&(e.to=e.mailto,delete e.mailto),e.subj&&(e.subject=e.subj,delete e.subj),e},compose2:a.c}},ns.events.on("daria-before-init",ns.router.buildFoldersUrls),ns.events.on("daria:mFolders:symbolSet",(function(){ns.router.buildFoldersUrls(),ns.router.init()}))},3416:function(e,t,n){"use strict";function r(e){return!!Daria.isReactiveCompose()&&(e&&e.preventSideEffects||Daria.composeGo(a(e)),"compose2"!==ns.page.current.page&&ns.page.currentUrl||"#")}n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),ns.router.regexps.TComposeOper="forward|reply|reply-all|template",ns.router.regexps.TComposeMode="html|plain";var i={"#compose/{ids:int}":"compose2","#compose/{ids:int}/oper={oper:TComposeOper}":"compose2","#compose/oper={oper:TComposeOper}":"compose2","#compose/mailto={mailto:any}":"compose2","#compose":"compose2"},o={"#compose/{ids:int}":r,"#compose/{ids:int}/oper={oper:TComposeOper}":r,"#compose/oper={oper:TComposeOper}":r,"#compose/mailto={mailto:any}":r,"#compose":r},a=function(e){var t=e.mailto&&e.mailto.replace(/^mailto:/,"");if(!t)return e;var n=t.split("?")[0],r=Daria.parseQuery(t.split("?")[1]),i=Daria.lowerifyObjectKeys(r);return n&&(e.to=decodeURIComponent(n)),i.to&&(e.to=e.to?e.to+","+i.to:decodeURIComponent(i.to)),i.subject&&(e.subject=decodeURIComponent(i.subject)),i.cc&&(e.cc=decodeURIComponent(i.cc)),i.bcc&&(e.bcc=decodeURIComponent(i.bcc)),i.body&&(e.body=decodeURIComponent(i.body)),delete e.mailto,e}},3417:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(898);ns.events.on("pageinit",(function(){if(window.history&&window.history.replaceState){var e=new r.a;e.hash(""),e.replaceParams({uid:Daria.uid}),e.removeParams(["origin","login","destinationPage","enable_domain","unsubscribe-popup","flow-me","flow-me-darker"]),e=e.toString()+window.location.hash,window.history.replaceState({},document.title||"",e.toString())}}))},3418:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(425);ns.View.define("scenario-manager-mixin",{methods:{scenarioManager:r.a}})},3419:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(381),i=n(389);n.n(i);ns.View.define("mg-theme-mixin",{methods:{addMgTheme:function(){Object(r.configureRootTheme)({theme:i.PS_LIGHT,root:this.node})}}})},3420:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(676),i=n.n(r),o=n(139),a=(n.n(o),n(1774));n.n(a);yr.externals.entityify=_.escape,yr.externals.i18n=window.i18n,yr.externals.i18n_unsafe=window.i18n_unsafe,yr.externals["ns-render"]=function(e){var t=yr.nodeset2data(e),n="mail",r=t.bosphorus;return r&&(n=r.info.yateModule),ns.assert(n,"ns-render","yateModule is not defined for view '%s'",t.id),yr.run(n,t,"ns-render")},yr.externals.c=function(){return _.defer(Jane.c,Array.prototype.slice.call(arguments)),""},yr.externals.ckey=function(){return Daria.ckey},yr.externals["daria-now"]=Daria.now,yr.externals["date-format"]=Jane.Date.format,yr.externals["date-get-interval"]=Jane.Date.getInterval,(function(){var e=1;yr.externals["generate-id"]=function(){return e++}})(),yr.externals["arr-isfind"]=function(e,t){return-1!==t.indexOf(e)},yr.externals["get-random-string"]=Daria.getRandomString,yr.externals["seasons-modifier"]=function(){var e=(new Date).getDate(),t=(new Date).getMonth()+1;return 2===t&&e>24||t>2&&t<6?"spring":t>5&&t<9?"summer":t>8&&t<12?"autumn":"winter"},yr.externals["set-time"]=function(e,t,n,r){var i=new Date(e);return i.setHours(t),i.setMinutes(n),i.setSeconds(r),i.setMilliseconds(0),i.getTime()},yr.externals["str-escape"]=_.escape,yr.externals.translate=function(e,t,n){for(var r=0,o=t.length;r<o;r++){var a=new RegExp(i()(t.substr(r,1)),"g");e=e.replace(a,n.substr(r,1)||"")}return e},yr.externals.uid=function(){return Daria.uid},yr.externals["has-sid"]=function(e){return-1!==$.inArray(e,Daria.SIDS)},yr.externals.tid2mid=function(e){return Daria.tid2mid(e)},yr.externals.join=function(e,t,n){var r=yr.nodeset2data(e);return 2===arguments.length?r instanceof Array?r.join(t):r:jpath(r,t).join(n)},(function(e){var t={};e.externals["regexp-test"]=function(e,n,r){return n in t||(t[n]=new RegExp(n,r)),t[n].test(e)}})(yr),yr.externals.config=function(e){return Daria.Config[e]},yr.externals["web-api"]=function(e){return Daria.api[e]},yr.externals["phone-number-format"]=function(e){var t=/^(\+7)(\d{3})(\d{3})(\d{2})(\d{2})$/,n=t.exec(e),r=e;return n&&(r=Daria.supplant("{1} ({2}) {3}-{4}-{5}",n)),r},yr.externals.extend=function(e,t){var n,r;return _.isObject(e)&&(n=yr.nodeset2data(e)),_.isObject(t)&&(r=yr.nodeset2data(t)),yr.object2nodeset($.extend({},n,r))},yr.externals["add-params-to-location"]=Daria.addParamsToLocation=function(e,t,n,r){var i=$.url(t||void 0);return Array.isArray(r)&&r.length&&i.removeParams(r),i.Hash&&!_.includes(a.WhiteHashList,i.Hash)&&(i.Hash=""),i.removeParams(["login","uid","destinationPage"]),e&&!e.__empty__&&i.replaceParams(e),n?decodeURIComponent(i.toString()):i.toString()},yr.externals["uid-ends"]=function(e){return Daria.uidEnds(yr.nodeset2data(e).item)},yr.externals.setting=function(e){return ns.Model.get("settings").getSetting(e)},yr.externals["is-pg-user"]=function(){return ns.Model.get("account-information").isPG()},yr.externals["is-retina"]=function(){return Daria.isRetina()},yr.externals["is-full-thread-page"]=Daria.isFullThreadPage,yr.externals.has=function(e,t){var n=yr.nodeset2data(e);return Boolean(n[t])},yr.externals.cookie=Daria.getCookie,yr.externals["unread-hidden-folder"]=function(e){return o.UnreadHiddenFolders.includes(e)},n(3421),n(3422),n(3423),n(3424),n(3425),n(3426)},3421:function(e,t,n){"use strict";var r=n(1259);yr.externals["frozen-link"]=function(e,t){return r.get(e,t)}},3422:function(e,t){!(function(e){e["arr-concat"]=function(e,t){return e.concat(t)}})(yr.externals)},3423:function(e,t){!(function(e){var t=function(){var e=new Date;return e.setMinutes(0),e.setHours(0),e.setSeconds(0),e};e["date-is-today"]=function(e){return e=1e3*parseInt(e,10),t().getTime()<=e},e["date-is-week-current"]=function(e){return e=1e3*parseInt(e,10),new Date(t().getTime()-6048e5).getTime()<=e},e["date-is-yesterday"]=function(e){e=1e3*parseInt(e,10);var n=t();return new Date(n.getTime()-864e5).getTime()<=e&&e<n.getTime()},e["date-now"]=function(){return+new Date}})(yr.externals)},3424:function(e,t){!(function(e){e["math-abs"]=function(e){return Math.abs(e)},e["math-random"]=function(){return Math.round(1e5*Math.random())},e["math-round"]=function(e){return Math.round(e)},e["math-sum"]=function(e){for(var t=0,n=0,r=e.length;n<r;n++)t+=Number(e[n].data);return t}})(yr.externals)},3425:function(e,t){!(function(e,t){e.modernizr=function(e){return!0===t[e]}})(yr.externals,Modernizr)},3426:function(e,t){!(function(e){e["encode-uri-component"]=function(e){return encodeURIComponent(e)},e["str-contains"]=function(e,t){return String(e).indexOf(t)>-1},e["str-length"]=function(e){return String(e).length},e["str-substr"]=function(e,t,n){return e.substr(t,n)},e["str-substr-after"]=function(e,t){e=String(e);var n=e.indexOf(t);return n>-1?e.substr(n+1):""},e["str-substr-before"]=function(e,t){e=String(e);var n=e.indexOf(t);return n>-1?e.substr(0,n):""},e["str-to-lower"]=function(e){return String(e).toLowerCase()},e["str-to-upper"]=function(e){return String(e).toUpperCase()}})(yr.externals)},3427:function(e,t){yr.externals["use-or-inline-svg"]=(function(){var e={},t={auto:"auto",forceInline:"forceInline"};return function(n,r){if("MSIE"===Daria.UA.BrowserName&&(r=t.forceInline),r!==t.forceInline)return'<use xlink:href="#svgicon-'+n+'"></use>';if(e[n])return e[n];var i="svgicon-"+n,o=document.getElementById(i);if(o){var a=Array.prototype.slice.call(o.childNodes),s=new XMLSerializer,u=a.reduce((function(e,t){return e+s.serializeToString(t)}),""),c=o.getAttribute("viewBox"),l=o.getAttribute("fill"),f=l?'" fill="'+l:"";return e[n]='<svg id="'+i+'" viewBox="'+c+f+'">'+u+"</svg>",e[n]}Daria.DEBUG&&console.warn("    #"+i)}})()},35:function(e,t){e.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},356:function(e,t,n){"use strict";function r(e){return a(e)||o(e)||i()}function i(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function o(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}function a(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}function s(){return Daria.now()}function u(){return Daria.promoNow()}function c(){return new Date(Daria.promoNow())}function l(){return Daria.isDevEnv()}function f(){return Boolean(Daria.Config.pddDomain)}function d(){return Boolean(ns.Model.get("account-information").getData().isB2BUser)}function h(){return Daria.IS_CORP}function p(){return Daria.isPriorityTab()}function g(e){return Daria.Page.isParamsForSearch(e)}function m(){return Daria.Config.NO_SETTINGS}function v(){return Daria.Config.locale}function _(){return Daria.tanker}function b(){return Daria.suid}function y(){return Daria.Config.yandexuid}function w(){return Daria.ckey}function D(e){Daria.ckey=e}function T(){return Daria.uid}function S(){return Daria.Config.connection_id}function C(){return Daria.Config}function E(){return Daria.urlParams}function A(){return Daria.UISettings.shouldShowCheckboxInsideUserpic()}function O(e){return e?Jane.Common.keyCode[e]:Jane.Common.keyCode}function M(e){Daria.toggleSearchAppMode(e)}function x(e){Daria.toggleVerticalScrollBar(e)}function k(e){Daria.toggleAdvancedSearchAppMode(e)}function P(){ns.events.trigger("daria:vToolbarButton:restruct")}function F(){ns.events.atrigger("daria:vApp:changeRightColumSize")}function L(e){var t;return(t=Jane).c.apply(t,r(e))}function I(){Daria.Shortcuts.freeze()}function j(){Daria.Shortcuts.unfreeze()}function R(e){ns.Model.get("app-state").updatePageClasses(e)}function N(e,t,n,r){return ns.action.run(e,t,n,r)}function B(e){return Daria.parseQuery(e)}function $(){return Daria.addParamsToLocation(null,null,!0,null)}function H(e){ns.events.trigger("daria:suggest:open",e)}function U(){return Daria.Config["yandex-domain"]}function z(){return ns.Model.get("user-dropdown-data").getSumOfFresh()}function W(e){return ns.Model.get("folders").getFolderBySymbol(e)}function J(){return Daria.Config.hasProSubscription}function V(){return Daria.Config.haveYandexPlus}function Y(){return Daria.LS}function G(e){var t=Object(_e.hasFeature)(_e.Features.WEB_MAILBOX_360_LANDING)?be.linkYandex360:be.linkMail360,n="".concat(t,"?uid=").concat(Daria.uid);return e&&(n+="&from=".concat(e)),n}function q(){return"#setup/backup"}function K(){return"#setup/beautiful-email"}function X(){return"#search?deleted=yes"}function Q(){return"".concat(Daria.Config["telemost-url"],"/?source=tab-mail")}function Z(e){return Daria.hasSid(e)}function ee(e){return"disk"===e?"https://business.yandex.ru/disk/promo?utm_campaign=big_mail_trial30&utm_medium=teaser&utm_source=disk":"https://business.yandex.ru/mail?utm_campaign=big_mail_trial30&utm_medium=teaser&utm_source=mail"}function te(){return Boolean(document.querySelector(".js-toolbar-wrap.is-fixed"))}function ne(){return Daria.is2pane()}function re(){return Daria.is3pane()}function ie(){return Daria.is3pv()}function oe(){return Daria.isMessageOpenedInList()}function ae(){return Daria.Config.layout}function se(){return Daria.Config.isWS}function ue(e){Jane.Services.setUpdateNeeded(e)}function ce(){return Daria.Config.TLD}function le(e){ns.events.trigger("daria:unsubscribe-popup:show",e)}function fe(e,t,n){Daria.ImageViewer.open("",e,t,n)}function de(){return Daria.CompactMode}function he(){return Daria.Autocompleter.getRegion()}function pe(){return ns.Model.get("disk-editor-secret-key").get(".key")}function ge(){return Daria.Config.hasDisk&&!Daria.IS_CORP}function me(){return Object(_e.hasFeature)(_e.Features.WEB_MIDGETS)&&!h()}function ve(){return Daria.Config.socialavatarsUrl}Object.defineProperty(t,"__esModule",{value:!0}),t.now=s,t.promoNow=u,t.promoNowDate=c,t.isDev=l,t.isPDD=f,t.isB2BUser=d,t.isCorp=h,t.isPriorityTab=p,t.isParamsForSearch=g,t.areSettingsUnavailable=m,t.getLocale=v,t.getTranslations=_,t.getSuid=b,t.getYandexUid=y,t.getCkey=w,t.setCkey=D,t.getUid=T,t.getConnectionId=S,t.getConfig=C,t.getUrlParams=E,t.shouldShowCheckboxInsideUserpic=A,t.getKeyCodes=O,t.toggleSearchAppMode=M,t.toggleVerticalScrollBar=x,t.toggleAdvancedSearchAppMode=k,t.toolbarRestruct=P,t.changeRightColumSize=F,t.logMetric=L,t.freezeShortcuts=I,t.unfreezeShortcuts=j,t.updatePageClasses=R,t.runAction=N,t.parseQuery=B,t.getRetpath=$,t.emitSuggestOpened=H,t.getYandexDomain=U,t.getFreshCount=z,t.getFolderBySymbol=W,t.hasProSubscription=J,t.hasPlus=V,t.getDariaLocalStorage=Y,t.getLinkToMailPro=G,t.getLinkToMailBackup=q,t.getLinkToBeautifulEmail=K,t.getLinkToSearchInDeleted=X,t.getLinkToTelemost=Q,t.hasSid=Z,t.getLinkToB2b=ee,t.hasFixedToolbar=te,t.is2Pane=ne,t.is3Pane=re,t.is3pv=ie,t.isMessageOpenedInList=oe,t.getPaneLayoutType=ae,t.isWorkspace=se,t.setUpdateNeeded=ue,t.getTld=ce,t.emitUnsubscribePopupShow=le,t.openMessageViewer=fe,t.getCompactMode=de,t.getRegionAutocompleter=he,t.getDiskSK=pe,t.hasDisk=ge,t.hasMidgets=me,t.getSocialavatarsUrl=ve;var _e=n(87),be=(n.n(_e),n(435))},357:function(e,t){e.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children||(e.children=[]),Object.defineProperty(e,"loaded",{enumerable:!0,get:function(){return e.l}}),Object.defineProperty(e,"id",{enumerable:!0,get:function(){return e.i}}),e.webpackPolyfill=1),e}},36:function(e,t,n){var r=n(6),i=n(92),o=n(35),a=n(77),s=n(46),u=n(29)("IE_PROTO"),c=function(){},l=function(){var e,t=s("iframe"),n=o.length;for(t.style.display="none",a.appendChild(t),t.src=String("javascript:"),e=t.contentWindow.document,e.open(),e.write("<script>document.F=Object<\/script>"),e.close(),l=e.F;n--;)delete l.prototype[o[n]];return l()};e.exports=Object.create||function(e,t){var n;return null!==e?(c.prototype=r(e),n=new c,c.prototype=null,n[u]=e):n=l(),void 0===t?n:i(n,t)},n(25)[u]=!0},361:function(e,t,n){"use strict";e.exports=n(998)},363:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"getGeneralThemesBridge",(function(){return i})),n.d(t,"getDatasyncClient",(function(){return o})),n.d(t,"getStatuslineBridge",(function(){return a})),n.d(t,"getStatuslineRoot",(function(){return s})),n.d(t,"getStatusline",(function(){return u})),n.d(t,"getLeftColumn",(function(){return c})),n.d(t,"getLeftFooter",(function(){return l})),n.d(t,"getMainButtons",(function(){return f})),n.d(t,"getFocusBridge",(function(){return d})),n.d(t,"getDndBridge",(function(){return h})),n.d(t,"getPsSettingsDatasyncService",(function(){return p})),n.d(t,"getPsSettingsDatasyncSnapshot",(function(){return g})),n.d(t,"getMidgets",(function(){return m})),n.d(t,"getShortcutsBridge",(function(){return v})),n.d(t,"getPromoOnboardingGreetings",(function(){return _})),n.d(t,"getSetupLeft",(function(){return b})),n.d(t,"getVideoBgSwitch",(function(){return y})),n.d(t,"getThemeCard",(function(){return w})),n.d(t,"getPromozavrBridge",(function(){return D})),n.d(t,"getSetupIndex",(function(){return T})),n.d(t,"getPddRestrictModel",(function(){return S}));var r=function(e){return window.ReactClientBridge&&window.ReactClientBridge.Exposed&&window.ReactClientBridge.Exposed[e]},i=function(){return r("GeneralThemesBridge")},o=function(){return r("PsSettingsDatasyncClient")},a=function(){return r("StatuslineBridge")},s=function(){return r("StatuslineRoot")},u=function(){return r("Statusline")},c=function(){return r("LeftColumn")},l=function(){return r("LeftFooter")},f=function(){return r("MainButtons")},d=function(){return r("FocusBridge")},h=function(){return r("DndBridge")},p=function(){return r("PsSettingsDatasyncService")},g=function(){return r("PsSettingsDatasyncSnapshot")},m=function(){return r("Midgets")},v=function(){return r("ShortcutsBridge")},_=function(){return r("PromoOnboardingGreetings")},b=function(){return r("SetupLeft")},y=function(){return r("VideoBgSwitch")},w=function(){return r("ThemeCard")},D=function(){return r("PromozavrBridge")},T=function(){return r("SetupIndex")},S=function(){return r("PddRestrictModel")}},37:function(e,t,n){var r=n(12),i=n(41),o=n(27),a=n(17),s=n(38),u=n(3),c=n(51),l=Object.getOwnPropertyDescriptor;t.f=r?l:function(e,t){if(e=a(e),t=s(t,!0),c)try{return l(e,t)}catch(e){}if(u(e,t))return o(!i.f.call(e,t),e[t])}},378:function(e,t){var n=Array.isArray;e.exports=n},379:function(e,t,n){var r=n(547),i="object"==typeof self&&self&&self.Object===Object&&self,o=r||i||Function("return this")();e.exports=o},38:function(e,t,n){var r=n(4);e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},381:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n(844);n.d(t,"cnTheme",(function(){return r.cnTheme})),n.d(t,"configureRootTheme",(function(){return r.configureRootTheme}))},384:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"f",(function(){return s})),n.d(t,"c",(function(){return u}));var r="compose-scenario",i="compose-react-scenario",o="message-view-scenario",a="search-scenario",s="suggest-scenario",u={}},387:function(e,t){function n(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}e.exports=n},388:function(e,t){function n(e){return null!=e&&"object"==typeof e}e.exports=n},389:function(e,t,n){var r=n(978),i=n(981),o=n(984),a=n(440),s=n(989),u=n(992),c=n(995);e.exports=Object.assign({},r,i,o,a,s,u,c)},39:function(e,t,n){var r,i,o,a=n(89),s=n(4),u=n(9),c=n(3),l=n(29),f=n(25),d=n(0).WeakMap,h=function(e){return o(e)?i(e):r(e,{})},p=function(e){return function(t){var n;if(!s(t)||(n=i(t)).type!==e)throw TypeError("Incompatible receiver, "+e+" required");return n}};if(a){var g=new d,m=g.get,v=g.has,_=g.set;r=function(e,t){return _.call(g,e,t),t},i=function(e){return m.call(g,e)||{}},o=function(e){return v.call(g,e)}}else{var b=l("state");f[b]=!0,r=function(e,t){return u(e,b,t),t},i=function(e){return c(e,b)?e[b]:{}},o=function(e){return c(e,b)}}e.exports={set:r,get:i,has:o,enforce:h,getterFor:p}},392:function(e,t,n){function r(e,t){var n=o(e,t);return i(n)?n:void 0}var i=n(708),o=n(713);e.exports=r},396:function(e,t,n){function r(e){return null==e?void 0===e?u:s:c&&c in Object(e)?o(e):a(e)}var i=n(401),o=n(709),a=n(710),s="[object Null]",u="[object Undefined]",c=i?i.toStringTag:void 0;e.exports=r},398:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetNames=void 0;!(function(e){e.Disk="Disk",e.Mail="Mail",e.Notes="Notes",e.Telemost="Telemost",e.Services="Services",e.Stories="Stories",e.Space="Space",e.Promo="Promo",e.Memories="Memories"})(t.WidgetNames||(t.WidgetNames={}))},4:function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},40:function(e,t,n){var r=n(49);e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 0:return function(){return e.call(t)};case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},401:function(e,t,n){var r=n(379),i=r.Symbol;e.exports=i},409:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(){return"undefined"!=typeof window&&void 0!==window.document&&void 0!==window.document.createElement}},41:function(e,t,n){"use strict";var r={}.propertyIsEnumerable,i=Object.getOwnPropertyDescriptor,o=i&&!r.call({1:2},1);t.f=o?function(e){var t=i(this,e);return!!t&&t.enumerable}:r},410:function(e,t,n){"use strict";function r(){return!d.isCorp()&&!d.isWorkspace()&&!o()&&(!d.hasProSubscription()||c())}function i(){return g.default.get("account-information").getBeautifulEmail()}function o(){return g.default.get("account-information").isSSO()}function a(){var e=i(),t=h.getPsSettingsDatasyncService();return r()&&(t.isBeautifulEmailForceEnabled||Boolean(e))}function s(){return r()&&("ru"===d.getTld()||a())}function u(){return s()}function c(){return p.isSettingSet(t.SETTINGS_DOMAIN_AVAILABLE)}function l(){if(!u())return!1;if(i())return!1;var e=d.hasProSubscription(),t=c();return!(e&&!t)}var f=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.canShowPromo=t.hasSubscriptionWithDomain=t.isPromoAvailable=t.isAvailable=t.isForceAvailable=t.getConnectedBeautifulEmail=t.isPossibleToEnable=t.SETTINGS_DOMAIN_AVAILABLE=void 0;var d=n(356),h=n(363),p=n(581),g=f(n(422));t.SETTINGS_DOMAIN_AVAILABLE="mail_b2c_domain_enable",t.isPossibleToEnable=r,t.getConnectedBeautifulEmail=i,t.isForceAvailable=a,t.isAvailable=s,t.isPromoAvailable=u,t.hasSubscriptionWithDomain=c,t.canShowPromo=l},415:function(e,t,n){function r(e){return null!=e&&o(e.length)&&!i(e)}var i=n(469),o=n(497);e.exports=r},419:function(e,t,n){function r(e){return a(e)?i(e):o(e)}var i=n(607),o=n(664),a=n(415);e.exports=r},42:function(e,t,n){var r=n(53),i=n(35);e.exports=Object.keys||function(e){return r(e,i)}},421:function(e,t,n){"use strict";n.d(t,"d",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"p",(function(){return a})),n.d(t,"m",(function(){return s})),n.d(t,"g",(function(){return u})),n.d(t,"j",(function(){return c})),n.d(t,"o",(function(){return l})),n.d(t,"l",(function(){return f})),n.d(t,"h",(function(){return d})),n.d(t,"i",(function(){return h})),n.d(t,"n",(function(){return p})),n.d(t,"k",(function(){return g})),n.d(t,"a",(function(){return m})),n.d(t,"f",(function(){return v})),n.d(t,"c",(function(){return _}));var r="default",i="direct-url",o="button-from-left-column",a="shortcut",s="reply-button-from-context-menu",u="forward-from-context-menu",c="forward-button-from-message-toolbar",l="reply-button-from-message-toolbar",f="reply-all-button-from-message-toolbar",d="forward-button-from-messages-toolbar",h="forward-button-from-message-body-toolbar",p="reply-button-from-message-body-toolbar",g="reply-all-button-from-message-body-toolbar",m="button-from-abook-popup",v="expand-button",_="change-to-another-compose-button"},422:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return new Promise(function(r,i){ns.request(e,t,n).then((function(e){if(!e||!e.length)return void i({error:"request-failed"});var t=e[0];if(!t.isValid())return void i(t.getError()||{error:"invalid-data"});r(e[0].getData())}),(function(e){i(Object.assign(e,{error:"model-request-failed"}))}))})};t.default={get:function(e,t){return ns.Model.get(e,t)},request:function(e,t){return r(e,t)},forcedRequest:function(e,t){return r(e,t,{forced:!0})}}},423:function(e,t,n){function r(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new TypeError(o);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],o=n.cache;if(o.has(i))return o.get(i);var a=e.apply(this,r);return n.cache=o.set(i,a)||o,a};return n.cache=new(r.Cache||i),n}var i=n(486),o="Expected a function";r.Cache=i,e.exports=r},425:function(e,t,n){"use strict";var r=n(972),i=n(975),o=n(640),a=n(5);t.a=new r.a({logger:i.a,now:o.a,connectionId:a.a.Config.connection_id})},435:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"cloudApiUrl",(function(){return i})),n.d(t,"helpUrl",(function(){return o})),n.d(t,"diskHelpUrl",(function(){return a})),n.d(t,"helpBackupUrl",(function(){return s})),n.d(t,"helpBeautifulEmailUrl",(function(){return u})),n.d(t,"passportPhoneConfirmUrl",(function(){return c})),n.d(t,"passportVerifyPasswordUrl",(function(){return l})),n.d(t,"www",(function(){return f})),n.d(t,"linkYandex360",(function(){return d})),n.d(t,"linkMail360",(function(){return h})),n.d(t,"headerServicesLinks",(function(){return g})),n.d(t,"xivaUrl",(function(){return m})),n.d(t,"socialavatarsUrl",(function(){return v}));var r=n(87),i=(n.n(r),Daria.Config["cloud-api-url"]),o=Daria.Config["help-url"],a=Daria.Config["disk-help-url"],s="".concat(o,"/web/security/backup.html"),u="".concat(o,"/web/preferences/about-sender/additional-addresses.html?from=mail#exclusive"),c=Daria.Config["passport-phoneconfirm-url"],l=Daria.Config["passport-verify-password-url"],f=Daria.Config["www-url"],d=Daria.Config["yandex360-url"],h=Daria.Config["mail360-url"],p=Object(r.hasFeature)(r.Features.WEB_HEADER_PROMO_TO_LANDING)?d:h,g={Mail:"#inbox",Disk:Daria.Config["disk-url"],Telemost:Daria.Config["telemost-url"],Calendar:Daria.Config["calendar-url"],Notes:Daria.Config["notes-url"],Contact:"#contacts",Messenger:Daria.Config["q-url"],Fan:Daria.Config["fan-url"],Premium:p,Admin:Daria.Config["admin-url"],Documents:Daria.Config["documents-url"],Staff:Daria.Config["staff-host"],Startrek:Daria.Config["startrek-url"],Wiki:Daria.Config["wiki-url"],At:Daria.Config["diary-url"],Maillists:Daria.Config["maillist-url"],MeetingRooms:"".concat(Daria.Config["calendar-url"],"/invite")},m=Daria.Config.xivaHost,v=Daria.Config.socialavatarsUrl},436:function(e,t,n){var r=n(392),i=r(Object,"create");e.exports=i},437:function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(718),o=n(719),a=n(720),s=n(721),u=n(722);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,e.exports=r},438:function(e,t,n){function r(e,t){for(var n=e.length;n--;)if(i(e[n][0],t))return n;return-1}var i=n(449);e.exports=r},439:function(e,t,n){function r(e,t){var n=e.__data__;return i(t)?n["string"==typeof t?"string":"hash"]:n.map}var i=n(724);e.exports=r},440:function(e,t,n){n(987),n(988),t.PS_LIGHT={root:"ps-light",color:"ps-light"}},443:function(e,t,n){function r(e){if("string"==typeof e||i(e))return e;var t=e+"";return"0"==t&&1/e==-o?"-0":t}var i=n(454),o=1/0;e.exports=r},449:function(e,t){function n(e,t){return e===t||e!==e&&t!==t}e.exports=n},45:function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},454:function(e,t,n){function r(e){return"symbol"==typeof e||o(e)&&i(e)==a}var i=n(396),o=n(388),a="[object Symbol]";e.exports=r},46:function(e,t,n){var r=n(4),i=n(0).document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},461:function(e,t,n){var r=n(765),i=n(388),o=Object.prototype,a=o.hasOwnProperty,s=o.propertyIsEnumerable,u=r(function(){return arguments}())?r:function(e){return i(e)&&a.call(e,"callee")&&!s.call(e,"callee")};e.exports=u},462:function(e,t,n){function r(e,t,n,r){var a=!n;n||(n={});for(var s=-1,u=t.length;++s<u;){var c=t[s],l=r?r(n[c],e[c],c,n,e):void 0;void 0===l&&(l=e[c]),a?o(n,c,l):i(n,c,l)}return n}var i=n(668),o=n(561);e.exports=r},463:function(e,t){function n(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}e.exports=n},464:function(e,t,n){var r=n(778),i=n(470),o=n(779),a=n(671),s=n(672),u=n(396),c=n(548),l=c(r),f=c(i),d=c(o),h=c(a),p=c(s),g=u;(r&&"[object DataView]"!=g(new r(new ArrayBuffer(1)))||i&&"[object Map]"!=g(new i)||o&&"[object Promise]"!=g(o.resolve())||a&&"[object Set]"!=g(new a)||s&&"[object WeakMap]"!=g(new s))&&(g=function(e){var t=u(e),n="[object Object]"==t?e.constructor:void 0,r=n?c(n):"";if(r)switch(r){case l:return"[object DataView]";case f:return"[object Map]";case d:return"[object Promise]";case h:return"[object Set]";case p:return"[object WeakMap]"}return t}),e.exports=g},465:function(e,t,n){function r(e,t){return i(e)?e:o(e,t)?[e]:a(s(e))}var i=n(378),o=n(526),a=n(780),s=n(495);e.exports=r},469:function(e,t,n){function r(e){if(!o(e))return!1;var t=i(e);return t==s||t==u||t==a||t==c}var i=n(396),o=n(387),a="[object AsyncFunction]",s="[object Function]",u="[object GeneratorFunction]",c="[object Proxy]";e.exports=r},47:function(e,t){t.f=Object.getOwnPropertySymbols},470:function(e,t,n){var r=n(392),i=n(379),o=r(i,"Map");e.exports=o},477:function(e,t,n){(function(e){var r=n(379),i=n(766),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,u=s?r.Buffer:void 0,c=u?u.isBuffer:void 0,l=c||i;e.exports=l}).call(t,n(357)(e))},478:function(e,t){function n(e,t){var n=typeof e;return!!(t=null==t?r:t)&&("number"==n||"symbol"!=n&&i.test(e))&&e>-1&&e%1==0&&e<t}var r=9007199254740991,i=/^(?:0|[1-9]\d*)$/;e.exports=n},48:function(e,t,n){var r=n(32);e.exports=function(e){return Object(r(e))}},486:function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(705),o=n(723),a=n(725),s=n(726),u=n(727);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,e.exports=r},49:function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(String(e)+" is not a function");return e}},494:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"isBackupVisible",(function(){return i})),n.d(t,"canUseBackup",(function(){return o})),n.d(t,"idHiddenTrashEnabled",(function(){return a}));var r=n(50),i=(n.n(r),function(){return o()||!Daria.IS_CORP&&!Daria.Config.isWS&&"ru"===Daria.Config.TLD}),o=function(){return ns.Model.get("settings").isSet(r.Settings.BACKUP_ENABLED)},a=function(){return ns.Model.get("settings").isSet(r.Settings.HIDDEN_TRASH_ENABLED)}},495:function(e,t,n){function r(e){return null==e?"":i(e)}var i=n(760);e.exports=r},497:function(e,t){function n(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=r}var r=9007199254740991;e.exports=n},498:function(e,t){function n(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||r)}var r=Object.prototype;e.exports=n},508:function(e,t){e.exports={CLICK:"click",HOTKEY:"hotkey",BG_CLICK:"bg-click"}},51:function(e,t,n){e.exports=!n(12)&&!n(7)((function(){return 7!=Object.defineProperty(n(46)("div"),"a",{get:function(){return 7}}).a}))},517:function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}e.exports=n},52:function(e,t,n){e.exports=n(19)("native-function-to-string",Function.toString)},520:function(e,t,n){var r=n(767),i=n(521),o=n(522),a=o&&o.isTypedArray,s=a?i(a):r;e.exports=s},521:function(e,t){function n(e){return function(t){return e(t)}}e.exports=n},522:function(e,t,n){(function(e){var r=n(547),i="object"==typeof t&&t&&!t.nodeType&&t,o=i&&"object"==typeof e&&e&&!e.nodeType&&e,a=o&&o.exports===i,s=a&&r.process,u=(function(){try{var e=o&&o.require&&o.require("util").types;return e||s&&s.binding&&s.binding("util")}catch(e){}})();e.exports=u}).call(t,n(357)(e))},523:function(e,t,n){function r(e){var t=this.__data__=new i(e);this.size=t.size}var i=n(437),o=n(771),a=n(772),s=n(773),u=n(774),c=n(775);r.prototype.clear=o,r.prototype.delete=a,r.prototype.get=s,r.prototype.has=u,r.prototype.set=c,e.exports=r},524:function(e,t,n){function r(e){return a(e)?i(e,!0):o(e)}var i=n(607),o=n(1239),a=n(415);e.exports=r},525:function(e,t,n){var r=n(669),i=n(612),o=Object.prototype,a=o.propertyIsEnumerable,s=Object.getOwnPropertySymbols,u=s?function(e){return null==e?[]:(e=Object(e),r(s(e),(function(t){return a.call(e,t)})))}:i;e.exports=u},526:function(e,t,n){function r(e,t){if(i(e))return!1;var n=typeof e;return!("number"!=n&&"symbol"!=n&&"boolean"!=n&&null!=e&&!o(e))||(s.test(e)||!a.test(e)||null!=t&&e in Object(t))}var i=n(378),o=n(454),a=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;e.exports=r},527:function(e,t,n){function r(e,t){t=i(t,e);for(var n=0,r=t.length;null!=e&&n<r;)e=e[o(t[n++])];return n&&n==r?e:void 0}var i=n(465),o=n(443);e.exports=r},528:function(e,t){function n(e){return e}e.exports=n},53:function(e,t,n){var r=n(3),i=n(17),o=n(71)(!1),a=n(25);e.exports=function(e,t){var n,s=i(e),u=0,c=[];for(n in s)!r(a,n)&&r(s,n)&&c.push(n);for(;t.length>u;)r(s,n=t[u++])&&(~o(c,n)||c.push(n));return c}},54:function(e,t,n){var r=n(7),i=/#|\.prototype\./,o=function(e,t){var n=s[a(e)];return n==c||n!=u&&("function"==typeof t?r(t):!!t)},a=o.normalize=function(e){return String(e).replace(i,".").toLowerCase()},s=o.data={},u=o.NATIVE="N",c=o.POLYFILL="P";e.exports=o},547:function(e,t){var n="object"==typeof global&&global&&global.Object===Object&&global;e.exports=n},548:function(e,t){function n(e){if(null!=e){try{return i.call(e)}catch(e){}try{return e+""}catch(e){}}return""}var r=Function.prototype,i=r.toString;e.exports=n},55:function(e,t,n){"use strict";var r,i,o,a=n(56),s=n(9),u=n(3),c=n(26),l=n(1)("iterator"),f=!1,d=function(){return this};[].keys&&(o=[].keys(),"next"in o?(i=a(a(o)))!==Object.prototype&&(r=i):f=!0),void 0==r&&(r={}),c||u(r,l)||s(r,l,d),e.exports={IteratorPrototype:r,BUGGY_SAFARI_ITERATORS:f}},56:function(e,t,n){var r=n(3),i=n(48),o=n(29)("IE_PROTO"),a=n(95),s=Object.prototype;e.exports=a?Object.getPrototypeOf:function(e){return e=i(e),r(e,o)?e[o]:"function"==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?s:null}},561:function(e,t,n){function r(e,t,n){"__proto__"==t&&i?i(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}var i=n(611);e.exports=r},562:function(e,t){function n(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}e.exports=n},57:function(e,t,n){var r=n(7),i=n(21),o="".split;e.exports=r((function(){return!Object("z").propertyIsEnumerable(0)}))?function(e){return"String"==i(e)?o.call(e,""):Object(e)}:Object},58:function(e,t,n){var r=n(53),i=n(35).concat("length","prototype");t.f=Object.getOwnPropertyNames||function(e){return r(e,i)}},581:function(e,t,n){"use strict";function r(e,t){var n=t?"ns-model-changed.".concat(t):"ns-model-changed";m().on(n,e)}function i(e,t){var n=t?"ns-model-changed.".concat(t):"ns-model-changed";m().off(n,e)}function o(){return ns.Model.get("settings").get(".default_email")}function a(e){var t=o();return Object(g.areEmailsEqual)(t,e)}function s(){var e=ns.Model.get("themes").getSkinParams();return Boolean(e.content_is_dark)}function u(e){return m().isSet(e)}function c(e){return m().getSign(e)}function l(e,t){return m().signToSetting(e,t)}function f(e){return m().getSetting(e)}function d(e){return m().setSettings(e)}function h(e,t,n){return m().updateSetting(e,t,n)}Object.defineProperty(t,"__esModule",{value:!0}),t.registerChangeSettingsHandler=r,t.unregisterChangeSettingsHandler=i,t.getDefaultEmail=o,t.isDefaultEmail=a,t.isDarkContent=s,t.isSettingSet=u,t.getSign=c,t.signToSetting=l,t.getSetting=f,t.setSettings=d,t.updateSetting=h;var p,g=n(636),m=(n.n(g),function(){return p||(p=ns.Model.get("settings"))})},59:function(e,t,n){e.exports=n(0)},596:function(e,t){function n(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var o=Array(i);++r<i;)o[r]=e[r+t];return o}e.exports=n},6:function(e,t,n){var r=n(4);e.exports=function(e){if(!r(e))throw TypeError(String(e)+" is not an object");return e}},60:function(e,t,n){var r=n(1)("unscopables"),i=n(36),o=n(9),a=Array.prototype;void 0==a[r]&&o(a,r,i(null)),e.exports=function(e){a[r][e]=!0}},607:function(e,t,n){function r(e,t){var n=a(e),r=!n&&o(e),l=!n&&!r&&s(e),d=!n&&!r&&!l&&c(e),h=n||r||l||d,p=h?i(e.length,String):[],g=p.length;for(var m in e)!t&&!f.call(e,m)||h&&("length"==m||l&&("offset"==m||"parent"==m)||d&&("buffer"==m||"byteLength"==m||"byteOffset"==m)||u(m,g))||p.push(m);return p}var i=n(764),o=n(461),a=n(378),s=n(477),u=n(478),c=n(520),l=Object.prototype,f=l.hasOwnProperty;e.exports=r},608:function(e,t){function n(e,t){return function(n){return e(t(n))}}e.exports=n},610:function(e,t,n){"use strict";n.d(t,"c",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"e",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"f",(function(){return u})),n.d(t,"a",(function(){return c}));var r=n(888),i={type:"opening-error-message-body",severity:r.a},o={type:"opening-error-messages",severity:r.a},a={type:"opening-error-message-nearest",severity:r.b},s={type:"view-error-img-error",severity:r.b},u={type:"view-error-translate",severity:r.b},c=(r.b,{type:"view-error-email-info",severity:r.c})},611:function(e,t,n){var r=n(392),i=(function(){try{var e=r(Object,"defineProperty");return e({},"",{}),e}catch(e){}})();e.exports=i},612:function(e,t){function n(){return[]}e.exports=n},613:function(e,t,n){var r=n(608),i=r(Object.getPrototypeOf,Object);e.exports=i},614:function(e,t,n){function r(e,t,n){var r=t(e);return o(e)?r:i(r,n(e))}var i=n(463),o=n(378);e.exports=r},615:function(e,t,n){function r(e){var t=new e.constructor(e.byteLength);return new i(t).set(new i(e)),t}var i=n(673);e.exports=r},616:function(e,t){function n(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}e.exports=n},617:function(e,t,n){"use strict";function r(){return Object(c.a)()&&ns.Model.get("settings").getSign("show_sidebar_with_widgets")?[Object(u.b)(l.Features.WEB_PS_SIDEBAR_SPACE_WIDGET)&&o.WidgetNames.Space,Object(u.b)(l.Features.WEB_PS_SIDEBAR_MEMORIES_WIDGET)&&o.WidgetNames.Memories,o.WidgetNames.Telemost,o.WidgetNames.Disk,o.WidgetNames.Notes].filter(Boolean):[]}function i(e){var t=e.reduce((function(e,t){var n=a.WidgetsXivaNames[t];return n&&e.add(n),e}),new Set);return Array.from(t)}Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"isWidgetsEnabled",(function(){return f})),n.d(t,"isWidgetsVisible",(function(){return d})),t.getWidgets=r,t.getXivaServices=i;var o=n(398),a=(n.n(o),n(896)),s=(n.n(a),n(897)),u=n(22),c=n(63),l=n(101),f=(n.n(l),function(){return ns.Model.get("settings").getSign("show_sidebar_with_widgets")}),d=function(){var e=Daria.CompactMode.isCompactHeader();return!(Daria.isSettingsPage()||Object(s.a)())&&!e&&f()}},635:function(e,t,n){"use strict";var r="",i={},o=function(e){return r=e},a=function(e,t,n,r){return i[e][t][n](r)},s=function(e,t){return i[e]=t[r]};e.exports={setTankerProjectId:o,getKey:a,addTranslation:s}},636:function(e,t,n){"use strict";function r(e,t){return Boolean(e&&t&&e.toLowerCase()===t.toLowerCase())}Object.defineProperty(t,"__esModule",{value:!0}),t.areEmailsEqual=void 0,t.areEmailsEqual=r},637:function(e,t){e.exports={PREV:"prev",NEXT:"next"}},640:function(e,t,n){"use strict";function r(){return Date.now()-a}function i(e){a=Date.now()-e}t.a=r,t.b=i;var o=n(5),a=o.a.timestamp?Date.now()-o.a.timestamp:0},664:function(e,t,n){function r(e){if(!i(e))return o(e);var t=[];for(var n in Object(e))s.call(e,n)&&"constructor"!=n&&t.push(n);return t}var i=n(498),o=n(768),a=Object.prototype,s=a.hasOwnProperty;e.exports=r},668:function(e,t,n){function r(e,t,n){var r=e[t];s.call(e,t)&&o(r,n)&&(void 0!==n||t in e)||i(e,t,n)}var i=n(561),o=n(449),a=Object.prototype,s=a.hasOwnProperty;e.exports=r},669:function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length,i=0,o=[];++n<r;){var a=e[n];t(a,n,e)&&(o[i++]=a)}return o}e.exports=n},670:function(e,t,n){function r(e){return i(e,a,o)}var i=n(614),o=n(525),a=n(419);e.exports=r},671:function(e,t,n){var r=n(392),i=n(379),o=r(i,"Set");e.exports=o},672:function(e,t,n){var r=n(392),i=n(379),o=r(i,"WeakMap");e.exports=o},673:function(e,t,n){var r=n(379),i=r.Uint8Array;e.exports=i},674:function(e,t,n){var r=n(387),i=Object.create,o=(function(){function e(){}return function(t){if(!r(t))return{};if(i)return i(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}})();e.exports=o},675:function(e,t,n){function r(e,t,n,a,s){var u=-1,c=e.length;for(n||(n=o),s||(s=[]);++u<c;){var l=e[u];t>0&&n(l)?t>1?r(l,t-1,n,a,s):i(s,l):a||(s[s.length]=l)}return s}var i=n(463),o=n(783);e.exports=r},676:function(e,t,n){"use strict";var r=/[|\\{}()[\]^$+*?.]/g;e.exports=function(e){if("string"!=typeof e)throw new TypeError("Expected a string");return e.replace(r,"\\$&")}},677:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"getCurrentXivaServices",(function(){return o})),n.d(t,"setCurrentXivaServices",(function(){return a})),n.d(t,"registerMessageCallback",(function(){return s})),n.d(t,"removeMessageCallback",(function(){return u})),n.d(t,"getMessageCallbacks",(function(){return c}));var r=[],i=[],o=function(){return i},a=function(e){i=e},s=function(e){r.push(e)},u=function(e){var t=r.findIndex((function(t){return t===e}));-1!==t&&r.splice(t,1)},c=function(){return r}},678:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.WellKnownLabels=void 0;!(function(e){e.ANSWERED="answered_label",e.APPEND="append_label",e.ATTACHED="attached_label",e.COPY="copy_label",e.DELAYED_MESSAGE="delayed_message",e.DELETED="deleted_label",e.DRAFT="draft_label",e.ENCRYPTED="encrypted_label",e.FORWARDED="forwarded_label",e.IMPORTANT="important_label",e.MULCA_SHARED="mulcaShared_label",e.MUTE="mute_label",e.NOTIFY_NO_ANSWER="notifyNoAnswer_label",e.PINNED="pinned_label",e.POSTMASTER="postmaster_label",e.PRIORITY="hamon_label",e.RECENT="recent_label",e.REMIND_NO_ANSWER="remindNoAnswer_label",e.REPLY_LATER_STARTED="reply_later_started",e.REPLY_LATER_FINISHED="reply_later_finished",e.SEEN="seen_label",e.SPAM="spam_label",e.SYNCED="synced_label",e.UNDO="undo_message"})(t.WellKnownLabels||(t.WellKnownLabels={}))},7:function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},705:function(e,t,n){function r(){this.size=0,this.__data__={hash:new i,map:new(a||o),string:new i}}var i=n(706),o=n(437),a=n(470);e.exports=r},706:function(e,t,n){function r(e){var t=-1,n=null==e?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}var i=n(707),o=n(714),a=n(715),s=n(716),u=n(717);r.prototype.clear=i,r.prototype.delete=o,r.prototype.get=a,r.prototype.has=s,r.prototype.set=u,e.exports=r},707:function(e,t,n){function r(){this.__data__=i?i(null):{},this.size=0}var i=n(436);e.exports=r},708:function(e,t,n){function r(e){return!(!a(e)||o(e))&&(i(e)?p:c).test(s(e))}var i=n(469),o=n(711),a=n(387),s=n(548),u=/[\\^$.*+?()[\]{}|]/g,c=/^\[object .+?Constructor\]$/,l=Function.prototype,f=Object.prototype,d=l.toString,h=f.hasOwnProperty,p=RegExp("^"+d.call(h).replace(u,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");e.exports=r},709:function(e,t,n){function r(e){var t=a.call(e,u),n=e[u];try{e[u]=void 0;var r=!0}catch(e){}var i=s.call(e);return r&&(t?e[u]=n:delete e[u]),i}var i=n(401),o=Object.prototype,a=o.hasOwnProperty,s=o.toString,u=i?i.toStringTag:void 0;e.exports=r},71:function(e,t,n){var r=n(17),i=n(30),o=n(72);e.exports=function(e){return function(t,n,a){var s,u=r(t),c=i(u.length),l=o(a,c);if(e&&n!=n){for(;c>l;)if((s=u[l++])!=s)return!0}else for(;c>l;l++)if((e||l in u)&&u[l]===n)return e||l||0;return!e&&-1}}},710:function(e,t){function n(e){return i.call(e)}var r=Object.prototype,i=r.toString;e.exports=n},711:function(e,t,n){function r(e){return!!o&&o in e}var i=n(712),o=(function(){var e=/[^.]+$/.exec(i&&i.keys&&i.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""})();e.exports=r},712:function(e,t,n){var r=n(379),i=r["__core-js_shared__"];e.exports=i},713:function(e,t){function n(e,t){return null==e?void 0:e[t]}e.exports=n},714:function(e,t){function n(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}e.exports=n},715:function(e,t,n){function r(e){var t=this.__data__;if(i){var n=t[e];return n===o?void 0:n}return s.call(t,e)?t[e]:void 0}var i=n(436),o="__lodash_hash_undefined__",a=Object.prototype,s=a.hasOwnProperty;e.exports=r},716:function(e,t,n){function r(e){var t=this.__data__;return i?void 0!==t[e]:a.call(t,e)}var i=n(436),o=Object.prototype,a=o.hasOwnProperty;e.exports=r},717:function(e,t,n){function r(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=i&&void 0===t?o:t,this}var i=n(436),o="__lodash_hash_undefined__";e.exports=r},718:function(e,t){function n(){this.__data__=[],this.size=0}e.exports=n},719:function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return!(n<0)&&(n==t.length-1?t.pop():a.call(t,n,1),--this.size,!0)}var i=n(438),o=Array.prototype,a=o.splice;e.exports=r},72:function(e,t,n){var r=n(45),i=Math.max,o=Math.min;e.exports=function(e,t){var n=r(e);return n<0?i(n+t,0):o(n,t)}},720:function(e,t,n){function r(e){var t=this.__data__,n=i(t,e);return n<0?void 0:t[n][1]}var i=n(438);e.exports=r},721:function(e,t,n){function r(e){return i(this.__data__,e)>-1}var i=n(438);e.exports=r},722:function(e,t,n){function r(e,t){var n=this.__data__,r=i(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}var i=n(438);e.exports=r},723:function(e,t,n){function r(e){var t=i(this,e).delete(e);return this.size-=t?1:0,t}var i=n(439);e.exports=r},724:function(e,t){function n(e){var t=typeof e;return"string"==t||"number"==t||"symbol"==t||"boolean"==t?"__proto__"!==e:null===e}e.exports=n},725:function(e,t,n){function r(e){return i(this,e).get(e)}var i=n(439);e.exports=r},726:function(e,t,n){function r(e){return i(this,e).has(e)}var i=n(439);e.exports=r},727:function(e,t,n){function r(e,t){var n=i(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}var i=n(439);e.exports=r},73:function(e,t,n){var r=n(96);e.exports=Object.setPrototypeOf||("__proto__"in{}?(function(){var e,t=!1,n={};try{e=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,e.call(n,[]),t=n instanceof Array}catch(e){}return function(n,i){return r(n,i),t?e.call(n,i):n.__proto__=i,n}})():void 0)},732:function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r="start",i="finish",o="error"},733:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e){return!1}n.d(t,"a",(function(){return d}));var l={log:function(){}},f={scenario:function(e){e.scenario,e.params}},d=(function(){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLogDisabled:c,debug:l,monitoring:f};a(this,e),this.isLogDisabled=t.isLogDisabled,this.debug=t.debug,this.monitoring=t.monitoring}return u(e,[{key:"logStep",value:function(e,t,n){this.log(e,i({step:t},n))}},{key:"log",value:function(e,t){this.isLogDisabled(e.type)||(t=this._addSessionLifetime(t),this.debug.log("Quality metrics log: ",e,t),this.monitoring.scenario({scenario:e,params:t}))}},{key:"warn",value:function(){for(var e,t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];(e=this.debug).warn.apply(e,["Quality metrics log: "].concat(n))}},{key:"_addSessionLifetime",value:function(e){var t=window.performance&&window.performance.now&&window.performance.now();return i({sessionLifetime:t?Math.floor(t):void 0},e)}}]),e})()},74:function(e,t){e.exports=function(e,t,n){if(!(e instanceof t))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return e}},75:function(e,t,n){var r=n(6),i=n(80),o=n(30),a=n(40),s=n(81),u=n(79),c={};(e.exports=function(e,t,n,l,f){var d,h,p,g,m,v=a(t,n,l?2:1);if(f)d=e;else{if("function"!=typeof(h=s(e)))throw TypeError("Target is not iterable");if(i(h)){for(p=0,g=o(e.length);g>p;p++)if((l?v(r(m=e[p])[0],m[1]):v(e[p]))===c)return c;return}d=h.call(e)}for(;!(m=d.next()).done;)if(u(d,v,m.value,l)===c)return c}).BREAK=c},76:function(e,t,n){e.exports=!n(7)((function(){return!String(Symbol())}))},760:function(e,t,n){function r(e){if("string"==typeof e)return e;if(a(e))return o(e,r)+"";if(s(e))return l?l.call(e):"";var t=e+"";return"0"==t&&1/e==-u?"-0":t}var i=n(401),o=n(517),a=n(378),s=n(454),u=1/0,c=i?i.prototype:void 0,l=c?c.toString:void 0;e.exports=r},764:function(e,t){function n(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}e.exports=n},765:function(e,t,n){function r(e){return o(e)&&i(e)==a}var i=n(396),o=n(388),a="[object Arguments]";e.exports=r},766:function(e,t){function n(){return!1}e.exports=n},767:function(e,t,n){function r(e){return a(e)&&o(e.length)&&!!s[i(e)]}var i=n(396),o=n(497),a=n(388),s={};s["[object Float32Array]"]=s["[object Float64Array]"]=s["[object Int8Array]"]=s["[object Int16Array]"]=s["[object Int32Array]"]=s["[object Uint8Array]"]=s["[object Uint8ClampedArray]"]=s["[object Uint16Array]"]=s["[object Uint32Array]"]=!0,s["[object Arguments]"]=s["[object Array]"]=s["[object ArrayBuffer]"]=s["[object Boolean]"]=s["[object DataView]"]=s["[object Date]"]=s["[object Error]"]=s["[object Function]"]=s["[object Map]"]=s["[object Number]"]=s["[object Object]"]=s["[object RegExp]"]=s["[object Set]"]=s["[object String]"]=s["[object WeakMap]"]=!1,e.exports=r},768:function(e,t,n){var r=n(608),i=r(Object.keys,Object);e.exports=i},77:function(e,t,n){var r=n(0).document;e.exports=r&&r.documentElement},771:function(e,t,n){function r(){this.__data__=new i,this.size=0}var i=n(437);e.exports=r},772:function(e,t){function n(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}e.exports=n},773:function(e,t){function n(e){return this.__data__.get(e)}e.exports=n},774:function(e,t){function n(e){return this.__data__.has(e)}e.exports=n},775:function(e,t,n){function r(e,t){var n=this.__data__;if(n instanceof i){var r=n.__data__;if(!o||r.length<s-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new a(r)}return n.set(e,t),this.size=n.size,this}var i=n(437),o=n(470),a=n(486),s=200;e.exports=r},776:function(e,t){function n(e,t){for(var n=-1,r=null==e?0:e.length;++n<r&&!1!==t(e[n],n,e););return e}e.exports=n},777:function(e,t,n){var r=n(463),i=n(613),o=n(525),a=n(612),s=Object.getOwnPropertySymbols,u=s?function(e){for(var t=[];e;)r(t,o(e)),e=i(e);return t}:a;e.exports=u},778:function(e,t,n){var r=n(392),i=n(379),o=r(i,"DataView");e.exports=o},779:function(e,t,n){var r=n(392),i=n(379),o=r(i,"Promise");e.exports=o},78:function(e,t,n){var r=n(1)("iterator"),i=!1;try{var o=0,a={next:function(){return{done:!!o++}},return:function(){i=!0}};a[r]=function(){return this},Array.from(a,(function(){throw 2}))}catch(e){}e.exports=function(e,t){if(!t&&!i)return!1;var n=!1;try{var o={};o[r]=function(){return{next:function(){return{done:n=!0}}}},e(o)}catch(e){}return n}},780:function(e,t,n){var r=n(781),i=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,o=/\\(\\)?/g,a=r((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(i,(function(e,n,r,i){t.push(r?i.replace(o,"$1"):n||e)})),t}));e.exports=a},781:function(e,t,n){function r(e){var t=i(e,(function(e){return n.size===o&&n.clear(),e})),n=t.cache;return t}var i=n(423),o=500;e.exports=r},782:function(e,t,n){function r(e){return(null==e?0:e.length)?i(e,1):[]}var i=n(675);e.exports=r},783:function(e,t,n){function r(e){return a(e)||o(e)||!!(s&&e&&e[s])}var i=n(401),o=n(461),a=n(378),s=i?i.isConcatSpreadable:void 0;e.exports=r},784:function(e,t,n){var r=n(1255),i=n(895),o=i(r);e.exports=o},79:function(e,t,n){var r=n(6);e.exports=function(e,t,n,i){try{return i?t(r(n)[0],n[1]):t(n)}catch(t){var o=e.return;throw void 0!==o&&r(o.call(e)),t}}},80:function(e,t,n){var r=n(20),i=n(1)("iterator"),o=Array.prototype;e.exports=function(e){return void 0!==e&&(r.Array===e||o[i]===e)}},81:function(e,t,n){var r=n(97),i=n(1)("iterator"),o=n(20);e.exports=function(e){if(void 0!=e)return e[i]||e["@@iterator"]||o[r(e)]}},842:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(){Object.keys(s).forEach((function(e){var t=s[e];if(t.length){var n=ns.Model.get(e,{messages:JSON.stringify(t.splice(0,50))});ns.forcedRequest([n])}}))}n(843);var s={"do-client-log":[],"do-journal-log":[]};!(function e(){requestIdleCallback((function(){setTimeout(e,1e3),a()}))})(),window.ns&&ns.events.on("pageVisible.change",(function(){Jane.watcher.get("pageVisible")||a()})),window.addEventListener("unload",(function(){a()}));var u=Daria.monitoring=e.exports;u.scenario=function(e){s["do-client-log"].push(Object.assign(e,{reason:"scenario"}))},u.mailListRender=function(e){s["do-client-log"].push(Object.assign(e,{reason:"mail-list-render"}))},u.workflow=function(e){s["do-client-log"].push(Object.assign(e,{reason:"workflow"}))},u.workflow.ads=function(e){u.workflow(Object.assign(e,{flow:"ads"}))},u.workflow.ipush=function(e){u.workflow(Object.assign(e,{flow:"ipush"}))},u.workflow.userEvents=function(e){u.workflow(Object.assign(e,{flow:"user_events"}))},u.workflow.attachToDisk=function(e){u.workflow(i({},e,{flow:"attach_to_disk"}))},u.journal=function(e,t){s["do-journal-log"].push(Object.assign(t,{operation:e}))},u.performance=function(e){s["do-client-log"].push(i({reason:"performance"},e))},u.performance.fps=function(e,t){u.performance(i({type:"fps",area:e},t))},u.stat=function(e){s["do-client-log"].push(Object.assign(e,{reason:"stat"}))},u.stat.settings=function(e){u.stat(i({flow:"settings"},e))},u.stat.ics=function(e){u.stat(Object.assign(e,{flow:"ics"}))},u.contactValidation=function(e){s["do-client-log"].push(Object.assign(e,{reason:"contact_validation"}))}},843:function(e,t){window.requestIdleCallback=window.requestIdleCallback||function(e){var t=Date.now();return setTimeout((function(){e({didTimeout:!1,timeRemaining:function(){return Math.max(0,50-(Date.now()-t))}})}),1)},window.cancelIdleCallback=window.cancelIdleCallback||function(e){clearTimeout(e)}},844:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),n.d(t,"cnTheme",(function(){return o})),n.d(t,"configureRootTheme",(function(){return s}));var r=n(361),i=(n.n(r),n(409)),o=Object(r.cn)("Theme"),a="",s=function(e){var t=e.theme,n=e.root,r=void 0===n?Object(i.a)()?document.body:null:n;if(Object(i.a)()){if(!r)throw new Error("  root   DOM-,    .");var s=r.className.replace(a,"");a=o(t),r.className=s+" "+a}}},888:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return o}));var r="blocker",i="critical",o="minor"},889:function(e,t,n){(function(e){function r(e,t){if(t)return e.slice();var n=e.length,r=c?c(n):new e.constructor(n);return e.copy(r),r}var i=n(379),o="object"==typeof t&&t&&!t.nodeType&&t,a=o&&"object"==typeof e&&e&&!e.nodeType&&e,s=a&&a.exports===o,u=s?i.Buffer:void 0,c=u?u.allocUnsafe:void 0;e.exports=r}).call(t,n(357)(e))},89:function(e,t,n){var r=n(52),i=n(0).WeakMap;e.exports="function"==typeof i&&/native code/.test(r.call(i))},890:function(e,t,n){function r(e){return i(e,a,o)}var i=n(614),o=n(777),a=n(524);e.exports=r},891:function(e,t,n){function r(e,t){var n=t?i(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var i=n(615);e.exports=r},892:function(e,t,n){function r(e){return"function"!=typeof e.constructor||a(e)?{}:i(o(e))}var i=n(674),o=n(613),a=n(498);e.exports=r},893:function(e,t){function n(e){var t=null==e?0:e.length;return t?e[t-1]:void 0}e.exports=n},894:function(e,t,n){function r(e,t,n){return t=o(void 0===t?e.length-1:t,0),function(){for(var r=arguments,a=-1,s=o(r.length-t,0),u=Array(s);++a<s;)u[a]=r[t+a];a=-1;for(var c=Array(t+1);++a<t;)c[a]=r[a];return c[t]=n(u),i(e,this,c)}}var i=n(616),o=Math.max;e.exports=r},895:function(e,t){function n(e){var t=0,n=0;return function(){var a=o(),s=i-(a-n);if(n=a,s>0){if(++t>=r)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var r=800,i=16,o=Date.now;e.exports=n},896:function(e,t,n){"use strict";function r(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var i;Object.defineProperty(t,"__esModule",{value:!0}),t.WidgetsXivaNames=t.XivaServices=void 0;var o,a=n(398);!(function(e){e.Disk="disk-json",e.Mail="mail"})(o=t.XivaServices||(t.XivaServices={})),t.WidgetsXivaNames=(i={},r(i,a.WidgetNames.Disk,o.Disk),r(i,a.WidgetNames.Mail,o.Mail),i)},897:function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=function(e){return"404"===(e=e||ns.page.current.page)||"not-found"===e||"no-message"===e}},898:function(e,t,n){"use strict";function r(e){"@babel/helpers - typeof";return(r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function i(e){return decodeURIComponent(e.replace(/\+/g,"%20"))}function o(e,t,n){c.undef(e[t])&&(e[t]=[]),Array.isArray(n)?e[t]=e[t].concat(n):e[t].push(n)}function a(e,t){for(var n=e[t],r=n.length,i=new Array(r),o=d(t),a=0;a<r;a++)i[a]=o+"="+d(n[a]);return i}function s(e){for(var t,n,r,a={},s=e.replace(/\+/g,"%20").split("&"),u=0,c=s.length;u<c;u++)t=s[u].split("="),(n=t.shift())&&(r=t.length>1?t.join("="):t[0]||"",o(a,i(n),i(r)));return a}var u,c={def:function(e){return"undefined"!=r(e)},undef:function(e){return"undefined"==r(e)},string:function(e){return"string"==typeof e}},l=/^((((\w+):)\/\/)(([\w\-\.]+)(\:(\d+))?))?(\/?[^\?#]*)?(\?([^#]*))?(#(.*))?$/,f=/^(([\w]+:)?\/\/)?(([\d\w]|%[a-fA-f\d]{2,2})+(:([\d\w]|%[a-fA-f\d]{2,2})+)?@)?([\d\w][-\d\w]{0,253}[\d\w]\.)+[\w]{2,4}(:[\d]+)?(\/([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)*(\?(&?([-+_~.\d\w]|%[a-fA-f\d]{2,2})=?)*)?(#([-+_~.\d\w]|%[a-fA-f\d]{2,2})*)?$/,d=encodeURIComponent,h={proto:"Proto",host:"Host",port:"Port",path:"Path",hash:"Hash"},p=function(e){e=c.def(e)?e.toString():window.location.href;var t=e.match(l);if(!t)throw new Error("This is not an url");this.Href=t[0],this.Proto=t[4]||"",this.Host=t[6]||"",this.Port=t[8]||0,this.Path=decodeURI(t[9]||""),this.Query=s(t[11]||""),this.Hash=i(t[13]||"")};p.prototype={go:function(){window.location.href=this.toString()},toString:function(){var e="";(this.Proto||this.Host)&&this.Host&&(e+=(this.Proto||"http")+"://"+this.Host,this.Port&&(e+=":"+this.Port)),this.Path&&(this.Host&&0!==this.Path.indexOf("/")&&(e+="/"),e+=encodeURI(this.Path));var t=this.query();return t&&(e+="?"+t),this.Hash&&(e+="#"+d(this.Hash)),e},clone:function(){return new p(this.toString())},query:function(e){if(c.def(e))return this.clearQuery(),c.string(e)?this.Query=s(e):this.replaceParams(e),this;var t=[];for(var n in this.Query)t=t.concat(a(this.Query,n));return t.join("&")},queryParams:function(){return Object.assign({},this.Query)},queryKeys:function(){var e=[];for(var t in this.Query)e.push(t);return e.sort()},addParam:function(e,t){return o(this.Query,e,t),this},addParams:function(e){for(var t in e)o(this.Query,t,e[t]);return this},removeParams:function(e){for(var t=0,n=e.length;t<n;t++)delete this.Query[e[t]];return this},replaceParams:function(e){var t=[];for(var n in e)t.push(n);return this.removeParams(t),this.addParams(e),this},clearQuery:function(){return this.Query={},this},getParam:function(e){var t=this.Query[e];return t?t[0]:null},getParams:function(e){return this.Query[e]||[]}};for(u in h)p.prototype[u]=(function(e){return function(t){return c.def(t)?(this[e]=t,this):this[e]}})(h[u]);p.isValid=function(e){return f.test(e)},t.a=p},9:function(e,t,n){var r=n(10),i=n(27);e.exports=n(12)?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},90:function(e,t,n){var r=n(3),i=n(91),o=n(37),a=n(10);e.exports=function(e,t){for(var n=i(t),s=a.f,u=o.f,c=0;c<n.length;c++){var l=n[c];r(e,l)||s(e,l,u(t,l))}}},91:function(e,t,n){var r=n(58),i=n(47),o=n(6),a=n(0).Reflect;e.exports=a&&a.ownKeys||function(e){var t=r.f(o(e)),n=i.f;return n?t.concat(n(e)):t}},92:function(e,t,n){var r=n(12),i=n(10),o=n(6),a=n(42);e.exports=r?Object.defineProperties:function(e,t){o(e);for(var n,r=a(t),s=r.length,u=0;s>u;)i.f(e,n=r[u++],t[n]);return e}},93:function(e,t,n){"use strict";var r=n(11),i=n(94),o=n(56),a=n(73),s=n(31),u=n(9),c=n(24),l=n(26),f=n(1)("iterator"),d=n(20),h=n(55),p=h.IteratorPrototype,g=h.BUGGY_SAFARI_ITERATORS,m=function(){return this};e.exports=function(e,t,n,h,v,_,b){i(n,t,h);var y,w,D,T=function(e){if(e===v&&O)return O;if(!g&&e in E)return E[e];switch(e){case"keys":case"values":case"entries":return function(){return new n(this,e)}}return function(){return new n(this)}},S=t+" Iterator",C=!1,E=e.prototype,A=E[f]||E["@@iterator"]||v&&E[v],O=!g&&A||T(v),M="Array"==t?E.entries||A:A;if(M&&(y=o(M.call(new e)),p!==Object.prototype&&y.next&&(l||o(y)===p||(a?a(y,p):"function"!=typeof y[f]&&u(y,f,m)),s(y,S,!0,!0),l&&(d[S]=m))),"values"==v&&A&&"values"!==A.name&&(C=!0,O=function(){return A.call(this)}),l&&!b||E[f]===O||u(E,f,O),d[t]=O,v)if(w={values:T("values"),keys:_?O:T("keys"),entries:T("entries")},b)for(D in w)!g&&!C&&D in E||c(E,D,w[D]);else r({target:t,proto:!0,forced:g||C},w);return w}},94:function(e,t,n){"use strict";var r=n(55).IteratorPrototype,i=n(36),o=n(27),a=n(31),s=n(20),u=function(){return this};e.exports=function(e,t,n){var c=t+" Iterator";return e.prototype=i(r,{next:o(1,n)}),a(e,c,!1,!0),s[c]=u,e}},95:function(e,t,n){e.exports=!n(7)((function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}))},96:function(e,t,n){var r=n(4),i=n(6);e.exports=function(e,t){if(i(e),!r(t)&&null!==t)throw TypeError("Can't set "+String(t)+" as a prototype")}},962:function(e,t,n){"use strict";var r=/^(\d{4})-(\d{2})-(\d{2})T(\d{2}):(\d{2})([+-](\d{2}):(\d{2}))?$/;e.exports=function(e){if("string"!=typeof e)return null;if(e=e.replace(" ","+"),!r.test(e))return null;var t=Date.parse(e);return t||null}},97:function(e,t,n){var r=n(21),i=n(1)("toStringTag"),o="Arguments"==r(function(){return arguments}()),a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,n,s;return void 0===e?"Undefined":null===e?"Null":"string"==typeof(n=a(t=Object(e),i))?n:o?r(t):"Object"==(s=r(t))&&"function"==typeof t.callee?"Arguments":s}},972:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}n.d(t,"a",(function(){return f}));var c=n(732),l=(n(733),n(973)),f=(function(){function e(t){a(this,e),this._activeScenarios={},this._logger=t.logger,this.connectionId=t.connectionId,this.now=t.now}return u(e,[{key:"startScenario",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=r.scenarioId,o=r.skipLogStart;this.hasActiveScenario(e)&&this._logger.warn('Scenario "',this.getActiveScenario(e),'" already started. ',t,n);var a=this._initScenario(e,i);return this._activateScenario(a,e,n),o||this._logStart(a,t,n),a}},{key:"startParallelScenario",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._initScenario(e);return this._activateScenario(r,r.id,n),this._logStart(r,t,n)}},{key:"_initScenario",value:function(e,t){return new l.a(e,{scenarioId:t,logger:this._logger,connectionId:this.connectionId,now:this.now})}},{key:"_activateScenario",value:function(e,t,n){var r=n.startTime;return delete n.startTime,e.setStartTime(r),this._setActiveScenario(t,e),e}},{key:"_logStart",value:function(e,t,n){return this._logger.logStep(e,c.c,i({initiator:t},n)),e}},{key:"finishScenarioIfActive",value:function(e,t,n){if(this.hasActiveScenario(e)){var r=this.getActiveScenario(e).setFinishTime();this._removeActiveScenario(e),this._logger.logStep(r,c.b,i({finalizer:t},n))}}},{key:"finishScenario",value:function(e,t,n){if(!this.hasActiveScenario(e))return void this._logger.warn('There is no active "'.concat(e,'" scenario. '),t,n);this.finishScenarioIfActive(e,t,n)}},{key:"hasActiveScenario",value:function(e){return Boolean(this.getActiveScenario(e))}},{key:"getActiveScenario",value:function(e){return this._activeScenarios[e]}},{key:"_setActiveScenario",value:function(e,t){return this._activeScenarios[e]=t}},{key:"_removeActiveScenario",value:function(e){delete this._activeScenarios[e]}}]),e})()},973:function(e,t,n){"use strict";function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function u(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}n.d(t,"a",(function(){return f}));var c=n(974),l=n(732),f=(function(){function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.scenarioId,i=n.connectionId,o=n.logger,s=n.now;a(this,e),this.id=r||Object(c.a)(i+"_"),this.type=t,Object.defineProperties(this,{logger:{value:o,enumerable:!1},now:{value:s,enumerable:!1}})}return u(e,[{key:"setStartTime",value:function(e){return this.startTime=Math.floor(e||this.now()),this}},{key:"getTimeFromStart",value:function(){return Math.floor(this.now()-this.startTime)}},{key:"setFinishTime",value:function(){return this.finishTime=Math.floor(this.now()),this}},{key:"logStep",value:function(e,t){this.logger.log(this,i({step:e},t))}},{key:"logError",value:function(e,t){var n=e.type,r=e.severity;this.logger.log(this,i({step:l.a,type:n,severity:r},t))}}]),e})()},974:function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=0,i=function(e){return"".concat(e||"").concat(++r)}},975:function(e,t,n){"use strict";function r(e){var t=u.c[e];return Boolean(t&&!Object(s.hasFeature)(t))}var i=n(842),o=n.n(i),a=n(28),s=n(87),u=(n.n(s),n(384)),c=n(733);t.a=new c.a({isLogDisabled:r,debug:a.default,monitoring:o.a})},978:function(e,t,n){n(979),n(980),t.MG_DARK={root:"mg-dark",color:"mg-dark"}},979:function(e,t){},98:function(e,t,n){var r=n(24);e.exports=function(e,t,n){for(var i in t)r(e,i,t[i],n);return e}},980:function(e,t){},981:function(e,t,n){n(982),n(983),t.MG_LIGHT={root:"mg-light",color:"mg-light"}},982:function(e,t){},983:function(e,t){},984:function(e,t,n){n(985),n(986),t.PS_DARK={root:"ps-dark",color:"ps-dark"}},985:function(e,t){},986:function(e,t){},987:function(e,t){},988:function(e,t){},989:function(e,t,n){n(990),n(991),t.PS_DARK_TRANSPARENT={root:"ps-dark-transparent",color:"ps-dark-transparent"}},99:function(e,t,n){"use strict";var r=n(100),i=n(10),o=n(12),a=n(1)("species");e.exports=function(e){var t=r(e),n=i.f;o&&t&&!t[a]&&n(t,a,{configurable:!0,get:function(){return this}})}},990:function(e,t){},991:function(e,t){},992:function(e,t,n){n(993),n(994),t.PS_SUPERDARK_TRANSPARENT={root:"ps-superdark-transparent",color:"ps-superdark-transparent"}},993:function(e,t){},994:function(e,t){},995:function(e,t,n){n(996),n(997),t.PS_LIGHT_TRANSPARENT={root:"ps-light-transparent",color:"ps-light-transparent"}},996:function(e,t){},997:function(e,t){},998:function(e,t,n){"use strict";function r(e){function t(t,i,o,a){var s=i?n+t+e.e+i:n+t,u=s;if(o){var c=" "+u+e.m;for(var l in o)if(o.hasOwnProperty(l)){var f=o[l];!0===f?u+=c+l:f&&(u+=c+l+r+f)}}if(void 0!==a)for(var d=0,h=a.length;d<h;d++){var p=a[d];if("string"==typeof p&&p)for(var g=p.split(" "),m=0;m<g.length;m++){var v=g[m];v!==s&&(u+=" "+v)}}return u}var n=e.n||"",r=e.v||e.m;return function(e,n){return function(r,i,o){return"string"==typeof r?Array.isArray(i)?t(e,r,void 0,i):t(e,r,i,o):t(e,n,r,i)}}}Object.defineProperty(t,"__esModule",{value:!0});var i=r({e:"-",m:"_"});t.cn=i,t.withNaming=r}});